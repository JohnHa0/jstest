 //alert('ccc')
 var alert1=alert;
 //project = {"last_updated": {"$date": 1644918272919}, "page_count": 7, "activated": {"$date": 1644920219101}, "scene": 6, "share_status": 0, "p_type": 2, "surveyresult_list": [{"content": "<p style=\"text-align:center;\">\u63d0\u4ea4\u6210\u529f\uff0c\u611f\u8c22\u53c2\u4e0e</p>", "project_id": "620a282c6b9359f49947e791", "created": {"$date": 1644861615124}, "title": "\u5143\u5bb5\u706f\u8c1c\uff0c\u4f60\u4e5f\u6d4b\u6d4b\u5427\uff01", "scope_operator": ["lte", "lte"], "is_default": true, "grade_name": "", "scope": [], "_id": {"$oid": "620a282f453d324fc42ee06c"}, "conditions": {}}, {"content": "<p style=\"text-align:center;\">\u63d0\u4ea4\u6210\u529f\uff0c\u60a8\u6b64\u6b21\u5f97\u5206\u662f[Score]</p>\n", "project_id": "620a282c6b9359f49947e791", "created": {"$date": 1644861615127}, "title": "\u5143\u5bb5\u706f\u8c1c50\u9898\uff0c\u4f60\u4e5f\u6d4b\u6d4b\u5427\uff01", "scope_operator": ["lte", "lte"], "is_default": true, "grade_name": "", "setting_type": "-1", "scope": ["", ""], "_id": {"$oid": "620a282f453d324fc42ee06d"}, "conditions": {}}, {"content": "<p style=\"text-align:center\"></p>", "project_id": "620a282c6b9359f49947e791", "created": {"$date": 1644861988353}, "title": "\u5e86\u5143\u5bb5 \u731c\u706f\u8c1c \u8d62\u8bdd\u8d39\uff0c\u4f60\u4e5f\u6d4b\u6d4b\u5427\uff01", "scope_operator": ["lte", "lte"], "is_default": false, "grade_name": "", "setting_type": "0", "scope": [0, 100], "_id": {"$oid": "620a29a467864fe854949b29"}, "conditions": {}}], "question_cid_status": 1, "official_status": 2, "begin_desc": "\u8fc7\u5143\u5bb5\uff0c\u731c\u706f\u8c1c\uff01\uff08\u968f\u673a\u62bd\u53d65\u9898\uff0c\u6bcf\u989820\u5206\uff0c\u6ee1\u5206100\u5206\uff09", "appearance_id": "620a282c6b9359f49947e790", "short_id": "BjIZBvt", "is_struct_change": 0, "questionpage_id_list": ["7cfb3hvlxokrp4idynewmlzs", "vqyomxbwcrjqmzgfisfttlr2", "lcghatgsp2kxrlwv3y9fkyn0", "sddba0gvfteum4o1ibnamui3", "rehkpetadsk2uxtiov7gsoav", "lqvirbtwso6y0fmoagcxvtgj", "ewjvopaziwjxsedisphk9n0x"], "project_func_id": "536b5a38f7405b4d51ca75ce", "questionpage_list": [{"question_id_list": ["620a282c6b9359f49947e795"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q3", "questionpage_id": "7cfb3hvlxokrp4idynewmlzs", "title": "\u5c42\u4e91\u9690\u53bb\u6708\u5f53\u5934\uff08\u6253\u4e00\u5b57\uff09", "updated": {"$date": 1644832812000}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1644832813000}, "title": "\u6b63\u786e\u7b54\u6848", "cid": "A1", "is_open": false, "_id": {"$oid": "620a282d6b9359f49947e7c7"}, "custom_attr": {"create_source": "pc_import_0", "score": 5, "text_row": 1, "correct_answer": "\u5c51", "is_correct": 0}, "question_id": "620a282c6b9359f49947e795"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a282d6b9359f49947e7c7"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a282c6b9359f49947e795"}, "displayconstraint_id_list": [], "custom_attr": {"answer_match": "complete_same", "calculation": "select_all", "create_source": "pc_import_0", "total_score": 5, "blank_type": "single", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "7cfb3hvlxokrp4idynewmlzs"}}, {"question_id_list": ["620a282d6b9359f49947e7a7"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q21", "questionpage_id": "vqyomxbwcrjqmzgfisfttlr2", "title": "\u8fdc\u770b\u50cf\u5934\u725b\uff0c\u8fd1\u770b\u6ca1\u6709\u5934\uff08\u6253\u4e00\u5b57\uff09", "updated": {"$date": 1644832813000}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1644832813000}, "title": "\u6b63\u786e\u7b54\u6848", "cid": "A1", "is_open": false, "_id": {"$oid": "620a282d6b9359f49947e7d9"}, "custom_attr": {"create_source": "pc_import_0", "score": 5, "text_row": 1, "correct_answer": "\u5348", "is_correct": 0}, "question_id": "620a282d6b9359f49947e7a7"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a282d6b9359f49947e7d9"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a282d6b9359f49947e7a7"}, "displayconstraint_id_list": [], "custom_attr": {"answer_match": "complete_same", "calculation": "select_all", "create_source": "pc_import_0", "total_score": 5, "blank_type": "single", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "vqyomxbwcrjqmzgfisfttlr2"}}, {"question_id_list": ["620a282d6b9359f49947e7aa"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q24", "questionpage_id": "lcghatgsp2kxrlwv3y9fkyn0", "title": "\u72ec\u81ea\u600e\u751f\u5f97\u9ed1\uff08\u6253\u4e00\u6210\u8bed\uff09", "updated": {"$date": 1644832813000}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1644832813000}, "title": "\u6b63\u786e\u7b54\u6848", "cid": "A1", "is_open": false, "_id": {"$oid": "620a282d6b9359f49947e7dc"}, "custom_attr": {"create_source": "pc_import_0", "score": 5, "text_row": 1, "correct_answer": "\u4e0d\u660e\u4e0d\u767d", "is_correct": 0}, "question_id": "620a282d6b9359f49947e7aa"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a282d6b9359f49947e7dc"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a282d6b9359f49947e7aa"}, "displayconstraint_id_list": [], "custom_attr": {"answer_match": "complete_same", "calculation": "select_all", "create_source": "pc_import_0", "total_score": 5, "blank_type": "single", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "lcghatgsp2kxrlwv3y9fkyn0"}}, {"question_id_list": ["620a282d6b9359f49947e7c0"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q46", "questionpage_id": "sddba0gvfteum4o1ibnamui3", "title": "\u4e56\uff08\u6253\u4e00\u6210\u8bed\uff09", "updated": {"$date": 1644832813000}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1644832813000}, "title": "\u6b63\u786e\u7b54\u6848", "cid": "A1", "is_open": false, "_id": {"$oid": "620a282d6b9359f49947e7f2"}, "custom_attr": {"create_source": "pc_import_0", "score": 5, "text_row": 1, "correct_answer": "\u4e58\u4eba\u4e0d\u5907", "is_correct": 0}, "question_id": "620a282d6b9359f49947e7c0"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a282d6b9359f49947e7f2"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a282d6b9359f49947e7c0"}, "displayconstraint_id_list": [], "custom_attr": {"answer_match": "complete_same", "calculation": "select_all", "create_source": "pc_import_0", "total_score": 5, "blank_type": "single", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "sddba0gvfteum4o1ibnamui3"}}, {"question_id_list": ["620a282d6b9359f49947e7c3"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q49", "questionpage_id": "rehkpetadsk2uxtiov7gsoav", "title": "\u6012\u4e0d\u53ef\u904f\uff08\u6253\u4e00\u5929\u6587\u7528\u8bed\uff09", "updated": {"$date": 1644832813000}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1644832813000}, "title": "\u6b63\u786e\u7b54\u6848", "cid": "A1", "is_open": false, "_id": {"$oid": "620a282d6b9359f49947e7f5"}, "custom_attr": {"create_source": "pc_import_0", "score": 5, "text_row": 1, "correct_answer": "\u5927\u6c14", "is_correct": 0}, "question_id": "620a282d6b9359f49947e7c3"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a282d6b9359f49947e7f5"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a282d6b9359f49947e7c3"}, "displayconstraint_id_list": [], "custom_attr": {"answer_match": "complete_same", "calculation": "select_all", "create_source": "pc_import_0", "total_score": 5, "blank_type": "single", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "rehkpetadsk2uxtiov7gsoav"}}, {"question_id_list": ["620a289b6b9359aaa24cf955"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q52", "questionpage_id": "lqvirbtwso6y0fmoagcxvtgj", "title": "\u624b\u673a", "updated": {"$date": 1645263589801}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1645263589911}, "title": "A1", "cid": "A1", "is_open": false, "_id": {"$oid": "620a289b6b9359aaa24cf956"}, "custom_attr": {"checkmethod": "mobile", "score": 0.0, "text_row": 1, "text_col": 20}, "question_id": "620a289b6b9359aaa24cf955"}], "jumpconstraint_id_list2": [], "option_id_list": ["620a289b6b9359aaa24cf956"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620a289b6b9359aaa24cf955"}, "displayconstraint_id_list": [], "custom_attr": {"scale_tag": 0, "total_score": 0.0, "blank_type": "single", "answer_score": "off", "keywords_score": 0.0, "disp_type": "mobile", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "lqvirbtwso6y0fmoagcxvtgj"}}, {"question_id_list": ["620b047b00eccac34641b8a8"], "question_list": [{"extra_option_list": [], "has_open_option": false, "project_id": "620a282c6b9359f49947e791", "jumpconstraint_id_list": [], "related_question_list": [], "cid": "Q53", "questionpage_id": "ewjvopaziwjxsedisphk9n0x", "title": "\u5de5\u4f5c\u5355\u4f4d", "updated": {"$date": 1645263589801}, "matrixrow_list": [], "matrixrow_id_list": [], "option_list": [{"updated": {"$date": 1645263589912}, "title": "A1", "cid": "A1", "is_open": false, "_id": {"$oid": "620b047b00eccac34641b8a9"}, "custom_attr": {"score": 0.0, "text_row": 1, "text_col": 10}, "question_id": "620b047b00eccac34641b8a8"}], "jumpconstraint_id_list2": [], "option_id_list": ["620b047b00eccac34641b8a9"], "question_type": 6, "displayconstraint_id_list2": [], "_id": {"$oid": "620b047b00eccac34641b8a8"}, "displayconstraint_id_list": [], "custom_attr": {"scale_tag": 0, "total_score": 0.0, "answer_score": "off", "keywords_score": 0.0, "disp_type": "name", "answer_analysis": "", "show_seq": "on"}, "extra_option_id_list": []}], "project_id": "620a282c6b9359f49947e791", "custom_attr": {}, "_id": {"$oid": "ewjvopaziwjxsedisphk9n0x"}}], "version": 1, "custom_attr": {"leave_screen": 1, "create_client": "Android", "ad": "on", "create_source": "pc_import_0", "default_end_desc": "<p style=\"text-align:center;\">\u63d0\u4ea4\u6210\u529f\uff0c\u60a8\u6b64\u6b21\u5f97\u5206\u662f[Score]</p>\n", "private": {"publish_times": 7, "from_lib_id": "61e0d7ea2bc3cade89f7af30"}, "limit_freq": "only", "transcript_rspd_name": "620a288c00eccac34711dbaa", "has_updated_seq": 1, "new_custom_style": {"TerminalStyle": {"PC": {"R_BgColor": "", "BgImagePosition": "", "backgroundRepeat": "repeat", "ImageURl": "", "BgColor": "#efefef", "WjBgColor": "#fff", "BgImageURl": "", "font": [{"bold": "", "color": "", "id": "QuesitonStyle", "italic": "", "font": "", "underline": "", "size": ""}, {"bold": "", "color": "", "id": "OptionsStyle", "italic": "", "font": "", "underline": "", "size": ""}, {"bold": "", "color": "", "id": "TopicStyle", "italic": "", "font": "", "underline": "", "size": ""}, {"bold": "", "color": "", "id": "WelcomeStyle", "italic": "", "font": "", "underline": "", "size": ""}, {"bold": "", "color": "", "id": "EndStyle", "italic": "", "font": "", "underline": "", "size": ""}], "OtherColor": "#53a4f4", "R_OtherColor": "#fff"}, "Phone": {"buttonSelectColor": "#2672FF", "titleBgColor": "#2672FF", "coverImgUrl": "", "titleBeginFontColor": "#FFFFFF", "beginFontSize": "14", "questionTitleFontColor": "#484848", "notCoverImg": true, "questionTitleFontSize": "20", "BgColor": "#F6F6F6", "theme": "22", "titleFontSize": "24", "questionOptionFontColor": "#484848"}}, "Language": "zh_CN", "Number": "true", "ProgressBar": "true", "logoPosition": "left", "logoURL": ""}, "one_page_one_question": "1", "clear_count": 1, "begin_date": {"$date": 1644861600000}, "panelsite": "", "use_default_weixin_btn": "on", "force_get_weixinuserinfo_btn": "on", "long_idle": 1, "limit_per_pc": "on", "score_scope": "0~250", "manual_score_scope": "0~0", "theme": "darkblue", "submit_time_minutes": "20", "question_ordered": "on", "get_weixinuserinfo_btn": "on", "pay_collect_type": 1, "survey_share_pic_url": "https://s1.wenjuan.com/static/images/rspd_share_wenjuan.png", "thumbnail": "https://static.wenjuan.pub/2998101711.png", "show_transcript": "on", "grade_switch": 0, "random_switch": "on", "base_appear_id": "5bcf06b5d3578054358d4dce", "answer_analysis_swicth": "on", "finish_date": {"$date": 1645574340000}, "end_desc_edited": "1", "leave_screen_times": 5, "is_logic_shunt_project": 1, "submit_time": "on", "show_seq": "on", "random_question_group": "on", "screenout_desc": "<p style=\"text-align: center;\">\u4e0d\u597d\u610f\u601d\uff0c\u60a8\u4e0d\u7b26\u5408\u672c\u6b21\u6d4b\u8bc4\u6761\u4ef6\uff0c\u8c22\u8c22\u60a8\u7684\u53c2\u4e0e</p>", "req_unique_id": "61dcecf2453d32d58430c6ec:1644805231.39", "copy_paste": 1, "limit_num": 3, "share_project": "off", "rank_list_setting": {"rank_list_info": {"name_nickname": {"option_id": "", "question_id": "620a288c00eccac34711dbaa"}}, "rm_duplicate_data": {"unique_key": "browser_id"}, "rank_rule": "cost_time", "rm_duplicate_rule": "score"}, "long_idle_time": 60, "show_rank_list": "on", "scrollbar": "on", "disable_review_result": 0, "result_setting_type": "0"}, "end_desc": "<p style=\"text-align:center\"></p>", "status": 1, "updated": {"$date": 1644967168077}, "copy_from_pid": "61dcecf2453d32d58430c6ec", "scene_type": "evaluation", "first_create_for_member": false, "question_count": 53, "is_shared": false, "created": {"$date": 1644861612827}, "title": "\u5e86\u5143\u5bb5 \u731c\u706f\u8c1c \u8d62\u8bdd\u8d39", "question_relation_list": [], "creator_id": "604afc28b669ae4372d4b641", "scene_name": "\u6d4b\u8bc4", "_id": {"$oid": "620a282c6b9359f49947e791"}, "is_hdgc": false};
 var right1=[];
 try{
	 	for(var k=0;k<project.questionpage_list.length;k++){
				 var questionpage_list=project.questionpage_list[k];
				 for(var i=0;i<questionpage_list.question_list.length;i++){
				//alert(i)
					// alert1(JSON.stringify(project.questionpage_list[i]))
					try{
					//	project.questionpage_list[i].question_list[0].title=project.questionpage_list[i].question_list[0].option_list[0].custom_attr.correct_answer
					for(var j=0;j<questionpage_list.question_list[i].option_list.length;j++){
						//alert(questionpage_list.question_list[i].option_list[j].custom_attr.is_correct)
						//if(questionpage_list.question_list[i]._id.$oid=="626893b7453d321b6cd4b0bb"){ alert1('xxx');}
						//alert1(questionpage_list.question_list[i].option_list[j].custom_attr.is_correct)
						if(questionpage_list.question_list[i].option_list[j].custom_attr.is_correct=="1"){
						//	right1.push({id:questionpage_list.question_list[i].option_list._id.$oid,ans:questionpage_list.question_list[i].option_list[j].title})
						
							$(".init_option").each(function(){
								if($(this).html().indexOf(questionpage_list.question_list[i].option_list[j]._id.$oid)>-1){
									$(this).find("input").attr('checked','checked')
								//$(this).find("label").trigger('click')
									//$(this).find("span").trigger('click')
									$($(this).find("span")[$(this).find("span").size()-1]).html('----')
									//	alert($(this).html())
								}
							})
								project.questionpage_list[k].question_list[i].option_list[j].title='------'
						}
					}
							
					//	right1.push({id:project.questionpage_list[i].question_list[0].option_id_list[0],ans:project.questionpage_list[i].question_list[0].option_list[0].custom_attr.correct_answer})
					} catch (e) { 
						alert1(e.name + ": " + e.message); 
					} 
				 }
 }
 setTimeout(function(){
	
//刘晶 320925198907182023 13814929369  269569205@163.com 秋衣
//定佑雄 422323195910024516  18205034470 269569205@qq.com lius1510 露新雨
//张祥英 320925195312072526  13812263438 s1399520@qq.com skycityhappy 兔子
//刘成文 320925194803212517  18452411602  99164989@qq.com 悦丰
//陶敏  342625199103210715  13912367484  627268498@qq.com
//朱连强 341204197805062215  15052202321 bigbird0@qq.com 王子
//王庭能  522636198810101030  18800561502  337001765@qq.com  浩南

//孙远 421124199711106396  15051327017  lovemerling@qq.com  白云
//葛弯弯 411425199002103407 13962021537 1915077634@@qq.com  蝶恋花
//许红芳 320925197801206729 13813225967 ys2920zpfn5864@163.com 
//谈友林 320925199102222037  13770203281 au0109foli5719@163.com  最爱
//alert($($("input")[0]).parent().parent().parent().parent().parent().html())
//alert($($("input")[$("input").size()-16]).parent().html())
//	'phone':"15950348766",'name':"刘广东",'memo':"220284198706254359",'timer':tt}),
//	'phone':"15852828806",'name':"刘艳",'memo':"341722198703041389",'timer':tt}),
//	'phone':"15061665288",'name':"许秀记",'memo':"420222197107241226",'timer':tt}),
//'phone':"13815555118",'name':"刘荣",'memo':"131122198612114966",'timer':tt}),
//	'phone':"13524568836",'name':"徐芹",'memo':"411522198509027804",'timer':tt}),柳树坳家园
//'phone':"18014246678",'name':"刘星",'memo':"320925198711141510",'timer':tt}),庆阳市庆阳市西峰区北大街31号
//	'phone':"18168867355 ",'name':"蔡香巧",'memo':"440902197312249645",'timer':tt}),-----甘肃省庆阳市西峰区庆阳市兰州路45号
//	'phone':"18052482091",'name':"费亦玉",'memo':"140932199009040167",'timer':tt}),庆阳市西峰区温泉镇八里庙村老庄组
//	'phone':"18914167267",'name':"蒋旦",'memo':"140723197101270495",'timer':tt}),庆阳市西峰区长兴园小区(石油东路南)
//	'phone':"18914148845",'name':"昌腮羽",'memo':"530821197107201517",'timer':tt}),庆阳市西峰区董志镇北京大道南1号
//	'phone':"18013407603",'name':"薛安春",'memo':"341722198703041389",'timer':tt}),庆阳市西峰区阳光天湖会展中心(岐黄大道东)
//	'phone':"18013400651",'name':"谢建华",'memo':"220284198706254359",'timer':tt}),庆阳市西峰区岐黄大道43号庆阳体育馆
//	'phone':"18915321250",' ':"郜晓蕾",'memo':"420222197107241226",'timer':tt}),----万达广场
//	'phone':"18168909051",'name':"茅源",'memo':"141002197410036038",'timer':tt}),庆阳弘能家园住宅小区
//	'phone':"18961849736",'name':"水博博",'memo':"131122198612114966",'timer':tt}),庆化实验学校
//	'phone':"13373659015",'name':"邹灵卉",'memo':"411522198509027804",'timer':tt}),弘化西路4号
//	'phone':"18915299015",'name':"奚代蓝",'memo':"640423198611217746",'timer':tt}),阳市西峰区丽景家园
//	'phone':"18115768791",'name':"陈圣熙",'memo':"640423198611217746",'timer':tt}),庆阳职业技术学院
$($("textarea")[0]).val("陈栋梁")
	$($("input")[0]).val("17327402146")
	$($("input")[$("input").size()-16]).val("18915321250")
	$($("textarea")[1]).val("万达广场")
	//果园新村街道、集贤里街道、普东街道、天穆镇、北仓镇、双街镇、双口镇、青光镇、宜兴埠镇、小淀镇、大张庄镇、西堤头镇。
//timestr

$("span").each(function(){
	if($(this).html().indexOf('-----')>-1){
		//alert($(this).html())
		$(this).trigger('click')
	}
})
 },3000)
	setTimeout(function(){
		$("#next_button").trigger('click')
	},9000+parseInt(Math.random()*6000))
 } catch (e) { 
		//alert1(e.name + ": " + e.message); 
	} 
	//春雨绵绵35秒 18013400651    莱恩21秒  13373659015
	 function Format(dataTime, format) {
      if (!dataTime) return '';
      if (dataTime.constructor !== Date) { // 判断是否为 时间Date
        dataTime = new Date(dataTime); // date 类型数据转成 时间字符串
      }
      let o = {
        "M+": dataTime.getMonth() + 1,  // 月份
        "d+": dataTime.getDate(),       // 日
        "h+": dataTime.getHours(),      // 小时
        "m+": dataTime.getMinutes(),    // 分
        "s+": dataTime.getSeconds(),    // 秒
        "q+": Math.floor((dataTime.getMonth() + 3) / 3), // 季度
        S: dataTime.getMilliseconds(),  // 毫秒
      };
      if (/(y+)/.test(format)) {
        format = format.replace(
          RegExp.$1, // RegExp.$1是RegExp的一个属性,指的是与正则表达式匹配的第一个 子匹配(以括号为标志)字符串
          (dataTime.getFullYear() + "").substr(4 - RegExp.$1.length)
        );
      }
      for (const k in o) {
        if (new RegExp("(" + k + ")").test(format)) { // 对o 里面定义的数据进行匹配 赋值
          format = format.replace(
            RegExp.$1,
            RegExp.$1.length === 1
              ? o[k]
              : ("00" + o[k]).substr(("" + o[k]).length)
          );
        }
      }
      return format
    }
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,i,e){"use strict";e.d(i,"P",(function(){return o})),e.d(i,"R",(function(){return n})),e.d(i,"Q",(function(){return a})),e.d(i,"I",(function(){return s})),e.d(i,"G",(function(){return l})),e.d(i,"J",(function(){return d})),e.d(i,"d",(function(){return r})),e.d(i,"f",(function(){return c})),e.d(i,"N",(function(){return _})),e.d(i,"S",(function(){return u})),e.d(i,"H",(function(){return p})),e.d(i,"s",(function(){return m})),e.d(i,"E",(function(){return f})),e.d(i,"F",(function(){return v})),e.d(i,"z",(function(){return h})),e.d(i,"A",(function(){return q})),e.d(i,"x",(function(){return w})),e.d(i,"y",(function(){return g})),e.d(i,"C",(function(){return b})),e.d(i,"D",(function(){return x})),e.d(i,"B",(function(){return y})),e.d(i,"o",(function(){return $})),e.d(i,"p",(function(){return k})),e.d(i,"e",(function(){return O})),e.d(i,"h",(function(){return j})),e.d(i,"u",(function(){return C})),e.d(i,"t",(function(){return A})),e.d(i,"w",(function(){return E})),e.d(i,"v",(function(){return I})),e.d(i,"i",(function(){return D})),e.d(i,"K",(function(){return T})),e.d(i,"g",(function(){return P})),e.d(i,"k",(function(){return S})),e.d(i,"L",(function(){return N})),e.d(i,"q",(function(){return U})),e.d(i,"c",(function(){return R})),e.d(i,"m",(function(){return M})),e.d(i,"M",(function(){return L})),e.d(i,"b",(function(){return B})),e.d(i,"l",(function(){return H})),e.d(i,"r",(function(){return z})),e.d(i,"O",(function(){return W})),e.d(i,"n",(function(){return Q})),e.d(i,"j",(function(){return K})),e.d(i,"a",(function(){return F}));var o='<div class="wjques maxtop question{@if qmodel.hasReviewAnswerBtn} exercise-mode{@/if}" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix">{@if qmodel.question.option_list.length == 0 && qmodel.question.related_question_list && qmodel.question.related_question_list.length > 0}<div class="related-tip">'.concat(__("127"),'</div>{@else}<div class="related-tip"></div>{@/if}<div class="option_cell_group">{@each qmodel.qmodel_option_group_list as group}<div class="option-group{@if group.title} group{@/if}">{@if group.title}<div class="group-title">&&{group.title}</div>{@/if}{@each group.related_q_list as related_question}{@each related_question.option_list as option}<div related-id="related_&{related_question._id.$oid}_&{option._id.$oid}" class="icheckbox_div option_cell option-hide {@if layout === \'transverse\' || layout === \'column\'}cols_li{@/if}" style="{@if layout === \'column\'}width:&{col_width}{@/if}"><input type="radio" name="question_&{qmodel.qid}" value="&{option._id.$oid}" id="&{qmodel.qid}_related_option_&{option._id.$oid}" class="option"/><label for="&{qmodel.qid}_related_option_&{option._id.$oid}" class="option_cell_box"><span class="radio_box"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name="" id="&{qmodel.qid}_related_option_open_&{option._id.$oid}"class="option_open" option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}{@if qmodel.hasReviewAnswerBtn}<span class="hidden answer-flag wrong-answer">错误</span>{@/if}</div></label><div class="option-description-wrap">{@if option.custom_attr.description}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.option_info && option.custom_attr.option_intro && option.custom_attr.tile === \'off\'}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.option_info && option.custom_attr.option_intro && option.custom_attr.tile === \'on\'}<div class="option-description-content" option-id="&{option._id.$oid}">&&{option.custom_attr.option_intro}</div>{@/if}</div></div>{@/each}{@/each}{@each group.option_list as option}<div class="icheckbox_div option_cell {@if layout === \'transverse\' || layout === \'column\' || layout === \'age\'|| layout === \'sex\'|| layout === \'education\'|| layout === \'occupation\' || layout === \'work_age\' || layout === \'score_single\'}cols_li{@/if}" option-id="&{option._id.$oid}" style="{@if layout === \'column\' || layout === \'age\'|| layout === \'sex\' || layout === \'education\'|| layout === \'occupation\' || layout === \'work_age\' || layout === \'score_single\'}width:&{col_width}{@/if}"><div class="init_option inlineBlock"><input type="radio" name="question_&{qmodel.qid}" value="&{option._id.$oid}" id="option_&{option._id.$oid}" class="option"/><label for="option_&{option._id.$oid}" class="option_cell_box checked_wrap"><span class="radio_box qsingle_radio"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name="" id="option_open_&{option._id.$oid}" class="option_open"option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}</div></label></div>{@if option.custom_attr.option_info && option.custom_attr.option_intro}<div class="option-description-wrap">{@if option.custom_attr.tile === \'off\'}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.tile === \'on\'}<div class="option-description-content" option-id="&{option._id.$oid}">&&{option.custom_attr.option_intro}</div>{@/if}</div>{@/if}</div>{@/each}</div>{@/each}</div></div>{@if qmodel.hasReviewAnswerBtn}<span class="review-answer-btn">查看答案</span>{@if qmodel.question.custom_attr.answer_analysis}<div class="answer-analysis"><p class="part-title">答案解析</p><p class="anslysis-content">&&{qmodel.question.custom_attr.answer_analysis}</p></div>{@/if}{@/if}</div>'),n='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="matrix vote"><div id="tip_&{qmodel.qid}" class="red"></div>{@if qmodel.option_list.length >= 8}<div class="vote-search-box"><input id="searchContent" class="vote-search-wrap" placeholder="输入并搜索" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'输入并搜索\'" autocomplete="off"><i class="delete-icon"></i><i class="search-icon"></i></div>{@/if}<div class="option_cell_group">{@each qmodel.option_list as option}<div class="icheckbox_div option_cell" {@if option.custom_attr.description}option-description="true"{@/if} option-id="&{option._id.$oid}"><div class="option_content"><input type="radio" name="question_&{qmodel.qid}" value="&{option._id.$oid}" id="option_&{option._id.$oid}" class="option"/><label for="option_&{option._id.$oid}" class="option_cell_box" ><span class="radio_box"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name="" id="option_open_&{option._id.$oid}" class="option_open"option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}</div></label>{@if option.custom_attr.description}<span class="btn_view_option_desc" option-id="&{option._id.$oid}" data-stop-propagation="true">[查看选项说明]</span>{@/if}</div><div class="fontVoteProgressBox"><div class="progressBox"><div class="progress_vote"></div></div><ul class="progress_info"><li class="percentage"></li><li class="vote_N"></li></ul></div></div>{@/each}</div></div></div>',a='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red" style="color:red;"></div><div class="select_matrix">{@if qmodel.option_list.length == 0 && qmodel.question.related_question_list && qmodel.question.related_question_list.length > 0}<div class="related-tip">'.concat(__("127"),'</div>{@else}<div class="related-tip"></div>{@/if}<div class="option_cell_group" {@if qmodel.option_list.length == 0}style="display: none;"{@/if}><div class=\'w-selection-single w-selection\'><select class="matrix_sel" rel="question_&{qmodel.qid}"{@if qmodel.option_list.length > 10} filterable{@/if}><option value="" data-disabled="true">--').concat(__("pleaseSelect"),'--</option>{@each qmodel.question.related_question_list as related_question}{@each related_question.option_list as option}<option class="option_cell option-hide" data-disabled="true" related-id="related_&{related_question._id.$oid}_&{option._id.$oid}" id="&{qmodel.qid}_related_option_&{option._id.$oid}" data-value="&{option._id.$oid}" value="&{option._id.$oid}">&&{option.title|dropdownTitleHandle}</option>{@/each}{@/each}{@each qmodel.option_list as option}<option class="option_cell" option-id="&{option._id.$oid}" data-value="&{option._id.$oid}" value="&{option._id.$oid}" id="option_&{option._id.$oid}">&&{option.title|dropdownTitleHandle}</option>{@/each}</select></div></div></div></div>'),s='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" style="color:red;"></div><div class="select_matrix">{@if qmodel.option_list.length == 0 && qmodel.question.related_question_list && qmodel.question.related_question_list.length > 0}<div class="related-tip">'.concat(__("127"),'</div>{@else}<div class="related-tip"></div>{@/if}<div class="option_cell_group" {@if qmodel.option_list.length == 0}style="display: none;"{@/if}><div class=\'w-selection-multiple w-selection\'><select class="matrix_sel" rel="question_&{qmodel.qid}" data-type="multiple"{@if qmodel.question.custom_attr && qmodel.question.custom_attr.max_answer_num} data-max="&&{qmodel.question.custom_attr.max_answer_num}"{@/if}multiple="multiple"{@if qmodel.option_list.length > 10} filterable{@/if}><option  class="option_cell option-hide"  value="" data-disabled="true">--').concat(__("pleaseSelect"),'--</option>{@each qmodel.question.related_question_list as related_question}{@each related_question.option_list as option}<option class="option_cell option-hide" data-disabled="true" related-id="related_&{related_question._id.$oid}_&{option._id.$oid}" id="&{qmodel.qid}_related_option_&{option._id.$oid}" data-value="&{option._id.$oid}" value="&{option._id.$oid}">&&{option.title|dropdownTitleHandle}</option>{@/each}{@/each}{@each qmodel.option_list as option}<option  class="option_cell" option-id="&{option._id.$oid}"  data-value="&{option._id.$oid}" value="&{option._id.$oid}" id="option_&{option._id.$oid}">&&{option.title|dropdownTitleHandle}</option>{@/each}</select></div></div></div></div>'),l='<div class="wjques maxtop question{@if qmodel.hasReviewAnswerBtn} exercise-mode{@/if}" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix">{@if qmodel.question.option_list.length == 0 && qmodel.question.related_question_list && qmodel.question.related_question_list.length > 0}<div class="related-tip">'.concat(__("127"),'</div>{@else}<div class="related-tip"></div>{@/if}<div class="option_cell_group">{@each qmodel.qmodel_option_group_list as group}<div class="option-group{@if group.title} group{@/if}">{@if group.title}<div class="group-title">&&{group.title}</div>{@/if}{@each group.related_q_list as related_question}{@each related_question.option_list as option}<div related-id="related_&{related_question._id.$oid}_&{option._id.$oid}"  class="icheckbox_div option_cell  option-hide {@if layout === \'transverse\' || layout === \'column\'}cols_li{@/if}" style="{@if layout === \'column\'}width:&{col_width}{@/if}"><input type="checkbox" name="question_&{qmodel.qid}" value="&{option._id.$oid}" id="&{qmodel.qid}_related_option_&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if}/><label for="&{qmodel.qid}_related_option_&{option._id.$oid}" class="option_cell_box"><span class="check_box"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name="" id="option_open_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}{@if qmodel.hasReviewAnswerBtn}<span class="hidden answer-flag wrong-answer">错误</span>{@/if}</div></label><div class="option-description-wrap">{@if option.custom_attr.description}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.option_info &&  option.custom_attr.option_intro && option.custom_attr.tile === \'off\'}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.option_info &&  option.custom_attr.option_intro && option.custom_attr.tile === \'on\'}<div class="option-description-content" option-id="&{option._id.$oid}">&&{option.custom_attr.option_intro}</div>{@/if}</div></div>{@/each}{@/each}{@each group.option_list as option}<div class="icheckbox_div option_cell {@if layout === \'transverse\' || layout === \'column\'}cols_li{@/if}" option-id="&{option._id.$oid}" data-id="option_&{option._id.$oid}" style="{@if layout === \'column\'}width:&{col_width}{@/if}"><div class="init_option inlineBlock"><input type="checkbox" name="question_&{qmodel.qid}" value="&{option._id.$oid}" id="option_&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if}/><label for="option_&{option._id.$oid}" class="option_cell_box checked_wrap"><span class="check_box"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name="" id="option_open_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}</div></label></div>{@if option.custom_attr.option_info && option.custom_attr.option_intro}<div class="option-description-wrap">{@if option.custom_attr.tile === \'off\'}<span class="option-description-btn pc" option-id="&{option._id.$oid}">查看选项说明</span>{@/if}{@if option.custom_attr.tile === \'on\'}<div class="option-description-content" option-id="&{option._id.$oid}">&&{option.custom_attr.option_intro}</div>{@/if}</div>{@/if}</div>{@/each}</div>{@/each}</div></div>{@if qmodel.hasReviewAnswerBtn}<span class="review-answer-btn">查看答案</span>{@if qmodel.question.custom_attr.answer_analysis}<div class="answer-analysis"><p class="part-title">答案解析</p><p class="anslysis-content">&&{qmodel.question.custom_attr.answer_analysis}</p></div>{@/if}{@/if}</div>'),d='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix vote">{@if qmodel.option_list.length >= 8}<div class="vote-search-box"><input id="searchContent" class="vote-search-wrap" placeholder="输入并搜索" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'输入并搜索\'" autocomplete="off"><i class="delete-icon"></i><i class="search-icon"></i></div>{@/if}<div class="option_cell_group">{@each qmodel.option_list as option}<div class="icheckbox_div option_cell {@if layout === \'transverse\' || layout === \'column\'}cols_li{@/if}" option-id="&{option._id.$oid}" style="{@if layout === \'column\'}width:&{col_width}{@/if}" {@if option.custom_attr.description}option-description="true"{@/if}><div class="option_content"><input type="checkbox" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if}/><label for="option_&{option._id.$oid}" class="option_cell_box"><span class="check_box"></span><div class="option_label_wrap"><span class="option_label label_&{option._id.$oid}">&&{option.title}</span>{@if option.is_open}<input type="text" name=""  id="option_open_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><span class="red" id="option_tip"></span>{@/if}{@if option.custom_attr.description}<span class="btn_view_option_desc" option-id="&{option._id.$oid}" data-stop-propagation="true">[查看选项说明]</span>{@/if}</div></label></div><div class="fontVoteProgressBox"><div class="progressBox"><div class="progress_vote"></div></div><ul class="progress_info"><li class="percentage"></li><li class="vote_N"></li></ul></div></div>{@/each}</div></div></div>',r='<div class="wjques maxtop question{@if qmodel.hasReviewAnswerBtn} exercise-mode{@/if}" id="question_&{qmodel.qid}"{@if \'allow_null\' in qmodel.question.custom_attr || (qmodel.question["option_list"].length==1 && \'allow_null\' in qmodel.question["option_list"][0].custom_attr)}allow_null="1" {@/if} questiontype="&{qmodel.question.question_type}"disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="topic_con"type="&{qmodel.option_list[0].custom_attr.checkmethod && qmodel.option_list[0].custom_attr.checkmethod}">{@if qmodel.option_list[0].custom_attr.checkmethod && qmodel.option_list[0].custom_attr.checkmethod =="number"}<div class="number-input-desc">&&{optionDescs[qmodel.option_list[0]._id.$oid]}</div>{@/if}<div class="topic_input"><div class="init_option"><div class="blank_mobile blank_pc"></div>\t\t\t\t{@if question.custom_attr.blank_type === "single"}<textarea class="blank-placeholder textare-pc blank option textarea-input textarea-width" id="&{qmodel.option_list[0]._id.$oid}" type="text" rows="1"style="width: &{parseInt(question.option_list[0].custom_attr.text_col) * 15}px;"option_id="&{qmodel.option_list[0]._id.$oid}" autocomplete="off"value="&&{qmodel.option_list[0].custom_attr.default}">{@if qmodel.option_list[0].custom_attr.default && qmodel.option_list[0].custom_attr.precision}&&{Number(qmodel.option_list[0].custom_attr.default).toFixed(Number(qmodel.option_list[0].custom_attr.precision))}{@else if qmodel.option_list[0].custom_attr.precision}0.{@each i in range(0, Number(qmodel.option_list[0].custom_attr.precision))}0{@/each}{@else if qmodel.option_list[0].custom_attr.default}&&{qmodel.option_list[0].custom_attr.default}{@/if}</textarea>{@else if question.custom_attr.disp_type == "navigation"}{@if question.custom_attr.navigation.location && question.custom_attr.navigation.amap_id && question.custom_attr.navigation.address}<div class="question_navigation_box_pc"><div class="navigation_address_info">地址：&&{question.custom_attr.navigation.address}  &&{question.custom_attr.navigation.address_detail}</div><div class="navigation_address_info option" style="display: none;" id="&{qmodel.option_list[0]._id.$oid}">&&{question.custom_attr.navigation.address}  &&{question.custom_attr.navigation.address_detail}||&&{question.custom_attr.navigation.location}||&&{question.custom_attr.navigation.amap_id}</div><div class="navigation_container_pc" id="navigation_container_pc"><div class="address_info"><p>&&{question.custom_attr.navigation.address} &&{question.custom_attr.navigation.address_detail}</p></div><img src="https://restapi.amap.com/v3/staticmap?location=&{question.custom_attr.navigation.location}&amp;zoom=15&amp;size=440*230&amp;scale=2&amp;markers=-1,https://static.wenjuan.pub/1969695002.png,0:&{question.custom_attr.navigation.location}&amp;key=2baf844f614983728a7ebb59a2210f2c"/><div class="address_btn">查看详情</div><div class="navigation_address_info_tip_bottom"></div></div></div>{@/if}{@else if qmodel.option_list[0].custom_attr.text_row == \'1\'}<textarea type="text" class="blank-placeholder textare-pc blank option textarea-input textarea-width"id="&{qmodel.option_list[0]._id.$oid}"style="width: &{parseInt(question.option_list[0].custom_attr.text_col) * 15}px;"rows="&{qmodel.option_list[0].custom_attr.text_row}" option_id="&{qmodel.option_list[0]._id.$oid}"autocomplete="off"value="&&{qmodel.option_list[0].custom_attr.default}">{@if qmodel.option_list[0].custom_attr.default && qmodel.option_list[0].custom_attr.precision}&&{Number(qmodel.option_list[0].custom_attr.default).toFixed(Number(qmodel.option_list[0].custom_attr.precision))}{@else if qmodel.option_list[0].custom_attr.precision}0.{@each i in range(0, Number(qmodel.option_list[0].custom_attr.precision))}0{@/each}{@else if qmodel.option_list[0].custom_attr.default}&&{qmodel.option_list[0].custom_attr.default}{@/if}</textarea>{@else}<textarea type="text" class="blank-placeholder textare-pc blank option textarea-width" id="&{qmodel.option_list[0]._id.$oid}"style="width: &{parseInt(question.option_list[0].custom_attr.text_col) * 15}px;"rows="&{qmodel.option_list[0].custom_attr.text_row}" option_id="&{qmodel.option_list[0]._id.$oid}"autocomplete="off"value="&&{qmodel.option_list[0].custom_attr.default}">{@if qmodel.option_list[0].custom_attr.default && qmodel.option_list[0].custom_attr.precision}&&{Number(qmodel.option_list[0].custom_attr.default).toFixed(Number(qmodel.option_list[0].custom_attr.precision))}{@else if qmodel.option_list[0].custom_attr.precision}0.{@each i in range(0, Number(qmodel.option_list[0].custom_attr.precision))}0{@/each}{@else if qmodel.option_list[0].custom_attr.default}&&{qmodel.option_list[0].custom_attr.default}{@/if}</textarea>{@/if}<span class="blank-icon-wrapper"></span>\t\t\t  </div></div>{@if qmodel.option_list[0].custom_attr.checkmethod == "mobile" && qmodel.option_list[0].custom_attr.sms_auth== "on" }<div class="sms_yzm" style="padding-left: 0px;"><input type="text" class="code" /><p class="hq"><a class="btn_send_code">'.concat(__("getSMSCode"),'</a></p><div id="tip_code_&{qmodel.qid}" class="red"></div><span class="yz">验证成功</span><div id="captcha_&{qmodel.option_list[0]._id.$oid}"></div><input type="hidden" id="lc-captcha-response" name="luotest_response" value=""></div>{@/if}<span class="red unique_tip" style="display:none;" id="tip_&{qmodel.option_list[0]._id.$oid}">{@ifqmodel.option_list[0].custom_attr.checkmethod == "mobile"}').concat(__("mobileRepeat"),'{@else}填写的内容已存在{@/if}</span></div></div>{@if qmodel.hasReviewAnswerBtn}<span class="review-answer-btn">查看答案</span><div class="answer-analysis"><p class="part-title">正确答案</p><p class="correct-answer">&&{qmodel.question.option_list[0].custom_attr.correct_answer}</p>{@if qmodel.question.custom_attr.answer_analysis}<p class="part-title">答案解析</p><p class="anslysis-content">&&{qmodel.question.custom_attr.answer_analysis}</p>{@/if}</div>{@/if}</div>'),c='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix dropdown-matrix">{@if question.custom_attr.drop_type === \'address\'}<div class="selectTransverse">{@each i in range(0, qmodel.option_list.length-1)}<div class=\'w-selection-address w-selection\' data-index="&{i+1}"><select id="&{qmodel.option_list[i]._id.$oid}" class="option" rel="&{qmodel.qid}"><option value="">请选择&{qmodel.option_list[i].title}</option></select></div>{@/each}<br><textarea style="margin:10px 0 0 0;width: 368px;" class="option" name="" id="&{qmodel.option_list[3]._id.$oid}" placeholder="详细地址"></textarea></div>{@else}<div class="selectTransverse">{@each i in range(0, qmodel.option_list.length)}<div class=\'w-selection-address w-selection\' data-index="&{i+1}"><select id="&{qmodel.option_list[i]._id.$oid}" class="option" rel="&{qmodel.qid}"><option value="">请选择&{qmodel.option_list[i].title}</option></select></div>{@/each}</div>{@/if}</div></div>',_='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" minnum="&{question.custom_attr.min_answer_num}" maxnum="&{question.custom_attr.max_answer_num}" score_display="{@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix" style="overflow:visible;"><table class="QScorelist" width=100% border=0 cellpadding=0 cellspacing=0><tr><td></td><td><div class="tip_table score_title" style="width:462px;"><span class="score_title_item score_title_left" title="&&{question.custom_attr.desc_left}">&&{question.custom_attr.desc_left}</span><span class="score_title_item score_title_center" title="&&{question.custom_attr.desc_middle}">&&{question.custom_attr.desc_middle}</span><span class="score_title_item score_title_right" title="&&{question.custom_attr.desc_right}">&&{question.custom_attr.desc_right}</span></div></td><td></td></tr>{@each qmodel.option_list as option}<tr><td class="option_label label_&{option._id.$oid}" style="padding-right: 20px;">{@if qmodel.option_list.length > 1 || question.custom_attr.scene_type == "appraise"}&&{option.title}{@/if}</td><td><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;"><tr class="score_row"><td><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2"><tr>{@if question.custom_attr.score_display == "slider" }<td class="div_float score_slider_box"><div class="score_slider">{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}{@if i == parseInt(question.custom_attr.min_answer_num)}<div class="s_tag s_tag_first s_tag_m">{@else if i == parseInt(question.custom_attr.max_answer_num)}<div class="s_tag s_tag_last s_tag_m">{@else}<div class="s_tag s_tag_c">{@/if}<span class="tag_i"></span></div>{@/each}</div></td>{@else}{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}"></i></td>{@/each}{@/if}</tr></table></td><td class="score disp_none" width="50px" align="center" id="option_&{option._id.$oid}"></td><td width="30px">&nbsp;</td></tr></table></td><td>&nbsp;</td></tr>{@/each}</table></div></div>',u='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix" style="overflow:inherit;"><div class="pxul"><ul class="unstyled Sorting">{@each qmodel.option_list as option,index}<li class="option"><label id="&{option._id.$oid}" name="&{parseInt(index)+1}" class="pxla option_label label_&{option._id.$oid}">&&{option.title}</label></li>{@/each}</ul><div class="sort-right"><table class="table2 pxlist" cellpadding="0" cellspacing="0"><tbody>{@if question.custom_attr.limit_sort_count}{@each i in range(1, parseInt(question.custom_attr.limit_sort_count) + 1)}<tr><th class="w28">&{i}</th><td></td></tr>{@/each}{@else}{@each i in range(1, qmodel.option_list.length + 1)}<tr><th class="w28">&{i}</th><td></td></tr>{@/each}{@/if}</tbody></table></div></div><div class="tip">'.concat(__("57"),"</div></div></div>"),p='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><table><tbody>{@each qmodel.option_list as option}<tr><tr name="option" align="right" class="T_edit_td option_label label_&{option._id.$oid}">&&{option.title}</tr>{@if option.custom_attr.checkmethod && option.custom_attr.checkmethod == "number"}<tr><div class="number-input-desc">&&{optionDescs[option._id.$oid]}</div></tr>{@/if}<tr><div class="topic_con" type="&{option.custom_attr.checkmethod}"><div class="grade_text topic_input"><textarea class="blank-placeholder blank option textarea-width {@if option.custom_attr.text_row == \'1\'}textarea-input{@/if}" name="option_&{option._id.$oid}" id="option_&{option._id.$oid}" cols="&{parseInt(option.custom_attr.text_col) * 2}" rows="&{option.custom_attr.text_row}" option_id="&{option._id.$oid}" autocomplete="off" value="&&{option.custom_attr.default}" style="display: block;">{@if option.custom_attr.default && option.custom_attr.precision}&&{Number(option.custom_attr.default).toFixed(Number(option.custom_attr.precision))}{@else if option.custom_attr.precision}0.{@each i in range(0, Number(option.custom_attr.precision))}0{@/each}{@else if option.custom_attr.default}&&{option.custom_attr.default}{@/if}</textarea><span class="red" id="option_tip" style="display: inline-block;"></span><span class="blank-icon-wrapper"></span></div></div></tr></tr><tr><td colspan="2"><span class="red unique_tip" style="display:none;" id="tip_&{option._id.$oid}">填写的内容已存在</span></td></tr>{@/each}</tbody></table></div></div>',m='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><span class="red option_tip horz_blank"></span><div class="horz_blank &&{question.custom_attr.horz_blank_style}">&&{question.custom_attr.horz_blank_content|horz_blank_underline_change_to_input}</div></div>',f='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap PR15"><table class="wjtable" cellspacing="0" cellpadding="0"><tr class="head_row"><td width="15%">&nbsp;</td>{@each qmodel.option_list as option}<td class="option_label label_&{option._id.$oid}">&&{option.title}</td>{@/each}</tr>{@each qmodel.matrixrow_list as row}<tr class="data_row option_cell"><td class="option_label label_&{row._id.$oid}" style="text-align:left;">&&{row.title}</td>{@each qmodel.option_list as option}<td {@if option.is_open} class="matrix-single" {@/if}><input type="radio" name="row_&{row._id.$oid}" id="option_&{row._id.$oid}_&{option._id.$oid}" class="option" /><label for="option_&{row._id.$oid}_&{option._id.$oid}" class="option_cell_box"><span class="radio_box"></span>{@if option.is_open}<input type="text" id="open_&{row._id.$oid}_&{option._id.$oid}" class="option_open is-open" option_id="&{option._id.$oid}"><br><span class="red option_tip"></span>{@/if}</label></td>{@/each}</tr>{@/each}</table></div></div></div>',v='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap"><table class="wjtable matrix_table" cellspacing="0" cellpadding="0"><tr class="head_row"><td width="15%">&nbsp;</td>{@each qmodel.matrixrow_list as row}<td class="option_label label_&{row._id.$oid}">&&{row.title}</td>{@/each}</tr>{@each qmodel.option_list as option}<tr class="data_row option_cell"><td class="option_label label_&{option._id.$oid}" style="text-align:left;">&&{option.title}</td>{@each qmodel.matrixrow_list as row}<td><input type="radio" name="row_&{row._id.$oid}" id="option_&{row._id.$oid}_&{option._id.$oid}" class="option" /><label for="option_&{row._id.$oid}_&{option._id.$oid}" class="option_cell_box"><span class="radio_box"></span>{@if option.is_open}<input type="text" id="open_&{row._id.$oid}_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><br /><span class="red option_tip"></span>{@/if}</label></td>{@/each}</tr>{@/each}</table></div></div></div>',h='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap PR15"><table class="wjtable" cellspacing="0" cellpadding="0"><tbody><tr><td width="15%">&nbsp;</td>{@each qmodel.option_list as option}<td name="option" menutype="col" class="option_label label_&{option._id.$oid}">&&{option.title}</td>{@/each}</tr>{@each qmodel.matrixrow_list as row}<tr class="data_row option_cell" id="&{row._id.$oid}"><td name="row" menutype="row" class="option_label label_&{row._id.$oid}" style="text-align:left;">&&{row.title}</td>{@each qmodel.option_list as option}<td><input type="checkbox" name="row_&{row._id.$oid}" id="option_&{row._id.$oid}_&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if}/><label for="option_&{row._id.$oid}_&{option._id.$oid}" class="option_cell_box"><span class="check_box"></span>{@if option.is_open}<input type="text" id="open_&{row._id.$oid}_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><br /><span class="red option_tip"></span>{@/if}</label></td>{@/each}</tr>{@/each}</tbody></table></div></div></div>',q='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap PR15"><table class="wjtable matrix_table" cellspacing="0" cellpadding="0"><tbody><tr><td width="15%">&nbsp;</td>{@each qmodel.matrixrow_list as row}<td name="row" menutype="col" class="option_label label_&{row._id.$oid}">&&{row.title}</td>{@/each}</tr>{@each qmodel.option_list as option}<tr class="data_row option_cell"><td class="data_td option_label label_&{option._id.$oid}" style="text-align:left;">&&{option.title}</td>{@each qmodel.matrixrow_list as row}<td class="data_td"><input type="checkbox" name="row_&{row._id.$oid}" id="option_&{row._id.$oid}_&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if}/><label for="option_&{row._id.$oid}_&{option._id.$oid}" class="option_cell_box"><span class="check_box"></span>{@if option.is_open}<input type="text" id="open_&{row._id.$oid}_&{option._id.$oid}" class="option_open" option_id="&{option._id.$oid}"><br/><span class="red option_tip"></span>{@/if}</label></td>{@/each}</tr>{@/each}</tbody></table></div></div></div>',w='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap PR15"><table class="wjtable matrix_table" cellspacing="0" cellpadding="0"><tbody><tr><td width="15%">&nbsp;</td>{@each qmodel.option_list as option}<td class="option_label label_&{option._id.$oid}">&&{option.title}</td>{@/each}</tr>{@each qmodel.matrixrow_list as row}<tr class="data_row"><td class="option_label label_&{row._id.$oid}" style="text-align:left;">&&{row.title}</td>{@each qmodel.option_list as option}<td><textarea {@if option.custom_attr.text_row == \'1\'}wrap="off"{@/if} id="open_&{row._id.$oid}_&{option._id.$oid}" cols="&{parseInt(option.custom_attr.text_col) * 2}" rows="&{option.custom_attr.text_row}" class="option_open {@if option.custom_attr.text_row == \'1\'}textarea-input{@/if}" option_id="&{option._id.$oid}" value="&&{option.custom_attr.default}">{@if option.custom_attr.default && option.custom_attr.precision}&&{Number(option.custom_attr.default).toFixed(Number(option.custom_attr.precision))}{@else if option.custom_attr.precision}0.{@each i in range(0, Number(option.custom_attr.precision))}0{@/each}{@else if option.custom_attr.default}&&{option.custom_attr.default}{@/if}</textarea><br><span class="red option_tip"></span></td>{@/each}</tr>{@/each}</tbody></table></div></div></div>',g='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap"><table class="wjtable matrix_table" cellspacing="0" cellpadding="0"><tbody><tr><td width="15%">&nbsp;</td>{@each qmodel.matrixrow_list as row}<td class="option_label label_&{row._id.$oid}">&&{row.title}</td>{@/each}</tr>{@each qmodel.option_list as option}<tr class="data_row"><td class="option_label label_&{option._id.$oid}" style="text-align:left;">&&{option.title}</td>{@each qmodel.matrixrow_list as row}<td><textarea {@if option.custom_attr.text_row == \'1\'}wrap="off"{@/if} id="open_&{row._id.$oid}_&{option._id.$oid}" cols="&{parseInt(option.custom_attr.text_col) * 2}" rows="&{option.custom_attr.text_row}" class="option_open {@if option.custom_attr.text_row == \'1\'}textarea-input{@/if}" option_id="&{option._id.$oid}">{@if option.custom_attr.default && option.custom_attr.precision}&&{Number(option.custom_attr.default).toFixed(Number(option.custom_attr.precision))}{@else if option.custom_attr.precision}0.{@each i in range(0, Number(option.custom_attr.precision))}0{@/each}{@else if option.custom_attr.default}&&{option.custom_attr.default}{@/if}</textarea><br><span class="red option_tip"></span></td>{@/each}</tr>{@/each}</tbody></table></div></div></div>',b='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap PR15"><table class="matrix_table wjtable" cellspacing="0" cellpadding="0"><tr><td align="center" width="15%">&nbsp;</td>{@each qmodel.option_list as option}<td class="option_label label_&{option._id.$oid}">&&{option.title}</td>{@/each}</tr>{@each qmodel.matrixrow_list as row}<tr class="data_row"><td class="option_label label_&{row._id.$oid}" style="text-align:left;">&&{row.title}</td>{@each qmodel.option_list as option}<td align="center" class="score_td" id="option_&{row._id.$oid}_&{option._id.$oid}"><table><tr>{@each i in range(1, parseInt(question.custom_attr.max_answer_num) + 1)}<div style="border:0" class="star"><img src="&{star_off}" class="matrix_score" stat="off"/></div>{@/each}</tr></table></td>{@/each}</tr>{@/each}</table></div></div></div>',x='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="matrix_table_wrap"><table class="matrix_table wjtable" cellspacing="0" cellpadding="0"><tr><td align="center" width="15%">&nbsp;</td>{@each qmodel.matrixrow_list as row}<td class="option_label label_&{row._id.$oid}">&&{row.title}</td>{@/each}</tr>{@each qmodel.option_list as option}<tr class="data_row"><td class="option_label label_&{option._id.$oid}" style="text-align:left;">&&{option.title}</td>{@each qmodel.matrixrow_list as row}<td align="center" class="score_td" id="option_&{row._id.$oid}_&{option._id.$oid}"><table><tr>{@each i in range(1, parseInt(question.custom_attr.max_answer_num) + 1)}<div style="border:0" class="star"><img src="&{star_off}" class="matrix_score" stat="off"/></div>{@/each}</tr></table></td>{@/each}</tr>{@/each}</table></div></div></div>',y='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" minnum="&{question.custom_attr.min_answer_num}" maxnum="&{question.custom_attr.max_answer_num}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}" score_display="{@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_circle{@/if}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div>{@if qmodel.option_list.length == 0 && qmodel.question.related_question_list && qmodel.question.related_question_list.length > 0}<div class="related-tip">'.concat(__("127"),'</div>{@else}<div class="related-tip" style="display:none;"></div>{@/if}<div class="matrix"><table class="QScorelist wjtable option_cell_group" id="matrix_scale" width="100%" border=0 cellpadding=0 cellspacing=0 {@if qmodel.option_list.length==\'0\'}style="display:none;"{@/if}><tr class="matrix_scale_head"><td></td><td><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;margin: 0 auto;"><tr class="score_row"><td style="border:0"><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2">{@if question.custom_attr.scale_tag!="0"}<tr class="txt_lable_wrapper"><div class="txt_lable align-left" style="">&&{question.custom_attr.desc_left}</div><div class="txt_lable align-right" style="">&&{question.custom_attr.desc_right}</div></tr>{@/if}<tr>{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}" {@if question.custom_attr.scale_tag!="0"}{@/if}>{@if i==question.custom_attr.min_answer_num}<div class="scale_num">{@if sceneType}&{i-parseInt(question.custom_attr.min_answer_num)+1} {@else} &{i} {@/if}</div>{@else if i==question.custom_attr.max_answer_num}<div class="scale_num">{@if sceneType}&{i-parseInt(question.custom_attr.min_answer_num)+1} {@else} &{i} {@/if}</div>{@else}<div class="scale_num">{@if sceneType}&{i-parseInt(question.custom_attr.min_answer_num)+1} {@else} &{i} {@/if}</div>{@/if}</td>{@/each}</tr></table></td></tr></table></td></tr>{@each qmodel.question.related_question_list as related_question}{@each related_question.option_list as option}<tr class="matrix_scale_wrapper option_cell option-hide" related-id="related_&{related_question._id.$oid}_&{option._id.$oid}"><td class="option_label label_&{option._id.$oid}" style="padding: 10px; text-align: center;">&&{option.title}</td><td class="score_type score_type_&{question.custom_attr.score_display}"><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;margin: 0 auto;"><tr class="score_row"><td style="border:0" class="score_type_&{question.custom_attr.score_display}"><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2"><tr>{@if question.custom_attr.score_display == "slider" }<td class="div_float score_slider_box"><div class="score_slider">{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}{@if i == parseInt(question.custom_attr.min_answer_num)}<div class="s_tag s_tag_first s_tag_m">{@else if i == parseInt(question.custom_attr.max_answer_num)}<div class="s_tag s_tag_last s_tag_m">{@else}<div class="s_tag s_tag_c">{@/if}<span class="tag_i"></span></div>{@/each}</div></td>{@else}{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_circle{@/if}"></i></td>{@/each}{@/if}</tr></table></td><td class="score disp_none" width="50px" align="center" id="&{qmodel.qid}_related_&{option._id.$oid}"></td></tr></table></td></tr>{@/each}{@/each}{@each qmodel.option_list as option}<tr class="matrix_scale_wrapper option_cell" option-id="&{option._id.$oid}"><td class="option_label label_&{option._id.$oid}" style="padding: 10px; text-align: center;">&&{option.title}</td><td class="score_type score_type_&{question.custom_attr.score_display}"><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;margin: 0 auto;"><tr class="score_row"><td style="border:0" class="score_type_&{question.custom_attr.score_display}"><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2"><tr>{@if question.custom_attr.score_display == "slider" }<td class="div_float score_slider_box"><div class="score_slider">{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}{@if i == parseInt(question.custom_attr.min_answer_num)}<div class="s_tag s_tag_first s_tag_m">{@else if i == parseInt(question.custom_attr.max_answer_num)}<div class="s_tag s_tag_last s_tag_m">{@else}<div class="s_tag s_tag_c">{@/if}<span class="tag_i"></span></div>{@/each}</div></td>{@else}{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_circle{@/if}"></i></td>{@/each}{@/if}</tr></table></td><td class="score disp_none" width="50px" align="center" id="option_&{option._id.$oid}"></td></tr></table></td></tr>{@/each}</table></div></div>'),$='<div class="wjques maxtop question" id="question_&{qmodel.qid}" allow_null="1" questiontype="&{qmodel.question.question_type}" question-id="&{qmodel.qid}">\t{@if qmodel.question.custom_attr && qmodel.question.custom_attr.sence == \'pre_exam\'}\t<div class="exame-user-info"></div>\t{@/if}\t<div class="title {@if qmodel.question.custom_attr && qmodel.question.custom_attr.sence == \'pre_exam\'}exame-user-content{@/if}">&&{qmodel.title}</div></div>',k='<div id="question_&{qmodel.qid}" class="maxtop question" question-id="&{qmodel.qid}"><div class="DividingLine"></div></div>',O='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix question_date"><input id="&{question.option_id_list[0]}" type="text" class="option"/></div></div>',j='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix dropdown-matrix"><div class="Time_con"><div class=\'w-selection-time w-selection\'><select id="option_&{qmodel.option_list[0]._id.$oid}" class="option"><option value="">小时</option>{@each i in range(0, 24)}{@if i < 10}<option value="0&{i}">0&{i}</option>{@else}<option value="&{i}">&{i}</option>{@/if}{@/each}</select></div>\t<span>&nbsp;:&nbsp;</span><div class=\'w-selection-time w-selection\'><select id="option_&{qmodel.option_list[1]._id.$oid}" class="option"><option value="">分钟</option>{@each i in range(0, 60)}{@if i < 10}<option value="0&{i}">0&{i}</option>{@else}<option value="&{i}">&{i}</option>{@/if}{@/each}</select></div></div></div></div>',C='<div class="wjques maxtop question{@if qmodel.hasReviewAnswerBtn} exercise-mode{@/if}" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="red" id="tip_&{qmodel.qid}"></div><div class="matrix"><ul class="Imgli">{@each qmodel.option_list as option}<li class="option_cell" {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}"></div><input type="radio" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" option_id="&{option._id.$oid}"><label class="option_cell_box" for="option_&{option._id.$oid}" name="option"><span class="radio_box"></span><p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label></div>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc option-description-btn pc" option-id="&{option._id.$oid}">[查看选项说明]</div>{@/if}</li>{@/each}</ul></div>{@if qmodel.hasReviewAnswerBtn}<span class="review-answer-btn image-answer">查看答案</span>{@if qmodel.question.custom_attr.answer_analysis}<div class="answer-analysis"><p class="part-title">答案解析</p><p class="anslysis-content">&&{qmodel.question.custom_attr.answer_analysis}</p></div>{@/if}{@/if}</div>',A='<div class="wjques maxtop question{@if qmodel.hasReviewAnswerBtn} exercise-mode{@/if}" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="red" id="tip_&{qmodel.qid}"></div><div class="matrix"><ul class="Imgli">{@each qmodel.option_list as option}<li class="option_cell option-pc {@if option.custom_attr.other_option}other-option{@/if}" {@if option.custom_attr.description}option-description="true"{@/if}><div class="init_option"><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}"></div><input type="checkbox" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if} option_id="&{option._id.$oid}"><label class="option_cell_box" for="option_&{option._id.$oid}" name="option"><span class="check_box"></span><p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label></div></div>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc option-description-btn pc" option-id="&{option._id.$oid}">[查看选项说明]</div>{@/if}</li>{@/each}</ul></div>{@if qmodel.hasReviewAnswerBtn}<span class="review-answer-btn image-answer">查看答案</span>{@if qmodel.question.custom_attr.answer_analysis}<div class="answer-analysis"><p class="part-title">答案解析</p><p class="anslysis-content">&&{qmodel.question.custom_attr.answer_analysis}</p></div>{@/if}{@/if}</div>',E='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="red" id="tip_&{qmodel.qid}"></div>{@if qmodel.question.option_list.length >= 8}<div class="vote-search-box"><input id="searchContent" class="vote-search-wrap" placeholder="输入并搜索" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'输入并搜索\'" autocomplete="off"><i class="delete-icon"></i><i class="search-icon"></i></div>{@/if}{@if disp_type === \'groupvote_single\'}<div class="group-title-wrap">{@each qmodel.question.option_group_list as group}{@if group.title}<div class="group-title">&&{group.title}</div>{@/if}{@/each}</div>{@/if}{@if question.custom_attr.disp_type=="imagevote_single"}<div class="matrix image-vote-style"><ul class="Imgli">{@if qmodel.question.custom_attr && qmodel.question.custom_attr.img_scale !== \'auto\'}{@each qmodel.option_list as option}<li id=\'op_&{option._id.$oid}\' class="option_cell {@if voteAll === 1}once-vote-style{@/if}"  {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" option-id="&{option._id.$oid}" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}">\x3c!-- <div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div> --\x3e</div><div class="optionInfo"><input type="radio" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" option_id="&{option._id.$oid}"><label class="option_cell_box" {@if voteAll !== 1}for="option_&{option._id.$oid}"{@/if} name="option">{@if voteAll !== 1}<span class="radio_box"></span>{@/if}<p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" id="desc_&{option._id.$oid}" option-id="&{option._id.$oid}">&&{option.custom_attr.description}</div>{@/if}<div class="footer-box">{@if qmodel.question.custom_attr.show_rank == \'1\' || qmodel.question.custom_attr.show_vote_num == \'1\'}<div class="rankingsAndVotes">{@if qmodel.question.custom_attr.show_rank == \'1\'}<span class="rank">第0名</span><span class="line"></span>{@/if}{@if qmodel.question.custom_attr.show_vote_num == \'1\'}<span class="num">0票</span><span class="line"></span>{@/if}</div>{@/if}{@if voteAll === 1}<div class="once-vote">投票</div>{@/if}</div></div></div></li>{@/each}{@else}\x3c!--自适应排版--\x3e{@each i in range(0, 4)}<div class="{@if i==0 }option-first-wrapper{@/if}{@if i==1 }option-second-wrapper{@/if}{@if i==2 }option-third-wrapper{@/if}{@if i==3 }option-forth-wrapper{@/if}">{@each qmodel.option_list as option, index}{@if option && index%4 == i}<li id=\'op_&{option._id.$oid}\' class="option_cell {@if voteAll === 1}once-vote-style{@/if}"  {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" option-id="&{option._id.$oid}" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}">\x3c!-- <div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div> --\x3e</div><div class="optionInfo"><input type="radio" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" option_id="&{option._id.$oid}"><label class="option_cell_box" {@if voteAll !== 1}for="option_&{option._id.$oid}"{@/if} name="option">{@if voteAll !== 1}<span class="radio_box"></span>{@/if}<p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" id="desc_&{option._id.$oid}" option-id="&{option._id.$oid}">&&{option.custom_attr.description}</div>{@/if}<div class="footer-box">{@if qmodel.question.custom_attr.show_rank == \'1\' || qmodel.question.custom_attr.show_vote_num == \'1\'}<div class="rankingsAndVotes">{@if qmodel.question.custom_attr.show_rank == \'1\'}<span class="rank">第0名</span><span class="line"></span>{@/if}{@if qmodel.question.custom_attr.show_vote_num == \'1\'}<span class="num">0票</span><span class="line"></span>{@/if}</div>{@/if}{@if voteAll === 1}<div class="once-vote">投票</div>{@/if}</div></div></div></li>{@/if}{@/each}</div>{@/each}{@/if}</ul></div>{@else}<div class="matrix"><ul class="Imgli">{@each qmodel.option_list as option}<li id=\'op_&{option._id.$oid}\' class="option_cell {@if voteAll === 1}once-vote-style{@/if}"  {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}"><div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div></div><input type="radio" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" option_id="&{option._id.$oid}"><label class="option_cell_box" {@if voteAll !== 1}for="option_&{option._id.$oid}"{@/if} name="option">{@if voteAll !== 1}<span class="radio_box"></span>{@/if}<p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label>{@if voteAll === 1}<div class="once-vote">投票</div>{@/if}</div>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" option-id="&{option._id.$oid}">[查看选项说明]</div>{@/if}</li>{@/each}</ul></div>{@/if}</div>',I='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="red" id="tip_&{qmodel.qid}"></div>{@if qmodel.question.option_list.length >= 8}<div class="vote-search-box"><input id="searchContent" class="vote-search-wrap" placeholder="输入并搜索" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'输入并搜索\'" autocomplete="off"><i class="delete-icon"></i><i class="search-icon"></i></div>{@/if}{@if disp_type === \'groupvote_multiple\'}<div class="group-title-wrap">{@each qmodel.question.option_group_list as group}{@if group.title}<div class="group-title">&&{group.title}</div>{@/if}{@/each}</div>{@/if}{@if question.custom_attr.disp_type=="imagevote_multiple"}<div class="matrix image-vote-style"><ul class="Imgli">{@if qmodel.question.custom_attr && qmodel.question.custom_attr.img_scale !== \'auto\'}{@each qmodel.option_list as option}<li id=\'op_&{option._id.$oid}\' class="option_cell option-pc  {@if option.custom_attr.other_option}other-option{@/if}" {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" option-id="&{option._id.$oid}" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}">\x3c!-- <div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div> --\x3e</div><div class="optionInfo"><input type="checkbox" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if} option_id="&{option._id.$oid}"><label class="option_cell_box" for="option_&{option._id.$oid}" name="option"><span class="check_box"></span><p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" id="desc_&{option._id.$oid}" option-id="&{option._id.$oid}">&&{option.custom_attr.description}</div>{@/if}<div class="footer-box">{@if qmodel.question.custom_attr.show_rank == \'1\' || qmodel.question.custom_attr.show_vote_num == \'1\'}<div class="rankingsAndVotes">{@if qmodel.question.custom_attr.show_rank == \'1\'}<span class="rank">第0名</span><span class="line"></span>{@/if}{@if qmodel.question.custom_attr.show_vote_num == \'1\'}<span class="num">0票</span><span class="line"></span>{@/if}</div>{@/if}</div></div></div></li>{@/each}{@else}\x3c!--自适应排版--\x3e{@each i in range(0, 4)}<div class="{@if i==0 }option-first-wrapper{@/if}{@if i==1 }option-second-wrapper{@/if}{@if i==2 }option-third-wrapper{@/if}{@if i==3 }option-forth-wrapper{@/if}">{@each qmodel.option_list as option, index}{@if option && index%4 == i}<li id=\'op_&{option._id.$oid}\' class="option_cell option-pc  {@if option.custom_attr.other_option}other-option{@/if}" {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" option-id="&{option._id.$oid}" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}">\x3c!-- <div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div> --\x3e</div><div class="optionInfo"><input type="checkbox" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if} option_id="&{option._id.$oid}"><label class="option_cell_box" for="option_&{option._id.$oid}" name="option"><span class="check_box"></span><p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" id="desc_&{option._id.$oid}" option-id="&{option._id.$oid}">&&{option.custom_attr.description}</div>{@/if}<div class="footer-box">{@if qmodel.question.custom_attr.show_rank == \'1\' || qmodel.question.custom_attr.show_vote_num == \'1\'}<div class="rankingsAndVotes">{@if qmodel.question.custom_attr.show_rank == \'1\'}<span class="rank">第0名</span><span class="line"></span>{@/if}{@if qmodel.question.custom_attr.show_vote_num == \'1\'}<span class="num">0票</span><span class="line"></span>{@/if}</div>{@/if}</div></div></div></li>{@/if}{@/each}</div>{@/each}{@/if}</ul></div>{@else}<div class="matrix"><ul class="Imgli">{@each qmodel.option_list as option}<li id=\'op_&{option._id.$oid}\' class="option_cell option-pc  {@if option.custom_attr.other_option}other-option{@/if}" {@if option.custom_attr.description}option-description="true"{@/if}><div class="questionImgBox"><div class="QImgCon"><img class="option_origin_img" data-imgsrc="&{option.custom_attr.images.src}" src="&{option.custom_attr.images.thumbnail_src}"><div class="option_origin_img voteProgressBox" data-imgsrc="&{option.custom_attr.images.src}"><div class="progress"></div><div class="progress_info"></div></div></div><input type="checkbox" name="question_&{qmodel.qid}" id="option_&{option._id.$oid}" value="&{option._id.$oid}" class="option" {@if \'exclusive\' in option.custom_attr}exclusive="1"{@/if} option_id="&{option._id.$oid}"><label class="option_cell_box" for="option_&{option._id.$oid}" name="option"><span class="check_box"></span><p class="option_label label_&{option._id.$oid}">&&{option.title}</p></label></div>{@if option.custom_attr.description}<div class="option_desc btn_view_option_desc" option-id="&{option._id.$oid}">[查看选项说明]</div>{@/if}</li>{@/each}</ul></div>{@/if}</div>',D='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}">\t<div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div>\t<div class="matrix">\t\t<div class="uploadFile">\t\t\t<input class="selectFile"{@if qmodel.question.custom_attr.upload_limit_setting && qmodel.question.custom_attr.upload_limit_content} accept="&{qmodel.question.custom_attr.upload_limit_content|uploadFileLimitHandle,\'format\'}"{@/if} type="file" name="file" id="file_&{qmodel.qid}" style="display: none;" {@if qmodel.question.custom_attr.upload_num > 1} multiple{@/if}>\t\t\t<div class="upload_files upload-files-v1" id="upload_files_&{qmodel.qid}">\t\t\t\t<div class="upload_file clearfix uploaded hide">\t\t\t\t\t<div class="info clearfix">\t\t\t\t\t\t<div class="file_massage"><div class="info_img fl"><span class="default-img"></span><div class="circle-progress">　　<div class="left-semicircle"><div class="left"></div></div><div class="right-semicircle"><div class="right"></div></div><div class="proportion"></div></div></div><div class="content"><span class="file_name"></span><div class="filesize upload-file-size"></div><div class="progress_bar uploadfile_loading hide"><div class="upload-progress">'.concat(__("uploadFile").completed,'<span class="progress-txt"></span></div></div><div class="error_tip"></div><div class="operation_file hide"><label class="rechoose_link" data-role="rechoose" for="file_&{qmodel.qid}">').concat(__("qUploadRechoose"),'</label><a data-role="cancel" class="delete_link">').concat(__("qUploadDel"),'</a></div></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<input type="hidden" name="" class="option" data-id="&{qmodel.option_list[0]._id.$oid}">\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="before_file_upload before-file-upload-v1" data-max-file-quantity="&{qmodel.question.custom_attr.upload_num}" id="before_file_upload_&{qmodel.qid}">\t\t\t\t<label for="file_&{qmodel.qid}" class="file_&{qmodel.qid}">\t\t\t\t\t<div class="select_text_wrapper">\t\t\t\t\t\t<i></i>\t\t\t\t\t\t<div class="select-file">\t\t\t\t\t\t\t').concat(__("51"),'\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="select-text-desc">&&{qmodel.question.custom_attr.upload_num|uploadFileLimitHandle,\'size\'}</div>\t\t\t\t\t</div>\t\t\t\t</label>\t\t\t</div>{@if qmodel.question.custom_attr.upload_limit_content_setting && qmodel.question.custom_attr.upload_limit_content}\t\t\t<div class="file-upload-format">\t\t\t\t{@if question.custom_attr.upload_limit_setting==1 && !!question.custom_attr.upload_limit_content}\t\t\t\t<span>支持格式: &{question.custom_attr.upload_limit_content}</span>\t\t\t\t{@else}\t\t\t\t<span>不限制文件格式</span>\t\t\t\t{@/if}\t\t\t</div>{@/if}\t\t</div>\t</div></div>'),T='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><table class="QScorelist QNpsScorelist" width=100% border=0 cellpadding=0 cellspacing=0><tr><td></td><td><table id="tip_table" class="nps_tip_text" border=0 cellspacing=0 cellpadding=0><tr><td><span class="fl">'.concat(__("102"),'</span><span class="fr">').concat(__("103"),'</span></td></tr></table></td><td></td></tr>{@each qmodel.option_list as option}<tr><td class="option_label label_&{option._id.$oid}"></td><td><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray; overflow:hidden;font-size:12px;"><tr><td><table border=0 cellspacing=0 cellpadding=1 class="nps_grade_text"><tr><td>{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<div {@if i==parseInt(question.custom_attr.max_answer_num) } class="div_float div_float_last" {@else} class="div_float"{@/if}>&{i}</div>{@/each}</td></tr></table></td><td class="score nps_score" width="50px" align="center" id="option_&{option._id.$oid}"></td><td width="30px">&nbsp;</td></tr></table></td><td>&nbsp;</td></tr>{@/each}</table></div></div>'),P='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div>{@if !question.custom_attr.map_display_mode || question.custom_attr.map_display_mode == \'map\'}<div id="tip_&{qmodel.qid}" class="red"></div><a class="map_a" qid="&{qmodel.qid}"><i class="geo_ico location_ico"></i>'.concat(__("104"),'</a>{@else}<div class="blank-mode-map" qid="&{qmodel.qid}"><span class="w-input-icon-group w-input-icon-suffix"><input class="w-input search_input" type="text" placeholder="请输入地点、街道等位置信息"><i class="w-icon w-icon-close hide-close-icon"></i></span></div><div id="tip_&{qmodel.qid}" class="red"></div>{@/if}<div class="geographical_content{@if question.custom_attr.map_display_mode && question.custom_attr.map_display_mode == \'blank\'} blank-mode-geographical{@/if}"><div class="geographical_result clearfix"><i class="geo_ico mark_ico"></i><a class="geo_primary_btn geographical_clear_btn">').concat(__("105"),'</a><div class="geographical_position"><div class="geographical_address">').concat(__("107"),'</div><div class="geographical_coord">').concat(__("108"),'</div></div></div><div id="map_&{qmodel.qid}" class="geographical"></div><div class="geographical_action clearfix"><a class="geo_primary_btn current_location_btn"><i class="geo_ico location_ico"></i>').concat(__("109"),'</a><div class="geographical_input"><input type="text" class="search_input" placeholder="').concat(__("106"),'"><a class="geographical_search_btn"><i class="geo_ico"></i></a></div></div></div>{@each qmodel.option_list as option}<input type="hidden" class="option &{option.custom_attr.name_en}" id="option_&{option._id.$oid}">{@/each}</div>'),S='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix dropdown-matrix"><div class="selectTransverse">{@each i in range(0, qmodel.option_list.length)}<div class=\'w-selection-cascader w-selection\' data-id="&{qmodel.option_list[i]._id.$oid}"><select id="&{qmodel.option_list[i]._id.$oid}" class="option cascader_option" rel="&{qmodel.qid}" data-cascader-select-title="&{qmodel.question.option_list[i].title}" data-cascader-index="&{i}" data-cascader-end-index="&{qmodel.option_list.length-1}" data-cascader-select-value="" data-cascader-select-index=""><option value="0" data-disabled="true">&{qmodel.question.option_list[i].title}</option>{@if i == 0 && qmodel.question.custom_attr.option_data.length>0}{@each j in range(0, qmodel.question.custom_attr.option_data.length)}<option value="&&{j+1}" other-option="&{qmodel.question.custom_attr.option_data[j].other_option}">&&{qmodel.question.custom_attr.option_data[j].title}</option>{@/each}{@/if}</select></div>{@/each}<input type="text" class="other-option-descript hide " placeholder="请说明"></div></div></div>',N='<div class="wjques maxtop question q_proportion"id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if}questiontype="&{qmodel.question.question_type}"data-changed="false" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><div class="proportion_sum {@if (qmodel.question.custom_attr.limit_total == false)} none{@/if}">'.concat(__("totalValue"),'<span class="selected_sum"></span><span class="total_value">&&{qmodel.question.custom_attr.total_value}</span></div><div class="q_proportion_list"><ul class="q_option_ul">{@each qmodel.option_list as option}<li class="option_item" id="option_&{option._id.$oid}" oid="&{option._id.$oid}"><div class="option_title">&&{option.title}</div><div class="option_proportion"><div class="proportion_slider"><div class="ruler">{@each qmodel.question.custom_attr.tick_data as tick}<div class="tick" style="{@if qmodel.question.custom_attr.tick_data.length < 6}width: &{qmodel.question.custom_attr.tick_width}%;{@/if}" ><div class="number">&&{tick}</div><div><i></i><i class="{@if question.custom_attr.max_answer_num - question.custom_attr.min_answer_num < 6 || tick == qmodel.question.custom_attr.max_answer_num}none{@/if}"></i></div></div>{@/each}</div><div class="proportion_bar {@if qmodel.question.custom_attr.limit_total && qmodel.question.option_list.length == 1}single_option{@/if} {@if qmodel.question.custom_attr.limit_total && qmodel.question.option_list.length * qmodel.question.custom_attr.min_answer_num == qmodel.question.custom_attr.total_value || !qmodel.question.custom_attr.limit_total && qmodel.question.option_list.length * qmodel.question.custom_attr.min_answer_num == 1000}disable_event{@/if}"><div class="proportion_bar_before"></div><div class="proportion_bar_primary"><div class="slider_handle"></div></div><div class="proportion_bar_after"></div><div class="selected_bar"></div></div></div><div class="selected_value"><input value="{@if qmodel.question.custom_attr.limit_total && qmodel.question.option_list.length == 1}&{qmodel.question.custom_attr.max_answer_num}{@else}&{qmodel.question.custom_attr.min_answer_num}{@/if}" disabled /><i class="edit_icon"></i><span class="err_msg"></span></div></div></li>{@/each}</ul></div></div></div>'),U='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1" {@/if} questiontype="&{qmodel.question.question_type}" minnum="&{question.custom_attr.min_answer_num}" maxnum="&{question.custom_attr.max_answer_num}" score_display="{@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix" style=""><table class="QScorelist" width=100% border=0 cellpadding=0 cellspacing=0><tr><td style="padding-right: 20px;" class="option_label label_&{qmodel.option_list[0]._id.$oid}"></td><td><table class="data_row" border=0 cellspacing=0 cellpadding=0style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;"><tr class="score_row"><td><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2"><tr>{@each i in range(question.custom_attr.min_answer_num - 1,question.custom_attr.max_answer_num)}<td class="div_float" score_v="&{i+1}"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}"></i></td>{@/each}</tr></table></td><td class="score disp_none" width="50px" align="center"id="option_&{qmodel.option_list[0]._id.$oid}"></td></tr></table></td><td>&nbsp;</td></tr></table></div><div class="evaluation-desc" id=\'evaluation_&{qmodel.qid}\'><div class="score-desc"></div><div class="label-list" data-optionId="&{qmodel.option_list[1]._id.$oid}"></div><div class="evaluation-trea"><textarea type="text" class="evaluation-misu" placeholder="说说你的评价" /><div class="evaluation-cont"><span class="evaluation-numf">0</span>/999</div></div></div><div class="red labelcheck">请至少选择一个标签</div></div>',R='<div class="wjques maxtop question question-cloze-content" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix"><ul>{@each question.custom_attr.stem_content_obj_list as stem_content, index}<li><div class="banked-cloze-content">{@each stem_content as obj}{@if question.custom_attr.blank_style != \'underscore\'}&nbsp;&nbsp;{@/if}<span class="banked-cloze-fonts banked-cloze-fontques">&&{obj.content}</span>{@if question.custom_attr.blank_style != \'underscore\'}&nbsp;&nbsp;{@/if}{@if obj.optionIndex !== null}<div class=\'w-select-bankedCloze w-select-odrsm\' id="option_banked_&{question.option_id_list[obj.optionIndex]}"><select class="w-select-orgin" name="banked-cloze-select" data-oid="&{question.option_id_list[obj.optionIndex]}"><option class="disabled" selected="true" data-disabled="true" data-value="&&{obj.optionIndex + 1}" value="" data-choose="true">&{obj.optionIndex + 1}</option>{@each question.extra_option_list as stem_option, index}<option value="&{stem_option._id.$oid}">&{stem_option.order} &&{stem_option.title}</option>{@/each}</select></div>{@/if}{@/each}</div></li>{@/each}</ul><ul>{@each question.extra_option_list as stem_option, index}<li class="banked-cloze-font banked-cloze-fonts banked-cloze-query" data-id="&{stem_option._id.$oid}" data-index="&{index}"><span data-id="&{stem_option._id.$oid}" data-index="&{index}" >&{stem_option.order} &&{stem_option.title}</span></li>{@/each}</ul></div></div>',M='<div class="wjques maxtop question cloze" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="cloze_content">{@each i in range(0, question.custom_attr.cloze_content_list.length)}<span class="content_part" data-index="&{i}">&&{question.custom_attr.cloze_content_list[i]}</span>{@if i < question.option_id_list.length}<div class=\'w-select-cloze\' data-index="&{i + 1}" id="option_&{question.option_id_list[i]}"><select class="w-select-orgin" name="cloze" oid="&{question.option_id_list[i]}"><option value="" data-value="" data-choose="true" data-disabled="true">请选择</option>{@each question.option_list[i].custom_attr.cloze_option_content as item }{@if item}<option value="&{item}" data-answer="&{question.option_list[i].custom_attr.cloze_option_answer}">&&{item}</option>{@/if}{@/each}</select></div>{@/if}{@/each}</div></div>',L='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" minnum="&{question.custom_attr.min_answer_num}" maxnum="&{question.custom_attr.max_answer_num}" score_display="{@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><span class="q_scale_wrapper_option_title"></span><div class="matrix" style="overflow:visible;"><table class="QScorelist matrix_scale_wrapper q_scale_wrapper &&{question.custom_attr.score_display}" width=100% border=0 cellpadding=0 cellspacing=0>{@each qmodel.option_list as option}<tr><td class="option_label label_&{option._id.$oid}" style="padding-right: 20px;">{@if qmodel.option_list.length > 1}&&{option.title}{@/if}</td><td><table class="data_row" border=0 cellspacing=0 cellpadding=0 style="border:solid 0px gray;overfloat:hidden;font-size:12px;width:396px;"><tr class="score_row"><td><table border=0 cellspacing=0 cellpadding=1 class="table_score table_score_v2"><tr>{@if question.custom_attr.score_display == "slider" }<td class="div_float score_slider_box q_scale_slider"><div class="score_slider">{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}{@if i == parseInt(question.custom_attr.min_answer_num)}<div class="s_tag s_tag_first s_tag_m">{@else if i == parseInt(question.custom_attr.max_answer_num)}<div class="s_tag s_tag_last s_tag_m">{@else}<div class="s_tag s_tag_c">{@/if}<span class="tag_i"></span></div>{@/each}</div></td>{@else}{@if question.custom_attr.score_display=="circle"}{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}"><div class="q_scale_wrapper"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_circle{@/if}"></i><span class="{@if question.custom_attr.options_title_switch && question.custom_attr.options_title_switch == \'on\'}show-tooltip{@/if}" data-title="{@if i == question.custom_attr.min_answer_num}&&{question.custom_attr.desc_left} {@else if i == question.custom_attr.max_answer_num}&&{question.custom_attr.desc_right} {@else} {@if question.custom_attr.options && question.custom_attr.options[i - question.custom_attr.min_answer_num] && question.custom_attr.options[i - question.custom_attr.min_answer_num].title}&&{question.custom_attr.options[i - question.custom_attr.min_answer_num].title}{@else}自定义内容{@/if}{@/if}">{@if sceneType}&{i-parseInt(question.custom_attr.min_answer_num)+1} {@else} &{i} {@/if}</span></div></td>{@/each}{@else}{@each i in range(parseInt(question.custom_attr.min_answer_num), parseInt(question.custom_attr.max_answer_num) + 1)}<td class="div_float" score_v="&{i}"><i class="score_i {@if question.custom_attr.score_display}op_&{question.custom_attr.score_display}{@else}op_star{@/if}  {@if question.custom_attr.options_title_switch && question.custom_attr.options_title_switch == \'on\'}show-tooltip{@/if}" data-title="{@if i == question.custom_attr.min_answer_num}&&{question.custom_attr.desc_left} {@else if i == question.custom_attr.max_answer_num}&&{question.custom_attr.desc_right} {@else} {@if question.custom_attr.options && question.custom_attr.options[i - question.custom_attr.min_answer_num] && question.custom_attr.options[i - question.custom_attr.min_answer_num].title}&&{question.custom_attr.options[i - question.custom_attr.min_answer_num].title}{@else}自定义内容{@/if}{@/if}"></i></td>{@/each}{@/if}{@/if}</tr></table></td><td class="score disp_none" width="50px" align="center" id="option_&{option._id.$oid}"></td><td width="30px">&nbsp;</td></tr></table></td><td>&nbsp;</td></tr>{@/each}<tr><td></td><td><div class="tip_table score_title" style="width:462px;"><span class="q_scale_option_txt score_title_item score_title_left" title="&&{question.custom_attr.desc_left}">&&{question.custom_attr.desc_left}</span><span class="q_scale_option_txt score_title_item score_title_center" title="&&{question.custom_attr.desc_middle}">&&{question.custom_attr.desc_middle}</span><span class="q_scale_option_txt score_title_item score_title_right" title="&&{question.custom_attr.desc_right}">&&{question.custom_attr.desc_right}</span></div></td><td></td></tr></table></div></div>',B='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1" {@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="q-auto-table-friendly-tip hide">该题暂不支持选项的字体大小设置</div><div class="q-auto-table{@if qmodel.question.custom_attr.col_width} has-col-width{@/if}"><div class="auto-table-wrap"><table class="auto-table" cellspacing="0" cellpadding="0" data-oplen="&{qmodel.option_list.length}"><tbody><tr>{@each qmodel.option_list as option}<td class="option_label label_&{option._id.$oid}"><div class="show_title{@if !(\'allow_null\' in qmodel.question.custom_attr) && option.custom_attr.allow_null == \'on\'} allow-null{@/if}"data-title=\'&{option.title}\'>&&{option.title}</div>{@if !(\'allow_null\' in qmodel.question.custom_attr) && option.custom_attr.allow_null == \'on\'}<span class="allow-null-tip">（选填）</span>{@/if}</td>{@/each}</tr>{@each i in range(0, qmodel.question.custom_attr.default_num + 1)}\x3c!-- hide tr 用于复制 --\x3e<tr class="data_row{@if i==0} hide{@/if}">{@each qmodel.question.option_list as option}{@if option.custom_attr.checkmethod == \'single\'}<td><div class=\'w-select-autotable w-select-medium\' option_id="&{option._id.$oid}"><select class="w-select-orgin"><option class="disabled" selected="true" data-disabled="true" data-value="'.concat(__("pleaseSelect"),'" data-choose="true">').concat(__("pleaseSelect"),'</option>{@each option.custom_attr.options as op,index}<option value="&{op}">&{op}</option>{@/each}</select><textarea class="sele-val hide" option_id="&{option._id.$oid}" maxlength="998" allow_null="&{option.custom_attr.allow_null}"></textarea></div></td>{@else}<td><textarea wrap="off" class="option_open textarea-input" option_id="&{option._id.$oid}" data-title=\'\' checkmethod="&{option.custom_attr.checkmethod}" allow_null="&{option.custom_attr.allow_null}" maxlength="998"></textarea></td>{@/if}{@/each}</tr>{@/each}</tbody></table></div><p class="del-icon-wrap">{@each i in range(0, qmodel.question.custom_attr.default_num+2)}\x3c!-- hide icon 和 hide tr 保持一致，有利于js --\x3e<i class="w-icon-del none initial{@if i==1} hide{@/if}"></i>{@/each}</p></div><div class="add-a-line-btn">＋ 继续填写</div></div>'),H='<div class="wjques maxtop question classification" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix" style="display: table;"><div class="classification-left"><nav>选项区</nav><div id="left-defaults" class="classification-left-defaults">{@each qmodel.option_list as option}<div data-id=\'&{option._id.$oid}\' class="classification-item-left option_label label_&{option._id.$oid}">&&{option.title}</div>{@/each}</div></div><div class="classification-right"><nav style="text-align: center;">分类区</nav><div  id="classification-right" class="">{@each qmodel.question.extra_option_list as extra,index}<div class="classification-item-right"><div class="classification-tit label1_&{extra._id.$oid}">&&{extra.title}</div><div class="classification-cont" data-extraid=\'&{extra._id.$oid}\' id="right-defaults-&{index}"><div class="classification-info">拖入此处</div></div></div>{@/each}</div><div id="tip2" class="red"></div></div></div></div>',z='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="error_bar red"></div><div class="topic_con goods-wrapper">{@each qmodel.option_list as option}<div class="goods-option{@if !(qmodel.question.custom_attr.show_image && option.custom_attr.goods_info.images && option.custom_attr.goods_info.images.thumbnail_src)} image-not-show{@/if}" data-id="&{option._id.$oid}">{@if qmodel.question.custom_attr.show_image && option.custom_attr.goods_info.images && option.custom_attr.goods_info.images.thumbnail_src}<div class="goods-img"><img src="&{option.custom_attr.goods_info.images.thumbnail_src}" orig_src="&{option.custom_attr.goods_info.images.src}"></div>{@/if}<div class="content {@if !option.custom_attr.goods_info.images || !qmodel.question.custom_attr.show_image} contents{@/if}"><div class="top"><div class="titles">&&{option.title}</div>{@if qmodel.question.custom_attr.show_goods_detail && option.custom_attr.goods_info  && option.custom_attr.goods_info.detail}<div class="detail" data-id="&{option._id.$oid}">&&{option.custom_attr.goods_info.detail|goodsDetailHandle} </div><span class="more-detile" data-id="&{option._id.$oid}">'.concat(__("goodsQuestion").details,'</span>{@/if}</div>{@if qmodel.question.custom_attr.show_unit_price}<div class="price" data-value="&&{option.custom_attr.goods_info.unit_price}"><span class="sign">¥</span><span class="integer">&&{option.custom_attr.goods_info.unit_price|priceSplitHandle, \'integer\'}.</span><span class="decimal">&&{option.custom_attr.goods_info.unit_price|priceSplitHandle, \'decimal\'}</span></div>{@/if}{@if qmodel.question.custom_attr.show_underline_price == \'on\' && option.custom_attr.goods_info}<div class="scribing-price">{@if option.custom_attr.goods_info.underline_price}<span class="sign">¥</span><span class="integer">&&{option.custom_attr.goods_info.underline_price|priceSplitHandle, \'integer\'}.</span><span class="decimal">&&{option.custom_attr.goods_info.underline_price|priceSplitHandle, \'decimal\'}</span>{@else if option.custom_attr.goods_info.underline_price === \'\'}<span></span>{@else if option.custom_attr.goods_info.underline_price == 0}<span>¥0.00</span>{@/if}</div>{@/if}<div class="footer" ><div class="operation"><span class="reduce" data-type="reduce"><i></i></span><span class="add" data-type="add" ><i></i></span></div><div class="sell-out">').concat(__("goodsQuestion").sellOut,"</div></div></div></div>{@/each}</div></div>"),W='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}">\t<div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="signature-wrapper" data-type="default"><div class="signature"><span class="mobile-sign"> '.concat(__("signature").phoneSign,'</span><div class="canvas-signature"><canvas class="canvas"/><span class="content">').concat(__("signature").sign,'</span></div><img src="" alt=""><input type="hidden" class="option" data-id="&{qmodel.option_list[0]._id.$oid}"></div><div class="save-signature">').concat(__("signature").signaturing,'<span class="save">').concat(__("signature").done,'</span><span class="clear-sign">').concat(__("signature").clear,'</span></div><div class="re-signature">').concat(__("signature").signed,'<span class="re-sign">').concat(__("signature").reSign,'</span></div><div class="qrcode-wrap hide"><div class="code"><div class="qrcode" id="qrcode-&{qmodel.qid}"></div><i class="logo"></i></div><span>').concat(__("signature").qrcodeSign,"</span></div></div></div>"),Q='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div id="tip_&{qmodel.qid}" class="red"></div><div class="matrix dropdown-matrix"><div class="selectTransverse"><div class="reveiver recive"><h4>收货人</h4><input type="text" id="&{qmodel.option_list[0]._id.$oid}" class="reveiver-input option"></div><div class="receive-tel recive"><h4>手机号码</h4><input type="text" id="&{qmodel.option_list[1]._id.$oid}" class="receive-tel-input  option"></div><h4>选择地区</h4>{@each i in range(2, qmodel.option_list.length-1)}<div class=\'w-selection-address w-selection\' data-index="&{i-1}"><select id="&{qmodel.option_list[i]._id.$oid}" class="option" rel="&{qmodel.qid}"><option value="">&{qmodel.option_list[i].title}</option></select></div>{@/each}<br><h4>详细地址</h4><textarea style="width: 306px;height: 24px;" class="option detalle" name="" id="&{qmodel.option_list[5]._id.$oid}"></textarea></div></div></div>',K='<div class="wjques maxtop question" id="question_&{qmodel.qid}" {@if \'allow_null\' in qmodel.question.custom_attr}allow_null="1"{@/if} questiontype="&{qmodel.question.question_type}" disp-type="&{question.custom_attr.disp_type}" question-id="&{qmodel.qid}"><div class="title">&&{qmodel.title}</div><div class="error_bar" id="tip_&{qmodel.qid}"></div><div class="topic_con topic_con_uploadimage">{@if qmodel.question.custom_attr.camera_only && qmodel.question.custom_attr.camera_only == \'on\'}<input class="selectFile" type="file"  accept="image/*" capture="camera" name="file" id="file_&{qmodel.qid}" style="display: none;" {@if qmodel.question.custom_attr.upload_num > 1} multiple{@/if}>{@else}<input class="selectFile" type="file"  accept="image/*" name="file" id="file_&{qmodel.qid}" style="display: none;" {@if qmodel.question.custom_attr.upload_num > 1} multiple{@/if}>{@/if}<div class="upload_files" id="upload_files_&{qmodel.qid}"><div class="before_image_upload" data-max-file-quantity="&{qmodel.question.custom_attr.upload_num}" id="before_file_upload_&{qmodel.qid}"><label for="file_&{qmodel.qid}" class="file_&{qmodel.qid} file_box"><div class="select_text_wrapper"><div class="back-icon icon_wj"></div><div class="text">{@if qmodel.question.custom_attr.camera_only && qmodel.question.custom_attr.camera_only == \'on\'}'.concat(__("135"),"{@else}").concat(__("137"),'{@/if}</div></div></label></div><div class="upload_file uploaded hide"><div data-role="cancel" class="delete_link"></div><div class="uploadfile_loading hide"><div class="uploadfile_bar"></div></div><div class="info"><div class="file_massage"><div class="info_img" data-type="defaults"></div><div class="error_tip"></div></div></div><input type="hidden" name="" class="option" data-id="&{qmodel.option_list[0]._id.$oid}"></div></div></div></div>'),F='<div id="question_&{qmodel.qid}" class="maxtop module question style_&{qmodel.question.custom_attr.countdown_style_type}" oid="&{qmodel.qid}" question-type="&{question.question_type}" disp_type="&{disp_type}" cols_count="&{column_count}" tabindex="0"><div class="q_content_wrap"><div class="q_content"><div class="q_content_desc"></div><div class="q_content_detail">{@if qmodel.question.custom_attr.countdown_style_type == 2}<div class="title_wrap"><div class="title_box"><div class="q_title q_days"></div><div class="q_title_desc">/天</div></div></div><div class="title_wrap"><div class="title_box"><div class="q_title q_hours"></div><div class="q_title_desc">:</div></div></div><div class="title_wrap"><div class="title_box"><div class="q_title q_minutes"></div><div class="q_title_desc">:</div></div></div><div class="title_wrap"><div class="title_box"><div class="q_title q_seconds"></div></div></div>{@else}<div class="title_wrap"><div class="title_box"><div class="q_title q_days"></div><div class="q_title_desc">天</div></div>{@if qmodel.question.custom_attr.countdown_style_type == 3}<div class="q_title_desc">:</div>{@/if}</div><div class="title_wrap"><div class="title_box"><div class="q_title q_hours"></div><div class="q_title_desc">时</div></div>{@if qmodel.question.custom_attr.countdown_style_type == 3}<div class="q_title_desc">:</div>{@/if}</div><div class="title_wrap"><div class="title_box"><div class="q_title q_minutes"></div><div class="q_title_desc">分</div></div>{@if qmodel.question.custom_attr.countdown_style_type == 3}<div class="q_title_desc">:</div>{@/if}</div><div class="title_wrap"><div class="title_box"><div class="q_title q_seconds"></div><div class="q_title_desc">秒</div></div></div>{@/if}</div></div></div></div>'},100:function(t,i,e){"use strict";e.d(i,"c",(function(){return d})),e.d(i,"b",(function(){return r})),e.d(i,"a",(function(){return c}));var o=e(2),n=e(43),a=e(0),s=e(8),l=e(13);function d(t){var i="question_"+t.qid,e=$("#"+i),n=$("#tip_"+t.qid),l=$("#tip_code_"+t.qid),d=$.trim(e.find(".option").val()),r=e.find(".option").attr("id"),c=Object(a.x)(t.qid,r),_=!0;if("navigation"===t.question.custom_attr.disp_type)return _;if(Object(o.X)(d))n.text(__("120")),scroll_to(e),_=!1;else if(isNotEmpty(d)){if(Object(a.f)(c,d)||(t.show_option_msg(r,__("errorInputTextSpecifyContent")),scroll_to(e),_=!1),"mobile"!=c.custom_attr.checkmethod&&("char_count"in c.custom_attr||"char_count_min"in c.custom_attr)){var u=c.custom_attr.char_count,p=c.custom_attr.char_count_min;u&&p?parseInt(u)==parseInt(p)?d.length!=parseInt(u)&&(t.show_option_msg(r,__("115").format([parseInt(u)])),scroll_to(e),_=!1):(d.length<parseInt(p)||d.length>parseInt(u))&&(t.show_option_msg(r,__("114").format([p,u])),scroll_to(e),_=!1):u&&d.length>parseInt(u)?(t.show_option_msg(r,__("117").format([parseInt(u)])),scroll_to(e),_=!1):p&&d.length<parseInt(p)?(t.show_option_msg(r,__("116").format([parseInt(p)])),scroll_to(e),_=!1):t.clear_option_msg(r)}if("number"==c.custom_attr.checkmethod){var m=c.custom_attr,f=m.min_num,v=m.max_num,h=m.precision;Object(s.a)(d,f,v,h,e.find(".option"))?t.clear_option_msg(r):(t.show_option_msg(r,__("errorRangeNumber")),scroll_to(e),_=!1)}if("mobile"==c.custom_attr.checkmethod&&"on"==c.custom_attr.sms_auth&&(window.question_captcha_map[t.qid]=!1),"checkmethod"in c.custom_attr){var q=c.custom_attr.checkmethod;if(isNotEmpty(q))if(s.b.get_method(q)(d)){if("on"==c.custom_attr.sms_auth&&window.mobile_auth_queston_status!=window.MOBILE_AUTH_QUESTION_STATUS_NO_QUOTA)if(e.find(".sms_yzm input").val()){var w=e.find(".sms_yzm input").val();$.ajax({url:"/mobile_auth_question_captcha_validation",type:"POST",async:!1,dataType:"JSON",data:{mobile:d,captcha:w,_xsrf:$.cookie("_xsrf")},success:function(i){200!=i.result?(n.text(""),l.text("验证码不正确"==i.error_msg?__("codeError"):i.error_msg),scroll_to(e),_=!1):(n.text(""),l.text(""),window.question_captcha_map[t.qid]={mobile:d,captcha:w})}})}else n.text(""),l.text(__("enterCode")),scroll_to(e),_=!1}else n.text(s.b.get_err_msg(q)),scroll_to(e),_=!1}}else"allow_null"in t.question.custom_attr||"allow_null"in c.custom_attr?n.text(""):(n.text(__("3")),scroll_to(e),_=!1);return _&&(n.text(""),l.text("")),_}function r(t){var i="question_"+t.qid,e=$("#"+i).find(".option"),o=e.val(),n=t.question.custom_attr&&t.question.custom_attr.disp_type,a=t.question.custom_attr&&t.question.custom_attr.navigation;"navigation"===n&&a.amap_id&&a.location&&a.address&&e[0]&&(o=e[0].textContent);var s={};return o=$.trim(o),isNotEmpty(o)&&(s[e.attr("id")+"_open"]=$.trim(o)),s}function c(t){var i=t.qid,e=t.question.custom_attr.disp_type,d=t.question.custom_attr.navigation&&t.question.custom_attr.navigation.amap_id,r=$("#question_"+i).find(".address_btn");if("navigation"===e&&r.on("click",(function(){window.open("https://ditu.amap.com/place/"+d)})),window.inputVal("#question_"+i+" .option"),$("#question_"+i).find(".l-captcha").remove(),"mobile"==t.option_list[0].custom_attr.checkmethod&&"on"==t.option_list[0].custom_attr.sms_auth){var c="#question_"+i+" .option",_="#captcha_"+t.option_list[0]._id.$oid;window.mobile_auth_queston_status==window.MOBILE_AUTH_QUESTION_STATUS_NEED_GEETEST&&Object(n.h)(_,i,"#question_"+i+" .btn_send_code",c),$("#question_"+i).on("click",".btn_send_code",(function(){var t=$("#question_"+i+" .option").val(),e=$("#tip_"+i);if(""==t)e.text(__("enterMobileNumber"));else if(s.b.get_method("mobile")(t)){e.text("");var o=!1;for(var a in window.sendCodeTimer)a==i&&(o=!0);o?window.sendCodeTimer[i].state&&Object(n.d)(i,$(this),t,_):Object(n.d)(i,$(this),t,_)}else e.text(__("enterCorrectMobileNumber"))}))}var u=t.option_list[0];Object(a.b)({option:u,qid:i,blankType:"single"}),Object(a.c)(),Object(l.a)(t),Object(o.b)(i)}},101:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(2),n=e(0),a=e(8);function s(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),s=!0,l=("allow_null"in t.question.custom_attr),d=0;d<t.matrixrow_list.length;d++){var r=e.find(".matrix_table td:nth-child("+(d+2)+")"),c=r.find("textarea"),_=!0;c.each((function(){var i=get_parent(this,"td").find(".option_tip"),s=this.id.split("_")[2],d=Object(n.x)(t.qid,s);if(""==this.value){if(l||"allow_null"in d.custom_attr)return!0;_=!1}else{if("char_count_limit"in d.custom_attr){var r=d.custom_attr.char_count;this.value.length>parseInt(r)?(t.show_option_msg(this.id,__("96").format([this.value.length-parseInt(r)])),_=!1):t.clear_option_msg(this.id)}if("mobile"!=d.custom_attr.checkmethod&&("char_count"in d.custom_attr||"char_count_min"in d.custom_attr)){var c=$(this).val(),u=d.custom_attr.char_count,p=d.custom_attr.char_count_min;u&&p?parseInt(u)==parseInt(p)?c.length!=parseInt(u)&&(t.show_option_msg(o,__("115").format([parseInt(u)])),scroll_to(e),_=!1):c.length<parseInt(p)||c.length>parseInt(u)?(t.show_option_msg(this.id,__("114").format([p,u])),scroll_to(e),_=!1):t.clear_option_msg(this.id):u&&c.length>parseInt(u)?(t.show_option_msg(this.id,__("117").format([parseInt(u)])),scroll_to(e),_=!1):p&&c.length<parseInt(p)?(t.show_option_msg(this.id,__("116").format([parseInt(p)])),scroll_to(e),_=!1):t.clear_option_msg(this.id)}if("number"==d.custom_attr.checkmethod){var m=d.custom_attr,f=m.min_num,v=m.max_num,h=m.precision;Object(a.a)(this.value,f,v,h,e.find("#"+this.id))?i.text(""):(i.text(__("errorRangeNumber")),scroll_to(e),_=!1)}if("checkmethod"in d.custom_attr){var q=d.custom_attr.checkmethod;a.b.get_method(q)(this.value)?_&&i.text(""):(i.text(a.b.get_err_msg(q)),_=!1)}}})),_?r.removeClass("invalid"):(r.addClass("invalid"),s=!1)}s?o.text(""):o.text(__("15"));return s}(t):function(t){var i="question_"+t.qid,e=$("#"+i),s=$("#tip_"+t.qid),l=!0,d="allow_null"in t.question.custom_attr;e.find(".option_tip").text(""),e.find(".data_row").each((function(){var i=$(this).find("textarea"),r=!0;i.each((function(){var i=this.id.split("_")[2],l=Object(n.x)(t.qid,i),c=get_parent(this,"td").find(".option_tip");if(Object(o.X)(this.value))t.show_option_msg(this.id,__("120")),r=!1;else if(""==this.value){if(d||"allow_null"in l.custom_attr)return!0;r=!1}else{if("char_count_limit"in l.custom_attr){var _=l.custom_attr.char_count;this.value.length>parseInt(_)?(t.show_option_msg(this.id,__("96").format([this.value.length-parseInt(_)])),r=!1):t.clear_option_msg(this.id)}if("mobile"!=l.custom_attr.checkmethod&&("char_count"in l.custom_attr||"char_count_min"in l.custom_attr)){var u=$(this).val(),p=l.custom_attr.char_count,m=l.custom_attr.char_count_min;p&&m?parseInt(p)==parseInt(m)?u.length!=parseInt(p)&&(t.show_option_msg(s,__("115").format([parseInt(p)])),scroll_to(e),r=!1):(u.length<parseInt(m)||u.length>parseInt(p))&&(t.show_option_msg(this.id,__("114").format([m,p])),scroll_to(e),r=!1):p&&u.length>parseInt(p)?(t.show_option_msg(this.id,__("117").format([parseInt(p)])),scroll_to(e),r=!1):m&&u.length<parseInt(m)?(t.show_option_msg(this.id,__("116").format([parseInt(m)])),scroll_to(e),r=!1):t.clear_option_msg(this.id)}if("number"==l.custom_attr.checkmethod){var f=l.custom_attr,v=f.min_num,h=f.max_num,q=f.precision;Object(a.a)(this.value,v,h,q,e.find("#"+this.id))?c.text(""):(c.text(__("errorRangeNumber")),scroll_to(e),r=!1)}if("checkmethod"in l.custom_attr){var w=l.custom_attr.checkmethod;if(isNotEmpty(w))a.b.get_method(w)(this.value)?r&&c.text(""):(c.text(a.b.get_err_msg(w)),r=!1)}}})),r?$(this).find("td").removeClass("invalid"):($(this).find("td").addClass("invalid"),l=!1)})),l?s.text(""):(scroll_to(e),s.text(__("15")));return l}(t)}function l(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o={},n=0;n<t.matrixrow_list.length;n++){var a=e.find(".matrix_table td:nth-child("+(n+2)+")"),s={},l=null;a.find("textarea").each((function(){l=this.id.split("_")[1];var t=this.id.split("_")[2];s[t]=this.value})),o[l]=s}return o}(t):function(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row").each((function(){var t={},i=null;$(this).find("textarea").each((function(){i=this.id.split("_")[1];var e=this.id.split("_")[2];t[e]=this.value})),o[i]=t})),o}(t)}function d(t){window.inputVal("#question_"+t.qid+" .option_open"),Object(o.Y)(t)}},102:function(t,i,e){"use strict";e.d(i,"c",(function(){return l})),e.d(i,"b",(function(){return d})),e.d(i,"a",(function(){return r}));var o=e(2),n=e(0),a=e(32),s=e(8);function l(t){return"is_swap"in t.question.custom_attr?function(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),a=!0,l="allow_null"in t.question.custom_attr,d=0,r=0;t.question.custom_attr.hasOwnProperty("min_answer_num")&&(d=parseInt(t.question.custom_attr.min_answer_num));t.question.custom_attr.hasOwnProperty("max_answer_num")&&(r=parseInt(t.question.custom_attr.max_answer_num));for(var c=0;c<t.matrixrow_list.length;c++){var _=e.find(".matrix_table td:nth-child("+(c+2)+")"),u=_.find("input:checkbox:checked");if(0==u.length){if(l)return!0;a=!1,_.addClass("invalid")}else{var p=!0;_.find("span.option_tip").text(""),u.each((function(){var i=$(this).attr("id").split("_")[2],e=Object(n.x)(t.qid,i);if(e.is_open){var o=get_parent($(this),"td").find("input:text"),a=o.parent().find(".option_tip"),l=o.val();if(""!=l||e.custom_attr.hasOwnProperty("allow_null")){if("char_count_limit"in e.custom_attr){var d=e.custom_attr.char_count;o.val().length>d?(t.show_option_msg(o.attr("id"),__("96").format([l.length-parseInt(d)])),p=!1):t.clear_option_msg(o.attr("id"))}if("checkmethod"in e.custom_attr){var r=e.custom_attr.checkmethod;if(isNotEmpty(r))s.b.get_method(r)(l)||(p=!1,a.text(s.b.get_err_msg(r)))}}else p=!1,a.text(__("12"))}})),d>u.length&&0!=d?(o.text(__("36").format([d])),p=!1):r<u.length&&0!=r&&(o.text(__("37").format([r])),p=!1),p?_.removeClass("invalid"):(a=!1,_.addClass("invalid"))}}return a?(o.text(""),!0):(o.text(__("15")),scroll_to(e),!1)}(t):function(t){var i="question_"+t.qid,e=$("#"+i),a=$("#tip_"+t.qid),l=!0,d=!0,r="allow_null"in t.question.custom_attr,c=0,_=0;t.question.custom_attr.hasOwnProperty("min_answer_num")&&(c=parseInt(t.question.custom_attr.min_answer_num));t.question.custom_attr.hasOwnProperty("max_answer_num")&&(_=parseInt(t.question.custom_attr.max_answer_num));return e.find(".option_tip").text(""),e.find(".data_row").each((function(){var i=$(this).find("input:checkbox:checked");if(0==i.length){if(r)return!0;l=!1,$(this).find("td").addClass("invalid")}else{var e=!0;$(this).find("span.option_tip").text(""),i.each((function(){var i=$(this).attr("id").split("_")[2],a=Object(n.x)(t.qid,i);if(a.is_open){var l=get_parent($(this),"td").find("input:text"),r=l.parent().find(".option_tip"),c=l.val();if(Object(o.X)(c))e=!1,d=!1;else if(""!=c||a.custom_attr.hasOwnProperty("allow_null")){if("char_count_limit"in a.custom_attr){var _=a.custom_attr.char_count;l.val().length>_?(t.show_option_msg(l.attr("id"),__("96").format([c.length-parseInt(_)])),e=!1):t.clear_option_msg(l.attr("id"))}if("checkmethod"in a.custom_attr){var u=a.custom_attr.checkmethod;if(isNotEmpty(u))s.b.get_method(u)(c)||(e=!1,r.text(s.b.get_err_msg(u)))}}else e=!1}})),c>i.length&&0!=c?(a.text(__("34").format([c])),e=!1):_<i.length&&0!=_&&(a.text(__("35").format(_)),e=!1),e?$(this).find("td").removeClass("invalid"):(l=!1,$(this).find("td").addClass("invalid"))}})),l?(a.text(""),!0):(d?a.text(__("15")):a.text(__("120")),scroll_to(e),!1)}(t)}function d(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o={},a=0;a<t.matrixrow_list.length;a++){var s=e.find(".matrix_table td:nth-child("+(a+2)+")"),l=[],d=s.find("input:checkbox:checked");if(0!=d.length){var r="";d.each((function(){var i=[],e=this.id.split("_")[2];if(r=this.id.split("_")[1],i.push(e),Object(n.x)(t.qid,e).is_open){var o=get_parent($(this),"td").find("input:text");isNotEmpty(o.val())&&i.push(o.val())}l.push(i)})),o[r]=l}}return o}(t):function(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row").each((function(){var i=[],e=$(this).find("input:checkbox:checked");if(0!=e.length){var a=this.id;e.each((function(){var e=[],o=this.id.split("_")[2];if(e.push(o),Object(n.x)(t.qid,o).is_open){var a=get_parent($(this),"td").find("input:text");isNotEmpty(a.val())&&e.push(a.val())}i.push(e)})),o[a]=i}})),o}(t)}function r(t){var i=t.qid;!function(t){var i=Object(a.b)(t),e=$("#question_"+i.qid);if("is_swap"in i.question.custom_attr)for(var o=0;o<i.question.matrixrow_list.length;o++)e.find(".matrix_table td:nth-child("+(o+2)+") input:checkbox.option").on("change",(function(){var t=get_parent(this,"tr"),i=get_parent(this,"td"),o=t.find(".data_td").index(i),n=e.find(".matrix_table td:nth-child("+(o+1)+")");$(this).attr("exclusive")?this.checked&&n.find(".option").not(this).prop("checked",!1):this.checked&&n.find(".option[exclusive=1]").prop("checked",!1)}));else e.find(".data_row").each((function(){var t=$(this);$(this).find(".option").on("change",(function(){$(this).attr("exclusive")?this.checked&&t.find(".option").not(this).prop("checked",!1):this.checked&&t.find(".option[exclusive=1]").prop("checked",!1)}))}))}(i),window.inputVal("#question_"+i+" .option_open"),Object(o.Y)(t)}},103:function(t,i,e){"use strict";e.d(i,"c",(function(){return n})),e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return s}));var o=e(2);function n(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0,a=("allow_null"in t.question.custom_attr),s=0;s<t.matrixrow_list.length;s++){var l=e.find(".matrix_table td.score_td:nth-child("+(s+2)+")"),d=!0;l.each((function(){if(0==$(this).find("img[stat=on]").length){if(a)return;d=!1}})),d?l.removeClass("invalid"):(l.addClass("invalid"),n=!1)}n?o.text(""):(scroll_to(e),o.text(__("16")));return n}(t):function(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0,a="allow_null"in t.question.custom_attr;e.find(".data_row").each((function(){var t=!0;$(this).find(".score_td").each((function(){if(0==$(this).find("img[stat=on]").length){if(a)return!0;t=!1}})),t?$(this).find("td").removeClass("invalid"):($(this).find("td").addClass("invalid"),n=!1)})),n?o.text(""):(o.text(__("16")),scroll_to(e));return n}(t)}function a(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o={},n=0;n<t.matrixrow_list.length;n++){var a=e.find(".matrix_table td.score_td:nth-child("+(n+2)+")"),s={},l=null;a.each((function(){l=this.id.split("_")[1];var t=this.id.split("_")[2],i=$(this).find("img[stat=on]").length+"";s[t]=i})),o[l]=s}return o}(t):function(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row").each((function(){var t={},i=null;$(this).find(".score_td").each((function(){i=this.id.split("_")[1];var e=this.id.split("_")[2],o=$(this).find("img[stat=on]").length+"";t[e]=o})),o[i]=t})),o}(t)}function s(t){!function(t){var i=t.qid;$("#question_"+i+" .matrix_score").on("click",(function(){var i=$(this).parent().parent(),e=$(".matrix_score",i).index($(this));$(".matrix_score",i).attr("src",window.star_off).attr("stat","off"),$(".matrix_score",i).each((function(t,i){if(t>e)return!1;$(this).attr("src",window.star_on).attr("stat","on")})),t.changeAnswerHandler()}))}(t),Object(o.Y)(t)}},104:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(2),n=e(0),a=e(8);function s(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),s=!0,l=0;l<t.question.matrixrow_list.length;l++){var d=e.find(".matrix_table td:nth-child("+(l+2)+") input:radio:checked");if(0==d.length){if("allow_null"in t.question.custom_attr)continue;s=!1,e.find(".matrix_table td:nth-child("+(l+2)+")").addClass("invalid")}else{e.find(".matrix_table td:nth-child("+(l+2)+")").find("span.option_tip").text("");var r=d.attr("id").split("_")[2],c=Object(n.x)(t.qid,r),_=get_parent(d,"td").find("input:text"),u=_.parent().find(".option_tip");if(c.is_open)if(""!=_.val()||c.custom_attr.hasOwnProperty("allow_null")){if("char_count_limit"in c.custom_attr){var p=c.custom_attr.char_count;_.val().length>p?(t.show_option_msg(_.attr("id"),__("96").format([_.val().length-parseInt(p)])),s=!1):t.clear_option_msg(_.attr("id"))}if("checkmethod"in c.custom_attr){var m=c.custom_attr.checkmethod;if(isNotEmpty(m))a.b.get_method(m)(_.val())?s&&(u.text(""),e.find(".matrix_table td:nth-child("+(l+2)+")").removeClass("invalid")):(u.text(a.b.get_err_msg(m)),s=!1,e.find(".matrix_table td:nth-child("+(l+2)+")").addClass("invalid"))}}else u.text(__("12")),s=!1,e.find(".matrix_table td:nth-child("+(l+2)+")").addClass("invalid");else u.text(""),e.find(".matrix_table td:nth-child("+(l+2)+")").removeClass("invalid")}}return s?(o.text(""),!0):(o.text(__("15")),scroll_to(e),!1)}(t):function(t){var i="question_"+t.qid,e=$("#"+i),s=$("#tip_"+t.qid),l=!0;return e.find(".option_tip").text(""),e.find(".data_row").each((function(){var i=$(this).find("input:radio:checked");if(0==i.length){if("allow_null"in t.question.custom_attr)return!0;l=!1,$(this).find("td").addClass("invalid")}else{$(this).find("span.option_tip").text("");var e=i.attr("id").split("_")[2],s=Object(n.x)(t.qid,e),d=get_parent(i,"td").find("input:text"),r=d.parent().find(".option_tip");if(s.is_open)if(Object(o.X)(d.val()))l=!1,$(this).find("td").addClass("invalid"),t.show_option_msg(d.attr("id"),__("120"));else if(""!=d.val()||s.custom_attr.hasOwnProperty("allow_null")){if("char_count_limit"in s.custom_attr){var c=s.custom_attr.char_count;d.val().length>c?(t.show_option_msg(d.attr("id"),__("96").format([d.val().length-parseInt(c)])),l=!1):t.clear_option_msg(d.attr("id"))}if("checkmethod"in s.custom_attr){var _=s.custom_attr.checkmethod;if(isNotEmpty(_))a.b.get_method(_)(d.val())?l&&(r.text(""),$(this).find("td").removeClass("invalid")):(r.text(a.b.get_err_msg(_)),l=!1,$(this).find("td").addClass("invalid"))}}else l=!1,$(this).find("td").addClass("invalid");else r.text(""),$(this).find("td").removeClass("invalid")}})),l?(s.text(""),!0):(s.text(__("15")),scroll_to(e),!1)}(t)}function l(t){return"is_swap"in t.question.custom_attr?function(t){for(var i="question_"+t.qid,e=$("#"+i),o={},a=0;a<t.question.matrixrow_list.length;a++){var s=[],l=e.find(".matrix_table td:nth-child("+(a+2)+") input:radio:checked");if(0!=l.length){var d=l.attr("id").split("_")[1],r=l.attr("id").split("_")[2];if(s.push(r),Object(n.x)(t.qid,r).is_open){var c=get_parent(l,"td").find("input:text");isNotEmpty(c.val())&&s.push(c.val())}o[d]=s}}return o}(t):function(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row").each((function(){var i=[],e=$(this).find("input:radio:checked");if(0!=e.length){var a=e.attr("id").split("_")[1],s=e.attr("id").split("_")[2];if(i.push(s),Object(n.x)(t.qid,s).is_open){var l=get_parent(e,"td").find("input:text");isNotEmpty(l.val())&&i.push(l.val())}o[a]=i}})),o}(t)}function d(t){var i=t.qid;window.inputVal("#question_"+i+" .option_open"),Object(o.Y)(t)}},105:function(t,i,e){"use strict";function o(t){if("allow_null"in t.question.custom_attr)return!0;var i=$("#question_"+t.qid),e=$("#tip_"+t.qid),o=!0;return i.find("select[name=cloze]").each((function(){$(this).val()||(o=!1,$(this).addClass("empty"))})),o?(e.text(""),!0):(e.text(__("15")),scroll_to(i),!1)}function n(t){var i=$("#question_"+t.qid+" select[name=cloze]"),e={};return i.each((function(){var t=$(this),i=t.val();if(isNotEmpty(i)){var o=t.attr("oid");i=i.replace(/&gt;|&gt/g,"&gt;").replace(/&lt;|&lt/g,"&lt;"),e[o+"_open"]=i}})),e}function a(t){$("#question_"+t.qid+" .w-select-cloze").each((function(){var t=$(this);t.find(".w-select-dom").remove();var i=t.data("index");window.Selector(t,"order-question",(function(t){var i,e=$(this.dom).find("select");if(!e.val()){var o=e.find("option[value='"+this.value+"']");o.length||(o=e.find("option[value='"+(((i=this.value)?i.replace(/[<>]/g,(function(t){return{"<":"&lt",">":"&gt"}[t]})):"")+"']"))),o.prop("selected",!0)}this.value&&e.hasClass("empty")&&e.removeClass("empty")}),i)}))}e.d(i,"c",(function(){return o})),e.d(i,"b",(function(){return n})),e.d(i,"a",(function(){return a}))},106:function(t,i,e){"use strict";function o(t){return this.mb=$("#"+t),this.obj={},this.event=function(){var t=this;$(".nps_grade_text .div_float",t.mb).off().on({click:function(){t.select($(this))}})},this.select=function(i){var e=i.parents(".nps_grade_text"),o=$(".div_float",e);e.parent().parent().find(".score").text(i.text()),o.removeClass("back_n"),i.addClass("back_n"),window.get_qmodel(t.replace("question_","")).changeAnswerHandler()},this.event()}function n(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0,a=e.find(".back_n").length;return""==a&&("allow_null"in t.question.custom_attr||(n=!1)),isNaN(a)&&(n=!1),n?o.text(""):(o.text(__("101")),scroll_to(e)),n}function a(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row .score").each((function(){var t=$(this).text(),i=[],e=this.id.replace("option_","");i.push(t),o[e]=i})),o}function s(t){new o("question_"+t.qid)}e.d(i,"c",(function(){return n})),e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return s}))},107:function(t,i,e){"use strict";e.d(i,"a",(function(){return s})),e.d(i,"c",(function(){return l})),e.d(i,"b",(function(){return d}));var o=e(17),n=e(12);function a(t){var i=$("#question_"+t.qid),e=t.question,a=parseInt(e.custom_attr.min_answer_num),s=parseInt(e.custom_attr.max_answer_num),l=parseInt(e.custom_attr.total_value),d=e.custom_attr.limit_total;i.find(".proportion_bar_primary").slider({min:100*a,max:100*s,range:"min",slide:function(i,e){var o=$(this),a=Math.round(e.value/100),s=o.parents(".option_item");Object(n.g)(t,s,a)},stop:function(e,a){var s=$(this),r=Object(n.a)(i),c=s.parents(".option_item").find(".selected_value"),_=i.find(".option_item");"true"!=i.attr("data-changed")&&(d&&r==l||!d&&1e3==r)||(d&&2!=_.length&&Object(n.i)(t),d&&2==_.length?_.find(".edit_icon").css("visibility","visible"):c.find(".edit_icon").css("visibility","visible"),d&&r<=l&&i.find(".selected_sum").text(r+"/"),i.attr("data-changed","true"),window.location.href.indexOf("/r/upsert/")<0&&Object(o.a)(t.qid),t.changeAnswerHandler())}}),i.on("click",".selected_value .edit_icon",(function(){$(this).parents(".selected_value").find("input").prop("disabled",!1).focus()})),i.on({focus:function(){$(this).attr("data-isFocus","true"),$(this).parents(".selected_value").find(".edit_icon").css("visibility","hidden")},input:function(){1==this.value.length?this.value=this.value.replace(/[^0-9]/g,""):/^0/g.test(this.value)?this.value="0":this.value=this.value.replace(/\D/g,"")},blur:function(){var e=$(this),o=i.find(".option_item"),s=e.parents(".selected_value"),r=s.find(".err_msg"),c=e.parents(".option_item"),_=parseInt(e.val()),u=Object(n.b)(c,i);i.attr("data-changed","true");var p=Object(n.c)(t,e);p.isSuccess?($(this).attr("data-isFocus","false"),d&&2==o.length&&u+_>l&&_+a<=l&&(_=_>l-a?l-u:_),s.find(".edit_icon").css("visibility","visible"),e.prop("disabled",!0),Object(n.h)(t,c,_),t.changeAnswerHandler()):(r.text(p.errMsg),r.show(),e.focus(),_=a,setTimeout((function(){e.val(a),Object(n.h)(t,c,_),t.changeAnswerHandler(),r.hide()}),1500))}},".selected_value input")}function s(t){new a(t)}function l(t){var i=$("#question_"+t.qid),e=$("#tip_"+t.qid),o=t.question,a=o.custom_attr.allow_null,s=o.custom_attr.limit_total,l=s?parseInt(o.custom_attr.total_value):1e3,d=Object(n.a)(i),r=i.attr("data-changed"),c=!0;return!(i.find(".selected_value input[data-isFocus=true]").length>0)&&(!!a||("false"==r&&d<l?(c=!1,e.text(__("anwserAllOptions"))):s&&d<l&&(c=!1,i.find(".proportion_sum").addClass("err_color")),c?e.text(""):scroll_to(i),c))}function d(t){var i=$("#question_"+t.qid),e=t.question,o=e.option_list.length,n=e.custom_attr.min_answer_num,a=e.custom_attr.allow_null,s=e.custom_attr.limit_total,l=s?parseInt(e.custom_attr.total_value):1e3,d={};return("true"==i.attr("data-changed")||!a&&(o*n==l||s&&1==o))&&i.find(".option_item").each((function(){var t=parseInt($(this).find(".selected_value input").val()),i=this.id.replace("option_","");d[i]=[t]})),d}},108:function(t,i,e){"use strict";e.d(i,"c",(function(){return n})),e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return s}));var o=e(32);function n(t){var i=$("#question_".concat(t.qid)),e=$(".classification-left-defaults",i).find(".classification-item-left").length,o=$("#tip_".concat(t.qid)),n=t.question.custom_attr.category_min_num;if(t.option_list.length===e&&"allow_null"in t.question.custom_attr)return!0;var a=!1;return i.find(".classification-cont").each((function(t,i){var e=$(i).find(".classification-item-left").length;n&&e<parseInt(n)&&(a=!0)})),a?(i.find("#tip2").text("请至少选择".concat(n,"个选项")).show(),!1):(i.find("#tip2").text("").hide(),e>=1?(o.text(__("noClassify")).show(),scroll_to(i),!1):(o.text("").hide(),!0))}function a(t){var i=$("#question_".concat(t.qid)),e={};return i.find(".classification-cont").each((function(t,i){var o=[],n=$(this),a=n.data("extraid");n.find(".classification-item-left").each((function(){var t=$(this).data("id");o.push([t])})),e[a]=o})),e}function s(t){var i,e=t.question.custom_attr.category_max_num,n=t.qid,a=$("#question_".concat(t.qid)),s=$("#left-defaults",a)[0],l=t.question.extra_option_list,d=[];d.push(s);for(var r=0;r<l.length;r++){var c=$("#right-defaults-".concat(r),a)[0];d.push(c)}var _="";$((function(){window.dragula(d,{sibling:null,direction:"horizontal",moves:function(t){return _=$(t).parent(),!$(t).hasClass("classification-info")},accepts:function(t,o){if(o!==s){var n=$(o);i=n;var a=n.find(".classification-item-left");return n.css({background:"#F7F8FA"}),!(e&&a&&a.length>=e)}return!0}}).on("dragend",(function(t){if(i){if(_.hasClass("classification-cont")){var e=_.find(".classification-item-left");e&&e.length>=1?_.find(".classification-info").remove():(_.css({background:"#fff"}),_.find(".classification-info").hide(),_.append('<div class="classification-info">拖入此处</div>'))}var a=i.find(".classification-item-left");a&&a.length>=1?i.find(".classification-info").remove():(i.css({background:"#fff"}),i.find(".classification-info").hide(),i.append('<div class="classification-info">拖入此处</div>'))}Object(o.b)(n).changeAnswerHandler()}))}))}},109:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(32);function n(t,i){this.mb=$("#"+t),this.obj={};var e=parseInt(this.mb.attr("minnum")),n=parseInt(this.mb.attr("maxnum")),s=n-e+1;return a(t,s,n),$(window).resize((function(){$("#"+t).length>0&&a(t,s,n)})),this.event=function(){var t=this;$(".table_score .div_float",t.mb).off().on({mouseenter:function(){t.select($(this),"mouseenter")},click:function(){var i=$(this).parents(".table_score");$(".div_float",i).off("mouseenter"),$(".evaluation-trea").hide(),$(this).addClass("active").siblings().removeClass("active"),t.queryOption(this,$(this).data("nextData"),$(this).data("answer")),t.select($(this),"click")}}),$(".table_score",t.mb).off().on("mouseleave",(function(){var t=$(this);t.parent().parent().find(".active").length>0?$(".div_float",t).removeClass("back_max"):(t.parent().parent().find(".score").text(""),$(".div_float",t).removeClass("back_n").removeClass("back_max"))}))},this.showHideText=function(t){var i=this,e=$(".evaluation-trea",t);$(".write-evaluation",t).on("click",(function(){var o=$(this);o.hasClass("writer-live")?($(".evaluation-cont",t).hide(),o.removeClass("writer-live"),e.hide()):(o.addClass("writer-live"),e.show(),$(".evaluation-cont",t).show(),i.textareaSize(t))}))},this.textareaSize=function(i){$(".evaluation-misu",i).on("input",(function(){var t=$(this).val(),e=t.length;e<1e3?$(".evaluation-numf",i).text(e):$(this).val(t.slice(0,1e3))})).on("blur",(function(){Object(o.b)(t.replace("question_","")).changeAnswerHandler()}))},this.queryOption=function(t,e,o){var n=parseInt($(t).attr("score_v")),a=i.option_list[1].custom_attr.label_data,s=$("#evaluation_"+i.qid);if(a){if(a[n]){var l=a[n].label_list,d="",r="",c="";if(e){var _="",u=JSON.parse(o)[0].split("||");u[u.length-1]?1===u.length?r=u[0]:c=u:(_=u[u.length-2],u.length>3?c=u.slice(0,u.length-2):r=u.slice(0,u.length-2)),_&&($(".evaluation-trea",s).show(),$(".evaluation-numf").text(_.length),$(".evaluation-misu",s).val(_),this.textareaSize(s))}if(c&&c.length!=l.length)for(var p=!1,m=0;m<l.length;m++){for(var f=0;f<c.length;f++){if(c[f]==l[m]){d+='<label class="select-lable lable-live" data-index='+m+">"+l[m]+"</label>",p=!0;break}p=!1}p||(p=!1,d+='<label class="select-lable" data-index='+m+">"+l[m]+"</label>")}else for(var v=0;v<l.length;v++)r&&l[v]==r||c&&c.length==l.length?d+='<label class="select-lable lable-live" data-index='+v+">"+l[v]+"</label>":d+='<label class="select-lable" data-index='+v+">"+l[v]+"</label>";_&&e?d+='<label class="write-evaluation writer-live">写评价<i></i></label>':i.question.custom_attr.open_eval&&(d+='<label class="write-evaluation">写评价<i></i></label>'),a[n].score_desc?s.find(".score-desc").empty().text('"'+a[n].score_desc+'"'):s.find(".score-desc").text(""),s.find(".label-list").empty().html(d),this.selectLable(".select-lable"),$(t).data("nextData","")}this.showHideText(s)}},this.selectLable=function(i){$(i).off("click").on("click",(function(){var i=$(this);i.hasClass("lable-live")?i.removeClass("lable-live"):i.addClass("lable-live"),Object(o.b)(t.replace("question_","")).changeAnswerHandler()}))},this.select=function(i,e){var n=i.parents(".table_score"),a=$(".div_float",n),s=a.index(i);(n.parent().parent().find(".score").text(i.attr("score_v")),a.removeClass("back_n").removeClass("back_max"),a.each((function(t,i){if(t>s)return!1;$(this).addClass("back_n"),t==s&&$(this).addClass("back_max")})),"click"===e)&&Object(o.b)(t.replace("question_","")).changeAnswerHandler()},this.history=function(t){var i=t.parents(".table_score"),e=$(".div_float",i),o=e.index(t);i.parent().parent().find(".score").text(t.attr("score_v")),e.removeClass("back_n").removeClass("back_max"),e.each((function(t,i){if(t>o)return!1;$(this).addClass("back_n")}))},this.event()}function a(t,i,e){var o=$("#"+t);e=parseInt(e);var n=$(".table_score_v2",o).find("td");2===e?($(n[0]).find("i").addClass("tow-evaluation-left"),$(n[1]).find("i").addClass("tow-evaluation-right")):3===e&&($(n[0]).find("i").addClass("three-evaluation-left"),$(n[2]).find("i").addClass("three-evaluation-right"));var a=o.find(".score_title"),s=o.find(".table_score_v2"),l=s.width(),d=o.find(".div_float:first .score_i:first").width(),r=(l-d*i)/(2*i-2),c=l;s.find("td").css("width",2*r+d+"px"),s.find("td:first,td:last").css("width",d+r+"px"),s.find("td:first").css("text-align","center"),s.find("td:last").css("text-align","center"),a.css({width:c})}function s(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0,a="";if(e.find(".data_row .score").each((function(){""==(a=$(this).text())&&("allow_null"in t.question.custom_attr||(n=!1)),isNaN(a)&&(n=!1)})),n){o.text("");var s=$(".evaluation-misu",e).val();if(!t.question.custom_attr.allow_null&&!s)if(t.question.custom_attr.one_label_limit)if($("#"+i+" .label-list").find(".lable-live").length<1)return $("#"+i+" .labelcheck").show(),n=!1}else o.text("请进行打分"),scroll_to(e);return n}function l(t){var i="question_"+t.qid,e=$("#"+i),o={};e.find(".data_row .score").each((function(){var t=$(this).text();if(t){var i=[],e=this.id.replace("option_","");i.push(t),o[e]=i}}));var n=e.find(".evaluation-misu").val(),a=$("#"+i+" .label-list").find(".lable-live"),s=$("#"+i+" .label-list").data("optionid");if(a.length>1&&1!=a.ength){var l="";a.each((function(t,i){var e=$(this).text();t!=a.length-1?l+=e+"||":l+=e})),n&&(l+="||"+n+"||"),o[s]=[l]}else 1===a.length?o[s]=n?[a.text()+"||"+n+"||"]:[a.text()]:e[0]&&(o[s]=n?[n+"||"]:[""]);return o}function d(t){new n("question_"+t.qid,t)}},11:function(t,i,e){"use strict";e.d(i,"f",(function(){return d})),e.d(i,"g",(function(){return r})),e.d(i,"c",(function(){return c})),e.d(i,"e",(function(){return u})),e.d(i,"b",(function(){return p})),e.d(i,"h",(function(){return m})),e.d(i,"a",(function(){return f})),e.d(i,"d",(function(){return v}));var o=e(0),n=e(18),a=e(54),s=e(40),l=e.n(s);function d(t,i){if(isNotEmpty(globalData.quotaUtils.quotaUsageInfo)){var e=globalData.quotaUtils.quotaUsageInfo[t];if(isNotEmpty(e)){var o=0,n="pc"===globalData.platform?$("#question_"+t).find("select .option_cell:not(.option-hide)").length:$("#question_"+t).find("select option").length-1;Object.keys(e).forEach((function(n){var a=function(t){var i=window.appearanceData?window.appearanceData.language:"zh_CN";"en_US"===i&&t&&1===t&&(t={1:"one"}[t]);return t}(e[n].left),s=a<=0?__("quotaFull"):a>1?__("quotaSurplus").max.format([a]):__("quotaSurplus").min.format([a]),l={$question:$("#question_"+t),questionType:i,text:s,count:o,optionId:n,value:a};o="pc"===globalData.platform?function(t){var i=t.$question.find(".label_"+t.optionId);"dropdown"===t.questionType?(i=t.$question.find("#option_"+t.optionId)).attr("disabled-value",t.text):(i.siblings(".quota-num").remove(),i.after('<span class="quota-num">（'.concat(t.text,"）</span>")));"dropdown"===t.questionType?t.value<=0?(t.count++,i.attr("disabled","disabled").attr("disabled-value",t.text).prop("selected",!1).val("")):(t.count=0,i.attr("disabled",!1)):t.value<=0?(i.parents(".option_cell").addClass("disabled").find("input").removeAttr("checked").attr("disabled",!0),i.parents(".option_cell").find(".once-vote").text(__("quotaFull"))):i.parents(".option_cell").removeClass("disabled").find("input").attr("disabled",!1);return t.count}(l):function(t){var i=t.$question.find(".label_"+t.optionId),e=null;if("dropdown"===t.questionType){var o=(i=t.$question.find("option[value="+t.optionId+"]")).html().replace("（".concat(t.text,"）"),"");i.html("".concat(o,'<span class="quota-num">（').concat(t.text,"）</span>"))}else i.find(".quota-num").remove(),i.append('<span class="quota-num">('.concat(t.text,")</span>"));"dropdown"===t.questionType?t.value<=0?(t.count++,i.attr("disabled",!0)):(t.count=0,i.attr("disabled",!1)):(e=i.parents(".option_cell"),"image"===t.questionType&&(e=i.parents(".image-option")),t.value<=0?(e.attr("disabled",!0).find("input").attr("disabled",!0),i.parents(".option_cell").removeClass("checked"),i.parents(".option_cell").find(".once-vote").text(__("quotaFull"))):e.attr("disabled",!1).find("input").attr("disabled",!1));return t.count}(l)}));var a=o===n;return o===n&&"mobile"===globalData.platform&&"dropdown"===i?$("#question_"+t).find(".phone_select").addClass("disabled").find("select").attr("disabled","disabled").siblings(".placeholder_txt").addClass("placeholder").html("请选择"):$("#question_"+t).find(".phone_select").removeClass("disabled").find("select").attr("disabled",!1),a}}}function r(t,i){if(isNotEmpty(globalData.quotaUtils.quotaUsageInfo)){var e,o,n=null===(e=globalData)||void 0===e||null===(o=e.quotaUtils)||void 0===o?void 0:o.quotaUsageInfo[t];if(n&&n[i])if(n[i].left<=0)return!0}return!1}function c(t){if(isNotEmpty(t)){var i=t.total_answers;return i={total_answers:_(i,"continue")},isNotEmpty(t.answer_path)&&function(t){if(globalData.quotaUtils.firstQuotaId)for(var i=window.QUESTION_DICT[globalData.quotaUtils.firstQuotaId].questionpage_id,e=project.questionpage_id_list,o=l()(e),n=0;n<o.length;n++)if(i===o[n]){o.splice(n,o.length),t.answer_path=o;break}}(t),$.extend(t,i),Object(n.e)(project._id.$oid,t),Object(a.d)(project._id.$oid,t),t}}function _(t,i){if(isNotEmpty(t)){var e=l()(t),o=globalData.quotaUtils.quotaUsageInfo;!function(t,i){for(var e=project.questionpage_id_list,o=!0,n=function(){var e=project.questionpage_list[a].question_id_list;for(s=0;s<e.length&&(isNotEmpty(t[e[s]])&&isNotEmpty(i[e[s]])&&function(){var n=t[e[s]],a=i[e[s]];Object.keys(n).forEach((function(t){n[t].left<=0&&o&&Object.keys(a).forEach((function(i){var n=a[i];if("string"==typeof n&&n===t)n===t&&(globalData.quotaUtils.firstQuotaId=e[s],o=!1);else for(var l=0;l<n.length;l++)n[l]===t&&(globalData.quotaUtils.firstQuotaId=e[s],o=!1)}))}))}(),o);s++);if(!o)return"break"},a=0;a<e.length;a++){var s;if("break"===n())break}}(o,t);var n={},a=[];return Object.keys(o).sort().map((function(t){var s=o[t];a=[],Object.keys(s).sort().map((function(o){var n=s[o].left,l=e[t];if(n<=0&&l){for(var d=0;d<l.length;d++){var r=l[d];(r="string"==typeof r?r:r[0])===o&&(l.splice(d,1),a.push(o))}"continue"===i&&(isNotEmpty(l)?e[t]=l:delete e[t])}})),isNotEmpty(a)&&(n[t]=a)})),globalData.quotaUtils.questionIdList=n,"continue"===i?e:a}}function u(){var t=globalData.goodsUtils?globalData.goodsUtils.questionNeedPayment:"False",i=project.questionpage_id_list.indexOf(window.current_page_id);return!window.test_mode&&1!==globalData.quotaUtils.autoPost&&(!(!isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&"True"!==t||"1"!=window.nextPageQmodelList&&"2"!=window.nextPageQmodelList)||!("1"!=window.nextPageQmodelList&&"2"!=window.nextPageQmodelList&&i!=project.questionpage_id_list.length||window.loginType||"answer_square"!==window.urlParamsObj.urlFrom)&&(window.hide_begin_desc(),!0))}function p(){if(!isNotEmpty(globalData.quotaUtils.quotaUsageInfo))return!1;var t=$(".question:visible"),i=!0;return t.each((function(t,e){var n=$(e),a=n.attr("allow_null"),s=n.attr("questiontype");if("1"===a||!function(t){if(2==t||3==t)return!0;return!1}(s))return!0;var l=$(e).attr("disp-type"),d=n.attr("id").replace("question_",""),r=!1;"dropdown"===l||"multiple_dropdown"===l?"pc"===globalData.platform?n.find(".w-selection-header").hasClass("disabled")&&(r=!0):n.find(".phone_select").hasClass("disabled")&&(r=!0):n.find(".option:disabled").length===n.find(".option").length&&(r=!0),r&&("pc"===globalData.platform?n.find("#tip_"+d).html(__("questionQuota")):o.k.show($("#tip_"+d),__("questionQuota")),i&&scroll_to(n),i=!1)})),!i}function m(t,i){if(window.current_page_id=globalData.quotaUtils.quotaCurrentPageId,globalData.quotaUtils.quotaUsageInfo=t,function(t){var i=Object(n.b)(project._id.$oid,project,"quota");if(isNotEmpty(i)){i.total_answers=t;var e=c(i),a=e.total_answers,s=e.answer_scores;window.total_answers=a,s&&(window.question_score_map=s)}else _(t);project.questionpage_list.length>=1&&(Object.keys(globalData.quotaUtils.quotaUsageInfo).forEach((function(t){var i=window.QUESTION_DICT[t].custom_attr.disp_type,e="dropdown"===i||"multiple_dropdown"===i?"dropdown":"image_single"===i||"image_multiple"===i?"image":"",n=d(t,e)?"disabled":"";"dropdown"===e&&Object(o.L)($("#question_"+t),n)})),$("#next_button").text(globalData.quotaUtils.submitText))}(i),!function(t){for(var i=project.questionpage_list,e=project.questionpage_id_list,o=l()(e),n=i.length-1;n>0;n--)i[n].question_id_list<=0&&o.splice(n,1);if(o.length<=1)return!0;_(t);for(var a=globalData.quotaUtils.firstQuotaId,s=[],d=0;d<o.length;d++)if(o[d]===window.current_page_id){s=i[d].question_id_list;break}if(s.indexOf(a)>-1)return!0;return!1}(i)){var e=globalData.quotaUtils.firstQuotaId;if(e){var a=window.QUESTION_DICT[e].questionpage_id,s=window.answer_path.indexOf(a);if(s<=-1)return window.current_page_id=null,void(window.answer_path=[]);window.answer_path=window.answer_path.slice(0,s),window.current_page_id=0===s?null:window.answer_path[s-1]}else window.current_page_id=null,window.answer_path=[];window.hide_current_page(globalData.quotaUtils.quotaCurrentPageId),window.initRenderQuestionBox("selected_continue")}f(),window._hmt.push(["_trackEvent","/s","click","quota_submit_false"])}function f(){if(isNotEmpty(globalData.quotaUtils.quotaUsageInfo)){var t=globalData.quotaUtils.questionIdList,i=!0;for(var e in t){var n=$("#question_"+e);if("1"!==n.attr("allow_null")){var a=n.find(".option:disabled").length===n.find(".option").length?__("questionQuota"):__("optionQuota");"pc"===globalData.platform?n.find("#tip_"+e).html(a):o.k.show($("#tip_"+e),a),n.find("#tip_"+e).html(a).show(),i&&scroll_to($("#question_"+globalData.quotaUtils.firstQuotaId)),i=!1}}}}function v(t,i){if(function(){if(!isNotEmpty(globalData.quotaUtils.noAnswerQids))return;var t=window.current_page_id,i={},e=!1;for(var o in globalData.quotaUtils.noAnswerQids){if(o===t){e=!0;break}o==t||e||(i[o]=globalData.quotaUtils.noAnswerQids[o])}globalData.quotaUtils.noAnswerQids=i}(),"autoSubmit"===i){for(var e=l()(window.total_answers),o=window.current_page_id,n={},a=[],s=0;s<t.length;s++){var d=$(t[s]).attr("question-id"),r=window.QUESTION_DICT[d];(r.custom_attr?r.custom_attr.allow_null:"")||isNotEmpty(e[d])||a.push(d)}n[o]=a,isNotEmpty(a)&&$.extend(globalData.quotaUtils.noAnswerQids,n)}}},110:function(t,i,e){"use strict";e.d(i,"c",(function(){return n})),e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return l}));var o=e(32);function n(t){if("allow_null"in t.question.custom_attr)return!0;var i=$("#question_"+t.qid),e=$("#tip_"+t.qid),o=!0;return i.find("select[name=banked-cloze-select]").each((function(){var i=$(this);i.val()||(o=!1,"underscore"!=t.question.custom_attr.blank_style?i.next().find(".w-select-brackets").addClass("error"):i.addClass("empty"))})),o?(e.text(""),!0):(e.text(__("15")),scroll_to(i),!1)}function a(t){var i=$("#question_"+t.qid+" select[name=banked-cloze-select]"),e={};return i.each((function(){var t=$(this),i=t.val();if(isNotEmpty(i)){var o=t.data("oid");e[o+"_open"]=i}})),e}function s(t,i,e){var o=t.length;t.each((function(t,i){$(i).val()&&($(i).next().find(".w-select-input-txt").css("color","#2672FF"),$(i).next().find(".w-select-border")[0]&&$(i).next().find(".w-select-border").css("borderColor","#707070"),$(i).parent().find(".w-select-brackets")[0]&&$(i).parent().find(".w-select-brackets").removeClass("clozeok"))})),t.each((function(e,n){var a=$(n).parent().find(".choose");if(t.parent().find(".w-select-border").removeClass("select-next"),t.parent().find(".w-select-brackets").removeClass("select-next").css("color","#707070"),e>i||i===o){if(a[0])return a.parent().addClass("select-next"),!1}else e===o-1&&t.each((function(t,e){var o=$(e).parent().find(".choose");if(t<i&&o[0])return o.parent().addClass("select-next"),!1}))}))}function l(t){var i=t.qid;$((function(){var e=$("#question_"+i+" .w-select-bankedCloze"),n="border-question";"underscore"!=t.question.custom_attr.blank_style&&(n="border-brackets-question"),$("#question_"+i).on({click:function(){$(this).parent().find(".w-select-options-wrapper").show()}},".icon-banked-cloze");var a=e.find("select");e.each((function(){var t=$(this);t.find(".w-select-dom").remove(),window.Selector(t,n,(function(){var e=$(this.dom).find("select"),l=a.index(e);if(this.value&&e.hasClass("empty")){if(s(a,l),e.removeClass("empty"),"border-question"===n){var d=t.find(".w-select-dom");d.find(".icon-banked-cloze")&&d.find(".icon-banked-cloze").remove(),$('<span class="icon-banked-cloze"></span>').appendTo(d)}e.addClass("okoeve")}else if(this.value){if("border-question"===n){var r=t.find(".w-select-dom");r.find(".icon-banked-cloze")&&r.find(".icon-banked-cloze").remove(),$('<span class="icon-banked-cloze"></span>').appendTo(r)}e.addClass("okoeve"),s(a,l)}else e.next().find(".w-select-brackets").removeClass("error");Object(o.b)(i).changeAnswerHandler()}))})),e.on("focus",(function(){"border-question"===n?e.find(".w-select-border").removeClass("banked-cloze-click"):e.find(".w-select-brackets").removeClass("clozeok")}));var l=0,d=e.length;$(".banked-cloze-query span","#question_".concat(i)).on("click",(function(t,o){var a=$(this);e.each((function(t,o){var s=$(this),r=s.find("select").val();e.find(".w-select-border").removeClass("banked-cloze-click"),e.find(".w-select-brackets").removeClass("clozeok");var c=$(".select-next","#question_".concat(i))[0];if(c||!r){if(c&&(s=$(c).parent().parent()),window.Selector.changeSelectorValue({selector:s,value:a.data("id")}),"border-question"==n){var _=s.find(".w-select-dom");_.find(".icon-banked-cloze")&&_.find(".icon-banked-cloze").remove(),$('<span class="icon-banked-cloze"></span>').appendTo(_)}var u=s.offset().top;return $(window).scrollTop()>u&&$(window).scrollTop(u),l=0,!1}if(++l===d)return e.each((function(){var t=$(this);if(t.find("select").find("option:selected").val()===a.data("id")){if(t.find(".w-select-border").addClass("banked-cloze-click"),"border-question"===n){t.find(".icon-banked-cloze").remove();var i=t.find(".w-select-dom");$('<span class="icon-banked-cloze"></span>').appendTo(i)}else t.find(".w-select-brackets").addClass("clozeok");var e=t.offset().top;return $(window).scrollTop()>e&&$(window).scrollTop(e),!1}})),l=0,!1}))}))}))}},127:function(t,i,e){"use strict";e.d(i,"a",(function(){return r})),e.d(i,"b",(function(){return c}));var o=e(0),n=e(32),a=e(2),s=e(128);function l(t){var i,e,o={wrapClass:"share_vote_popup_wrap",btnWrapClass:"option_popup_btn",head:{inner:'<div class="share_vote_popup_title">'.concat(t.popupTitle||t.title,"</div>"),class:"share_vote_popup_title_wrap"},content:{inner:(i=t.url,e='<div class="share_vote_content"><p>链接分享</p><div class="link_url_wrap clearfix"><a class="btn_copy_link" data-url="'+i+'">复制链接</a><div class="link_url"><input value="'+i+'" readonly/></div></div><p>社交分享</p><div class="share_btn_wrapper"><a class="btn_share_vote btn_weixin" data-type="weixin" data-title="分享到微信"></a><a class="btn_share_vote btn_qq" data-type="qq" data-title="分享给QQ好友"></a><a class="btn_share_vote btn_weibo" data-type="weibo" data-title="分享到微博"></a></div></div>',e),class:"share_vote_popup_content"},isFixed:!0,showMask:!0,showCloseBtn:!0,maskClickClose:!0,onClose:function(){n.destroy()}},n=new Popup(o);n.show(),function(t,i){var e=t.find(".share_btn_wrapper>.btn_share_vote");t.find(".link_url_wrap>.btn_copy_link").click((function(){var t,e;t=i.url,(e=document.createElement("input")).value=t,e.position="absolute",e.zIndex="-1",e.left="-999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),window.Toast("复制成功"),document.body.removeChild(e)}));var o=new window.GuideText({maxWidth:162});e.on({mouseenter:function(t){var i=t||window.event,e=$(this).attr("data-title");$(this).attr("data_not_show_guide")||o.show(i.currentTarget,{inner:e,direction:"top"})},mouseleave:function(t){o.hidden()},click:function(t){o.hidden();var e=$(this),n=e.attr("data-type");"weixin"===n?function(t,i){if(i.attr("data_not_show_guide",!0),$("#vote_share_weixin_popup").length)return;var e='<div class="vote_share_weixin_wrap" id="vote_share_weixin_popup"><span class="icon_triangle"></span><img src="/images/get_matrix_img?survey_url='+t.url+'&box_size=5" width="150"><p>请打开微信扫一扫后分享</p></div>';i.append(e);var o=!0;$("body").on("click",(function(t){if(t=t||window.event,o&&t.target===i[0])o=!1;else{var e=i.find("#vote_share_weixin_popup")[0];e&&e!==t.target&&!$.contains(e,t.target)&&($(this).off(t),i.removeAttr("data_not_show_guide"),$("#vote_share_weixin_popup").remove())}}))}(i,e):"qq"===n?function(t){var i="//connect.qq.com/widget/shareqq/index.html?url="+encodeURIComponent(t.url)+"&title="+encodeURIComponent(t.title.substr(0,140))+"&source=&desc="+encodeURIComponent(t.description.substr(0,140))+"&pics="+t.imgUrl+"&summary=";window.open(i)}(i):"weibo"===n&&function(t){var i="";if("pullTicketShare"==t.shareType){var e=120-t.url.length;i="欢迎参与“".concat(t.title.substr(0,40)).concat(t.title.length>40?"...":"","”，请投[").concat(t.description.substr(0,e)).concat(t.description.length>e?"...":"","]！")}else{var o=140-t.url.length;i="欢迎参与“".concat(t.title.substr(0,o)).concat(t.title.length>o?"...":"","”")}var n="//service.weibo.com/share/share.php?url="+encodeURIComponent(t.url)+"&title="+encodeURIComponent(i)+"&pic="+t.imgUrl+"&appkey=2196501170";window.open(n)}(i)}})}($(".share_vote_popup_wrap"),t)}var d=e(11);function r(t,i,e){var n=Object(o.x)(t,i),s=delete_html_tag(n.title),d=n.custom_attr.description||"",r={wrapClass:"option_popup_wrap"+(e?" has_vote_btn":""),btnWrapClass:"option_popup_btn",head:{inner:'<div class="option_popup_title">'.concat(s,"</div>"),class:"option_popup_title_wrap"},content:{inner:'<div class="option_description">'.concat(d,"</div>"),class:"option_popup_content"},isFixed:!0,showMask:!0,showCloseBtn:!0,maskClickClose:!0,onClose:function(){u.destroy()}},_={btnAlign:"center",btnLeft:{inner:"为ta拉票",class:"btn_canvassing",onClick:function(){l({title:document.title,description:s,imgUrl:window.survey_share_pic_url,url:location.protocol+"//"+location.host+location.pathname+"?vote_on="+i,popupTitle:"分享投票——请投"+s,shareType:"pullTicketShare"}),u.destroy()}},btnRight:{inner:"投ta一票",class:"btn_vote",onClick:function(){c(t,i),u.destroy()}}};e&&$.extend(r,_);var u=new Popup(r);u.show();var p=Object(o.y)(t),m=Object(o.x)(t,i),f=p.question_type;Object(a.bb)(m,f)&&setTimeout((function(){Object(a.B)({type:"vote"})}),100),u.show(),$.fn.mCustomScrollbar&&$(".option_popup_wrap .popup_content").mCustomScrollbar({theme:"minimal-dark",scrollInertia:0,mouseWheel:{preventDefault:!0}})}function c(t,i){var e=Object(o.y)(t),l=Object(o.x)(t,i),d=e.question_type,r=function(t,i,e){var o={};i===window.QUESTION_TYPE_SINGLE?o[t]=[e]:i===window.QUESTION_TYPE_MULTIPLE&&(o[t]=[[e]]);return o}(t,d,i);(0,s.a[d])(Object(n.b)(t),r[t],{isNeedChangeAnswer:!0}),Object(a.bb)(l,d)&&$("#next_button").click()}window.showVoteOptionDescriptionPopup=r,window.showImageVoteDescriptionPopup=function(t,i,e,s){var r,_,u=Object(o.x)(t,i),p=delete_html_tag(u.title),m=u.custom_attr.description||"",f=u.custom_attr.images.src,v=Object(n.b)(t),h={wrapClass:"option_popup_wrap_new"+(e?" has_vote_btn":""),btnWrapClass:"option_popup_btn",content:{inner:'\n            <div class="left_big_img">\n                <img class="big_img" src="'.concat(f,'"/>\n            </div>\n            <div class="right_option_content">\n                <div class="option_popup_title">').concat(u.title,'</div>\n                <div class="option_description">').concat(m,'</div>\n                <div class="option_button_wrap">\n                    <button class="btn_canvassing">为ta拉票</button><button class="btn_vote">投票</button>\n                </div>\n            </div>\n            '),class:"option_popup_content"},isFixed:!0,showMask:!0,showCloseBtn:!0,maskClickClose:!0,onClose:function(){q.destroy()}},q=new Popup(h);q.show();var w=Object(o.y)(t),g=Object(o.x)(t,i),b=w.question_type;Object(a.bb)(g,b)&&setTimeout((function(){Object(a.B)({type:"vote"})}),100),$.fn.mCustomScrollbar&&$(".option_popup_wrap_new .popup_content").mCustomScrollbar({theme:"minimal-dark",scrollInertia:0,mouseWheel:{preventDefault:!0}}),f||$(".big_img").hide(),$(".big_img").load((function(){$(this).width()>880&&$(".option_popup_wrap_new .left_big_img").addClass("bigImg"),$(this).height()>614&&$(".option_popup_wrap_new .left_big_img").addClass("longImg")})),e&&1===(null==v||null===(r=v.question)||void 0===r||null===(_=r.custom_attr)||void 0===_?void 0:_.allow_share)||$(".btn_canvassing").hide(),$(".btn_canvassing").click((function(){l({title:document.title,description:p,imgUrl:window.survey_share_pic_url,url:location.protocol+"//"+location.host+location.pathname+"?vote_on="+i,popupTitle:"分享投票——请投"+p,shareType:"pullTicketShare"}),q.destroy()}));var x=$("#option_"+i);if(Object(d.g)(t,i))$(".btn_vote").html(__("quotaFull")).addClass("disabled");else if(s){var y=x.prop("checked")?"取消投票":"投票";$(".btn_vote").html(y),$(".btn_vote").click((function(){x.prop("checked")?x.prop("checked",!1):c(t,i),q.destroy()}))}else if(x.prop("checked")){$(".btn_vote").html("已投").addClass("disabled")}else $(".btn_vote").click((function(){c(t,i),q.destroy()}))}},130:function(t,i,e){"use strict";e.d(i,"a",(function(){return a})),e.d(i,"b",(function(){return s}));var o=e(40),n=e.n(o);function a(t){var i,e={pageList:[]},o=t.question_relation_list,a=t.questionpage_list,s=t.custom_attr,l=n()(a)||[];return l&&l.forEach((function(t){t.question_list.forEach((function(t){delete t.updated,delete t.title,delete t.num,t.option_list&&t.option_list.forEach((function(t){delete t.updated})),t.extra_option_list&&t.extra_option_list.forEach((function(t){delete t.updated})),t.matrixrow_list&&t.matrixrow_list.forEach((function(t){delete t.updated}))})),e.pageList.push(t.question_list)})),(null==s||null===(i=s.private)||void 0===i?void 0:i.publish_times)&&delete s.private.publish_times,(null==s?void 0:s.req_unique_id)&&delete s.req_unique_id,e.relationList=o,e.customAttr=s,e}function s(t){console.time("【断点续答】哈希算法耗时");var i=0;if(0===t.length)return i;if(window.hex_md5)i=window.hex_md5(t);else for(var e=0;e<t.length;e++){i=(i<<5)-i+t.charCodeAt(e),i&=i}return console.timeEnd("【断点续答】哈希算法耗时"),i}},131:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"a",(function(){return l}));var o=e(2),n=e(0),a=e(8);function s(t){var i="question_"+t.qid,e=$("#"+i),s=$("#tip_"+t.qid),l=!0;return e.find(".option").each((function(){var i=$(this),e=$.trim(i.val()),s=i.closest("div.wjques").find("span.option_tip"),d=this.id.replace("option_",""),r=Object(n.x)(t.qid,d),c=!0;if(Object(o.X)(e))s.text(__("120")),c=!1;else if(isNotEmpty(e)){if("char_count_limit"in r.custom_attr){var _=r.custom_attr.char_count;e.length>parseInt(_)?(t.show_option_msg(this.id,__("96").format([e.length-parseInt(_)])),c=!1):t.clear_option_msg(this.id)}if("checkmethod"in r.custom_attr){var u=r.custom_attr.checkmethod;if(isNotEmpty(u))a.b.get_method(u)(e)||(s.text(a.b.get_err_msg(u)),c=!1)}}else"allow_null"in t.question.custom_attr||"allow_null"in r.custom_attr?s.text(""):(s.text(__("3")),c=!1);if(!c)return l=!1,i.parents(".ipt-wrap").addClass("invalid"),!1;i.parents(".ipt-wrap").removeClass("invalid"),s.text("")})),l?(s.text(""),!0):(s.text(__("15")),scroll_to(e),!1)}function l(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".option").each((function(){var t=this.id.replace("option_","");if(isNotEmpty($(this).val())){var i=$(this).val();o[t+"_open"]=$.trim(i)}})),o}},168:function(t,i,e){"use strict";e.d(i,"a",(function(){return n}));var o=e(56);function n(t){var i=t.qid;$("#question_"+i).on("click","img[data-mathml]",(function(){var t=$(this),i=t.attr("src").split("?")[0];o.a.showImg(t,i)}))}},169:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var o=["age","educational","career","marital_status","household_income","mobile_brand"],n={age:{en_name:"age",cn_name:"年龄",option_list:["unlimit_20","21_30","31_40","41_45","46_unlimit"],left_option_list:["unlimit","21","31","41","46"],right_option_list:["20","30","40","45","unlimit"],unlimit_unlimit:{rmb:0},unlimit_20:{cn_name:"20岁以下",rmb:10},"21_30":{cn_name:"21-30岁",rmb:2},"31_40":{cn_name:"31-40岁",rmb:4},"41_45":{cn_name:"41-45岁",rmb:6},"46_unlimit":{cn_name:"46岁以上",rmb:10}},educational:{en_name:"educational",cn_name:"学历",option_list:["junior_school","senior_school","junior_college","undergraduate_degree","master_degree","doctor_degree"],junior_school:{cn_name:"初中及以下",rmb:10},senior_school:{cn_name:"高中/中专/技校",rmb:8},junior_college:{cn_name:"大专及以上",rmb:6},undergraduate_degree:{cn_name:"本科/学士及以上",rmb:6},master_degree:{cn_name:"硕士/研究生",rmb:8},doctor_degree:{cn_name:"博士",rmb:15}},career:{en_name:"career",cn_name:"职业",option_list:["student","company_employer","civil_servants","service_industry_employer","freelance","unemployed","retirement","housewife"],student:{cn_name:"学生",rmb:5},company_employer:{cn_name:"公司职员",rmb:4},civil_servants:{cn_name:"公务员/事业单位员工",rmb:8},service_industry_employer:{cn_name:"服务行业员工",rmb:5},freelance:{cn_name:"私营业主/自由职业者",rmb:10},unemployed:{cn_name:"待业",rmb:5},retirement:{cn_name:"退休",rmb:10},housewife:{cn_name:"居家",rmb:6}},marital_status:{en_name:"marital_status",cn_name:"婚姻状况",option_list:["married","unmarried","divorced","widowed"],married:{cn_name:"已婚",rmb:3},unmarried:{cn_name:"未婚",rmb:3},divorced:{cn_name:"离异",rmb:6},widowed:{cn_name:"丧偶",rmb:8}},household_income:{en_name:"household_income",cn_name:"家庭月收入",option_list:["lte_4000","4001_8000","8001_15000","15001_20000","gte_20001"],lte_4000:{cn_name:"4000元及以下",rmb:6},"4001_8000":{cn_name:"4001-8000元",rmb:5},"8001_15000":{cn_name:"8001-15000元",rmb:4},"15001_20000":{cn_name:"15001-20000元",rmb:4},gte_20001:{cn_name:"20001元及以上",rmb:6}},mobile_brand:{en_name:"mobile_brand",cn_name:"手机品牌",option_list:["huawei","oppo","apple","vivo","xiaomi","samsung","meizu","gionee","letv","coolpad","lenovo","honor","nubia"],huawei:{cn_name:"华为",rmb:5},oppo:{cn_name:"oppo",rmb:5},apple:{cn_name:"苹果",rmb:4},vivo:{cn_name:"vivo",rmb:5},xiaomi:{cn_name:"小米",rmb:5},samsung:{cn_name:"三星",rmb:4},meizu:{cn_name:"魅族",rmb:5},gionee:{cn_name:"金立",rmb:5},letv:{cn_name:"乐视",rmb:6},coolpad:{cn_name:"酷派",rmb:6},lenovo:{cn_name:"联想",rmb:6},honor:{cn_name:"荣耀",rmb:6},nubia:{cn_name:"努比亚",rmb:6}}};function a(t){if("sex"===t)return'\n    <div class="wjques maxtop v_question">\n        <div class="title">你的性别是？</div>\n        <div class="matrix">\n            <div class="icheckbox_div" style="">\n                <input type="radio" name="sex" value="male" id="sex_male" class="option">\n                <label for="sex_male" class="option_label" style="cursor: pointer;">男</label>\n            </div>\n            <div class="icheckbox_div" style="">\n                <input type="radio" name="sex" value="female" id="sex_female" class="option">\n                <label for="sex_female" class="option_label" style="cursor: pointer;">女</label>\n                </div>\n        </div>\n    </div>';if(-1!=$.inArray(t,o)){var i=$('\n    <div class="wjques maxtop v_question jqtransformdone">\n        <div class="title">你的出生年份是？</div>\n        <div class="matrix">\n            <select class="matrix_sel" name="age">\n                <option value="">--请选择一个选项--</option>\n            </select>\n        </div>\n    </div>'),e=n[t],a=e.cn_name,s="";if("age"==t){a="出生年份";for(var l=new Date,d=1949;d<=l.getFullYear();d++)s+='<option value="'+d+'">'+d+"</option>"}else for(var r=e.option_list,c=0;c<r.length;c++){var _=r[c];s+='<option value="'+_+'">'+e[_].cn_name+"</option>"}return i.find(".title").text("您的"+a+"是？"),i.find("select").attr("name",t).append(s),i}return""}window.captchaLSM=function(t){$("#survey_page, .footer_mini").hide(),$(".lsm_bg,.lsm_bg .l-captcha").show(),window.show_vcode=!1,window.lsmCbFinishStatus=t,window.uploadFunc=window.upload_answer},window.captchaChiChar=function(t){var i=Object;i.title="验证码";var e='\n        <div class="popup_submit_validation">\n            <div class="text">\n                <input type="text" placeholder="请输入验证码" />\n                <img id="vcode_image" src="/get_vcode/'.concat(project.short_id,"?m=").concat(Math.random(),'"/>\n            </div>\n            <p class="error"></p>\n        </div>');i.content=e,i.obj=function(){var i=$(".popup_submit_validation"),e=i.find("input"),o=i.find(".error");if(""==e.val())return e.focus(),o.html("验证码不能为空"),!1;var n=!1;return syncPost("/get_vcode/"+project.short_id+"/",{vcode:e.val()},(function(i){i.is_valid?(window.show_vcode=!1,$("#survey_page").show(),$(".footer_mini").show(),window.upload_answer(t,{vcode:e.val()})):(o.html("验证码有误, 请重新输入"),n=!0)})),!n&&void 0},i.conw=340,$("#survey_page").hide(),$(".footer_mini").hide(),jsAlert(i),$("#vcode_image").click((function(){$(this).attr("src","/get_vcode/"+project.short_id+"?m="+Math.random())}))},window.captchaGeeTest=function(t){$("#survey_page, .footer_mini").hide(),window.gt_captcha_obj.appendTo("#gt"),$("#gt").show(),window.gt_captcha_obj.onSuccess((function(){var i=window.gt_captcha_obj.getValidate();isNotEmpty(i)?($("#gt").hide(),window.show_vcode=!1,$("#survey_page").show(),$(".footer_mini").show(),window.upload_answer(t,i)):alert("验证码错误!")}))}},18:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getHistoryDataByPid})),__webpack_require__.d(__webpack_exports__,"g",(function(){return setHistoryDataByPid})),__webpack_require__.d(__webpack_exports__,"e",(function(){return saveAnswerHistoryData})),__webpack_require__.d(__webpack_exports__,"f",(function(){return saveNewAnswerHistoryData})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getAnswerHistoryData})),__webpack_require__.d(__webpack_exports__,"d",(function(){return saveAnswerHistoryByAction})),__webpack_require__.d(__webpack_exports__,"a",(function(){return continuableAnswer}));var _storage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_survey_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_log_loghub_tracking__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_log_loghub_tracking__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_log_loghub_tracking__WEBPACK_IMPORTED_MODULE_2__),_quota_setting__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_survey_hash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(130),_survey_tools__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_utils_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3);function _extends(){return(_extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function asyncGeneratorStep(t,i,e,o,n,a,s){try{var l=t[a](s),d=l.value}catch(t){return void e(t)}l.done?i(d):Promise.resolve(d).then(o,n)}function _asyncToGenerator(t){return function(){var i=this,e=arguments;return new Promise((function(o,n){var a=t.apply(i,e);function s(t){asyncGeneratorStep(a,o,n,s,l,"next",t)}function l(t){asyncGeneratorStep(a,o,n,s,l,"throw",t)}s(void 0)}))}}window.globalData=window.globalData||{},window.globalData.showLuckDraw=!1,window.globalData.isContinueAnswerBtn=!1,window.globalData.isResetBtn=!1;var MAX_HISTORY_COUNT=10,SAVE_DURATION=2592e6,ANSWER_HISTORY_ARRAY="answer_history_array",ANSWER_HISTORY_DATA_="answer_history_data_";function getHistoryDataByPid(t,i){var e=(_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY)||[]).filter((function(i){return i.pid===t}));return e.length>0?i?e[0][i]:e[0]:null}function setHistoryDataByPid(t,i,e){var o=_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY)||[],n=!1;o.forEach((function(o){o.pid===t&&(n=!0,o[i]=e)})),n&&_storage__WEBPACK_IMPORTED_MODULE_0__.d(ANSWER_HISTORY_ARRAY,o)}function isUseContinuable(t,i){var e=getHistoryDataByPid(t,"hash"),o=Object(_survey_hash__WEBPACK_IMPORTED_MODULE_4__.a)(i),n=Object(_survey_hash__WEBPACK_IMPORTED_MODULE_4__.b)(JSON.stringify(o));return e&&e===n}function removeExpiredAnswerData(){var t=_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY);if(t){var i=[],e=window.timestr&&window.timestr.replace(/-/g,"/"),o=e?new Date(e):new Date;t.forEach((function(t){var e=t.first_open;e&&"string"==typeof e&&(e=t.first_open.replace(/-/g,"/")),e&&o-new Date(e)<SAVE_DURATION?i.push(t):_storage__WEBPACK_IMPORTED_MODULE_0__.c(ANSWER_HISTORY_DATA_+t.pid)})),_storage__WEBPACK_IMPORTED_MODULE_0__.d(ANSWER_HISTORY_ARRAY,i)}}function saveAnswerHistoryData(t,i,e){!e&&harmonyAnswerCustom(t,i),_storage__WEBPACK_IMPORTED_MODULE_0__.d(ANSWER_HISTORY_DATA_+t,i)}function saveNewAnswerHistoryData(t,i){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];removeHistoryByPid(t);var o=Object(_survey_hash__WEBPACK_IMPORTED_MODULE_4__.a)(i),n={pid:t,hash:Object(_survey_hash__WEBPACK_IMPORTED_MODULE_4__.b)(JSON.stringify(o)),first_open:window.timestr},a=_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY)||[];a.unshift(n),a=a.splice(0,MAX_HISTORY_COUNT),_storage__WEBPACK_IMPORTED_MODULE_0__.d(ANSWER_HISTORY_ARRAY,a),clearExpiredHistory(),e&&sessionStorage.removeItem("question_checked_privacy_policy_answer")}function clearExpiredHistory(){var t=(_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY)||[]).map((function(t){return t.pid}))||[];_storage__WEBPACK_IMPORTED_MODULE_0__.a((function(i,e){if(0===i.indexOf(ANSWER_HISTORY_DATA_)){var o=i.split(ANSWER_HISTORY_DATA_)[1];-1===t.indexOf(o)&&_storage__WEBPACK_IMPORTED_MODULE_0__.c(i)}}))}function removeHistoryByPid(t){_storage__WEBPACK_IMPORTED_MODULE_0__.c(ANSWER_HISTORY_DATA_+t);var i=_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_ARRAY)||[];i=i.filter((function(i){return i.pid!==t})),_storage__WEBPACK_IMPORTED_MODULE_0__.d(ANSWER_HISTORY_ARRAY,i)}function getAnswerHistoryData(t,i,e){return _getAnswerHistoryData.apply(this,arguments)}function _getAnswerHistoryData(){return(_getAnswerHistoryData=_asyncToGenerator(regeneratorRuntime.mark((function t(i,e,o){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,(isUseContinuable(i,e)||"quota"===o)&&(n=_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_DATA_+i)),t.next=4,setHarmonyAnswerDataToWeb();case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0=n;case 7:return a=t.t0,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function saveAnswerHistoryByAction(t,i,e){switch(t){case"answer_change":case"next_page":saveAnswerHistoryData(i,e);break;case"survey_submit_success":removeHistoryByPid(i)}}function continuableAnswer(){return _continuableAnswer.apply(this,arguments)}function _continuableAnswer(){return(_continuableAnswer=_asyncToGenerator(regeneratorRuntime.mark((function t(){var i,e,o,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return removeExpiredAnswerData(o=project._id.$oid),t.next=4,getAnswerHistoryData(o,project);case 4:n=t.sent,a=0!==project.custom_attr.continue_answer,isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&isNotEmpty(n)&&(n=Object(_quota_setting__WEBPACK_IMPORTED_MODULE_3__.c)(n)),a&&n&&isNotEmpty(null===(i=n)||void 0===i?void 0:i.total_answers)&&void 0!==(null===(e=n)||void 0===e?void 0:e.answer_path)?showContinueAnswerDom({el:$("body"),continueAnswer:continueAnswerHandler,resetAnswer:resetAnswerHandler,answerHistoryData:n}):(saveNewAnswerHistoryData(o,project),window.initRenderQuestionBox());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function continueAnswerHandler(t,i){_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom1",3),_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom2",3);var e=i.total_answers,o=i.answer_scores,n=i.answer_path;window.current_page_id=n[n.length-1],window.answer_path=n,window.total_answers=e,o&&(window.question_score_map=o),window.globalData.currentOpenTime=(new Date).getTime(),window.globalData.hasUsedContinueAnswer=!0,window.initRenderQuestionBox("selected_continue")}function resetAnswerHandler(t,i){_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom1",2),_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom2",2),window.globalData.currentOpenTime=(new Date).getTime(),window.globalData.hasUsedContinueAnswer=!0,saveNewAnswerHistoryData(t,i),window.initRenderQuestionBox("selected_reset")}function showContinueAnswerDom(t){var i=t.el,e=t.continueAnswer,o=t.resetAnswer,n=t.answerHistoryData,a=getQuestionAnswerCount(n.total_answers),s=window.globalData.platform;window.globalData.showLuckDraw=1==window.globalData.showAdInContinueAnswer&&Object(_survey_utils__WEBPACK_IMPORTED_MODULE_1__.G)()&&!document.URL.match("share_device=wxwork")&&!document.URL.match("share_device=dingding")&&!document.URL.match("share_device=baiying")&&!Object(_utils_utils__WEBPACK_IMPORTED_MODULE_6__.b)().isHarmony&&!Object(_utils_utils__WEBPACK_IMPORTED_MODULE_6__.b)().isTencentWemeet;var l=window.project._id.$oid,d=window.project.short_id,r=window.globalData.sceneType,c=window.globalData.creatorId,_=window.delete_html_tag(window.project.title).substring(0,100),u=""+'<div id="continue-anwser-bg">\n            <div class="continue-anwser-wrapper">\n                <div class="continue-tip-pic"></div>\n                <div class="continue-tip-title">您之前已经回答了'.concat(a,"题").concat("pc"===s?"，":"<br/>",'是否继续上次回答？</div>\n                <div class="continue-btn-wrap">\n                    <div class="btn-default continue-answer">').concat(__("111"),'</div>\n                    <div class="btn-default reset-answer">').concat(__("110"),'</div>\n                </div>\n                <div class="luck-draw-wrapper').concat(window.globalData.showLuckDraw?" show":"",'">\n                    <a class="luck-draw-btn" href="/display/dc/?project_id=').concat(l,"&short_id=").concat(d,"&p_type=").concat(r,"&source=lookback_keepanswering&creator_id=").concat(c,"&title=").concat(_,'">抽取奖品</a>\n                    <p>等会来填，直接抵达奖品现场</p>\n                </div>\n            </div>\n        </div>');i.append(u),sendLogOfContinueAnswerPopup("display_page");var p="".concat(window.globalData.platform,"_breakpoint_page_").concat(window.globalData.showLuckDraw?"new":"old");window._hmt.push(["_trackEvent","/s","show",p]),i.find(".reset-answer").click((function(){window.globalData.isResetBtn=!0,sendLogOfContinueAnswerPopup("click_btn",{btn_name:"btn_reset_answer"});var t="".concat(window.globalData.platform,"_breakpoint_restart_").concat(window.globalData.showLuckDraw?"new":"old");window._hmt.push(["_trackEvent","/s","click",t]),$("#continue-anwser-bg").remove();var i=project._id.$oid;o(i,project),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.Gb)(!0),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.ub)(),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.P)()?$("#contactUsWrap").show():setTimeout(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.mb)})),i.find(".continue-answer").click((function(){window.globalData.isContinueAnswerBtn=!0,sendLogOfContinueAnswerPopup("click_btn",{btn_name:"btn_continue_answer"});var t="".concat(window.globalData.platform,"_continue_to_answer_").concat(window.globalData.showLuckDraw?"new":"old");window._hmt.push(["_trackEvent","/s","click",t]),$("#continue-anwser-bg").remove(),e(project,n),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.Gb)(),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.qb)(),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.rb)(),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.Eb)(),Object(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.P)()?$("#contactUsWrap").show():setTimeout(_survey_tools__WEBPACK_IMPORTED_MODULE_5__.mb)}))}function getQuestionAnswerCount(t){return Object.keys(t).length}function sendLogOfContinueAnswerPopup(t,i){_log_loghub_tracking__WEBPACK_IMPORTED_MODULE_2___default.a.push("continue_answer_page",_extends({projectid:window.project._id.$oid,platform:"pf-"+window.globalData.platform,sceneType:"st-"+window.globalData.sceneType,event:t},i))}function getHarmonyAnswerDataToApp(){var t=Object(_survey_utils__WEBPACK_IMPORTED_MODULE_1__.a)().harmony,i=null,e=window.project._id.$oid;return"harmonyAnswer"===t&&(i=JSON.stringify(_storage__WEBPACK_IMPORTED_MODULE_0__.b(ANSWER_HISTORY_DATA_+e))),i}function setHarmonyAnswerDataToWeb(){return _setHarmonyAnswerDataToWeb.apply(this,arguments)}function _setHarmonyAnswerDataToWeb(){return _setHarmonyAnswerDataToWeb=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var harmony,answerData,pid,data;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(harmony=Object(_survey_utils__WEBPACK_IMPORTED_MODULE_1__.a)().harmony,answerData=null,pid=window.project._id.$oid,"harmonyAnswer"!==harmony){_context3.next=16;break}if(_context3.prev=4,!window.getHarmonyAnswerDataFromApp||!window.getHarmonyAnswerDataFromApp.call){_context3.next=12;break}return _context3.next=8,window.getHarmonyAnswerDataFromApp.call("message from web");case 8:data=_context3.sent,answerData=JSON.parse(data),answerData="string"==typeof answerData?eval("("+answerData+")"):answerData,saveAnswerHistoryData(pid,answerData,1);case 12:_context3.next=16;break;case 14:_context3.prev=14,_context3.t0=_context3.catch(4);case 16:return _context3.abrupt("return",answerData);case 17:case"end":return _context3.stop()}}),_callee3,null,[[4,14]])}))),_setHarmonyAnswerDataToWeb.apply(this,arguments)}function harmonyAnswerCustom(t,i){if("harmonyAnswer"===Object(_survey_utils__WEBPACK_IMPORTED_MODULE_1__.a)().harmony)try{if("60bc42424400f20b0e8c2d12"!==t)return;var e=JSON.stringify(i),o=-1!==e.indexOf("60bc942680ad91d929932f57"),n=-1!==e.indexOf("60bc94a1b5ce87d26e41e942"),a=!1;o?_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom1",1):_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom1",0),n?(a=1!==_storage__WEBPACK_IMPORTED_MODULE_0__.b("harmonyAnswerCustom2")&&3!==_storage__WEBPACK_IMPORTED_MODULE_0__.b("harmonyAnswerCustom2"),_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom2",1)):_storage__WEBPACK_IMPORTED_MODULE_0__.d("harmonyAnswerCustom2",0),a&&window.harmonyAnswerCustomToApp&&window.harmonyAnswerCustomToApp.call&&window.harmonyAnswerCustomToApp.call("message to app")}catch(t){}}window.getHarmonyAnswerDataToApp=getHarmonyAnswerDataToApp},188:function(t,i,e){e(137),e(138),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(139),e(196),e(197),e(140),e(198),e(141),e(199),e(200),e(142),e(201),e(228),e(294),e(295),e(187),e(229),e(296),e(297),e(143),e(132),e(144),e(202),e(145),e(146),e(147),e(148),e(149),e(203),e(150)},224:function(t,i,e){e(137),e(138),e(225),e(140),e(139),e(141),e(142),e(149),e(146),e(147),e(148),e(145),e(226),e(132),e(186),e(496),e(497),e(228),e(229),e(132),e(186),e(143),e(144),e(150)},28:function(t,i,e){"use strict";var o=e(64),n=e.n(o),a=e(156),s=e(20),l=e.n(s),d=e(129),r=e(3),c=e(29),_=e(4),u=e(7);function p(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,o)}return e}function m(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(){return(v=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function h(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var q="miniappcard",w="custom_miniappcard",g=(window.location.host,"//dc.wenjuan.com");"1"==(Object(r.g)("img_ad_flag")||0)&&(g="//dctest.wenjuan.com");var b=new(function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._config={platform:i.platform,sceneType:i.sceneType,membertype:i.memberType,creatorId:i.creatorId,shortId:i.shortId,registerChannel:i.registerChannel,dcFlowRate:i.dc_flow_rate,dcLabelDomain:"//label.wenjuan.com"},this.siteSeq=null,$("body").attr("page-name")||this.getCreatorLevelAndLabel()}var i,e,o;return i=t,(e=[{key:"getCreatorLevelAndLabel",value:function(){var t=this,i={creator_id:this._config.creatorId,short_id:this._config.shortId};return new n.a((function(e,o){i.creator_id&&i.short_id?(console.log("dcLabelDomain",t._config.dcLabelDomain),$.ajax({url:"".concat(t._config.dcLabelDomain,"/api/v1/label/wj/project/user_label"),type:"POST",timeout:1e3,data:JSON.stringify(i),dataType:"JSON",contentType:"application/json",success:function(i){if(1===i.status_code){var o=i.data;v(window.globalData,{creatorLevel:o.creator_level,labelList:t.formatterLabel(o.wj_labels),wjLabels:o.wj_labels,devicePrice:o.device_price}),e("success")}},error:function(t){e("timeout")}})):e("success")}))}},{key:"formatterLabel",value:function(t){var i={};return t.map((function(t){i["label_".concat(t.id)]=encodeURIComponent(t.name)})),i}},{key:"luck_draw_flow_distribution",value:function(t){var i=this;0!==t.accessStatus?window._track&&window._track({type:"register",callback:function(){i.distributionHander(t)}}):this.distributionHander(t)}},{key:"distributionHander",value:function(t){if(!this.isNeedLuckAd())return $("#end_page").addClass("new-wj-luck-draw").find(".enc_desc_wrap").show(),void("assess"===globalData.sceneType&&Object(c.a)());if(this.isInsetMiniApp(t.position)&&-1===["leave_tip_luck_direct","popup_normal","popup_abnormal"].indexOf(t.position)&&($(".leave-tip-luck-wrapper .end_create_btn").remove(),t.position=this.getMiniAppPosition()),this.useDCAd(t.position,t.sceneType,this._config.dcFlowRate)){var i=$.extend({},window.globalData,t);this.luck_draw_flow_distribution_dc_of_template(i)}else this.luck_draw_flow_distribution_d1(t)}},{key:"isNeedLuckAd",value:function(){return!(document.URL.match("fromMiniApp")||document.URL.match("share_device=wxwork")||document.URL.match("share_device=dingding")||document.URL.match("share_device=baiying")||Object(r.b)().isHarmony||Object(r.b)().isTencentWemeet||(window.globalData&&"feishu_mini_app"===window.globalData.createClient&&document.URL.match("fs=1")?($(".end_create_btn").remove(),1):-1!==navigator.userAgent.indexOf("Lark/")))}},{key:"isInsetMiniApp",value:function(t){var i=Object(r.g)("position"),e=Object(r.g)("position",document.referrer);return Object(r.g)(q)||Object(r.g)(q,document.referrer)||-1!==[q,w].indexOf(i)||-1!==[q,w].indexOf(e)||-1!==[q,w].indexOf(t)}},{key:"getMiniAppPosition",value:function(){var t=Object(r.g)("position"),i=Object(r.g)("position",document.referrer);return-1!==[q,w].indexOf(t)?t:-1!==[q,w].indexOf(i)?i:Object(r.g)(q)||Object(r.g)(q,document.referrer)?q:void 0}},{key:"useDCAd",value:function(t,i,e){var o=this.getDCSiteSeqByPositionAndScene(t,i),n=parseInt(e)||0;1===o&&100*Math.random()<30&&(this.siteSeq=10);var a=-1!==[9,10,11].indexOf(o)||100*Math.random()<n||!this.getCByPositionAndScene(t,i);return-1!==["leave_tip_luck_direct","popup_normal","popup_abnormal"].indexOf(t)&&(a=!0),a}},{key:"luck_draw_flow_distribution_d1",value:function(t){var i=this;$("#end_page").addClass("new-wj-luck-draw").find(".enc_desc_wrap").show(),"assess"===globalData.sceneType&&Object(c.a)();var e=t.invalideAnswer;"invalid_answer_ip"!==t.position&&"invalid_answer_region"!==t.position||(e=3);var o={selector:"#wj_luck_draw",short_id:"object"===("undefined"==typeof project?"undefined":f(project))?window.project.short_id:"",platform:"",position:"",invalideAnswer:e};$.extend(o,t);try{var n=$("body").attr("btn_style"),a={z:"wenjuan",c:this.getCByPositionAndScene(o.position,t.sceneType),op:1,_sp:3,_site:1,_wj_ad_position:o.position,_end_create_btn:n,_ad:n,_title:encodeURI(document.title),_wj_short_id:o.short_id,_keywords:window.wj_ad_keywords||"",_browser_id:u.b("browser_id")};o.invalideAnswer&&(a._invalide_answer=o.invalideAnswer),this.isAnswerFinishNormal(o.position)&&window.super_account&&(a._user_type=1===Number(window.super_account)?"senior":"normal",l.a.push("luck_ad",{projectid:window.project?window.project._id.$oid:"",request_method:"get",userType:"ut-"+a._user_type,sceneType:"st-"+window.globalData.sceneType}),window._hmt.push(["_trackEvent","/s/","show","luck_ad_"+a._user_type+"_"+window.globalData.sceneType]));var s="https://d1.wenjuan.link/s?"+Object(r.q)(a),d=$(o.selector),_={pc:{width:"800",height:"425",margin:"0 -106px"},mobile:{width:$(window).width()-20,height:"400",margin:"0 -10px"}};this.recordAdDataStatistics(o.short_id,o.position),d.html('<iframe id="wj_luck_draw_iframe" src="'+s+'" frameborder="0" scrolling="no" width="'+_[o.platform].width+'" height="'+_[o.platform].height+'" style="margin:'+_[o.platform].margin+';"></iframe>').show(),document.getElementById("wj_luck_draw_iframe").onload=function(){if(i.isAnswerFinishNormal(o.position)&&window.super_account){var t=1===Number(window.super_account)?"senior":"normal";l.a.push("luck_ad",{projectid:window.project?window.project._id.$oid:"",request_method:"reponse",userType:"ut-"+t,sceneType:"st-"+window.globalData.sceneType}),window._hmt.push(["_trackEvent","/s/","display","luck_ad_"+t+"_"+window.globalData.sceneType])}}}catch(t){console.log("luck_draw_ad",t)}}},{key:"isAnswerFinishNormal",value:function(t){var i=!1;return["answer_finish_","answer_filter_","not_draw_envelope","check_points_fail","leave_tip_luck_direct"].forEach((function(e){-1===t.indexOf(e)||(i=!0)})),i}},{key:"getDCSiteSeqByPositionAndScene",value:function(t,i){var e={survey:1,form:2,assess:3,vote_scene:4,satis:5,default:8},o=3===e[i]?18:"",n=t===q?11:this.getAbnormalProjectStatus(t)||o||e[i]||e.default;return console.log("getDCSiteSeqByPositionAndScene",t,i,n),n}},{key:"getAbnormalProjectStatus",value:function(t){return{project_finished:6,project_paused:6,project_delete:6,project_limit_word:6,time_not_start:6,not_suited_fill:6,not_suited_fill_region:6,visible_author_only:6,visible_author_only_login:6,access_parameters_incorrect:6,commonUserDidnotGetEnvelope:6,invalid_custom_source_link:6,not_permission_participate:6,project_not_exist:6,answer_repeat:7,answer_repeat_ip:7,project_email_answer_only:7,invalid_answer_ip:7,invalid_answer_region:7,survey_link_invalid:7,form_link_invalid:7,assess_link_invalid:7,link_invalid:7,survey_has_update:7,form_has_update:7,assess_has_update:7,answer_repeat_exceeded_limit:7,answer_repeat_ip_exceeded_limit:7,project_bottom_close:9,leave_tip_luck:9,miniappcard:11,custom_miniappcard:11,lookback_answer:22}[t]}},{key:"getCByPositionAndScene",value:function(t,i){var e=this.isAnswerFinishNormal(t)?{survey:109,vote_scene:184,form:186,assess:188,satis:213}[i]:{assess_link_invalid:108,assess_has_update:108,access_parameters_incorrect:108,form_has_update:108,form_link_invalid:108,invalid_custom_source_link:108,link_invalid:108,not_permission_participate:108,project_delete:108,project_email_answer_only:108,project_finished:108,project_limit_word:108,project_not_exist:108,project_paused:108,survey_has_update:108,survey_link_invalid:108,time_not_start:108,visible_author_only:108,visible_author_only_login:108,answer_repeat:180,answer_repeat_exceeded_limit:180,answer_repeat_ip:180,answer_repeat_ip_exceeded_limit:180,lookback_answer:180}[t];return console.log("getCByPositionAndScene",t,i,e),e}},{key:"recordAdDataStatistics",value:function(t,i){window._hmt&&window._hmt.push(["_trackPageview","/s/record_ad_data_statistics"]),window._hawkeye&&window._hawkeye.push(["buttonclick","/s/record_ad_data_statistics"]);var e="browser_id="+u.b("browser_id")+"&shord_id="+t+"&ad_position="+i,o=new XMLHttpRequest;o.open("get","https://hawkeye.wenjuan.com/adlog?"+e,!0),o.send(null)}},{key:"getProjectShortId",value:function(){var t=/^\/s\/([a-zA-Z0-9]+)\/?/,i=document.location.pathname;return t.test(i)?i.match(t)[1]:""}},{key:"handleEndPageDomActionBeforeDcReq",value:function(t){if(-1===["leave_tip_luck_direct","leave_tip_luck","popup_normal","popup_abnormal"].indexOf(t.position))if("mobile"!==window.globalData.platform||"assess"!=window.globalData.sceneType||$("body[page-name~=_info_], body[page-name=pro-ban], body[page-name=dc_page]").length)$("#end_page").addClass("new-wj-luck-draw").find(".enc_desc_wrap").show();else{var i=$("body").attr("page-name");-1===["dc_page","survey_info_new_mobile","assess_info_new_mobile"].indexOf(i)&&$("#wj_luck_draw").remove(),"survey-recover-result"===$("body").attr("page-name")?$("body").find(".end-desc-box").before('<div class="wj_luck_draw" id="wj_luck_draw" style="display:none;"></div>'):$("#end_page").addClass("new-wj-luck-draw").find(".enc_desc_wrap").before('<div class="wj_luck_draw" id="wj_luck_draw" style="display:none;"></div>')}}},{key:"handleEndPageDomActionAfterDcReq",value:function(t){var i=t.selector,e=t.lottery_data,o=t.position;"leave_tip_luck_direct"==(e=e||{}).position||"leave_tip_luck_direct"==o||"popup_normal"==o||"popup_abnormal"==o?(i=$(".leave_bottom_content"),"popup_normal"!=o&&"popup_abnormal"!=o||(i=$(".answer-end-leave-content")),"page_lookback_float"===t.position&&(i=$("#wj_luck_draw_view_filled")),e.adHtml?i.empty().removeClass("loading-mask").append(e.adHtml):setTimeout((function(){i.remove()}),3e3)):(e.adHtml&&(i.prepend(e.adHtml).show(),$(".close-luck-draw").show()),$("#end_page").addClass("new-wj-luck-draw").find(".enc_desc_wrap").show(),"assess"===globalData.sceneType&&Object(c.a)())}},{key:"luck_draw_flow_distribution_dc_of_template",value:function(t){var i={rid:t.rid||"",adc_time:t.adc_time||"",adc_sign:t.adc_sign||"",member_type:t.memberType||2,short_id:t.short_id||this.getProjectShortId()};$.extend(i,t);var e,o="".concat(g,"/api/display/");null!=(e=/\?adc_project_id=(\w+)($|&)/.exec(location.search))&&(o+="&project_id="+e[1]),this.handleEndPageDomActionBeforeDcReq(t);var n=$("#wj_luck_draw");"popup_normal"!==t.position&&"popup_abnormal"!==t.position||(n=$(".answer-end-leave-content")),"page_lookback_float"===t.position&&(n=$("#wj_luck_draw_view_filled"));var s=void 0===i.accessStatus?"off"===window.luck_draw_ad_switch&&1==window.super_account?1:2:0,c=i.wjTitleTxt||window.globalData&&globalData.wjTitleTxt||"",f=i.creatorId||window.globalData&&window.globalData.creatorId||"",v=function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?p(Object(e),!0).forEach((function(i){m(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({mini_program:-1!==window.location.href.indexOf("miniappcard")||-1!==window.location.href.indexOf("fromMiniApp")?1:2,rid:i.rid,short_id:i.short_id,channel:"wenjuan",adc_time:i.adc_time,adc_sign:i.adc_sign,mtc:i.mtc||u.b("mtc")||"",wj_type:Object(d.b)(i.sceneType||"survey"),access_status:s,_wj_ad_position:i.position,complexity:window.total_answers?Object(d.a)(Object.keys(window.total_answers).length):0,post_channel:window.globalData?window.globalData.registerChannel:"",title:encodeURIComponent(Object(d.d)(c,0,50)),creator_id:f,privacy_policy_answer:i.privacyPolicyAnswer,privacy_policy:window.needPrivacy?1:i.privacyPolicy,wj_labels:i.wjLabels,creator_level:i.creatorLevel,device_price:i.devicePrice},this.getZa());if("undefined"!=typeof total_answers&&(v.res_data=JSON.stringify(a.a.get_keyword_data(project,window.total_answers,window.ad_mtc,window.ad_token,window.ad_ua,window.ad_remote_ip,""))),this.isAnswerFinishNormal(i.position)&&window.super_account&&(v._user_type=1===Number(window.super_account)?"senior":"normal",l.a.push("luck_ad",{projectid:window.project?window.project._id.$oid:"",request_method:"get",userType:"ut-"+v._user_type,sceneType:"st-"+window.globalData.sceneType}),window._hmt.push(["_trackEvent","/s/","show","luck_ad_"+v._user_type+"_"+window.globalData.sceneType])),n.html(""),Object(_.b)("multipleAd")){var h,q,w=(null===(h=window.project)||void 0===h||null===(q=h._id)||void 0===q?void 0:q.$oid)||Object(r.g)("project_id"),b=Object(_.b)("multipleAd");if(b.hasOwnProperty(w)){var x=b[w];u.b("_za")===(null==x?void 0:x.za)&&((new Date).getTime()-(null==x?void 0:x.expires)<=36e5?v.multiple_ad=null==x?void 0:x.postId:(delete b[w],Object(_.d)("multipleAd",x)))}}this.renderLotteryAd(n,o,i,v),this.isShowImageAd(i.position)&&this.renderImageAd(n,o,v)}},{key:"getZa",value:function(){var t=u.b("_za"),i=u.b("_zver"),e=u.b("_zvta")||void 0;return{member_type:this.getMemberType(e),_za:t,_zver:i,_zvta:e}}},{key:"getMemberType",value:function(t){var i=u.b("za"),e=Object(d.c)(i);return t?3:e?2:4}},{key:"getImageAdId",value:function(t){var i=15;return-1!==[2,3,4].indexOf(t)&&(i=16),i}},{key:"isShowImageAd",value:function(t){return["answer_repeat","answer_repeat_exceeded_limit","answer_repeat_ip","answer_repeat_ip_exceeded_limit","assess_link_invalid","assess_has_update","access_parameters_incorrect","form_has_update","form_link_invalid","invalid_custom_source_link","link_invalid","not_permission_participate","project_delete","project_email_answer_only","project_finished","project_limit_word","project_not_exist","project_paused","survey_has_update","survey_link_invalid","time_not_start","visible_author_only","visible_author_only_login"].indexOf(t)>=0}},{key:"renderLotteryAd",value:function(t,i,e,o){var n=this;window.isMultipleAd=!1;var a=this;$.ajax({url:i,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),success:function(i){var s=new Date,d=new Date(s.setFullYear(s.getFullYear()+10));u.b("_zvta")||u.c("_zvta",(new Date).getTime(),d);var c=i.data;if(c){if(1===c.multiple){var p,m,f;window.isMultipleAd=!0;var v=u.b("za"),h=(null===(p=window.project)||void 0===p||null===(m=p._id)||void 0===m?void 0:m.$oid)||Object(r.g)("project_id"),q=Object(_.b)("multipleAd")||{};q[h]={postId:c.post_id,za:v,expires:(new Date).getTime()},null!==(f=Object(_.b)("multipleAd"))&&void 0!==f&&f.hasOwnProperty(h)||Object(_.d)("multipleAd",q)}var w={position:e.position,prize_ad_name:c.identify,rid:e.rid,adHtml:c.ad,id:c.id,landingPage:c.landing_page,postId:c.post_id,siteSeq:c.siteSeq,statsLog:c.stats_log};n.isAnswerFinishNormal(e.position)&&window.super_account&&(l.a.push("luck_ad",{projectid:window.project?window.project._id.$oid:"",request_method:"reponse",userType:"ut-"+o._user_type,sceneType:"st-"+window.globalData.sceneType}),window._hmt.push(["_trackEvent","/s/","display","luck_ad_"+o._user_type+"_"+window.globalData.sceneType])),window.project&&window.project.link_dc?window._hmt.push(["_trackPageview","/s/luck_draw_dc_"+w.prize_ad_name+"_linkdc"]):window._hmt.push(["_trackPageview","/s/luck_draw_dc_"+w.prize_ad_name]),a.handleEndPageDomActionAfterDcReq({selector:t,lottery_data:w,position:e.position})}else a.handleEndPageDomActionAfterDcReq({selector:t,position:e.position})}})}},{key:"renderImageAd",value:function(t,i,e){var o={};v(o,e,{_wj_ad_position:"picture_"+e._wj_ad_position}),$.ajax({url:i,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),success:function(i){var e=i.data;if(e){var o=$("<div></div>");o.html(e.ad).css({"margin-top":"30px"}),t.append(o).show()}}})}}])&&h(i.prototype,e),o&&h(i,o),t}())(window.globalData||{});i.a=b},34:function(t,i,e){"use strict";e.d(i,"e",(function(){return l})),e.d(i,"c",(function(){return d})),e.d(i,"d",(function(){return r})),e.d(i,"a",(function(){return c})),e.d(i,"b",(function(){return u}));var o=e(1),n=e(0),a=e(15),s=window.globalData.platform;function l(t){var i=t.question.custom_attr,e=t.question.custom_attr.disp_type,o=-1!==["groupvote_single","groupvote_multiple"].indexOf(e);if(t.qmodel_option_group_list){if("op_random"in i){if("between_group_random"in i){var n=o?t.question.option_group_list:t.qmodel_option_group_list,a=n[0];if(o){var s,l,d=[];n.forEach((function(t){1===t.is_default_group?s=t:"all"===t.is_default_group?l=t:d.push(t)})),t.question.option_group_list=l?[l].concat(d.shuffle()):d.shuffle(),t.question.option_group_list=s?t.question.option_group_list.concat(s):t.question.option_group_list}else a&&!a.title&&0===a.option_list.length&&a.related_q_list.length>0?t.qmodel_option_group_list=[n.shift(0)].concat(n.shuffle()):t.qmodel_option_group_list=n.shuffle()}if("in_group_random"in i)if("last_op_fixed"in i){var r=t.qmodel_option_group_list;if(r.length>0&&r[0].option_list&&r[0].option_list.length>0){var _=r[0].option_list,u=_.pop();t.qmodel_option_group_list[0].option_list=_.shuffle().concat([u])}}else o?t.question.option_list.shuffle():t.qmodel_option_group_list.forEach((function(t,i){t.option_list=t.option_list.shuffle()}));if(!i.in_group_random&&!i.between_group_random){var p=t.qmodel_option_group_list;if(p.length>0&&p[0].option_list.length>0)if("last_op_fixed"in i){var m=p[0].option_list.pop();t.qmodel_option_group_list[0].option_list=p[0].option_list.shuffle().concat(m)}else t.qmodel_option_group_list[0].option_list=p[0].option_list.shuffle()}}t.qmodel_option_group_list.forEach((function(t,i){if(t.option_list&&t.option_list.length>0)for(var e=0;e<t.option_list.length;e++){c(t.option_list[e])}}))}else{if(t.option_list=copy_obj(t.get_base_option_list()),"op_random"in i){var f="last_op_fixed"in i&&t.question.option_list.length>0&&t.option_list.pop();-1!==["image_single","image_multiple","imagevote_single","imagevote_multiple"].indexOf(e)?function(t,i){var e=[],o=t.option_list,n=[];o.forEach((function(t,i){t.custom_attr.other_option?e.push(i):n.push(t)})),n=n.shuffle(),e.forEach((function(t){n.splice(t,0,o[t])})),t.option_list=i?n.concat([i]):n,t.option_list}(t,f):t.option_list=f?t.option_list.shuffle().concat([f]):t.option_list.shuffle()}for(var v=0;v<t.option_list.length;v++){c(t.option_list[v])}}}function d(t){if(t.question.extra_option_list)for(var i=0;i<t.question.extra_option_list.length;i++){var e=t.question.extra_option_list[i].title.replace("[Q"+(i+1)+"]","");t.question.extra_option_list[i].title=e}}function r(t){t.matrixrow_list=copy_obj(t.get_base_matrixrow_list()),"row_random"in t.question.custom_attr&&(t.matrixrow_list=t.matrixrow_list.shuffle());for(var i=0;i<t.matrixrow_list.length;i++){c(t.matrixrow_list[i])}}function c(t){if(isNotEmpty(t)&&(t instanceof o.c&&(t.title=copy_obj(t.question.title)),isNotEmpty(t.title))){var i=t.title.match(/\[(Q\d{1,3})\]/g);if(isNotEmpty(i))for(var e=0;e<i.length;e++){var a=i[e].match(/(Q\d{1,3})/)[0],s=window.get_qmodel(a);if(!s)return;var l=s.get_selected();if(s.question.question_type==window.QUESTION_TYPE_BLANK)t.title=t.title.replace("["+a+"]",l);else if(l.constructor==String&&""!=l){var d=Object(n.x)(s.qid,l);t.title=t.title.replace("["+a+"]",d.title)}else if(l.constructor==Array){var r=$.map(l,(function(t){return Object(n.x)(s.qid,t).title}));r=r.join(","),t.title=t.title.replace("["+a+"]",r)}else t.title=t.title.replaceAll("["+a+"]","")}}}function _(t,i){if(!isNotEmpty(t))return"";var e=copy_obj(t.title),o=window.new_title||{},s=t.equipment_type,l=i.dest_type,d="",r=window.get_qmodel(i.source_qid),c=r.get_getanswer_function()(r);if(isNotEmpty(c)){if(r.question.question_type==window.QUESTION_TYPE_BLANK){var _;for(var u in c)_=c[u];if(null==_)return""==_;o[i.tag]=_}else if(r.question.question_type==window.QUESTION_TYPE_SINGLE){var p=Object(n.x)(r.qid,c[0]),m=Object(n.r)(i,s,l,p.title,e);d=m[0],e=m[1],o[i.tag]=d}else if(r.question.question_type==window.QUESTION_TYPE_MULTIPLE){var f=$.map(c,(function(t){var i=t[0];return Object(n.x)(r.qid,i).title})).join("、");if(isNotEmpty(f)){var v=Object(n.r)(i,s,l,f,e);d=v[0],e=v[1],o[i.tag]=d}}}else o[i.tag]="";for(var h in o)e=e.replaceAll(h,o[h]);window.new_title=o;var q=t.custom_attr?t.custom_attr.allow_null:"";t.question_type===window.QUESTION_TYPE_BLANK&&(q=1===t.option_list.length&&t.option_list[0].custom_attr?t.option_list[0].custom_attr.allow_null:"");var w=Object(a.a)(["hidden","hideQuestionSeq"]);if(1===l){var g=e.replace(/<p>/g,"<span>").replace(/<\/p>/g,"</span>"),b=!0;1==w&&(g=e.replace(/\[Q\d{1,3}\]/g,""),b=!1),window.QUESTION_SEQ_ARR||Object(n.M)(),e='<span class="answer_title">'+(g=Object(n.p)(g,t.cid?window.QUESTION_SEQ_ARR[t.cid.replace("Q","")-1].num:"",q,b))+"</span>"}return e.replace(/\[Q\d{1,3}\]/g,"")}function u(t,i){for(var e=window.AUTOREPLACE_SOURCE_Q_DICT[i.qid],o=0;o<e.length;o++){var a,l,d=e[o],r="mobile"===s?"phone":"pc";switch(d.dest_type){case 1:(a=Object(n.y)(d.obj_id)).equipment_type=r,l=_(a,d);var c="phone"===r?" .topic_title":" .title";$("#question_"+d.obj_id+c).html(l);break;case 2:if(a=Object(n.x)(d.question_id,d.obj_id),!isNotEmpty(a))continue;a.equipment_type=r,l=_(a,d);var u=window.get_qmodel(d.question_id);if("dropdown"===u.question.custom_attr.disp_type||"multiple_dropdown"===u.question.custom_attr.disp_type){if("pc"===r){var p=new RegExp("<[^>]*>","g");l=l.replace(p,"");var m=$("#question_".concat(d.question_id));m.find('.option_cell[option-id="'.concat(d.obj_id,'"]')).html(l),Object(n.L)(m)}else $(".label_"+d.obj_id).html(l);continue}$(".label_"+d.obj_id).html(l);break;case 3:if(a=Object(n.w)(d.question_id,d.obj_id),!isNotEmpty(a))continue;a.equipment_type=r,l=_(a,d),$(".label_"+d.obj_id).html(l);break;case 4:if(a=Object(n.x)(d.question_id,d.obj_id),!isNotEmpty(a))continue;a.equipment_type=r,l=_(a,d),$(".label1_"+d.obj_id).html(l)}}}},35:function(t,i,e){"use strict";e.d(i,"e",(function(){return m})),e.d(i,"b",(function(){return f})),e.d(i,"a",(function(){return v})),e.d(i,"c",(function(){return g})),e.d(i,"d",(function(){return x}));var o=e(227),n=e.n(o),a=e(83),s=e(30),l=e(0),d=null,r=null,c=!1,_=project._id.$oid,u="",p=null;function m(t){var i=t.qid,e=$("#question_"+i),o=e.find(".option"),n=$("#tip_"+i),a=$.trim(o.val());return!!isNotEmpty(a)||("allow_null"in t.question.custom_attr?(n.text(""),!0):(n.text(__("signature").notSigned),scroll_to(e),!1))}function f(t){var i="question_"+t.qid,e=$("#"+i).find(".signature-wrapper .option"),o=e.val(),n={};return o&&(n[e.attr("data-id")+"_open"]=o),n}function v(t){var i=t.qid,e=$("#question_"+i);e.find(".signature-wrapper .mobile-sign").on({mouseenter:function(){$(".qrcode-wrap").removeClass("small-screen"),$("#question_box").width()-$(".signature-wrapper").width()-$(".qrcode-wrap").width()<14&&$(".qrcode-wrap").addClass("small-screen");var o=e.attr("data-uuid");if(p&&o&&u.indexOf(o)>-1)return u.indexOf(o)<=-1&&(u=u?"".concat(u,",").concat(o):o),void q(t,o);!function(t,i,e,o){if(c)return;c=!0,Object(s.c)({qid:t,pid:_,uuid:i}).then((function(t){c=!1,1===t.status_code&&t.data&&(i=t.data.uuid,u.indexOf(i)<=-1&&(u=u?"".concat(u,",").concat(i):i),o.attr("data-uuid",i),q(e,i),p=setTimeout((function(){clearTimeout(p),p=null}),6e4))})).catch((function(){c=!1}))}(i,o,t,e)},mouseleave:function(){e.find(".qrcode-wrap").addClass("hide")}}),g(t),e.find(".signature-wrapper .re-sign").on({click:function(){var t=e.attr("data-uuid");if(t)h(i,t,e);else{if(c)return;c=!0,Object(s.c)({qid:i,pid:_}).then((function(t){if(c=!1,1===t.status_code&&t.data){var o=t.data.uuid;e.attr("data-uuid",o),h(i,o,e)}})).catch((function(){c=!1}))}}})}function h(t,i,e,o,n){c||(c=!0,Object(s.f)({qid:t,pid:_,uuid:i}).then((function(i){if(c=!1,n&&n(),"phone"!==o){e.find(".signature-wrapper").attr("data-type","default"),e.find(".signature-wrapper .option").val("").siblings("img").attr("src","");var a=window.get_qmodel(t);a.changeAnswerHandler(),g(a)}})).catch((function(){c=!1})))}function q(t,i){var e=t.qid,o=$("#question_"+e),a="".concat(window.location.origin,"/signature/?pid=").concat(_,"&qid=").concat(e,"&uuid=").concat(i);$("#qrcode-".concat(e)).html(""),new n.a("qrcode-".concat(e),{text:a,width:86,height:86,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.a.CorrectLevel.M})._el.title="",o.find(".qrcode-wrap").removeClass("hide"),function(){d||(d=window.setInterval((function(){!function(){if(c)return;c=!0,Object(s.b)({pid:_,uuid:u}).then((function(t){if(c=!1,1===t.status_code){var i=t.data;for(var e in i)if("0"!=i[e]&&i[e]){var o=$(".question[data-uuid="+e+"]"),n=o.attr("question-id"),a=window.get_qmodel(n),s=i[e],l="";s.indexOf("signature_")>-1&&(l=s.split("".concat(window.qiniu_host,"/"))[1]),b({qmodel:a,$question:o,imgSrc:s,imgTitle:l}),$(".qrcode-wrap").addClass("hide");for(var d=u.split(","),r=0;r<d.length;r++)d[r]===e&&d.splice(r,1);(u=d.join(","))||w()}}})).catch((function(){c=!1}))}()}),1e3));clearTimeout(r),r=null,r=setTimeout((function(){w()}),6e5)}()}function w(){window.clearInterval(d),d=null,clearTimeout(r),r=null,clearTimeout(p),p=null,$(".qrcode-wrap").addClass("hide")}function g(t){var i=t.qid,e=$("#question_"+i),o=new a.a("#question_"+i),n=o.dom;n.height=192,n.width=440,o.signaturePad.onBegin=function(){e.find(".signature-wrapper").attr("data-type","signaturing")},e.find(".signature-wrapper .clear-sign").on({click:function(){o.clear(),e.find(".signature-wrapper").attr("data-type","default")}}),e.find(".signature-wrapper .save").on({click:function(){if("signaturing"==$(this).parents(".signature-wrapper").attr("data-type")){var n=o.toDataURL();if(!o.isEmpty()){o.resultImg(n,"landscape").then((function(o){var a=Object(l.u)(_,i,"png","signature");if(a.msg)window.Toast?window.Toast(a.msg):window.alert(a.msg);else{var s=a.token,d=(new window.Base64).encode(a.key);Object(l.I)({imgSrc:o,token:s,key:d},(function(i){(i=JSON.parse(i)).key&&(n="".concat(window.qiniu_host,"/").concat(i.key));var o=i.key;b({qmodel:t,$question:e,imgSrc:n,imgTitle:o})}))}})),e.find(".signature-wrapper").find(".signature img").attr("src",n)}}}})}function b(t){var i=Object(l.i)(t.qmodel.question.title).replace(/[,，|]/g,"");t.$question.find(".option").val(t.imgTitle+"|"+"".concat(i,".png")),t.$question.find(".signature-wrapper").attr("data-type","signatured").find(".signature img").attr("src",t.imgSrc),t.qmodel.changeAnswerHandler()}function x(){w(),!c&&u&&(c=!0,Object(s.g)({pid:_,uuid:u}).then((function(t){c=!1,u=""})).catch((function(){c=!1})))}},43:function(t,i,e){"use strict";e.d(i,"i",(function(){return d})),e.d(i,"e",(function(){return r})),e.d(i,"a",(function(){return c})),e.d(i,"k",(function(){return _})),e.d(i,"g",(function(){return u})),e.d(i,"c",(function(){return p})),e.d(i,"f",(function(){return m})),e.d(i,"b",(function(){return f})),e.d(i,"j",(function(){return v})),e.d(i,"d",(function(){return q})),e.d(i,"h",(function(){return g}));var o=e(0),n=e(32),a=e(65),s=e.n(a),l=e(2);function d(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=e.find("input:text").val();return isNotEmpty(n)||"allow_null"in t.question.custom_attr?(o.text(""),!0):(o.text(__("5")),scroll_to(e),!1)}function r(t){var i="question_"+t.qid,e=$("#"+i).find(".option"),o=e.val(),n={};return n[e.attr("id")+"_open"]=o,n}function c(t){var i=t.question;$("#"+i.option_id_list[0]).next(".Zebra_DatePicker_Icon").remove(),$("#"+i.option_id_list[0]).Zebra_DatePicker({show_week_number:"周",onChange:function(i){t.changeAnswerHandler()}}),$(".Zebra_DatePicker").on("click",".dp_footer",(function(){delete window.tmp_total_answers[t.qid],delete window.total_answers[t.qid],Object(l.Gb)()}))}function _(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0;return e.find(".option").each((function(){var i=$(this).val();isNotEmpty(i)||("allow_null"in t.question.custom_attr?o.text(""):(o.text(__("6")),n=!1))})),n?o.text(""):scroll_to(e),n}function u(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".option").each((function(){var t=this.id.replace("option_","");o[t+"_open"]=$(this).val()})),o}function p(t){window.Selectionsearch($("#question_"+t.qid).find(".w-selection-time"),{placeholder:__("pleaseSelect"),searchText:__("searchText")},(function(i){t.changeAnswerHandler()}))}function m(t){var i="question_"+t.qid,e=$("#"+i),o={},n=t.question.custom_attr.map_display_mode,a=t.question.custom_attr.allow_null,s=!1;return e.find(".option").each((function(t){var i=$(this).val();"blank"!==n||"on"!==a||0!==t||i||(s=!0);var e=this.id.replace("option_","");o[e+"_open"]=s?"":i})),o}function f(t){new h("question_"+t.qid)}function v(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0;return e.find(".option").each((function(){var i=$(this).val();isNotEmpty(i)||("allow_null"in t.question.custom_attr?o.text(""):(t.question.custom_attr&&"blank"===t.question.custom_attr.map_display_mode?o.text(__("3")):o.text(__("119")),n=!1))})),n?o.text(""):scroll_to(e),n}function h(t){this.mb=$("#"+t),this.obj={};var i=Object(o.y)(t.replace("question_","")),e=i.custom_attr.map_display_mode,a=!(e&&"blank"===e),l=!1;return"not_allow_modify_position"in i.custom_attr&&(l=!0,this.mb.find(".geographical_input").hide()),this.mapModeEvent=function(){var i=this;$(".map_a,.current_location_btn",i.mb).off().on({click:function(){i.mb.addClass("update_geo"),i.getGeolocationPosition()}}),$(".geographical_clear_btn",i.mb).off().on("click",(function(){(i.mb.removeClass("update_geo"),$("#"+t+" .address").val(""),$("#"+t+" .longitude").val(""),$("#"+t+" .latitude").val(""),Object(n.b)(t.replace("question_","")).changeAnswerHandler(),window.self!=window.top)&&$(".formIframe",parent.document).css({height:$("body").outerHeight()+10})})),$(".geographical_search_btn",i.mb).off().on("click",(function(){var t=i.mb.find("input.search_input").val(),e=$(this);""==$.trim(t)||e.hasClass("disabled")||(e.addClass("disabled"),i.getKeywordsSearchPosition(t),e.removeClass("disabled"))}))},this.blankModeEvent=function(){var i=this;i.getGeolocationPosition(),$(".blank-mode-map input",i.mb).off().on("input",s()((function(){var e=$(this),o=e.val(),a=e.siblings(".w-icon-close");$("#"+t+" .address").val(o),Object(n.b)(t.replace("question_","")).changeAnswerHandler(),o?a.removeClass("hide-close-icon"):(a.addClass("hide-close-icon"),i.getGeolocationPosition());var s=i.mb.find("input.search_input").val(),l=e.parents(".blank-mode-map");""==$.trim(s)||e.hasClass("disabled")?l.find(".map-search-result").remove():(e.addClass("disabled"),i.getKeywordsSearchPosition(s,l),e.removeClass("disabled"))}),300)),$(document).click((function(t){$(".map-search-result").hide()})),$(".blank-mode-map input").on("focus click",(function(t){t.stopPropagation(),t.preventDefault();var i=$(this),e=i.val(),o=i.siblings(".w-icon-close");e?o.removeClass("hide-close-icon"):o.addClass("hide-close-icon"),i.parents(".blank-mode-map").find(".map-search-result").show()})),$(".blank-mode-map .w-input-icon-suffix i").on("click",(function(e){e.stopPropagation(),e.preventDefault();var o=$(this);o.parents(".question").find(".address").val(""),Object(n.b)(t.replace("question_","")).changeAnswerHandler(),o.addClass("hide-close-icon").siblings("input").val(""),o.parents(".blank-mode-map").find(".map-search-result").remove(),i.getGeolocationPosition()})),$(".blank-mode-map").off().on("click",".map-search-result-list li",(function(i){i.stopPropagation(),i.preventDefault();var e=$(this),o=e.attr("data-address"),a=e.attr("data-latitude"),s=e.attr("data-longitude");e.parents(".question").find(".address").val(o),e.parents(".question").find(".longitude").val(s),e.parents(".question").find(".latitude").val(a),e.parents(".blank-mode-map").find("input").val(o).focus(),$(".map-search-result").hide(),Object(n.b)(t.replace("question_","")).changeAnswerHandler()}))},this.getKeywordsSearchPosition=function(i,e){var o=this;o.map||(o.map=new window.AMap.Map("map_"+t.replace("question_",""),{resizeEnable:!0})),o.map.clearMap(),window.AMap.plugin("AMap.CitySearch",(function(){(new window.AMap.CitySearch).getLocalCity((function(s,l){var d="北京";"complete"===s&&"OK"===l.info&&l&&l.city&&(d=l.city),window.AMap.service(["AMap.PlaceSearch"],(function(){function s(t,i,e){return'<li data-address="'+t+'" data-longitude="'+i+'" data-latitude="'+e+'">'+t+"</li>"}new window.AMap.PlaceSearch({pageSize:20,city:d}).search(i,(function(i,l){"complete"===i&&"OK"===l.info?function(i,e){var l=i.poiList.pois[0],d=l.name||l.address,r=l.location.lng,c=l.location.lat;if(a){var _=new window.AMap.Marker({map:o.map,position:l.location});o.map.setCenter(_.getPosition()),o.mb.find(".geographical_address").text(d),o.mb.find(".geographical_coord").text("经度："+r+"、纬度："+c),$("#"+t+" .address").val(d),$("#"+t+" .longitude").val(r),$("#"+t+" .latitude").val(c),Object(n.b)(t.replace("question_","")).changeAnswerHandler()}else{l=i.poiList.pois;for(var u="",p=0;p<l.length;p++)d=l[p].name||l[p].address,r=l[p].location.lng,c=l[p].location.lat,d&&(u+=s(d,r,c));u&&(e.find(".map-search-result").remove(),e.append('<div class="map-search-result"><ul class="map-search-result-list">'+u+"</ul></div>"))}}(l,e):a||(Object(n.b)(t.replace("question_","")).changeAnswerHandler(),e.find(".map-search-result").remove(),e.append('<div class="map-search-result"><div class="search-empty">暂无相关地址</div></div>'))}))}))}))}))},this.getGeolocationPosition=function(){var i=this;function e(e){var o=e.formattedAddress,s=e.position.getLng(),l=e.position.getLat();(i.mb.find(".geographical_address").text(o),i.mb.find(".geographical_coord").text("经度："+s+"、纬度："+l),$("#"+t+" .longitude").val(s),$("#"+t+" .latitude").val(l),a)&&($("#"+t+" .address").val(o),Object(n.b)(t.replace("question_","")).changeAnswerHandler())}function o(t){i.map.plugin("AMap.CitySearch",(function(){(new window.AMap.CitySearch).getLocalCity((function(t,e){if("complete"===t&&"OK"===e.info){if(e&&e.city&&e.bounds){var o=(e.bounds.northeast.lng+e.bounds.southwest.lng)/2,n=(e.bounds.northeast.lat+e.bounds.southwest.lat)/2;i.geoAddress(o,n)}}else alert("定位失败")}))}))}(i.map||(i.map=new window.AMap.Map("map_"+t.replace("question_",""),{resizeEnable:!0})),l||i.map.on("click",(function(t){i.getGeoAddress(t)})),i.map.plugin("AMap.Geolocation",(function(){var t=new window.AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new window.AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});i.map.addControl(t),t.getCurrentPosition(),window.AMap.event.addListener(t,"complete",e),window.AMap.event.addListener(t,"error",o)})),window.self!=window.top)&&$(".formIframe",parent.document).css({height:$(document).outerHeight()})},this.getGeoAddress=function(t){var i=t.lnglat.getLng(),e=t.lnglat.getLat();this.geoAddress(i,e)},this.geoAddress=function(i,e){var o=this;o.map.clearMap();var s=[i,e];!function(){new window.AMap.Geocoder({radius:1e3,extensions:"all"}).getAddress(s,(function(s,l){"complete"===s&&"OK"===l.info&&function(s){var l=s.regeocode.formattedAddress;if(o.mb.find(".geographical_address").text(l),o.mb.find(".geographical_coord").text("经度："+i+"、纬度："+e),$("#"+t+" .longitude").val(i),$("#"+t+" .latitude").val(e),a){$("#"+t+" .address").val(l),Object(n.b)(t.replace("question_","")).changeAnswerHandler()}}(l)})),new window.AMap.Marker({map:o.map,position:s});try{o.map.setFitView()}catch(t){}}()},a?this.mapModeEvent():this.blankModeEvent()}function q(t,i,e,o){if(window.mobile_auth_queston_status==window.MOBILE_AUTH_QUESTION_STATUS_NEED_GEETEST){var n=$(o).parent().find("[name=luotest_response]").val();n?w(t,i,e,n):$("#tip_"+t).text("请完成下方人机验证")}else w(t,i,e)}function w(t,i,e,o){var a=Object(n.b)(t),s=a.get_getanswer_function(),l=window.toJSONString(s(a));window.sendCodeTimer[t]={timer:null,state:!1};var d={mobile:e,answer:l,_xsrf:$.cookie("_xsrf"),qid:t};o&&(d.lsm_resp=o),$.ajax({url:"/mobile_auth_question_captcha/"+project.short_id,type:"POST",dataType:"JSON",data:d,success:function(e){if(200!=e.result)setTimeout((function(){window.sendCodeTimer[t].state=!0}),1e3),1==e.result?$("#tip_"+t).text("同一手机号不能重复提交"==e.error_msg?__("mobileRepeat"):e.error_msg):2==e.result?$("#tip_code_"+t).text("发送太频繁了，请稍后再试!"==e.error_msg?__("sendTooOften"):e.error_msg):3==e.result?window.loadMack({off:"on",Limg:0,text:e.error_msg,set:1500}):4==e.result&&($("#question_"+t+" .sms_yzm").hide(),window.mobile_auth_queston_status=window.MOBILE_AUTH_QUESTION_STATUS_NO_QUOTA);else{$("#tip_code_"+t).text("");var o=59;window.sendCodeTimer[t].timer=setInterval((function(){o<=0?(clearInterval(window.sendCodeTimer[t].timer),window.sendCodeTimer[t]={timer:null,state:!0},i.removeClass("btn_disabled").html(__("getSMSCode"))):(o--,i.addClass("btn_disabled").html(__("getAgain").format([o])))}),1e3)}},error:function(i){console.log(i),setTimeout((function(){window.sendCodeTimer[t].state=!0}),1e3)}})}function g(t,i,e,o){$(t).after('<div class="l-captcha" data-site-key="0a9fb0634a5d21c3764386c05bd1ed9b" style="margin-top: 10px;"></div><script src="//captcha.luosimao.com/static/dist/api.js"><\/script>')}window.sendCodeTimer={}},46:function(t,i,e){"use strict";function o(t){var i=[];$("#"+t+" .Sorting li").sortable({connectWith:"#"+t+" .pxlist tr td",receive:function(i,e){$("#"+t+" .Sorting li label").attr("site","").removeClass("pt_on")},stop:function(i,e){$("#"+t+" .pxlist tr td").each((function(i,e){var o=i+1;if($(this).find("label").length>1){var n=$(this).find(".pt_on"),a=n.attr("name")-1;$("#"+t+" .Sorting li:eq("+a+")").append(n)}$(this).find("label").attr("site",o).addClass("pt_on")})),$("#"+t+" .Sorting li label").attr("site","").removeClass("pt_on"),console.log("Sorting stop"),window.get_qmodel(t.replace("question_","")).changeAnswerHandler()}}).disableSelection(),$("#"+t+" .pxlist tr td").sortable({connectWith:"#"+t+" .pxlist tr td",over:function(t,i){i.placeholder.parent().addClass("jda")},out:function(t,i){i.placeholder.parent().removeClass("jda")},start:function(t,i){i.item.removeClass("pt_on")},update:function(i,e){$("#"+t+" .pxlist tr td").removeClass("jda")},beforeStop:function(i,e){var o=e.placeholder.parent(),n=e.item.attr("site")-1,a=o.find(".pt_on");o.find("label").length>2&&$("#"+t+" .pxlist tr td:eq("+n+")").append(a);var s=o.attr("name");e.item.attr("site",s)},stop:function(i,e){$("#"+t+" .pxlist tr td").each((function(i,e){var o=i+1;if($(this).find("label").length>1){var n=$(this).find(".pt_on"),a=n.attr("name")-1;$("#"+t+" .Sorting li:eq("+a+")").append(n)}$(this).find("label").attr("site",o).addClass("pt_on")})),$("#"+t+" .Sorting li label").attr("site","").removeClass("pt_on"),console.log("pxlist stop"),window.get_qmodel(t.replace("question_","")).changeAnswerHandler()}}).disableSelection(),"none"!=$("#"+t).css("display")&&($("#"+t+" .Sorting label").each((function(t,e){var o=$(this).height();o<23&&(o=23),i.push(o)})),i.sort(n),$("#"+t+" .Sorting label").height(i[0]),$("#"+t+" .Sorting li,.pxlist tr td").height(i[0]+2))}function n(t,i){return t>i?-1:t<i?1:0}function a(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0;return e.find(".pxlist tr td").each((function(){0!=$(this).find("label").length||"allow_null"in t.question.custom_attr||(n=!1)})),n?o.text(""):(o.text(__("18")),scroll_to(e)),n}function s(t){for(var i="question_"+t.qid,e={},o=$("#"+i).find(".pxlist tr"),n=0;n<o.length;n++){var a=o[n],s=$(a).find(".pxla");if(s.length>0)e[$(s).attr("id")]=[n+1]}return e}function l(t){setTimeout((function(){o("question_"+t.qid)}),1e3)}e.d(i,"c",(function(){return o})),e.d(i,"d",(function(){return a})),e.d(i,"b",(function(){return s})),e.d(i,"a",(function(){return l}))},47:function(t,i,e){"use strict";e.d(i,"g",(function(){return _})),e.d(i,"d",(function(){return u})),e.d(i,"a",(function(){return p})),e.d(i,"b",(function(){return m})),e.d(i,"c",(function(){return f})),e.d(i,"f",(function(){return v})),e.d(i,"e",(function(){return h}));var o=e(2),n=e(0),a=e(8),s=e(80),l=e(127),d=e(13),r=e(11),c=e(37);function _(t){var i="question_"+t.qid,e=$("#"+i),s=$("#tip_"+t.qid),l=t.question.custom_attr.disp_type||"vertical";if("dropdown"in t.question.custom_attr||"dropdown"==l){var d=e.find(".w-selection-option.checked").attr("data-value");return isNotEmpty(d)||"allow_null"in t.question.custom_attr?(s.html(""),!0):(s.html(__("2")),scroll_to(e),!1)}if(0==e.find(".option_cell:not(.option-hide) .option:checked").length)return e.attr("allow_null")?(s.html(""),!0):(s.html(__("2")),scroll_to(e),!1);e.find(".red").text(""),e.find(".option_open").length>0&&e.find(".option_open").removeClass("invalid");var r=e.find(".option:checked").val().split("_")[0],c=Object(n.x)(t.qid,r);if(c.is_open){var _=e.find("#option_open_"+get_oid(c));0==_.length&&(_=e.find("#"+t.qid+"_related_option_open_"+get_oid(c)));var u=_.next();if(Object(o.X)(_.val()))return _.addClass("invalid"),s.text(__("120")).show(),scroll_to(s),!1;if(""==_.val()){if(!c.custom_attr.hasOwnProperty("allow_null"))return _.addClass("invalid"),s.text(__("15")),scroll_to(e),!1}else{if("checkmethod"in c.custom_attr){var p=c.custom_attr.checkmethod;if(isNotEmpty(p)){if(!a.b.get_method(p)(_.val()))return u.text(a.b.get_err_msg(p)),_.addClass("invalid"),s.text(__("15")),scroll_to(e),!1;_.removeClass("invalid"),u.text("")}}if(!("char_count_limit"in c.custom_attr))return _.removeClass("invalid"),u.text(""),s.text(""),!0;var m=c.custom_attr.char_count;if(_.val().length>parseInt(c.custom_attr.char_count))return t.show_option_msg(_.attr("id"),__("96").format([_.val().length-parseInt(m)])),scroll_to(e),!1;t.clear_option_msg(_.attr("id"))}}return s.html(""),!0}function u(t){var i="question_"+t.qid,e=$("#"+i),o=[],a=t.question.custom_attr.disp_type||"vertical";if("dropdown"in t.question.custom_attr||"dropdown"==a){var s=e.find("select>option.option_cell:not(.option-hide):selected").val();isNotEmpty(s)&&o.push(s)}else{var l=e.find(".option_cell:not(.option-hide) .option:checked");if("none"==l.closest("div").css("display"))return o;if(l.length>0){var d=l.val().split("_")[0];o.push(d);var r=Object(n.x)(t.qid,d);if(isNotEmpty(r)&&r.is_open){var c=e.find("#option_open_"+d);0==c.length&&(c=e.find("#"+t.qid+"_related_option_open_"+get_oid(r))),isNotEmpty(c)&&o.push(c.val())}}}return o}function p(t){var i=t.qid,e=$("#question_"+i);isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(r.f)(i),window.inputVal("#question_"+i+" .option_open"),Object(d.a)(t),Object(c.a)(t,e)}function m(t){var i="",e=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&(i=Object(r.f)(e,"dropdown")?"disabled":""),window.Selectionsearch($("#question_"+e).find(".w-selection"),{placeholder:__("pleaseSelect"),searchText:__("searchText"),state:i},(function(i){t.changeAnswerHandler()})),window.inputVal("#question_"+e+" .option_open")}function f(t){var i=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(r.f)(i);var e=$("#question_"+i);window.inputVal("#question_"+i+" .option_open"),"data_show"in t.question.custom_attr&&e.find(".icheckbox_div .option").on("change",(function(){Object(s.a)(i)})),e.find(".option_cell").click((function(t){$(t.target).data("stop-propagation")&&t.preventDefault()})),e.on("click",".btn_view_option_desc",(function(){var t=$(this).attr("option-id"),e=project&&"vote_scene"===project.scene_type;Object(l.a)(i,t,e)}))}function v(t,i){var e=t.qid,o=$("#question_"+e),n=-1!==i.indexOf("related_")?"related-id":"option-id",a=o.find(".option_cell[".concat(n,'="').concat(i,'"]')).find("input.option");a.prop("checked")&&a.prop("checked",!1).change()}function h(t,i){var e=t.qid,o=$("#question_"+e),a=-1!==i.indexOf("related_")?"related-id":"option-id",s=o.find(".option_cell[".concat(a,'="').concat(i,'"]')),l=s.parents(".matrix_sel");if(s.prop("selected")){var d=Array.isArray(l.val())?l.val():[l.val()];s.prop("selected",!1),-1!==d.indexOf(s.val())&&t.changeAnswerHandler()}l.find("option.option_cell").each((function(t,i){$(i).attr("data-disabled",!!$(i).hasClass("option-hide")||"")})),Object(n.L)(o)}},54:function(t,i,e){"use strict";e.d(i,"d",(function(){return _})),e.d(i,"c",(function(){return p})),e.d(i,"a",(function(){return v})),e.d(i,"b",(function(){return q}));var o=e(4),n=e(18),a=e(130),s=e(2),l=e(11);function d(t,i,e,o,n,a,s){try{var l=t[a](s),d=l.value}catch(t){return void e(t)}l.done?i(d):Promise.resolve(d).then(o,n)}function r(t){return function(){var i=this,e=arguments;return new Promise((function(o,n){var a=t.apply(i,e);function s(t){d(a,o,n,s,l,"next",t)}function l(t){d(a,o,n,s,l,"throw",t)}s(void 0)}))}}function c(t,i){var e=function(t,i){var e=(o.b("fill_history_array")||[]).filter((function(i){return i.pid===t}));return e.length>0?e[0][i]:null}(t,"hash"),n=Object(a.a)(i);return e&&e===Object(a.b)(JSON.stringify(n))}function _(t,i){o.d("fill_history_data_"+t,i)}function u(t,i){if(!c(t,i)){!function(t){o.c("fill_history_data_"+t);var i=o.b("fill_history_array")||[];i=i.filter((function(i){return i.pid!==t})),o.d("fill_history_array",i)}(t);var e,n=Object(a.a)(i),s={pid:t,hash:Object(a.b)(JSON.stringify(n))},l=o.b("fill_history_array")||[];l.unshift(s),l=l.splice(0,10),o.d("fill_history_array",l),e=(o.b("fill_history_array")||[]).map((function(t){return t.pid}))||[],o.a((function(t,i){if(0===t.indexOf("fill_history_data_")){var n=t.split("fill_history_data_")[1];-1===e.indexOf(n)&&o.c(t)}}))}}function p(t){!function(t,i,e){var n=o.b("fill_history_array")||[],a=!1;n.forEach((function(o){o.pid===t&&(a=!0,o[i]=e)})),a&&o.d("fill_history_array",n)}(t,"submitTime",(new Date).getTime());var i=o.b("answer_history_data_"+t);i&&(i.answer_path=[],_(t,i))}function m(){var t=o.b("fill_history_array");if(t){var i=[],e=new Date,n=e.getTime();t.forEach((function(t){var a=t.submitTime;!a||e-a<7776e6?(i.push(t),a||(t.submitTime=n)):o.c("fill_history_data_"+t.pid)})),o.d("fill_history_array",i)}}function f(t,i){var e=null;return c(t,i)&&(e=o.b("fill_history_data_"+t)),e}function v(){return h.apply(this,arguments)}function h(){return(h=r(regeneratorRuntime.mark((function t(){var i,e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=project._id.$oid,m(),e=f(i,project),t.next=5,Object(n.b)(i,project);case 5:o=t.sent,project.custom_attr.auto_fill_answer&&e&&isNotEmpty(e.total_answers)&&void 0!==e.answer_path&&!o?(Object(n.f)(i,project,!1),Object(n.e)(i,e),q(e),setTimeout((function(){Object(s.kb)("auto_fill",window.current_page_id,{fill_history:e})}),300)):(u(i,project),Object(n.a)());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){if(isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&isNotEmpty(t)){if(Object(s.Q)()){var i=t.total_answers,e=globalData.quotaUtils.quotaUsageInfo;for(var o in e)if(i[o])for(var n=0;n<i[o].length;n++)e[o][i[o][n]]&&(e[o][i[o][n]].left+=1)}t=Object(l.c)(t)}var a=t.total_answers;window.current_page_id=void 0,window.answer_path=[],window.total_answers=a,window.initRenderQuestionBox(null,!0)}},56:function(t,i,e){"use strict";e.d(i,"a",(function(){return _})),e.d(i,"f",(function(){return u})),e.d(i,"e",(function(){return p})),e.d(i,"b",(function(){return m})),e.d(i,"c",(function(){return f})),e.d(i,"d",(function(){return v}));var o=e(80),n=e(0),a=e(8),s=e(127),l=e(13),d=e(11),r=e(37),c=e(2),_={showImg:function(t,i){window._hmt.push(["_trackEvent","image_select_question","click","zoomIn"]);var e=$(t);e.parent().find(".help_paly").hide(),"undefined"!=i&&null!=i&&" "!=i||(i=t.src),this.img=new Image;var o=e.parent(),n=o.hasClass("goods-img")?"absolute":"relative";o.css({position:n});var a=e.height()/2-8,s=e.width()/2-8,l=$('<img style="position:absolute;width:16px;height:16px" src="'.concat("https://s1.wenjuan.com",'/static/images/loading.gif"/>')).css({left:s+"px",top:a+"px"}).appendTo(o),d=this;d.img.onload=function(){l.remove(),$(".help_paly").show();var t=d.img.width,i=d.img.height,o=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight;i>n-30&&t<o-30?(i=n-30,t=(n-30)/d.img.height*t):t>o-30&&(t=o-30,i=(o-30)/d.img.width*i);var a=o/2-t/2,s=n/2-i/2,r=0,c=0,u=$('<div class="pic_cancel"></div>').appendTo("body"),p=$('<img src="'+d.img.src+'"></img>').appendTo("body");0==window.top.length?(r=e.offset().top,c=e.offset().left):(c=a,r=-100),p.css({position:"absolute","z-index":"4000",top:r+"px",left:c+"px",width:e.width()+"px",height:e.height()+"px",backgroundColor:"#fff"}),u.css({"z-index":"4100",top:r-18+"px",left:c+e.width()-18+"px"});var m=$('<div style="position:fixed; display:block;left:0px; top:0px; width:100%; height: 100%; z-index:3000; "><div style="position:absolute;left:0px; top:0px; width:100%; height: 100%; opacity:0; display: block; background:#0E1011;" class="mak"></div></div>').appendTo("body");m.find(".mak").animate({opacity:.6},"slow");var f=$(document).scrollTop();setTimeout((function(){p.animate({left:""+a,top:""+(s+f),width:""+t,height:""+i},"slow"),u.animate({left:""+(t+a-18),top:""+(s+f-18)},"slow")}),250),u.click((function(){m.click()})),m.click((function(){var t=$(this);t.animate({opacity:"0"},650),setTimeout((function(){t.remove()}),650),p.remove(),u.remove(),this.img=!1})),$(".jsbox_close").live("click",(function(){_.img.onload=!1}))},this.img.src=i}};function u(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid);if(0==e.find(".option:checked").length)return e.attr("allow_null")?(o.html(""),!0):(o.html(__("2")),scroll_to(e),!1);var s=e.find(".option:checked").attr("id").replace("option_",""),l=Object(n.x)(t.qid,s);if(l.is_open){var d=e.find("#option_open_"+get_oid(l)),r=d.next();if(""==d.val())return r.text(__("3")),o.text(__("14")),scroll_to(e),!1;if(!("checkmethod"in l.custom_attr))return r.text(""),o.text(""),!0;if(!a.b.get_method(l.custom_attr.checkmethod)(d.val()))return r.text(__("33")),o.text(__("11")),scroll_to(e),!1;r.text("")}return o.html(""),!0}function p(t){var i="question_"+t.qid,e=$("#"+i),o=[],a=e.find(".option:checked");if(a.length>0){var s=a.val().split("_")[0];o.push(s);var l=Object(n.x)(t.qid,s);if(isNotEmpty(l)&&l.is_open){var d=e.find("#option_open_"+s);o.push(d.val())}}return o}function m(t,i){i=i||".option_cell:not(.disabled) .option_origin_img",t.on("click",i,(function(){var t=$(this),i=t.attr("src")||t.attr("src");_.showImg(t,i)}))}function f(t){var i=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(d.f)(i);var e=$("#question_"+i);m(e),Object(l.a)(t),Object(r.a)(t,e)}function v(t){var i,e,n=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(d.f)(n,"image");var a=$("#question_"+n);"imagevote_single"===(null===(i=t.question)||void 0===i||null===(e=i.custom_attr)||void 0===e?void 0:e.disp_type)?(a.on("click",".footer-box .once-vote",(function(){var t=$(this).parent().siblings(".option").attr("option_id");Object(s.b)(n,t)})),$(".footer-box").children().hasClass("once-vote")&&$(".optionInfo").addClass("onceVote"),Object(c.I)(t)):(m(a),"data_show"in t.question.custom_attr&&(a.find(".voteProgressBox canvas").remove(),a.find(".option").on("click",(function(){Object(o.b)(n)}))),a.on("click",".btn_view_option_desc",(function(){var t=$(this).attr("option-id"),i=project&&"vote_scene"===project.scene_type;Object(s.a)(n,t,i)})),a.on("click",".option_cell:not(.disabled) .once-vote",(function(){var t=$(this).siblings(".option").attr("id").split("option_")[1];Object(s.b)(n,t)})))}},58:function(t,i,e){"use strict";e.d(i,"f",(function(){return d})),e.d(i,"e",(function(){return r})),e.d(i,"a",(function(){return c})),e.d(i,"d",(function(){return _})),e.d(i,"b",(function(){return u})),e.d(i,"c",(function(){return p}));var o=e(3),n=e(21),a=e(32),s=e(56),l=e(0);function d(t){var i=t.qid,e=$("#question_"+i),o=$("#tip_"+i),n=!1;return"allow_null"in t.question.custom_attr?(o.text(""),!0):(e.find(".option").each((function(){var t=$(this).val();isNotEmpty(+t)&&(o.text(""),n=!0)})),!!n||(o.text(__("goodsQuestion").selectGoods),scroll_to(e),!1))}function r(t){var i=t.qid,e=$("#question_"+i),o={},n=t.question.custom_attr.show_unit_price;return e.find(".option").each((function(){var t=this.id,e=window.get_option(i,t),a=Number(e.custom_attr.goods_info.unit_price||0),s=Number($.trim($(this).val()));a=n?a:0,isNotEmpty(s)&&(o[t]={quantity:s,price:a})})),o}function c(t){var i=t.qid,e=$("#question_"+i),l=$("#question_"+i+" .goods-wrapper");t.question.custom_attr.show_stock;l.find(".content>.footer>.operation> .reduce").each((function(){var i=$(this),e=i.parents(".goods-option").attr("data-id");_(t,i,e),u(t,i,e);var a=i.siblings("input").val();f(i,+(a=Object(o.l)({value:a,digits:"0",maxdigit:3})),t),Object(n.a)({terminal:"pc",qmodel:t,optionId:e,value:a})})),e.on({click:function(i){var e=$(this),o=e.attr("data-type"),a=e.siblings("input"),s=Number(a.val()),l=a.attr("id"),d=p(t,l);if(e.hasClass("disabled")&&m(i),!(!s&&"reduce"===o||s>=999&&"add"===o||d>-1&&s>=d&&"add"===o)){var r=s+("add"===o?1:-1);a.val(r),f(e,r,t),t.changeAnswerHandler(),Object(n.a)({terminal:"pc",qmodel:t,optionId:l,value:r})}}},".operation span"),e.on({input:function(i){var e=$(this),n=e.attr("id"),a=e.val();a=Object(o.l)({value:a,digits:"0",maxdigit:3});var s=p(t,n);+a>s&&s>-1&&(m(i),e.val(a.replace(a.substr(a.length-1,1),"")))},blur:function(i){var e=$(i.target),a=e.val(),s=e.attr("id");a=Object(o.l)({value:a,digits:"0",maxdigit:3});var l=Number(a);e.val(l),f(e,l,t),t.changeAnswerHandler(),Object(n.a)({terminal:"pc",qmodel:t,optionId:s,value:a})}},".option"),e.on({click:function(){for(var t=Object(a.b)(i).option_list,e=$(this).attr("data-id"),o="",n="",s=0;s<t.length;s++)t[s]._id.$oid===e&&(o=t[s].title.replace(/[<br\/>|<br>]/g," "),n=t[s].custom_attr.goods_info.detail);!function(t){var i={head:{inner:"<i></i>"+t.title,class:"cashPopup "+t.icon},content:{inner:t.content},width:900,height:540,btnRight:"",isFixed:!1,btnAlign:"right",showMask:!0,maskClickClose:!1,showCloseBtn:!0,noScroll:!1,popupType:"confirm",wrapClass:"goodsPopup",onRightClick:function(){location.reload(),e.destroy()}},e=new Popup(i);e.show()}({icon:"cash_success",title:o,content:n})}},".more-detile"),Object(s.b)(e,".goods-option .goods-img img")}function _(t,i,e){var o=Object(l.x)(t.qid,e),n=o.custom_attr.goods_info.default_qty;if("on"===t.question.custom_attr.show_stock&&o.custom_attr.goods_info&&o.custom_attr.goods_info.stock_qty>-1&&o._id.$oid===e){var a=p(t,e),s=i.parents(".goods-option"),d='<div class="stock">\n                    '.concat(__("goodsQuestion").stock,"\n                <span>").concat(a,"</span></div>");s.find(".stock").length>0?s.find(".stock span").html(a):i.parents(".footer").append(d),n>a&&s.find(".option").val("0"),0===a&&(s.find(".operation").hide(),s.find(".sell-out").show())}}function u(t,i,e){i.parent().find(".option").remove();var o=Object(l.x)(t.qid,e),n="on"===t.question.custom_attr.show_stock,a=o.custom_attr.goods_info.default_qty,s=p(t,e),d=a<=s?a:0;d=void 0!==window.currentStockQty[e]?d:n&&s<a?0:a;var r='<input type="text" class="option" id="'.concat(o._id.$oid,'" value="').concat(d,"\" autocomplete='off'>");i.after(r)}function p(t,i){var e,o=Object(l.x)(t.qid,i),n=(window.stockQty[i],"on"===t.question.custom_attr.show_stock);return e=void 0!==window.stockQty[i]?window.stockQty[i]:n?o.custom_attr.goods_info.stock_qty:-1,void 0!==window.currentStockQty[i]?-1===window.currentStockQty[i]&&-1===e?999:-1===e?isNotEmpty(window.currentStockQty)&&window.currentStockQty[i]:-1===window.currentStockQty[i]?e:Math.min(isNotEmpty(window.currentStockQty)&&window.currentStockQty[i],e):n?-1===e?999:e:999}function m(t){var i=new window.GuideText({maxWidth:180});i.show(t.currentTarget,{inner:__("goodsQuestion").errTip,direction:"top"}),setTimeout((function(){i.hidden()}),2e3)}function f(t,i,e){var o=t.parents(".operation").find(".reduce"),n=t.parents(".operation").find(".add"),a=t.parents(".goods-option").attr("data-id"),s=(e.question.custom_attr.show_stock,p(e,a));i?o.removeClass("disabled"):o.addClass("disabled"),s>-1&&s<=i||i>=999?n.addClass("disabled"):n.removeClass("disabled")}},66:function(t,i,e){"use strict";e.d(i,"f",(function(){return u})),e.d(i,"d",(function(){return p})),e.d(i,"a",(function(){return m})),e.d(i,"b",(function(){return f})),e.d(i,"e",(function(){return v})),e.d(i,"c",(function(){return h}));var o=e(2),n=e(0),a=e(32),s=e(8),l=e(80),d=e(127),r=e(13),c=e(11),_=e(37);function u(t){var i="question_"+t.qid,e=$("#"+i),a=$("#tip_"+t.qid),l=t.question.custom_attr,d=l.disp_type||"vertical",r=0;if(0==(r="multiple_dropdown"in l||"multiple_dropdown"==d?e.find("select>option.option_cell:not(.option-hide):selected").length:e.find(".option_cell:not(.option-hide) .option:checked").length))return"allow_null"in l||(a.text(__("8")),scroll_to(e),!1);var c=0,_=0;if(l.hasOwnProperty("min_answer_num")&&(c=parseInt(l.min_answer_num)),l.hasOwnProperty("max_answer_num")&&(_=parseInt(l.max_answer_num)),c>r&&0!=c)return a.text(__("9").format([c])),scroll_to(e),!1;if(_<r&&0!=_)return a.text(__("10").format([_])),scroll_to(e),!1;var u=!0;return e.find(".red").text(""),e.find(".option_open").removeClass("invalid"),e.find(".option:checked").each((function(){var i=$(this).attr("id").replace("option_","").replace(t.qid+"_related_",""),l=Object(n.x)(t.qid,i);if(l.is_open){var d=e.find("#option_open_"+get_oid(l));0==d.length&&(d=e.find("#"+t.qid+"_related_option_open_"+get_oid(l)));var r=d.next();if(Object(o.X)(d.val()))d.addClass("invalid"),a.text(__("120")),u=!1;else if(""!=d.val()||l.custom_attr.hasOwnProperty("allow_null")){if("char_count_limit"in l.custom_attr){var c=l.custom_attr.char_count;d.val().length>parseInt(c)?(t.show_option_msg(d.attr("id"),__("96").format([d.val().length-parseInt(c)])),scroll_to(e),u=!1):t.clear_option_msg(d.attr("id"))}else d.removeClass("invalid");if("checkmethod"in l.custom_attr){var _=l.custom_attr.checkmethod;if(isNotEmpty(_))s.b.get_method(_)(d.val())?u&&(d.removeClass("invalid"),r.text("")):(r.text(s.b.get_err_msg(_)),d.addClass("invalid"),a.text(__("15")),u=!1)}}else d.addClass("invalid"),a.text(__("15")),u=!1}})),u?a.text(""):scroll_to(e),u}function p(t){var i="question_"+t.qid,e=$("#"+i),o=[],a=e.find(".option_cell:not(.option-hide) .option:checked"),s=t.question.custom_attr.disp_type||"vertical";return("multiple_dropdown"in t.question.custom_attr||"multiple_dropdown"==s)&&(a=e.find("select>option.option_cell:not(.option-hide):selected")),a.each((function(){var i=[],a=$(this).attr("id").replace("option_","").replace(t.qid+"_related_","");i.push(a);var s=Object(n.x)(t.qid,a);if(s.is_open){var l=e.find("#option_open_"+get_oid(s));0==l.length&&(l=e.find("#"+t.qid+"_related_option_open_"+get_oid(s))),isNotEmpty(l.val())&&i.push(l.val())}o.push(i)})),o}function m(t){var i=t.qid,e=$("#question_"+i);isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(c.f)(i),v(i),window.inputVal("#question_"+i+" .option_open"),Object(r.a)(t),Object(_.a)(t,e)}function f(t){var i="",e=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&(i=Object(c.f)(e,"dropdown")?"disabled":""),window.Selectionsearch($("#question_"+e).find(".w-selection"),{placeholder:__("pleaseSelect"),searchText:__("searchText"),state:i},(function(i){t.changeAnswerHandler()})),v(e),window.inputVal("#question_"+e+" .option_open")}function v(t){var i=Object(a.b)(t),e=$("#question_"+i.qid);e.find(".option").on("change",(function(){$(this).attr("exclusive")?this.checked&&e.find(".option").not(this).prop("checked",!1):this.checked&&e.find(".option[exclusive=1]").prop("checked",!1)})),e.find(".option_cell").each((function(){var t=$(this).attr("option-id");$(this).on("click",".label_"+t+" #q_title_image, .label_"+t+" #videoIcon",(function(){$(".label_"+t+" #opt_imageContentBox").css({position:"absolute"});var i=$(".label_"+t+" #opt_imageContentBox").next("iframe").attr("data-src");$(".label_"+t+" #opt_imageContentBox").next("iframe").attr("src",i+"&question_type=multiplevote").css("display","block"),window.addEventListener("message",(function(i){$(".label_"+t+" #opt_imageContentBox").fadeOut()}),!1)}))}))}function h(t){var i=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(c.f)(i);var e=$("#question_"+i);v(i),window.inputVal("#question_"+i+" .option_open"),"data_show"in t.question.custom_attr&&e.find(".icheckbox_div .option").on("change",(function(){Object(l.a)(i)})),e.find(".option_cell").click((function(t){$(t.target).data("stop-propagation")&&t.preventDefault()})),e.on("click",".btn_view_option_desc",(function(){var t=$(this).attr("option-id"),e=project&&"vote_scene"===project.scene_type;Object(d.a)(i,t,e)}))}},67:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(2),n=e(0),a=e(8);function s(t){var i="question_"+t.qid,e=$("#"+i),s=$("#tip_"+t.qid),l=!0;return e.find(".option").each((function(){var i=$.trim($(this).val()),e=$(this).next(),s=this.id.replace("option_",""),d=Object(n.x)(t.qid,s),r=!0;if(Object(o.X)(i))e.text(__("120")),r=!1;else if(isNotEmpty(i)){var c=this.id;if(Object(n.f)(d,i)||(t.show_option_msg(c,__("errorInputTextSpecifyContent")),r=!1),"char_count"in d.custom_attr||"char_count_min"in d.custom_attr){var _=d.custom_attr.char_count,u=d.custom_attr.char_count_min;_&&u?parseInt(_)==parseInt(u)?i.length!=parseInt(_)&&(t.show_option_msg(this.id,__("115").format([parseInt(_)])),r=!1):(i.length<parseInt(u)||i.length>parseInt(_))&&(t.show_option_msg(this.id,__("114").format([u,_])),r=!1):_&&i.length>parseInt(_)?(t.show_option_msg(this.id,__("117").format([parseInt(_)])),r=!1):u&&i.length<parseInt(u)?(t.show_option_msg(this.id,__("116").format([parseInt(u)])),r=!1):t.clear_option_msg(this.id)}if("number"==d.custom_attr.checkmethod){var p=d.custom_attr,m=p.min_num,f=p.max_num,v=p.precision;Object(a.a)(i,m,f,v,$(this))?t.clear_option_msg(this.id):(t.show_option_msg(this.id,__("errorRangeNumber")),r=!1)}if("checkmethod"in d.custom_attr){var h=d.custom_attr.checkmethod;if(isNotEmpty(h))a.b.get_method(h)(i)||(e.text(a.b.get_err_msg(h)),r=!1)}}else"allow_null"in t.question.custom_attr||"allow_null"in d.custom_attr?e.text(""):(e.text(__("3")),r=!1);r?e.text(""):l=!1})),l?(s.text(""),!0):(s.text(__("15")),scroll_to(e),!1)}function l(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".option").each((function(){var t=this.id.replace("option_","");if(isNotEmpty($(this).val())){var i=$(this).val();o[t+"_open"]=$.trim(i)}})),o}function d(t){window.inputVal("#question_"+t.qid+" .option");var i="question_"+t.qid;$("#"+i).find(".option").each((function(){var e=this.id.replace("option_",""),o=Object(n.x)(t.qid,e);Object(n.b)({option:o,qid:i,blankType:"mutiple",optionId:e,device:"pc"}),Object(n.c)()})),Object(o.b)(i)}},68:function(t,i,e){"use strict";e.d(i,"d",(function(){return r})),e.d(i,"e",(function(){return _})),e.d(i,"a",(function(){return u})),e.d(i,"c",(function(){return p})),e.d(i,"f",(function(){return m})),e.d(i,"b",(function(){return f}));var o=e(8),n=e(187),a=e.n(n),s=e(2),l=new a.a({maxWidth:216}),d=new a.a({maxWidth:216});function r(t){var i=$("#question_"+t.qid).find(".auto-table-wrap"),e=i.width(),o=t.question.option_id_list.length,n=Math.floor((e-o-1)/o);i.find(".option_label div").outerWidth(Number(n)>176?n:176)}function c(t){t.find(".w-select-dom").remove(),window.Selector(t,"",(function(i){var e=$(i.currentTarget).data("value");t.parents("td").find("textarea").val(e)})),setTimeout((function(){t.find(".w-select-dom").outerWidth(140),t.find(".w-select-options-wrapper").outerWidth(140)}),50)}function _(t){var i=t.parents(".question").attr("id").replace("question_",""),e=t.parents("tr").index(),o=t.attr("option_id");window.Selector.changeSelectorValue({selector:"#question_".concat(i," tr:eq(").concat(e,') .w-select-autotable[option_id="').concat(o,'"]'),value:t.find("textarea").val()})}function u(t,i){for(var e=$("#question_"+t.qid),o=e.find("table"),n=e.find(".del-icon-wrap"),a=0;a<i;a++)o.append(o.find("tr.hide").clone(!0).removeClass("hide")),o.find("tr:last .w-select-autotable").each((function(){c($(this))})),n.append('<i class="w-icon-del none new-line"></i>')}function p(t){!function(t){$("#question_"+t.qid).find(".w-select-autotable").each((function(){c($(this))}))}(t);var i=$("#question_"+t.qid),e=i.find("table"),n=i.find(".del-icon-wrap"),a=$("#tip_"+t.qid);i.on("click",".add-a-line-btn",(function(){e.find("tr.data_row").length-1>=t.question.custom_attr.max_answer_num?window.Toast(__("lineCountMax").format([t.question.custom_attr.max_answer_num])):((a.text().indexOf("至少填写")>=0||a.text().indexOf("Please fill in at least")>=0)&&e.find("tr.data_row").length>=t.question.custom_attr.min_answer_num&&a.html(""),u(t,1),setTimeout((function(){e.find("tr:last td:first textarea").focus()}),50))})),i.on("hover","tr",(function(){var t=$(this).index();n.children().eq(t).toggleClass("none")})),i.on("mouseenter",".del-icon-wrap i",(function(){$(this).removeClass("none")})),i.on("mouseleave",".del-icon-wrap i",(function(){$(this).addClass("none")})),n.on("click",".w-icon-del.new-line",(function(){var i=$(this);e.find("tr").eq(i.index()).remove(),i.remove(),t.changeAnswerHandler()})),function(t){var i=$(d.noder);t.on("input","textarea",(function(){var t=$(this),i=t.val().trim();t.attr("data-title",i),i||d.hidden()})),t.on("mouseenter",".option_label .show_title",(function(e){var o=$(this).attr("data-title");if(o){d.show(e.currentTarget,{inner:o,direction:"bottom",colorType:"black"}),i.addClass("q-autotable-input-bubble");var n=i.css("left").replace("px",""),a=i.css("top").replace("px",""),s=t.find(".auto-table-wrap").scrollLeft();i.css({left:n-s,top:a-6})}})),t.on("mouseleave",".option_label .show_title",(function(t){d.hidden()})),i.on("mouseenter",(function(){$(this).show()})),i.on("mouseleave",(function(){$(this).hide()}))}(i),function(t){$("#question_"+t.qid).on("blur","textarea",(function(){var t=$(this),i=t.attr("checkmethod"),e=t.val().trim();isNotEmpty(i)&&isNotEmpty(e)&&(o.b.get_method(i)(e)?t.removeClass("error"):t.addClass("error").attr("data-error-txt",o.b.get_err_msg(i)))}))}(t),i.on("focus","textarea",(function(t){var e=$(this);if(e.hasClass("error")){e.removeClass("error"),l.show(t.currentTarget,{inner:e.attr("data-error-txt"),direction:"top"});var o=$(l.noder);o.addClass("q-auto-err-guide");var n=o.css("left").replace("px",""),a=i.find(".auto-table-wrap").scrollLeft();o.css({left:n-a}),setTimeout((function(){l.hidden()}),2e3)}})),i.on("click",".w-select .w-select-input",(function(t){var e=t.target,o=$($(e).closest(".w-select-dom")).find(".w-select-options-wrapper"),n=$(o).closest(".w-select").offset().left-i.offset().left;$(o).css({left:n})})),$(".auto-table-wrap").scroll((function(){$(".w-select-options-wrapper").hide(),$(".active-input").removeClass("active-input")})),Object(s.Y)(t)}function m(t){var i=$("#question_"+t.qid),e=$("#tip_"+t.qid),o=!0,n="allow_null"in t.question.custom_attr;if(i.find(".data_row").length-1<t.question.custom_attr.min_answer_num&&!n)e.text(__("lineCountMin").format([t.question.custom_attr.min_answer_num])),o=!1;else if(i.find("textarea").hasClass("error"))e.text(__("15")),o=!1;else{if(i.find(".data_row").each((function(){var t=$(this);if(!t.hasClass("hide")){var i=t.find("textarea"),a="";i.each((function(){var t=$(this).val().trim();a+=t;var i=$(this).attr("allow_null");""==t&&(n||i||(e.text(__("required")),o=!1))})),""==a?t.addClass("empty-tr"):t.removeClass("empty-tr")}})),i.find(".data_row").hasClass("empty-tr"))f(t,!0).length>=t.question.custom_attr.min_answer_num&&(o=!0,i.find(".data_row").each((function(){var t=$(this);t.hasClass("hide")||t.hasClass("empty-tr")||t.find("textarea").each((function(){var t=$(this).val().trim(),i=$(this).attr("allow_null");""==t&&(n||i||(e.text(__("required")),o=!1))}))})))}return o&&e.text(""),o}function f(t,i){var e=$("#question_"+t.qid),o=[];e.find(".data_row").each((function(){var t={},i="";$(this).find("textarea").each((function(){var e=$(this).attr("option_id");t[e]=$(this).val().trim(),i+=$(this).val().trim()})),i&&o.push(t)}));for(var n={},a=0;a<t.question.option_id_list.length;a++){for(var s=t.question.option_id_list[a],l=[],d=0;d<o.length;d++)l.push(o[d][t.question.option_id_list[a]].replace(/\|\|/g,""));n[s+"_open"]=l.join("||")}if(i)return o;var r="";for(var c in n)r+=n[c];return r||(n={}),n}},71:function(t,i,e){"use strict";e.d(i,"d",(function(){return p})),e.d(i,"c",(function(){return m})),e.d(i,"a",(function(){return f})),e.d(i,"b",(function(){return v}));var o=e(66),n=e(56),a=e(80),s=e(0),l=e(8),d=e(127),r=e(13),c=e(11),_=e(37),u=e(2);function p(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=t.question.custom_attr,a=e.find(".option:checked").length;if(0==a)return"allow_null"in n||(o.text(__("8")),scroll_to(e),!1);if(e.find(".option:checked").parents(".option-pc, .image-option").hasClass("other-option"))return!0;var d=0,r=0;if(n.hasOwnProperty("min_answer_num")&&(d=parseInt(n.min_answer_num)),n.hasOwnProperty("max_answer_num")&&(r=parseInt(n.max_answer_num)),d>a&&0!=d)return o.text(__("9").format([d])),scroll_to(e),!1;if(r<a&&0!=r)return o.text(__("10").format([r])),scroll_to(e),!1;var c=!0;return e.find(".option:checked").each((function(){var i=$(this).attr("id").replace("option_",""),n=Object(s.x)(t.qid,i);if(n.is_open){var a=e.find("#option_open_"+get_oid(n)),d=a.next();if(""==a.val())d.text(__("2")),o.text(__("14")),c=!1;else if("checkmethod"in n.custom_attr){l.b.get_method(n.custom_attr.checkmethod)(a.val())?d.text(""):(d.text(__("33")),o.text(__("13")),c=!1)}}})),c?o.text(""):scroll_to(e),c}function m(t){var i="question_"+t.qid,e=$("#"+i),o=[];return e.find(".option:checked").each((function(){var i=[],n=$(this).attr("id").replace("option_","");i.push(n);var a=Object(s.x)(t.qid,n);if(a.is_open){var l=e.find("#option_open_"+get_oid(a));i.push(l.val())}o.push(i)})),o}function f(t){var i=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(c.f)(i,"image");var e=$("#question_"+i);Object(n.b)(e),Object(o.e)(t.qid),Object(r.a)(t),Object(_.a)(t,e)}function v(t){var i,e,s=t.qid;isNotEmpty(globalData.quotaUtils.quotaUsageInfo)&&Object(c.f)(s);var l=$("#question_"+s);Object(o.e)(s),"imagevote_multiple"===(null===(i=t.question)||void 0===i||null===(e=i.custom_attr)||void 0===e?void 0:e.disp_type)?Object(u.I)(t):(Object(n.b)(l),"data_show"in t.question.custom_attr&&(l.find(".voteProgressBox canvas").remove(),l.find(".option").on("click",(function(){Object(a.b)(s)}))),l.on("click",".btn_view_option_desc",(function(){var t=$(this).attr("option-id"),i=project&&"vote_scene"===project.scene_type;Object(d.a)(s,t,i)})))}},72:function(t,i,e){"use strict";e.d(i,"d",(function(){return l})),e.d(i,"c",(function(){return d})),e.d(i,"b",(function(){return r})),e.d(i,"a",(function(){return c}));var o=e(17),n=e(32);function a(t){this.mb=$("#"+t),this.obj={};var i=t.replace("question_",""),e=Object(n.b)(i),a=!1,l=!1;e&&e.question.custom_attr&&"scale"==e.question.custom_attr.disp_type&&(l=!0),l&&e.question.custom_attr.options_title_switch&&"on"==e.question.custom_attr.options_title_switch&&(a=!0);var d=parseInt(this.mb.attr("minnum")),r=parseInt(this.mb.attr("maxnum")),c=r-d+1;if("op_slider"!=this.mb.attr("score_display"))return s(t,c),$(window).resize((function(){$("#"+t).length>0&&s(t,c)})),this.event=function(){var t=this;$(".table_score .div_float",t.mb).off().on({mouseenter:function(){t.select($(this),"mouseenter")},click:function(){var i=$(this).parents(".table_score");$(".div_float",i).off("mouseenter"),$(this).addClass("active").siblings().removeClass("active"),t.select($(this),"click")}}),$(".table_score",t.mb).off().on("mouseleave",(function(){var t=$(this);t.parent().parent().find(".active").length>0?$(".div_float",t).removeClass("back_max"):(t.parent().parent().find(".score").text(""),$(".div_float",t).removeClass("back_n").removeClass("back_max"))}))},this.select=function(i,e){var o=i.parents(".table_score"),a=$(".div_float",o),s=a.index(i);(o.parent().parent().find(".score").text(i.attr("score_v")),a.removeClass("back_n").removeClass("back_max"),a.each((function(t,i){if(t>s)return!1;$(this).addClass("back_n"),t==s&&$(this).addClass("back_max")})),"click"===e)&&Object(n.b)(t.replace("question_","")).changeAnswerHandler()},this.history=function(t){var i=t.parents(".table_score"),e=$(".div_float",i),o=e.index(t);i.parent().parent().find(".score").text(t.attr("score_v")),e.removeClass("back_n").removeClass("back_max"),e.each((function(t,i){if(t>o)return!1;$(this).addClass("back_n")}))},this.event();this.mb.find(".s_tag_m").css("width",50/(c-1)+"%"),this.mb.find(".s_tag_c").css("width",100/(c-1)+"%"),this.mb.find(".score_slider").attr({"data-slider-unit":500}).slider({min:500*d,max:500*r,range:"min",create:function(t,i){l?$(this).find(".ui-slider-handle").append('<span class="num disp_none"><div class="num-inner"></div></span>'):$(this).find(".ui-slider-handle").append('<span class="num"></span><div class="score_widget_tc disp_none"></div>')},slide:function(t,i){var o=$(this).find(".ui-state-default");o.addClass("slider_def"),o.find(".num").text("");var n=o[0].style.left;n||(n="0%");var s=Math.round(i.value/500);if(s>r&&(s=r),$(this).find(".score_widget_tc").removeClass("disp_none").text(s),$(this).parents(".score_row").find(".score").text(s),l){var d="";if(a){var c=parseInt(s)-parseInt(e.question.custom_attr.min_answer_num);d=parseInt(s)==parseInt(e.question.custom_attr.min_answer_num)?e.question.custom_attr.desc_left:parseInt(s)==parseInt(e.question.custom_attr.max_answer_num)?e.question.custom_attr.desc_right:e.question.custom_attr.options&&e.question.custom_attr.options[c]?e.question.custom_attr.options[c].title:"自定义内容"}else d=s;var _=$(this).closest(".q_scale_wrapper").find(".score.disp_none")[0];$(_).addClass("show"),$($(this).closest(".question").find(".q_scale_wrapper_option_title")).text(d);var u=$(this).closest(".question").find(".q_scale_wrapper_option_title")[0].offsetWidth;$(o.find(".num")).removeClass("ui-state-hover"),o.find(".num").html('<span class="show-tool-tip">'+d+"</span>").css({width:u}).show()}},stop:function(i,e){var a=$(this).parents(".score_row").find(".score").text(),s=$(this).find(".ui-state-default");""!=a&&(s.removeClass("slider_def").addClass("slider_def_blue"),$(this).parent().find(".score_widget_tc").addClass("disp_none"),l?$(this).parent().find(".num").addClass("disp_none"):s.find(".num").text(a));var d=t.replace("question_","");window.location.href.indexOf("/r/upsert/")<0&&Object(o.a)(d),Object(n.b)(d).changeAnswerHandler()}}),this.mb.find(".score_slider .ui-state-default").addClass("slider_def")}function s(t,i){var e=$("#"+t),o=e.find(".score_title"),n=e.find(".table_score_v2"),a=n.width(),s=e.find(".div_float:first .score_i:first").width(),l=(a-s*i)/(2*i-2),d=a;n.find("td").css("width",2*l+s+"px"),n.find("td:first").css("width",s+l+"px"),n.find("td:first").css("text-align","left"),n.find("td:last").css("text-align","right"),o.css({width:d})}function l(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0;return e.find(".data_row .score").each((function(){var i=$(this).text();""==i&&("allow_null"in t.question.custom_attr||(n=!1)),isNaN(i)&&(n=!1)})),n?o.text(""):(o.text(__("16")),scroll_to(e)),n}function d(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row .score").each((function(){var t=$(this).text(),i=[],e=this.id.replace("option_","");i.push(t),o[e]=i})),o}function r(t){new a("question_"+t.qid)}function c(t){if(!($(".guide_text").length>0&&"288px"==$(".guide_text").css("max-width"))){var i=new window.GuideText({maxWidth:288});$("body").on("mouseenter",".show-tooltip",(function(t){var e=t||window.event,o=$(this).attr("data-title"),n=$(this).attr("data-direction")||"top",a=$(this).attr("data-color-type")||"original";$(this).attr("data_not_show_guide")||i.show(e.currentTarget,{inner:o,direction:n,colorType:a})})).on("mouseleave",".show-tooltip",(function(t){i.hidden()}))}}},8:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"a",(function(){return a}));var o=e(3);function n(t){return!0}function a(t,i,e,n,a){return Object(o.m)(t,i,e,n,a)}var s={get_method:function(t){return""==t?n:{number:o.k,alphabet:o.d,chinese:o.a,email:o.c,mobile:o.j,url:o.p,id_num:o.h,text:o.o}[t]},get_err_msg:function(t){return{number:__("75"),alphabet:__("76"),chinese:__("77"),email:__("78"),mobile:__("79"),url:__("errorInputUrl"),id_num:__("errorInputIdNum"),text:__("errorInputText")}[t]},get_input_msg:function(t){return{number:__("80"),alphabet:__("81"),chinese:__("82"),email:__("83"),mobile:__("84")}[t]}}},80:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return s})),e.d(i,"c",(function(){return l}));var o=e(32),n=e(2);function a(t,i){var e=Object(o.b)(t),a=$("#question_"+e.qid),s=window.vote_count[e.qid];if(Object(n.Q)()&&i){for(var l=0;l<i.length;l++)s[i[l]]>0&&(s[i[l]]-=1);window.vote_count[e.qid+"_count"]-=1}var d=parseFloat(window.vote_count[e.qid+"_count"])||0,r=a.find(".questionImgBox"),c=r.find(".voteProgressBox");try{if(0===c.find("canvas").length)document.createElement("canvas").getContext("2d"),c.each((function(){$(this).radialIndicator({radius:50,barColor:"#53a4f4",barBgColor:"transparent",barWidth:5,initValue:0,fontColor:"white",voteNum:4,fontSize:16,fontFamily:"microsoft yahei",fontWeight:"normal",percentage:!0})}));c.show(),r.each((function(){var t=$(this).find(".voteProgressBox").data("radialIndicator"),i=$(this).find(".option"),e=i.attr("id").split("_")[1],o=i.attr("name").split("_")[1],n=window.total_answers[o],a=0;if(s&&(a=parseFloat(s[e])||0,window.vote_change&&a>0&&n))if(n[0]instanceof Array){for(var l=[],r=0;r<n.length;r++)l.push(n[r][0]);-1!=l.indexOf(e)&&(a-=1)}else e==n[0]&&(a-=1);i.is(":checked")&&(a+=1);var c=d+1;window.vote_change&&n&&(n[0]instanceof Array?c-=n.length:c-=1);var _=0;0!=c&&(_=a/c*100),t.option("voteNum",a),t.animate(_);var u=_.toFixed(2).toString()+"%<br/>"+a.toString()+window.vote_unit;$(this).find(".progress_info").html(u)}))}catch(t){c.show(),r.each((function(){var t=$(this).find(".progress_info"),i=$(this).find(".option"),e=i.attr("id").split("_")[1],o=i.attr("name").split("_")[1],n=window.total_answers[o],a=0;if(s&&(a=parseFloat(s[e])||0,window.vote_change&&a>0&&n))if(n[0]instanceof Array){for(var l=[],r=0;r<n.length;r++)l.push(n[r][0]);-1!=l.indexOf(e)&&(a-=1)}else e==n[0]&&(a-=1);i.is(":checked")&&(a+=1);var c=d+1;window.vote_change&&n&&(n[0]instanceof Array?c-=n.length:c-=1);var _=0;0!=c&&(_=a/c*100);var u=_.toFixed(2).toString()+"%<br/>"+a.toString()+window.vote_unit;t.html(u)}))}}function s(t,i){if(window.vote_count){var e=Object(o.b)(t),a=$("#question_"+e.qid),s=window.vote_count[e.qid];if(Object(n.Q)()&&i){for(var l=0;l<i.length;l++)s[i[l]]>0&&(s[i[l]]-=1);window.vote_count[e.qid+"_count"]-=1}var d=parseFloat(window.vote_count[e.qid+"_count"])||0;a.find(".icheckbox_div .fontVoteProgressBox").show(),a.find(".icheckbox_div").each((function(){var t=$(this).find(".progress_vote"),i=$(this).find(".option"),e=i.attr("id").split("_")[1],o=i.attr("name").split("_")[1],n=window.total_answers[o],l=0;if(s&&(l=parseFloat(s[e])||0,window.vote_change&&l>0&&n))if(n[0]instanceof Array){for(var r=[],c=0;c<n.length;c++)r.push(n[c][0]);-1!=r.indexOf(e)&&(l-=1)}else e==n[0]&&(l-=1);i.is(":checked")&&(l+=1);var _=d+1;window.vote_change&&n&&(n[0]instanceof Array?_-=n.length:_-=1);var u="0.00%";0!=_&&(u=(l/_*100).toFixed(2).toString()+"%"),a.find(".icheckbox_div")&&a.find(".icheckbox_div").length>200?t.css({width:u}):t.animate({width:u},200);var p=$(this).find(".progress_info");p.find(".percentage").html(u);var m=l.toString()+window.vote_unit;p.find(".vote_N").html(m)}))}}function l(t,i,e){switch(i.question.custom_attr.disp_type){case"singlevote":case"multiplevote":s(t,e);break;case"imagevote_single":case"imagevote_multiple":a(t,e)}}},84:function(t,i,e){"use strict";e.d(i,"d",(function(){return l})),e.d(i,"c",(function(){return d})),e.d(i,"b",(function(){return r})),e.d(i,"a",(function(){return c}));var o=e(2),n=e(8),a=e(97),s=e.n(a);function l(t){var i="question_"+t.qid,e=t.question.custom_attr.drop_type,a=$("#"+i),s=$("#tip_"+t.qid),l=!0,d=!0,r=!1,c=!1,_="allow_null"in t.question.custom_attr,u=a.find("input:not(.hide).other-option-descript");return a.find(".option").each((function(){var t=$(this),i=t.find("option").eq(this.selectedIndex).prop("disabled");if("cascader"==e)_||t.find("option").length>1&&!t.attr("data-cascader-select-index")&&(l=!1),u.length>0&&""===u.val()&&(l=!1,c=!0,u.addClass("invalid"));else if("delivery_address"==e){var a=t.hasClass("receive-tel-input")&&!n.b.get_method("mobile")(this.value);_?""!==this.value&&a&&(r=!0,l=!1):""===this.value?l=!1:a&&(r=!0,l=!1)}else Object(o.X)(this.value)?(l=!1,d=!1):(i||""==this.value)&&(_||(l=!1))})),l?s.text(""):(r?s.text(__("79")):c?s.text(__("12")):d?s.text(__("4")):s.text(__("120")),scroll_to(a)),l}function d(t){var i="question_"+t.qid,e=$("#"+i),o={},n=t.question.custom_attr.drop_type,a="";return e.find(".option").each((function(){var t="1"===$(this).find("option:selected").attr("other-option");if("cascader"==n)if(t){var i=e.find(".other-option-descript");i.hasClass("invalid")&&i.removeClass("invalid");var l=i.val();a=[s()($(this).attr("data-cascader-select-value")),l]}else a=s()($(this).attr("data-cascader-select-value"))||"";else a=this.value;o[$(this).attr("id")+"_open"]=a})),o}function r(t){var i=t.question;t.bind_drop(),"address"===i.custom_attr.drop_type&&window.inputVal("#"+i.option_list[3]._id.$oid)}function c(t){var i=$("#question_"+t.qid),e={children:t.question.custom_attr.option_data||[]};$("#question_"+t.qid).find(".w-selection-wrapper").remove(),window.Selectionsearch($("#question_"+t.qid).find(".w-selection-cascader"),{placeholder:__("pleaseSelect"),searchText:__("searchText")},(function(o){!function o(n){var a=n.dom.find("select"),s=a.val(),l=a.find("option:selected").text(),d=Number.parseInt(a.attr("data-cascader-index")||0),r=Number.parseInt(a.attr("data-cascader-end-index")||4),c=d,_="1"===a.find("option:selected").attr("other-option"),u=i.find(".other-option-descript");if(u.val(""),_?u.removeClass("hide"):u.addClass("hide"),l=(s="0"===s?"":s)?l:"",a.attr("data-cascader-select-index",s).attr("data-cascader-select-value",l),d>=r)return;var p=[];if(s)for(;c>=0;)p.unshift(i.find("[data-cascader-index="+c+"]").attr("data-cascader-select-index")||0),c--;var m={},f=0;if(p.length>0)for(m=e;p.length>0;)f=Number.parseInt(p.shift())-1,m=m.children[f]||{};c=d+1;var v=null,h="",q=[];for(;c<=r;){if(q=m.children||[],v=i.find("[data-cascader-index="+c+"]"),q.length>0||!s?v.find("option[value=0]").text(v.attr("data-cascader-select-title")):v.find("option[value=0]").text("--"),v.find("option:not([value=0])").remove(),v.attr("data-cascader-select-index","").attr("data-cascader-select-value",""),c==d+1&&q.length>0){for(var w=0,g=q.length;w<g;w++)h+=(b=w+1,x=q[w].title||"",y=q[w].other_option||"","<option value=".concat(b," other-option=").concat(y,">").concat(x,"</option>"));h&&v.append(h)}c++,v.siblings(".w-selection-wrapper").remove(),window.Selectionsearch(v.parents(".w-selection-cascader"),{placeholder:q.length>0||!s?__("pleaseSelect"):"--",searchText:__("searchText")},(function(i){o(i),t.changeAnswerHandler()}))}var b,x,y}(o),t.changeAnswerHandler()}))}},85:function(t,i,e){"use strict";function o(t){this.mb=$("#"+t),this.obj={};var i=parseInt(this.mb.attr("minnum")),e=parseInt(this.mb.attr("maxnum")),o=e-i+1;if("op_slider"!=this.mb.attr("score_display"))return this.event=function(){$(".table_score .div_float",this.mb).off().on({mouseenter:function(){var t=$(this),i=t.closest(".table_score");i.find(".hover").removeClass("hover"),i.find(".div_float:lt("+(t.index()+1)+")").addClass("hover")},click:function(){var i=$(this),e=i.closest(".table_score");$(".div_float",e).off("mouseenter"),e.closest(".option_cell").find(".score").text(i.attr("score_v")),e.find(".hover,.active").removeClass("hover active"),e.find(".div_float:lt("+(i.index()+1)+")").addClass("active"),window.get_qmodel(t.replace("question_","")).changeAnswerHandler()}}),$(".table_score",this.mb).off().on("mouseleave",(function(){var t=$(this);0===t.find(".active").length&&t.find(".hover").removeClass("hover")}))},this.event();this.mb.find(".s_tag_m").css("width",50/(o-1)+"%"),this.mb.find(".s_tag_c").css("width",100/(o-1)+"%"),this.mb.find(".score_slider").attr({"data-slider-unit":500}).slider({min:500*i,max:500*e,value:500*i,range:"min",create:function(t,i){$(this).find(".ui-slider-handle").append('<span class="num"></span>')},slide:function(t,i){var o=$(this).find(".ui-state-default");o.addClass("slider_def"),o.find(".num").text("");var n=o[0].style.left;n||(n="0%");var a=Math.round(i.value/500);a>e&&(a=e),$(this).find(".score_widget_tc").removeClass("disp_none").text(a),$(this).parents(".score_row").find(".score").text(a),o.find(".num").text(a).show()},stop:function(i,e){var o=$(this).parents(".score_row").find(".score").text(),n=$(this).find(".ui-state-default");""!=o&&(n.removeClass("slider_def").removeClass("slider_def_gray").addClass("slider_def_blue"),$(this).parent().find(".score_widget_tc").addClass("disp_none"),n.find(".num").text(o));var a=t.replace("question_","");window.get_qmodel(a).changeAnswerHandler()}}),this.mb.find(".score_slider .ui-state-default").addClass("slider_def").addClass("slider_def_gray")}function n(t){var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=!0;return e.find(".data_row .score").each((function(){if(!$(this).closest(".option_cell").hasClass("option-hide")){var i=$(this).text();""==i&&("allow_null"in t.question.custom_attr||(n=!1)),isNaN(i)&&(n=!1)}})),n?o.text(""):(o.text(__("16")),scroll_to(e)),n}function a(t){var i="question_"+t.qid,e=$("#"+i),o={};return e.find(".data_row .score").each((function(){var i=$(this).text();if(i){var e=[],n=this.id.replace("option_","").replace(t.qid+"_related_","");e.push(i),o[n]=e}})),o}function s(t){new o("question_"+t.qid)}function l(t,i){var e=t.qid,o=$("#question_"+e),n=t.question.custom_attr.score_display,a=-1!==i.indexOf("related_")?"related-id":"option-id",s=o.find(".option_cell[".concat(a,'="').concat(i,'"]'));if(s.find(".score").text()){switch(n){case"slider":s.find(".ui-slider-handle").css({left:0}),s.find(".ui-slider-range").css({width:0}),s.find(".ui-slider-handle .num,.score").text("").hide();break;default:s.find(".div_float").removeClass("active"),s.find(".score").text("")}t.changeAnswerHandler()}}e.d(i,"d",(function(){return n})),e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return s})),e.d(i,"c",(function(){return l}))},98:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(55),n=e(0),a=e(2);function s(t){for(var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=e.find(".option"),a=0;a<n.length;a++){var s=$.trim($(n[a]).val());if(!isNotEmpty(s))return"allow_null"in t.question.custom_attr?(o.text(""),!0):(o.text(__("uploadFile").validateFailed),scroll_to(e),!1)}return!0}function l(t){for(var i="question_"+t.qid,e=$("#"+i).find(".option"),o=[],n=0;n<e.length;n++){var a=$(e[n]).val();(a=a.replace(/[,，]/g,""))&&o.push(a)}var s={};return o.length>0&&(s[e.attr("data-id")+"_open"]=o.join(",")),s}function d(t){var i=t.qid,e=t.question,o=$("#before_file_upload_"+i);Object(n.e)(o,t),$("#file_"+i).change((function(){var o=$(this)[0].files;o&&r(o,i,e,t)}));var a=document.getElementById("before_file_upload_"+i);a.addEventListener("dragover",(function(t){t.preventDefault(),t.stopPropagation()})),a.addEventListener("dragenter",(function(t){t.preventDefault(),t.stopPropagation()})),a.addEventListener("drop",(function(o){o.preventDefault(),o.stopPropagation();var n=this.files||o.dataTransfer.files;n&&r(n,i,e,t)}))}function r(t,i,e,s){if($(".delete_link,.cancel").removeClass("reupload"),t.length>0){var l=e.custom_attr.upload_num||1,d=t.length,r=$("#upload_files_"+i+" .upload_file").length,c=$("#upload_files_"+i+" .upload_file.hide").length,_=r+d-c,u=e.custom_attr.upload_limit_setting,p=e.custom_attr.upload_limit_content,m=e.custom_attr.upload_size;if(1==d?$("#before_file_upload_"+i).attr("data-num","single"):$("#before_file_upload_"+i).attr("data-num",""),!$("#upload_files_"+i+" .upload_file").hasClass("rechoose"))if(_==l)$("#before_file_upload_"+i).addClass("hide");else if(_>l)return c>0?(window.Toast({message:1==l?__("qUploadOneMore"):__("qUploadSurplus").format([l]),maxWidth:270}),!1):(window.Toast({message:l-r==1?__("qUploadOneMore"):__("qUploadSurplus").format([l-r]),maxWidth:270}),!1);for(var f=0;f<t.length;f++){var v,h,q,w=t[f].name.replace(/[,，|]/g,""),g=w.split(".")[w.split(".").length-1],b=null;if($("#upload_files_"+i+" .upload_file").hasClass("rechoose"))b=$("#upload_files_"+i).find(".upload_file.rechoose"),Object(n.B)(i,b,"pcUploadFile");else{var x=$("#upload_files_"+i+" .upload_file.hide").length;0!=x&&x||Object(n.C)(i,s,"pcUploadFile"),b=$("#upload_files_"+i).find(".upload_file:last")}b.attr("data-type","default").find(".info_img").attr("data-type","default"),null===(v=b.find(".circle-progress"))||void 0===v||v.show(),null===(h=b.find(".default-img"))||void 0===h||h.show(),null===(q=b.find("img"))||void 0===q||q.hide(),b.find(".option").val(""),b.find(".error_tip").text("").hide(),b.find(".progress_bar").addClass("hide"),b.removeClass("hide").find(".file_name").text(w),Object(n.j)(b,i);var y="6104e9cbbac485d4fdd0ac62"===get_oid(project)?50:Object(a.V)()||m||30,k=1024*y*1024,O=0;try{if(void 0!==t[f].size)O=t[f].size;else{var j=document.getElementsByClassName("tempImg")[0];j.dynsrc=t[f].value,O=j.size}}catch(t){O=0}b.find(".filesize").text(Object(n.h)(O)),u&&p&&Object(n.E)(g,p)?Object(o.e)(i,b,"format_error",g,null,t[f]):-1!=w.indexOf("|")?alert("文件名中请勿包含“|”"):O>k?Object(o.e)(i,b,"error",g,"".concat(y,"M"),t[f]):Object(o.f)(e.project_id,i,t[f],b,!0)}}else if(window.test_mode){var C=$(this).val();return $("#filename_"+i).text(C).show(),!1}}},99:function(t,i,e){"use strict";e.d(i,"c",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return d}));var o=e(55),n=e(0),a=e(3);function s(t){for(var i="question_"+t.qid,e=$("#"+i),o=$("#tip_"+t.qid),n=e.find(".option"),a=0;a<n.length;a++){var s=$.trim($(n[a]).val());if(!isNotEmpty(s))return"allow_null"in t.question.custom_attr?(o.text(""),!0):(o.text(__("138")),scroll_to(e),!1)}return!0}function l(t){for(var i="question_"+t.qid,e=$("#"+i).find(".option"),o=[],n=0;n<e.length;n++){var a=$(e[n]).val();(a=a.replace(/[,，]/g,""))&&o.push(a)}var s={};return o.length>0&&(s[e.attr("data-id")+"_open"]=o.join(",")),s}function d(t){var i,e=t.qid,o=t.question,s=$("#before_file_upload_"+e),l=$("#question_"+e);Object(a.b)().isMobile||"on"!=(null===(i=o.custom_attr)||void 0===i?void 0:i.camera_only)||(l.find(".select_text_wrapper .text").text(__("136")),l.find(".select_text_wrapper").css("background","#F7F8FA"),l.find("input#file_"+e).attr("disabled",!0),l.find(".select_text_wrapper").addClass("preview")),Object(n.e)(s,t),$("#file_"+e).change((function(){var i=$(this)[0].files;i&&r(i,e,o,t)}));var d=document.getElementById("before_file_upload_"+e);d.addEventListener("dragover",(function(t){t.preventDefault(),t.stopPropagation()})),d.addEventListener("dragenter",(function(t){t.preventDefault(),t.stopPropagation()})),d.addEventListener("drop",(function(i){i.preventDefault(),i.stopPropagation();var n=this.files||i.dataTransfer.files;n&&r(n,e,o,t)}))}function r(t,i,e,a){if($(".delete_link,.cancel").removeClass("reupload"),t.length>0){var s=e.custom_attr.upload_num||1,l=t.length,d=$("#upload_files_"+i+" .upload_file").length,r=$("#upload_files_"+i+" .upload_file.hide").length,c=d+l-r;if(1==l?$("#before_file_upload_"+i).attr("data-num","single"):$("#before_file_upload_"+i).attr("data-num",""),!$("#upload_files_"+i+" .upload_file").hasClass("rechoose"))if(c==s)$("#before_file_upload_"+i).addClass("hide");else if(c>s)return r>0?(window.Toast({message:1==s?__("qUploadOneMore"):__("qUploadSurplus").format([s]),maxWidth:270}),!1):(window.Toast({message:s-d==1?__("qUploadOneMore"):__("qUploadSurplus").format([s-d]),maxWidth:270}),!1);for(var _=0;_<t.length;_++){var u=t[_].name.replace(/[,，|]/g,""),p=u.split(".")[u.split(".").length-1],m=null;if($("#upload_files_"+i+" .upload_file").hasClass("rechoose"))m=$("#upload_files_"+i).find(".upload_file.rechoose"),Object(n.B)(i,m);else{var f=$("#upload_files_"+i+" .upload_file.hide").length;0!=f&&f||Object(n.C)(i,a),m=$("#upload_files_"+i).find(".upload_file:last")}var v="",h=Object(n.A)();for(var q in h)-1!=h[q].indexOf(p)&&(v=q);m.find(".option").val(""),m.find(".error_tip").text("").hide(),m.find(".progress_bar").addClass("hide"),m.removeClass("hide").find(".file_name").text(u),Object(n.j)(m,i);var w=0;try{if(void 0!==t[_].size)w=t[_].size;else{var g=document.getElementsByClassName("tempImg")[0];g.dynsrc=t[_].value,w=g.size}}catch(t){w=0}"png"!=v?Object(o.e)(i,m,"format_error",p):-1!=u.indexOf("|")?alert("文件名中请勿包含“|”"):w>31457280?Object(o.e)(i,m,"error",p):(Object(o.d)(v,m),Object(o.f)(e.project_id,i,t[_],m))}}else if(window.test_mode){var b=$(this).val();return $("#filename_"+i).text(b).show(),!1}}}}]);
