!function(e){function t(t){for(var n,o,i=t[0],a=t[1],s=0,u=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+""+e+".view-060f30a.min.js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//as.eqh5.com/fv/",o.p=(/http/.test(location.protocol)?null:"http://as.eqh5.com/fv/")||o.p,o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=a;o(o.s=318)}([function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)||window.screen.width<500}function s(){return/MicroMessenger/i.test(navigator.userAgent)}function c(){return/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.appVersion)}function u(){return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)}function l(){return"miniprogram"===window.__wxjs_environment||window.isMiniPromByWx}function p(){var e="Win32"==navigator.platform||"Windows"==navigator.platform,t="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;return t?"Mac":"X11"!=navigator.platform||e||t?String(navigator.platform).indexOf("Linux")>-1?"Linux":e?"Windows":"other":"Unix"}e.exports={mobilecheck:a,isMobile:a,isWeixin:function(){return window.top===window&&/MicroMessenger/i.test(navigator.userAgent)},isAndroidPhone:function(){return a()&&c()},isAndroid:c,tabletCheck:u,iphoneCheck:function(){return/iPhone/i.test(navigator.userAgent)},isPc:function(){return!(a()||u()&&window===window.top)},isApp:function(){return!!(0,n(4).getUrlParam)("appclient")||!!window.viewData},isIOS:function(){return/ipad|iphone/i.test(navigator.userAgent)},isSafari:function(){return/msie|applewebkit.+safari/i.test(navigator.userAgent)},getAndroidVersion:function(){var e=window.navigator.userAgent;return parseFloat(e.substr(e.indexOf("Android")+8,3))},isMiniProm:l,isQQ:function(){return/qqbrowser/i.test(navigator.userAgent)},isUc:function(){return/UCBrowser/i.test(navigator.userAgent)},isApplet:function(){return(0,n(4).getUrlParam)("applet")&&window.wx&&wx.miniProgram},isMountAppletParam:function(){return(0,n(4).getUrlParam)("applet")},isWxEnv:s,isWxwork:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")>-1&&e.indexOf("wxwork")>-1},getBrowserInfo:function(){var e={},t=navigator.userAgent.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return e.browser=t[1].replace(/version/,"safari"),e.version=t[2],o(o({},e),{},{os:p()})},isChrome:function(){return/Chrome/.test(navigator.userAgent)},isVoteSceneAd:function(){return s()&&!l()&&102===window.scene.bizType}}},function(e,t,n){"use strict";var r=n(95),o={HOSTPARAM:r.HOSTPARAM,NEWVIEW_HOST:r.NEWVIEW_HOST,SERVER_0:r.SERVER_0,H5:r.H5,THEME_CATEGORY_ID:r.THEME_CATEGORY_ID,SERVER_LPAGE:r.SERVER_LPAGE,INFO_SERVER:r.INFO_SERVER,SERVER_0_VIP:r.SERVER_0_VIP,IOM_AD:r.IOM_AD,SERVER_1:r.SERVER_1,SERVER_2:r.SERVER_2,SERVER_4:r.SERVER_4,SERVER_5:r.SERVER_5,LONG_PAGE:r.LONG_PAGE,LONG_PAGE_PREVIEW:r.LONG_PAGE_PREVIEW,FLOW_SERVER:r.FLOW_SERVER,WAP_SERVER:r.WAP_SERVER,SERVER_MAX:r.SERVER_MAX,QUERY_SERVER:r.QUERY_SERVER,PAY_SERVER:r.PAY_SERVER,FONT:r.FONT,HOST:r.HOST,LONG_HOST:r.LONG_HOST,EQX:r.EQX,WAP_HOST:r.WAP_HOST,VIEW_HOST:r.VIEW_HOST,PAY_HOST:r.PAY_HOST,MALL_HOST:r.MALL_HOST,MOBILE_SERVER_1:r.MOBILE_SERVER_1,LONG_FONT:r.LONG_FONT,LONG_TEMP_SERVER:r.LONG_TEMP_SERVER,RED_PACKET_WX_CONFIG:r.RED_PACKET_WX_CONFIG,SOURCE:r.SOURCE,BIND_USER_SOURCE:r.BIND_USER_SOURCE,TRACK:r.TRACK,PAY_MODAL_HOST:r.PAY_MODAL_HOST,MP1_HOST:r.MP1_HOST,H2_HOST:r.H2_HOST,H2_MALL_TYPE:r.H2_MALL_TYPE,H2_POSTER_CATEGORY_ID:r.H2_POSTER_CATEGORY_ID,H2_QRCODE_CATEGORY_ID:r.H2_QRCODE_CATEGORY_ID,CHECK_HOST:r.CHECK_HOST,STORE:r.STORE,YQC:r.YQC,PAY_XD_HOST:r.PAY_XD_HOST,MSEARCH_API:r.MSEARCH_API,REPORT:r.REPORT,IOM_MEDIA_ID:r.IOM_MEDIA_ID,ME_TOO_BTN:r.ME_TOO_BTN,VIEW_CREATE_AD:r.VIEW_CREATE_AD,CREATE_BTN_AD:r.CREATE_BTN_AD,VOTE_ME_TOO:r.VOTE_ME_TOO,SUBMIT_TOP_ICON:r.SUBMIT_TOP_ICON,DOWNLOAD_APP:r.DOWNLOAD_APP,VOTE_AD_IDS:r.VOTE_AD_IDS,APPLET:r.APPLET,MIX_VIDEO_SERVER:r.MIX_VIDEO_SERVER,XIUTUI:r.XIUTUI,BIND_USER_FILE:r.BIND_USER_FILE,FREE_USER_FILE:r.FREE_USER_FILE,VIP_USER_FILE:r.VIP_USER_FILE,FILE:r.FILE,QINIUFILE:r.QINIUFILE,QINIUVIDEO:r.QINIUVIDEO,TENCENTVIDEO:r.TENCENTVIDEO,TENCENTIMAGE:r.TENCENTIMAGE,DOMAIN:r.DOMAIN,EQX_FAN_DOMAIN:r.EQX_FAN_DOMAIN,EQX_AD_DOMAIN:r.EQX_AD_DOMAIN,EQX_VIP_DOMAIN:r.EQX_VIP_DOMAIN,EQX_COMPANY_DOMAIN:r.EQX_COMPANY_DOMAIN,EQX_TG:r.EQX_TG,EQX_APP_DOMAIN:r.EQX_APP_DOMAIN,EQX_NO_BUSINESS_DOMAIN:r.EQX_NO_BUSINESS_DOMAIN,EQX_BATCH_SCENES_DOMAIN:r.EQX_BATCH_SCENES_DOMAIN,MALL_BUY_ID:r.MALL_BUY_ID,MALL_PIC_ID:r.MALL_PIC_ID,MALL_MUSIC_ID:r.MALL_MUSIC_ID,MALL_SOUND_ID:r.MALL_SOUND_ID,MALL_FONT_ID:r.MALL_FONT_ID,MALL_PIC_ID_NEW:r.MALL_PIC_ID_NEW,MALL_MUSIC_ID_NEW:r.MALL_MUSIC_ID_NEW,MALL_SOUND_ID_NEW:r.MALL_SOUND_ID_NEW,MALL_FONT_ID_NEW:r.MALL_FONT_ID_NEW,MALL_PAGE_ID_NEW:r.MALL_PAGE_ID_NEW,MALL_FUNCTION_ID_NEW:r.MALL_FUNCTION_ID_NEW,MALL_PIC_ID_DEFAULT:r.MALL_PIC_ID_DEFAULT,MALL_BG_ID_DEFAULT:r.MALL_BG_ID_DEFAULT,MALL_MUSIC_ID_DEFAULT:r.MALL_MUSIC_ID_DEFAULT,MALL_SOUND_ID_DEFAULT:r.MALL_SOUND_ID_DEFAULT,MALL_FONT_ID_DEFAULT:r.MALL_FONT_ID_DEFAULT,MALL_ELE_TEMPLATE_ID:r.MALL_ELE_TEMPLATE_ID,MALL_TEXT_TEMPLATE:r.MALL_TEXT_TEMPLATE,MALL_IMG_TEMPLATE:r.MALL_IMG_TEMPLATE,MALL_VIDEO_TEMPLATE:r.MALL_VIDEO_TEMPLATE,MALL_FORM_TEMPLATE:r.MALL_FORM_TEMPLATE,MALL_IMAGE_TEXT_TEMPLATE:r.MALL_IMAGE_TEXT_TEMPLATE,MALL_CONVERSION_TEMPLATE:r.MALL_CONVERSION_TEMPLATE,MALL_LINE_TEMPLATE:r.MALL_LINE_TEMPLATE,MALL_CHART_TEMPLATE:r.MALL_CHART_TEMPLATE,MALL_MEDIA_TEMPLATE:r.MALL_MEDIA_TEMPLATE,MALL_MIX_ELE_TEXT_TEMPLATE:r.MALL_MIX_ELE_TEXT_TEMPLATE,MALL_MIX_ELE_IMG_TEMPLATE:r.MALL_MIX_ELE_IMG_TEMPLATE,MALL_MIX_ELE_SHAPE_TEMPLATE:r.MALL_MIX_ELE_SHAPE_TEMPLATE,MALL_MIX_ELE_TEXT_CONTAINER_TEMPLATE:r.MALL_MIX_ELE_TEXT_CONTAINER_TEMPLATE,MALL_MIX_ELE_LINE_TEMPLATE:r.MALL_MIX_ELE_LINE_TEMPLATE,MALL_ARRANGE_ELE_TEMPLATE_ID:r.MALL_ARRANGE_ELE_TEMPLATE_ID,MALL_QUESTIONNAIRE_ID:r.MALL_QUESTIONNAIRE_ID,MALL_REGISTRATION_ID:r.MALL_REGISTRATION_ID,MAIL_TEST_ID:r.MAIL_TEST_ID,MALL_VOTE_ID:r.MALL_VOTE_ID,MALL_ARRANGE_TITLE_TEMPLATE:r.MALL_ARRANGE_TITLE_TEMPLATE,MALL_ARRANGE_CARD_TEMPLATE:r.MALL_ARRANGE_CARD_TEMPLATE,MALL_ARRANGE_IMAGE_TEMPLATE:r.MALL_ARRANGE_IMAGE_TEMPLATE,MALL_ARRANGE_LAYOUT_TEMPLATE:r.MALL_ARRANGE_LAYOUT_TEMPLATE,MALL_ARRANGE_GUIDE_TEMPLATE:r.MALL_ARRANGE_GUIDE_TEMPLATE,MALL_ARRANGE_COMP_TEMPLATE:r.MALL_ARRANGE_COMP_TEMPLATE,MALL_ARRANGE_FESTIVAL_TEMPLATE:r.MALL_ARRANGE_FESTIVAL_TEMPLATE,MALL_PAY_AD_LOGO_APPID:r.MALL_PAY_AD_LOGO_APPID,MALL_PAY_AD_LOGO_CATEGORY_ID:r.MALL_PAY_AD_LOGO_CATEGORY_ID,MALL_FORM_THEME_CATEGORY_ID:r.MALL_FORM_THEME_CATEGORY_ID,MALL_PAY_AD_CATEGORY_ID:r.MALL_PAY_AD_CATEGORY_ID,MALL_PAY_AD_PC_CATEGORY_ID:r.MALL_PAY_AD_PC_CATEGORY_ID,MALL_FROM_VOTE_OPTIONS_LIMIT:r.MALL_FROM_VOTE_OPTIONS_LIMIT,MALL_FROM_SUBMIT_INIT_NUMBER:r.MALL_FROM_SUBMIT_INIT_NUMBER,MALL_FROM_QUESTION_NUMBER_LIMIT:r.MALL_FROM_QUESTION_NUMBER_LIMIT,MALL_FROM_EDIT_AFTER_SUBMIT:r.MALL_FROM_EDIT_AFTER_SUBMIT,MALL_FROM_LINK_AFTER_SUBMIT:r.MALL_FROM_LINK_AFTER_SUBMIT,MALL_FROM_MESSAGE_COUNT:r.MALL_FROM_MESSAGE_COUNT,MALL_DISABLE_WX_SHARE:r.MALL_DISABLE_WX_SHARE,MALL_AREA_LIMIT:r.MALL_AREA_LIMIT,MALL_WECHAT_SUBSCR:r.MALL_WECHAT_SUBSCR,MALL_VERIFICATION_CODE:r.MALL_VERIFICATION_CODE,MALL_WECHAT_NOTICE:r.MALL_WECHAT_NOTICE,MALL_VOTE_INIT_VALUE:r.MALL_VOTE_INIT_VALUE,CATEGORY_IDS:r.CATEGORY_IDS,VIDEO:r.VIDEO,WAP_TPL_CENTER:r.WAP_TPL_CENTER,BOTTOM_MARK_TEMPLATEID:r.BOTTOM_MARK_TEMPLATEID,FLOW_AD_RESOURCES:r.FLOW_AD_RESOURCES,VEIN_CATEGORY:r.VEIN_CATEGORY,PRODUCT_CODE:r.PRODUCT_CODE,EBD_PRODUCT_CODE:r.EBD_PRODUCT_CODE,EBD_WXWORK_PRODUCT_CODE:r.EBD_WXWORK_PRODUCT_CODE,DEFAULT_MODEL_ID:r.DEFAULT_MODEL_ID,SOURCE_ID:r.SOURCE_ID,EQUITY_MARK:r.EQUITY_MARK,EQUITY_LOGO:r.EQUITY_LOGO,PATH:r.PATH,MATERIAlBG:r.MATERIAlBG,COOPER:r.COOPER_HOST,FORM_ENCYRPT_CODE:r.FORM_ENCYRPT_CODE,APP_CHANNELS:r.APP_CHANNELS,noScene:r.noScene,noVerify:r.noVerify,notDeployed:r.notDeployed,AD_AFTER_SHARE:r.AD_AFTER_SHARE,AD_TECHNICAL_SUPPORT:r.AD_TECHNICAL_SUPPORT,AD_FORM_LOGO:r.AD_FORM_LOGO,AD_AFTER_SUBMIT:r.AD_AFTER_SUBMIT,VOTE_INIT_VALUE:r.VOTE_INIT_VALUE,UPLOAD_MER_BUCKET:r.UPLOAD_MER_BUCKET,UPLOAD_VIDEO_BUCKET:r.UPLOAD_VIDEO_BUCKET,UPLOAD_EQX_VIDEO_BUCKET:r.UPLOAD_EQX_VIDEO_BUCKET,UPLOAD_REGION:r.UPLOAD_REGION,WX_VOTE_INVITE_TEMPLATE_ID:r.WX_VOTE_INVITE_TEMPLATE_ID,WX_VOTE_RESULT_NOTICE_TEMPLATE_ID:r.WX_VOTE_RESULT_NOTICE_TEMPLATE_ID};function i(e){var t=window.location.protocol;return"file:"===t&&(t="http:"),e&&"string"==typeof e&&e.startsWith("//")?t+e:e}Object.keys(o).forEach((function(e){var t=o[e];Array.isArray(t)?t.forEach((function(e,n){"string"==typeof e&&(t[n]=i(e))})):o[e]=i(t)})),e.exports=o},function(e,t,n){var r=n(11),o=n(19),i=n(31),a=n(26),s=n(39),c=function(e,t,n){var u,l,p,f,d=e&c.F,h=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),x=b.prototype||(b.prototype={});for(u in h&&(n=t),n)p=((l=!d&&y&&void 0!==y[u])?y:n)[u],f=g&&l?s(p,r):v&&"function"==typeof p?s(Function.call,p):p,y&&a(y,u,p,e&c.U),b[u]!=p&&i(b,u,f),v&&x[u]!=p&&(x[u]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";e.exports={hashCode:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return Math.abs(t)},parse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;/\$\{([^}]*)}/.test(e)&&console.error("DO NOT USE ${}",e);var r=e;for(;n&&/#\{([^}]*)}/.test(r);)r=r.replace(/#\{([^}]*)}/g,(function(e,n){var r=t[n];return void 0!==r?r:e})),n--;return r}}},function(e,t,n){"use strict";function r(e){return c(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||i()}function o(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if(Array.isArray(e))return e}var u=n(1),l=n(0).mobilecheck;function p(e){return e.startsWith("//")&&(e=location.protocol+e),new window.URL(e)}function f(e){var t=location.href,n=d("toPage",t);n?n!==""+e&&(t=t.replace(n,e)):t+=(/\?/.test(t)?"&":"?")+"toPage="+e,window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return p(t).searchParams.get(e)}function h(e){var t=location.protocol;return"https:"!=t&&(t="http:"),/^\w{2,}:\/\//.test(e)||(e="//"+e),e.replace(/^\/\//,t+"//")}function m(e){return h(e).replace(/^https:/,"http:")}function v(e){return/^(https?:)?\/\//i.test(e)}e.exports={parseUrl:p,getUrlParam:d,removeUrlParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=p(t);return n.searchParams.delete(e),n.href},removeUrlParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=p(t);return e.forEach((function(e){n.searchParams.delete(e)})),n.href},addUrlParam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,r=p(n);return r.searchParams.set(e,t),r.href},replaceLocationHref:function(e){var t=window.location.href;history.replaceState({},t,e)},getUrlHost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return p(e).host},resolveUrl:function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments.length<=0?void 0:arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,o=document.createElement("a"),i=1;i<e;i++)o.href=i<0||arguments.length<=i?void 0:arguments[i],r=o.href,t.href=r;return n.removeChild(t),r},setUrlHistory:f,openUrl:function(e,t){l()&&window===window.top?(f(t),location.href=e):window.open(e,"_blank")},getPathName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=p(e);return t.pathname},addProtocol:h,url2http:m,url2https:function(e){return h(e).replace(/^http:/,"https:")},redirectUrl:function(){return m(u.EQX),(0,n(0).mobilecheck)()?"http://service.eqxiu.com/m/special/1023.html":"http://store.eqxiu.com/cats-2.html"},isFlowScene:function(e){return window._adConfigForFlow?window._adConfigForFlow.isUseProfitDomain:e.adConfigForFlow&&e.adConfigForFlow.isUseProfitDomain},getFormUrlHash:function(e){var t=["editor","setting","publish","data"];return t.includes(e)?e:t[0]},getVoteDetailParmasByUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t="VDP",n=String(d(t,e)).split("-"),r=o(n,2),i=r[0],a=r[1];return{elementId:i,optionId:a}},isGcJumpLink:function(e){return!!e&&!!/\/(gs|gs2)\//.test(e)},hasHostHeader:v,removeHost:function(e){if(!v(e))return e;var t=r((e=e.replace("//","")).split("/")),n=(t[0],t.slice(1));return n&&n.length?n.join("/"):e}}},function(e,t,n){"use strict";var r=n(181);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(563);n(1);var g=n(16).getRatio,y=n(248),b=n(3).parse,x=n(9).qiniuZoom,w=n(128),S=n(564),k=n(586),O=n(587),E=n(256),C=n(33).perfectComp,_=n(257),I=n(590),P=n(34),T=n(10).VOTE_INFO_COMPS,R=n(22).EQX_EVENT,A=n(259).BorderImageHandler,q=n(10),j=q.FORM_COMPS,L=q.INPUT_COMPS,M=n(0).mobilecheck,D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(E,e);var t,c,u,m=h(E);function E(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,E),(t=m.call(this)).$ability={style:{self:!0,compFont:{self:!1,fontFamily:!1,fontSize:!1,fontColor:!1,baseStyle:!1,lineHeight:!1,letterSpacing:!1},compStyle:{self:!0},commonStyle:{self:!0,title:!0,display:!1,status:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0,zIndex:!0},advanceStyle:{self:!0,border:!0,shadow:!0,sizePos:!0,paddingTop:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0,lock:!0,variable:!1}},anim:!0,trigger:{self:!0,click:!0,shake:!0,taphold:!0,slide:!0,mediaCanplay:!0,mediaEnded:!0,mediaPlaying:!0,animStart:!0,animIteration:!0,animEnd:!0},sound:!0,link:!0,flexLine:"n,ne,e,se,s,sw,w,nw,r"},t.compJson=e,t.id=t.compJson.id,t.type=t.compJson.type,t.displayed=!1,"string"==typeof t.compJson.properties&&(t.compJson.properties={}),t.compJson.properties.initType=t.compJson.properties.initType||0,t.anim=t.compJson.properties.anim||[],t.eqxLayer=n,t.eqxPage=t.eqxLayer.eqxPage,t.eqxScene=t.eqxPage.eqxScene,t.parent=t.eqxPage,t}return t=E,(c=[{key:"$item",get:function(){return this.$li}},{key:"css",get:function(){return this.compJson.css}},{key:"zIndex",get:function(){return this.css.zIndex},set:function(e){return this.css.zIndex=e,e}},{key:"isEditLocked",get:function(){return(this.compJson||{}).properties.editLock},set:function(e){(this.compJson||{}).properties.editLock=e}},{key:"initType",get:function(){return(this.compJson||{}).properties.initType},set:function(e){(this.compJson||{}).properties.initType=e}},{key:"getZIndex",value:function(){return this.css.zIndex}},{key:"setZIndex",value:function(e){this.css.zIndex=e}},{key:"isGroupItem",value:function(){return!1}},{key:"getFtEditableProps",value:function(){var e=this.FtEditableProps;return f(v(E.prototype),"getFtEditableProps",this).call(this).concat([e.color.backgroundColor,e.color.borderColor,e.color.boxShadowColor])}},{key:"isPropCanEdit",value:function(e){var t=this.FtEditableProps,n=this.compJson.css;switch(e){case t.color.backgroundColor:return n.backgroundColor;case t.color.borderColor:return n.borderWidth;case t.color.boxShadowColor:return n.boxShadowSize;case t.link.url:return this.hasTrigger("link");case t.internalLink.internalLink:return this.hasTrigger("page");case t.sound.soundSrc:return this.hasTrigger("sound");case t.telephone.number:return this.hasTrigger("tel")}return!0}},{key:"getFtValue",value:function(e){var t=this.FtEditableProps,n=this.compJson.css;switch(e){case t.content.content:return this.compJson.content;case t.color.color:return n.color;case t.color.backgroundColor:return n.backgroundColor;case t.color.borderColor:return n.borderColor;case t.color.boxShadowColor:return _.parseBoxShadow(n.boxShadow).color;case t.link.url:var r=this.hasTrigger("link");return r?this.getRawLinkUrl():"http://";case t.internalLink.internalLink:return(r=this.hasTrigger("page"))?r.targetContent:this.eqxPage.pageJson.id;case t.sound.soundSrc:return this.compJson.sound;case t.telephone.number:return(r=this.hasTrigger("tel"))?r.targetContent:0}}},{key:"hasTrigger",value:function(e){var t=this.triggerManager;switch(e){case"link":return t.findEqxItemTriggerItem(this,"click","link");case"internalLink":case"page":return t.findEqxItemTriggerItem(this,"click","page");case"sound":case"video":return t.findEqxItemTriggerItem(this,"click","play");case"tel":return t.findEqxItemTriggerItem(this,"click","phone")}}},{key:"updateJson",value:function(e){return e=JSON.parse(JSON.stringify(e)),C(e,this.eqxScene.sceneJson,this.eqxPage.pageJson),delete e.id,delete e.num,delete e.pageId,delete e.sceneId,delete e.type,Object.assign(this.compJson,e),this}},{key:"getRealPos",value:function(){return this.$li.get(0).getBoundingClientRect()}},{key:"getAbsolutePos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.css,n=t.width,o=t.height,i=t.top,a=t.left,c=t.transform,u=[].concat(s(j),s(L),["4","6"]);if(this.eqxScene.config.mode,this.$li&&((e||isNaN(parseFloat(o)))&&!this.innerNotHeight&&this.isBaseLayerElement||this.isBaseLayerElement&&u.includes(this.compJson.type.toString()))&&((o=parseFloat(this.$li.outerHeight())||parseFloat(o))&&!this.isBaseLayerElement&&!this.innerNotHeight&&(this.css.height=o),!this.group&&(!this.isGroupItem||this.isGroupItem&&!this.isGroupItem()))){var l=(0,r.offSet)(this.$li.get(0),this.eqxPage.$section.get(0));i=l.top,a=l.left}return o||this.$li&&(o=parseFloat(this.$li.outerHeight())),!1===this.isCompShow?{width:0,height:0,top:parseFloat(i),left:parseFloat(a),bottom:parseFloat(i)+parseFloat(o),transform:c}:{width:parseFloat(n),height:parseFloat(o),top:parseFloat(i),left:parseFloat(a),bottom:parseFloat(i)+parseFloat(o),transform:c}}},{key:"isFunTemplate",value:function(){var e=this.findTopGroup();return e!==this&&e.isFunTemplate()}},{key:"toJson",value:function(){return this.isBaseLayerElement||this.findRelativedItem(),this.isOuterPageRect(),delete this.compJson.remComputed,JSON.parse(JSON.stringify(this.compJson))}},{key:"isEditLock",value:function(){return this.getProp("editLock")}},{key:"updateDisplayStatus",value:function(){}},{key:"updatePadding",value:function(e){var t=parseInt(this.compJson.css.paddingLeft),n=parseInt(this.compJson.css.paddingRight),r=parseInt(this.compJson.css.width)/g(),o=parseInt(this.compJson.css.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey){var i=this.getContentWidth(),s=this.getBorderWidth(),c=i+s.left+s.right;"paddingLeft"==e.padKey?n=r-(t=e.padValue)-c:t=r-(n=e.padValue)-c,t=Math.max(0,t),n=Math.max(0,n),this.update$li({paddingLeft:t,paddingRight:n})}else{var u=parseInt(this.compJson.css[e.padKey]);o+=parseInt(e.padValue)-u,this.update$li(a({height:o},e.padKey,parseInt(e.padValue)))}this.autoSizeTopDown()}},{key:"getImgSrc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.eqxScene.config.disableQiniuZoom,r=t.width,o=t.height;return n?x(e):x(e,r,o)}},{key:"getName",value:function(){return this.compJson.name||"组件"}},{key:"getCss",value:function(e){var t=this.compJson.css;return e?t[e]:t}},{key:"toString",value:function(){var e=this.compJson,t=e.pageId,n=e.id,r=e.num;return"page-".concat(t,"-comp-").concat(n,"-num-").concat(r)}},{key:"getProps",value:function(){return this.compJson.properties||{}}},{key:"getProp",value:function(e){return this.compJson.properties[e]}},{key:"setProps",value:function(e){var t=this,n=this.compJson.properties;Object.keys(e).forEach((function(r){var o=e[r];"sound"===r?t.compJson.sound=o:null==o||""===o?delete n[r]:n[r]=o}))}},{key:"setProp",value:function(e,t){this.setProps(a({},e,t))}},{key:"update$li",value:function(e){if(e&&0!==e.height){this.updateCss(e);var t=Object.assign({},e);void 0!==e.height&&"relative"===this.oriPosition&&(t.height="auto");var n=this.css.height,r=t.height;this.$li&&(n=this.$li.outerHeight(),this.$li.css(t),this.isOpenBorderImage()||this.$li.css({borderWidth:0,boxShadow:"none"}),r=this.$li.outerHeight()),r!=n&&this.updateFromInnerHeight()}}},{key:"getContentWidth",value:function(){var e,t=(null===(e=this.eqxScene)||void 0===e?void 0:e.config)||{},n=t.mode;return"pcRender"===t.renderMode&&"view"===n?720:280}},{key:"getBorderWidth",value:function(){var e=0,t=0,n=0,r=0,o=this.eqxPage.getFormStyle("compBorderImage");if(this.$li){var a=getComputedStyle(this.$li[0]);e=a.borderLeftWidth,t=a.borderRightWidth,n=a.borderTopWidth,r=a.borderBottomWidth}if(e||t||n||r||!o||!o.borderWidth){if(!(e||t||n||r)){var s=this.compJson.css,c=s.borderLeftWidth;e=void 0===c?0:c;var u=s.borderRightWidth;t=void 0===u?0:u;var l=s.borderTopWidth;n=void 0===l?0:l;var p=s.borderBottomWidth;r=void 0===p?0:p}}else{var f=i(o.borderWidth,4);n=f[0],t=f[1],r=f[2],e=f[3]}var d={left:e,right:t,top:n,bottom:r};return Object.keys(d).forEach((function(e){d[e]=parseFloat(d[e])})),d}},{key:"update$boxDiv",value:function(e){var t=this,n=this.$li.height(),r=JSON.parse(JSON.stringify(e));this.updateCss(e),Object.assign(r,{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.$boxDiv.css(r),Object.keys(r).forEach((function(e){"fontSize"===e&&t.$boxDiv.css({"font-size":r[e]+"px"}).find("#"+t.compJson.id).css({"font-size":r[e]+"px"})}));var o=this.$li.height();n!==o&&this.update$li({height:o}),this.findTopGroup()==this&&this.isBaseLayerElement&&this.eqxPage.EqxDragManager&&this.eqxPage.EqxDragManager.resetCompPosition()}},{key:"onResize",value:function(e,t,n){}},{key:"rotate",value:function(e){this.onRotate("rotateZ(".concat(e,"deg)"))}},{key:"getTransform",value:function(){return this.compJson.css.transform||"rotateZ(0)"}},{key:"getBoxReflectDetail",value:function(){var e=!0,t=this.compJson.css.boxReflect;t&&"unset"!==t||(e=!1);var n=t||"below 0px -webkit-linear-gradient(top, transparent, transparent 0%, rgb(255, 255, 255))",r=0,o=0;return"unset"!==n&&(r=+n.match(/\d*(?=px)/)[0],o=+n.match(/\d*(?=%)/)[0]),{fullInfo:n,offset:r,hidePercent:o,flag:e}}},{key:"updateTransform",value:function(e){this.compJson.css.transform=e,this.$item.css({transform:e})}},{key:"updateCss",value:function(e){if(e){var t=this.compJson.css;Object.keys(e).forEach((function(n){t[n]=e[n]}))}}},{key:"updateProp",value:function(e,t){this.compJson.properties[e]=t}},{key:"updateTranslated3dZ",value:function(e){this.$li&&this.$li.css(e)}},{key:"updatePos2",value:function(e,t){throw new Error("updatePos2 deprecated")}},{key:"updateSize",value:function(e,t){this.updateCss(t),this.autoSize()}},{key:"resetStyle",value:function(){this.update$li({opacity:1,transform:"rotateZ(0deg)"}),this.update$boxDiv({fontSize:"24px",color:"#676767",backgroundColor:"",fontWeight:"normal",fontStyle:"normal",textAlign:"left",textDecoration:"none",letterSpacing:0,borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0,transform:"none",opacity:1})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.rendered&&!t)return this.$li;this.$li&&(this.$li.remove(),this.$li=null);var n=this.$li=this.create$li(),r=this.eqxScene.config,o=r.disableCompEvent,i=r.disableTrigger;o||requestAnimationFrame((function(){return e.addEventListeners()})),i||this.addSoundEvent(),this.addAnimationClass(),this.rendered=!0;var a=this.eqxPage.getProp("triggerGroup")||[],s=a.some((function(t){return t.targetId===e.id&&t.targetState===R.link}));return this.compJson.sound&&!s||"edit"!=this.eqxScene.config.mode||!this.isHasTrigger()||this.addTriggerTag(),n}},{key:"updateCompForRender",value:function(){this.rendered=!1,this.eqxPage.renderEqxComp(this)}},{key:"renderBorderImage",value:function(){var e=this,t=this.eqxPage.getFormStyle("compBorderImage");this.$li&&this.isOpenBorderImage()&&t&&t.id&&(this.borderImageHandler||(this.borderImageHandler=new A(t)),this.$li.addClass(this.borderImageHandler.css),this.$li.append(this.borderImageHandler.create$ImgWarper()),this.$li.append(this.borderImageHandler.create$background()),setTimeout((function(){e.$li?(e.$li.css({height:"auto"}),e.update$li({height:e.$li.outerHeight()}),e.updateFormHeight&&e.updateFormHeight()):e.updateCss({height:e.css.height+~~t.borderWidth[0]+~~t.borderWidth[2]})}),300))}},{key:"updateBorderImage",value:function(){var e=this.eqxPage.getFormStyle("compBorderImage");this.borderImageHandler&&(this.$li&&this.$li.removeClass(this.borderImageHandler.css),this.borderImageHandler.update(e)),this.renderBorderImage(),e&&e.id||(this.$li.css({height:"auto"}),this.update$li({height:this.$li.outerHeight()}),this.updateFormHeight&&this.updateFormHeight())}},{key:"isOpenBorderImage",value:function(){return!1}},{key:"oriPosition",get:function(){return this.isAbsolute||!this.isBaseLayerElement||this.group?"absolute":"relative"}},{key:"create$li",value:function(){var e=this,t=e.eqxScene,o=e.compJson,i=o.id,a=o.num,s=o.type,c=o.css,u=o.properties,l=o.sound,p=c.zIndex,f=c.transform,d=c.display,h=c.opacity,m=c.paddingTop,v=c.paddingBottom,g=c.paddingLeft,x=c.paddingRight,w=(c.backgroundColor,c.transformOrigin),S=void 0===w?"":w,k=c.visibility,O=void 0===k?"visible":k,E="string"!=typeof f?"":f,C=this.oriPosition,_=t.config,I=function(e,t){if(t&&t.length)return"";var n="",r=/rotateZ\((-?\d*\.?\d*)(deg|)\)/.exec(t);return r&&r.length&&(n+="".concat(r[0]," ")),n}(0,E),P=e.getAbsolutePos(),R=e.$li=$(b(y,{id:i,num:a,type:s}));R.css({position:C});var A=e.$boxDiv=R.find(".element-box"),q=e.$boxContentDiv=A.find(".element-box-contents"),j={},L=$.extend(!0,{},c);if(u.lock)if(R.addClass("alock"),M()&&"edit"!=this.eqxScene.config.mode)R.css({position:"fixed"});else if("edit"!=this.eqxScene.config.mode){var D=(0,r.offSet)(this.eqxScene.$ele.get(0),document.body);R.css({position:"fixed"});var B=Math.min(this.eqxScene.$ele.width()-c.left,c.width,c.width+c.left),F=Math.min(this.eqxScene.$ele.height()-c.top,c.height,c.height+c.top),N=Math.abs(Math.min(c.top,0)),H=Math.abs(Math.min(c.left,0));c.clip="rect(".concat(N,"px, ").concat(B+H,"px, ").concat(F+N,"px, ").concat(H,"px)"),R.css({clip:c.clip}),"pcMobileRender"!=this.eqxPage.renderMode&&this.eqxScene.config.isInnerView||(c.top=D.top+c.top,c.left=D.left+c.left)}if(R.css({zIndex:p,transform:I,display:d,opacity:h,paddingTop:m,paddingBottom:v,paddingLeft:g,paddingRight:x,transformOrigin:S,visibility:O}).attr("abs-pos","l-".concat(P.left,"-t-").concat(P.top,"-w-").concat(P.width,"-h-").concat(P.height)).attr("eqx-id",i),e._updateSize(),e.addClassToLi(R),c.boxReflect){var z=c.boxReflect;delete L.boxReflect,R.css({boxReflect:z})}c.fontSize&&(c.fontSize=parseInt(c.fontSize));var J={},V=n(35);(!this.innerNotHeight||this instanceof V)&&!1!==this.isCompShow||(J.height=L.height-(parseFloat(L.paddingBottom||0)+parseFloat(L.paddingTop||0))),A.css(Object.assign({},L,{width:"100%",height:"100%",transform:"none",fontFamily:"",opacity:"",marginTop:"0px",marginBottom:"0px",paddingTop:"0px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",visibility:"visible"},J)),(s+""=="6"||T.includes(String(s)))&&A.css({"background-color":"transparent"});var U=E.indexOf("rotateX(180deg)")>-1,W=E.indexOf("rotateY(180deg)")>-1;c.turnOver||(U&&(c.turnOver="rotateX(180deg)"),W&&(c.turnOver="".concat(c.turnOver||""," rotateY(180deg)"))),j.transform=c.turnOver,q.css(j),l&&l.id&&"edit"===_.mode&&e.addSoundIcon(),e.compJson.properties.isReplace&&"edit"===_.mode&&"7"==e.type&&e.addReplaceAttrIcon(),this.$contentsDiv=q,this.$context=this.create$context(),q.append(this.$context);var G=t.variableComps,K=G.texts,X=G.inputs,Q=G.images,Y=G.uploads;if(-1!==["501","502","503","504"].indexOf(s.toString()))X.push(e);else if("7"===s.toString()){var Z=u.var;Z&&Z.isUsed&&K.push(e)}else if("upload"===s)Y.push(e);else if("4"===s.toString()){var ee=u.var;ee&&ee.isUsed&&Q.push(e)}return function(){var t=u.GSensor,n=void 0===t?{}:t;if(n&&n.isUsed&&"edit"!==_.mode){var r="positive"===n.direction?n.distance:-n.distance;R.addClass("layer"),R.attr("data-depth",r),console.log("初始化组件重力感应",e)}}(),R}},{key:"removeSoundIcon",value:function(){this.$soundIcon&&(this.$soundIcon.remove(),this.$soundIcon=null)}},{key:"addSoundIcon",value:function(){this.removeSoundIcon(),this.$soundIcon=$('<div class="comp-icon eqf-bell-f"></div>'),this.$boxDiv.after(this.$soundIcon)}},{key:"destroy",value:function(){this.eleHide(),this.$li&&(this.$li.remove(),this.$li=null,this.isCompShow=!0,this.timer&&("object"===o(this.timer)?Object.values(this.timer).forEach(clearTimeout):clearTimeout(this.timer)))}},{key:"create$context",value:function(){return $()}},{key:"addClassToLi",value:function(e){}},{key:"addEventListeners",value:function(){this.bindAfterRenderEvent(this.$li,this.compJson),this.addAnimSoundEvent(),this.addInteractiveVideoEvent()}},{key:"eleHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.$li||this.canAddHideIcon()&&!e||this.$li.css({display:"none"}),this.$li&&this.canAddHideIcon()&&this.addHideIcon(),this.soundAgent&&this.soundAgent.update(new w("hide")),this.anim&&this.anim.length&&this.anim.forEach((function(e){e.sound&&e.soundAgent&&e.soundAgent.update(new w("stop"))})),this.isCompShow=!1,this.stopAnimation(),this.flux&&this.flux.playing&&this.flux.stop(),this.ruleIds&&this.eqxPage.EqxFormRulesTrigger.listen(this.ruleIds,this.id,null,!0),this.EqxDragManager&&this.EqxDragManager.resetCompPosition()}},{key:"canAddHideIcon",value:function(){return"edit"===this.eqxScene.config.mode&&this.eqxPage.trigger.compHasTrigger(this.eqxPage.pageJson.properties.triggerGroup,this.compJson.id)}},{key:"addHideIcon",value:function(){this.$hideIcon=$('<div class="comp-icon" style="z-index: 999;"><em style="font-size: 14px" class="eqf-hidden-f"></em></div>'),this.$li.append(this.$hideIcon)}},{key:"removeHideIcon",value:function(){this.$hideIcon&&(this.$hideIcon.remove(),delete this.$hideIcon)}},{key:"addAnimationClass",value:function(){this.eqxCompAnim=new I(this,{}),this.eqxCompAnim.addAnimClassify()}},{key:"stopAnimation",value:function(){this.$li&&this.eqxCompAnim.stopAnimation()}},{key:"startAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.eqxPage.isArrangEditor){var t=e.index,n=e.maxCount;if(e.reset)var r=this,o=function(){r.stopAnimation()};this.eqxCompAnim.startAnimation({animIndex:t,maxCount:n,callback:o})}}},{key:"previewAnimation",value:function(e){e&&this.eqxCompAnim.previewAnimation(e)}},{key:"eleShow",value:function(){if(this.isCompShow=!0,this.eqxScene.config.disableCompAnim){var e=this.compJson.properties.anim||[];e[0]&&"typer"===e[0].type&&this.$context.css({opacity:1})}else this.startAnimation();this.$li&&this.$li.css({display:"block",width:this.css.width}),this.$li&&this.canAddHideIcon()&&this.removeHideIcon(),this.flux&&"view"===this.eqxScene.config.mode&&this.compJson.properties.autoPlay&&(this.flux.stop(),this.flux.start()),this.EqxDragManager&&this.EqxDragManager.resetCompPosition()}},{key:"addInteractiveVideoEvent",value:function(){var e=this;"o"===this.compJson.type&&this.compJson.src&&(this.interactiveVideoAgent=new O(this,this.eqxScene.soundManager),this.$context.on("playing",(function(){e.interactiveVideoAgent.play()})),this.$context.on("pause",(function(){e.interactiveVideoAgent.end()})))}},{key:"getLinkUrl",value:function(e){return/eqs\/link\?id=\d+&url=/.test(e)||/^http:|^https:|^ftp:/.test(e)||(e="http://"+e),e}},{key:"getRawLinkUrl",value:function(){var e=this.hasTrigger("link");if(e){var t=e.targetContent,n=/eqs\/link\?id=\d+&url=/.exec(t);if(n){var r=t.substr(n[0].length+n.index);return decodeURIComponent(r)}return decodeURIComponent(t)}}},{key:"addSoundEvent",value:function(){this.compJson.sound&&(this.soundAgent=new S(this,this.eqxScene.soundManager))}},{key:"addAnimSoundEvent",value:function(){var e=this,t=this.anim;t&&t.length&&t.forEach((function(t){t.sound&&(t.soundAgent=new k(e,t,e.eqxScene.soundManager))}))}},{key:"autoAdjustSize",value:function(){return this.resizeBox&&"function"==typeof this.resizeBox.autoSize&&this.resizeBox.autoSize(),{}}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"getTypeName",value:function(){return P[this.compJson.type+""]}},{key:"updateBackgroundImg",value:function(){var e=this.compJson.css,t=e.width,n=e.height,r=e.backgroundImage;if(r){var o,i=r.match(/scale=(\d+(\.\d+)?)/);i&&i.length&&(o=i[1]),o&&(n=t/o),r=r.replace(/\?scale=(\d+(\.\d+)?)/,"");var a=x(r,t,n);this.$li&&this.$li.css({"background-image":"url(".concat(a,")")})}else this.$li&&this.$li.css({"background-image":""})}}])&&p(t.prototype,c),u&&p(t,u),E}(E);e.exports=D},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}n(565);var i,a,s=n(566),c=n(567),u=n(568),l=n(569),p=n(570),f=n(1),d=n(0),h=d.isPc,m=d.isWeixin,v=d.mobilecheck,g=d.isApplet,y=d.isVoteSceneAd,b=n(182).setWeChatUser,x=n(15).$loadQRCode,w=n(4).parseUrl,S=n(84).getShareUrl,k=n(4).getUrlParam,O=n(16).getRatio,E=n(129).getFormDataLast,C=n(28).$getUserWxInfo,_=n(24),I=_.setItem,P=_.getItem,T=(n(59),n(56).getAd),R=n(573).checkFormPassword,A=n(23).filterTags,q=n(87).getTemplateParam,j=n(7).retryKey,L=n(38).createWeappAd,M=n(8).ajax,D=n(9).qiniuZoom,B=n(127).tagsEncode,F=n(575).copyText,N=!1;function H(){switch(scene.bizType){case 101:i="问卷",a="填写";break;case 102:i="投票",a="投票";break;case 103:i="表单",a="填写";break;case 104:i="测评",a="答题";break;default:i="表单",a="填写"}}function z(e){if(!k("sourceType")&&m()){H();var t=window.scene,n=t.config,r=(t.id,t.map,t.currentTimeMillis),o=(n.showAfterSubmit,n.showLastSubmitContent),a=n.showLastSubmitContentTime,s=n.editorLastSubmitContent,c=V(r,a,n.editorLastSubmitContentTime,e.updateDate),u=c.showTime,p=c.editorTime;if(o&&!u||s&&!p){var f=$("<div class='pop-last-data-modal'>\n                            <div class='pop-body'>\n                                <div class='eqf-no close'></div>\n                                <img src='".concat(D(l),"' />\n                                <p>您已经填过该").concat(i,"</p>\n                                <div class='pop-btns'>\n                                    <div class='btn-top'>\n                                        <div class='btn ").concat(!o||u?"hide":"","' data-type='showLast'>查看内容</div>\n                                        <div class='btn ").concat(!s||p?"hide":"","' data-type='updateLast'>修改内容</div>\n                                    </div>\n                                    <div class='new close'>填份新的</div>\n                                </div>\n                            </div>\n                        </div>"));$("body").append(f),$("body").css("overflow","hidden"),J(f.find(".pop-btns")),f.find(".close").click((function(){f.remove(),$("body").css("overflow-x","hidden"),$("body").css("overflow-y","auto"),$("body").css("overflow-y","overlay")}))}}}function J(e){e.find(".btn").off().on("click",(function(e){var t=e.currentTarget.dataset.type,r=window.app.eqxPageList[0];if("vote"===t)n(73).renderVoteResult(r,"limitVote");else if("view"===t){if("mobileRender"===window.app.currentPage.renderMode){var o=window.app.eqxPageList,i=o.findIndex((function(e){return"cover"===e.id}));if(i>=0){var a=o[i],s=a.calPageHeight("mobileRender");a.changeMoveToScroll(s)}}$(".gbSetting-popUp-box").hide(),$("body").css("overflow-x","hidden"),$("body").css("overflow-y","auto"),$("body").css("overflow-y","overlay")}else{var c=window.location,u=c.pathname,l=c.search;window.location.href="".concat(u).concat(l?l+"&":"?","sourceType=").concat(t)}}))}function V(e,t,n,r){var o=e,i=60*parseFloat(t||0)*60*1e3,a=60*parseFloat(n||0)*60*1e3;return{showTime:!!t&&o-(r+i)>0,editorTime:!!n&&o-(r+a)>0}}function U(e){x().then((function(){var t=w(S(e.eqxScene.meta));t.searchParams.set("eqrcode",1),$("#pop-image-logo").qrcode({render:"canvas",size:180*O(),text:t.href})}))}function W(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=$("<div class='eqx-fm-toast'><em class='eqf-info-f'></em>".concat(A(e),"</div>")),r=function(){n.remove()};return $("body").append(n),setTimeout(r,t),{close:r,dom:n[0]}}function G(e,t){var r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3;if("icon"===e){var s=n(131);e=(new XMLSerializer).serializeToString(s.render())}var c=(null==t||null===(r=t.currentPage)||void 0===r?void 0:r.eqxSectionCover)||$("body"),u=$('<div class="sceneShadow" style="background-color:rgba(0,0,0,'.concat(a,')"><div>').concat(e,"</div></div>"));"mobileRender"!==(null==t||null===(o=t.currentPage)||void 0===o?void 0:o.renderMode)&&u.addClass("absolute");var l=0;i&&(u.css("opacity",0),l=setTimeout((function(){u.css("opacity",1)}),i));var p=Date.now();return c.append(u),function(){clearTimeout(l),setTimeout((function(){return u.remove()}),Math.max(6e3-Date.now()-p,0))}}function K(){return(K=o(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=q("thirdWxSubscribeQr")){e.next=3;break}return e.abrupt("return",(function(){return!1}));case 3:return r=q("thirdWxSubscribeKeyword"),o=new Image,e.next=7,new Promise((function(e){o.onload=e,o.src=n}));case 7:return i="<div class='subscribe-wechat-box'>\n        <img src='".concat(D(n),"' alt='公众号二维码' height='").concat(170*O(),"' />\n        <h3>粉丝专享</h3>\n        <p>").concat(r?"成为公众号粉丝后回复关键词即可访问":"长按二维码 成为粉丝后，再来填写吧！","</p>\n        ").concat(r?'<div class="btn">复制关键词</div>':"","\n    </div>"),a=G(i,{}),null===(t=document.querySelector(".subscribe-wechat-box .btn"))||void 0===t||t.addEventListener("click",(function(){F(r),W("复制成功，快去关注吧")})),$(".sceneShadow").css({zIndex:99990,top:0}),document.body.classList.add("noScroll"),requestAnimationFrame((function(){I(j,null)})),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={popVoteMoreOk:function(){M({type:"GET",url:f.LONG_PAGE_PREVIEW+"lp/increaseOpportunityByShared",data:{pageId:window.scene.id,ssid:P("wxOpenid")}}).then((function(e){var t=e.obj,n=$("<div class='pop-up-box pop-up-share-modal shareOkPage' style='z-index: 100000000'>\n                           <div class='shareOk'>\n                               <img class='shareOkGift' src='".concat(D(p),"' />\n                                <p class='shareOkTxt'>您已获得额外 <span class='voteLeftTime'>").concat(t,"</span> 次投票机会</p>\n                                <div id='voteAgain' class='shareOkSubmit'>再次投票</div>\n                                <span id='ShareClose' role='img' aria-label='close'>\n                                    <svg viewBox='64 64 896 896'\n                                         focusable='false'\n                                         data-icon='close'\n                                         width='1em'\n                                         height='1em'\n                                         fill='currentColor'\n                                         aria-hidden='true'>\n                                        <path d='M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z'></path>\n                                    </svg>\n                                </span>\n                            </div> \n                    </div>"));$("body").prepend(n),$("#ShareClose").on("click",(function(){window.location.reload()})),$("#voteAgain").on("click",(function(){window.location.reload()}))}),(function(e){}))},popUpModal:function(e,t){var n=$("<div class='pop-up-box'>\n                        <div class='pop-up-form'>\n                            <div class='pop-up-content'>\n                                <span class='pop-up-msg'>".concat(e,"</span>\n                            </div>\n                            <div class='pop-up-btn'><a class='pop-up-btn-close'>关闭</a></div>\n                        </div>\n                    </div>"));t?t.eqxSectionCover.prepend(n):$(".main-page.z-current").not(".editor-section").prepend(n);(!h()||t&&"pc"==t.previewMode)&&$(".pop-up-box").css({position:"fixed"});$(".pop-up-btn").on("click",(function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})}))},popShareModal:function(){var e=$("<div class='pop-up-box pop-up-share-modal'>\n                        <div class='pop-share-form'>\n                            <div class='pop-share-content'>\n                            </div>\n                            <div class='pop-share-btn'><span class='eqf-no-l'></span></div>\n                        </div>\n                    </div>");T(y()?f.VOTE_AD_IDS.share:f.AD_AFTER_SHARE).then((function(t){var n=t.list&&t.list[0]||{};if(0!==t.list.length){$(".main-page.z-current").not(".editor-section").parent().prepend(e),h()||$(".pop-up-box").css({position:"fixed"}),$(".pop-share-btn").on("click",(function(){e.animate({opacity:0},{duration:300,complete:function(t){return e.remove()}})}));var r="<a style='display:block;width: 100%;' href='".concat(n.linkUrl,"' rdt='3' cat='尾页组件' act='分享弹窗' loc='表单预览'>\n                    <img style='width: 100%;' src='").concat(D(n.picSrc),"'/></a>");y()&&(r=L("<img style='width: 100%;' src='".concat(D(n.picSrc),"' rdt='3' cat='尾页组件' act='分享弹窗-投票' loc='表单预览' />"),n,0,0,!0)),e.find(".pop-share-content").append(r)}}))},adPopUpModal:function(e,t){var n=f.FILE+e.popUpPic,r=e.adLink,o=(e.scenes||"").split(","),i=$("<div class='pop-up-box'>\n                        <div class='pop-ad-form'>\n                            <a>\n                                <div class='pop-ad-content'>\n                                      <img src='".concat(D(n),"' style='max-width: 250px;max-height: 360px;'>\n                                </div>\n                            </a>\n                            <div class='pop-ad-btn'><span class='eqf-no-l'></span></div>\n                        </div>\n                    </div>"));t.eqxSectionCover.prepend(i),(!h()||t&&"pc"==t.previewMode)&&$(".pop-up-box").css({position:"fixed"});$(".pop-ad-btn").on("click",(function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}})})),i.find(".pop-ad-form>a").on("click",(function(){if(o.includes("mini")&&g())if(r){var e=t.eqxScene.meta.id,n=r.indexOf("?");r=-1!=n?r+"&sceneId="+e:r+"?sceneId="+e,wx&&wx.miniProgram.navigateTo({url:r})}else wx&&wx.miniProgram.switchTab({url:"/page/mall/mall"});else location.href=r}))},popMsgModal:function(e,t,n){return new Promise((function(r,o){var i=$("<div class='pop-up-box comments-board'>\n                        <div class='pop-comment-form'>\n                            <div class='pop-comment-content'>\n                                <span class='pop-comment-msg'>".concat(e,"</span>\n                            </div>\n                            <div class='pop-comment-btn ").concat(t,"'>\n                                <a class='pop-comment-btn-close'>取消</a>\n                                <a class='pop-comment-btn-sure'>确定</a>\n                              </div>\n                        </div>\n                    </div>"));n.eqxSectionCover.prepend(i),(!h()||n&&"pc"==n.previewMode)&&$(".pop-up-box").css({position:"fixed"});var a=$(".pop-comment-btn-close"),s=$(".pop-comment-btn-sure");a.on("click",(function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}}),o("close")})),s.on("click",(function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}}),r("sure")}))}))},popMsgSuccessModal:function(e){var t=$("<div class='pop-up-box msg-success-box'>\n                          <div class='msg-success-form'>\n                            <div class='msg-success-content'>\n                                <span class='eqf-yes' style='color: #FFFFFF;font-size:30px;'></span>\n                                <div style='color: #FFFFFF;margin-top: 8px;'>已留言</div>\n                            </div>\n                          </div>\n                       </div>");e.eqxSectionCover.prepend(t),(!h()||e&&"pc"==e.previewMode)&&$(".msg-success-box").css({position:"fixed"});$(".msg-success-box").fadeOut(2e3,(function(){$(".msg-success-box").remove()}))},globalSettingModal:function(e,t){if(k("appletRanking")||"true"===k("closeErrorPage"))return;N=!0,H();var n="";switch(e){case"countLimit":n="".concat(i,"的创建者设定了此<span class='msg'>").concat(i,"的最大提交数</span>，<br />目前已达到限制，不能继续提交数据");break;case"timeLimit":n="此".concat(i,"设置了<span class='msg'>可提交时间限制</span>，<br />目前已超出此限制，不能再提交数据");break;case"areaLimit":n="作者开启了<span class='msg'>地区限制</span>，您当前不属于作品填写区域，不能进行".concat(i,"提交");break;case"fillInLimit":n="此".concat(i,"<span class='msg'>").concat(t,"</span>，您已达到最大参与次数");break;default:n=t}var r=$("<div class='gbSetting-popUp-box'>\n                        <div class='gbSetting-popUp-form'>\n                            <div class='gbSetting-popUp-content'>\n                                <ul>\n                                    <li class='info-li'><i class='eqf-info-f'></i>提示信息</li>\n                                    <li class='des-li'>".concat(n,"</li>\n                                    <li class='btns-li' id='formLastDataWrapper'>\n                                        <div class='setting-button-container'></div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>"));$("body").css("overflow","hidden"),h()?($(".pcPreview-btn-group-wrap .btn-wraper").css("pointer-events","none"),$(".mobile-preview .nr").get(0)?$("#nrCover.mobile-nr-cover").append(r):$(".mobile-preview .nr").append(r),$(".gbSetting-popUp-box").css("position","absolute")):($("body").append(r),$(".gbSetting-popUp-box .des-li").css("padding","0 15px"));var o=$(".setting-button-container");o.append(function(e){H();var t="",n=window.scene.config,r=n.showAfterSubmit,o=n.timeLimitStart,a=(n.timeLimitEnd,n.timeLimitInDay),s=Date.now(),c=!0;("timeLimit"!==e||a||!a&&s>=o||102==scene.bizType)&&(t+="<div class='btn blue' data-type='view'><span>继续查看".concat(i,"内容</span></div>"),c=!1);"102"==scene.bizType&&!a&&s<o&&($(".gbSetting-popUp-box").hide(),$("body").css("overflow","hidden auto"));3===r&&(t+="<div class='btn ".concat(c?"blue":"","' data-type='vote'><span>查看投票排名</span></div>"));return t}(e)),o.hide(),J(o)},$getFormDataLast:function(e){var t=null,n=window.scene,r=n.config,i=n.id;if(!m()||!r)return $(".setting-button-container").show(),Promise.resolve();r.showAfterSubmit;var a=r.showLastSubmitContent,s=(r.showLastSubmitContentTime,r.editorLastSubmitContent);r.editorLastSubmitContentTime;if(!a&&!s)return $(".setting-button-container").show(),Promise.resolve();var c=window.eqxH5WxInfo;t=c?Promise.resolve(c.openid):new Promise((function(e,t){C().then(function(){var t=o(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.obj){t.next=2;break}return t.abrupt("return");case 2:e(null===(r=n.obj)||void 0===r?void 0:r.openid),b(n.obj);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));t.then((function(t){E(i,t).then((function(t){var n=t.code,r=t.success,o=t.map;if(200===n&&r){if(!o.dataValue)return void $(".setting-button-container").show();window._submitNumber=o.num;var a=o.dataValue[i],s={};for(var c in a){var u=a[c];u.startsWith("{")&&u.endsWith("}")&&((u=JSON.parse(u)).content&&(u.content=u.content.replace(/（\d+\.?\d*分）$/,"")),u=JSON.stringify(u)),s[c]=u}window.scene.formLastData=o,window.scene.currentTimeMillis=t.obj,I("formLastdataRecords",function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,s)),function(e,t){if(N){var n=$(".setting-button-container");n.append(function(e){if(!m())return"";var t=window.scene,n=t.config,r=(t.id,t.map,t.currentTimeMillis),o=(n.showAfterSubmit,n.showLastSubmitContent),i=n.showLastSubmitContentTime,a=n.editorLastSubmitContent,s=n.editorLastSubmitContentTime,c=(n.exam.showAnswer,""),u=e.updateDate,l=e.dataValue;if(u&&l){var p=V(r,i,s,u),f=p.showTime,d=p.editorTime;o&&!f&&(c+="<div class='btn' data-type='showLast'><span>查看上次填写内容</span></div>"),a&&!d&&(c+="<div class='btn' data-type='updateLast'><span>修改上次填写内容</span></div>")}return c}(e));var r=n.find(".btn").length;n.addClass("flex-view-".concat(r)),n.css("display",2===r?"block":"flex"),J(n)}else!t&&z(e)}(o,e)}}))}))},ImgPopUpModal:function(e){H();var t=$("<div class='pop-up-box' id='wxPopUpModal'>\n                        <div class='pop-image-form'>\n                            <div class='form-head'>\n                                <i class='eqf-info-f'></i>\n                                <span>此".concat(i,"只允许通过微信访问</span>\n                            </div>\n                            <div id='pop-image-logo'></div>\n                            <div class='form-bottom'><span>请用微信扫一扫进行").concat(a,"</span></div>\n                        </div>\n                    </div>"));if($("#wxPopUpModal").length>0)return;e.eqxSectionCover.prepend(t),U(e),h()&&$(".btn-wraper").css("pointer-events","none");(!h()||e&&"pc"==e.previewMode)&&($(".pop-up-box").css({position:"fixed"}),$("body").addClass("noScroll"))},popCommonModal:function(e,t,n){var r="";r="warn"===(n=n||"info")||"fail"===n?"eqf-no-f":"eqf-info-f";var o=$("<div class='pop-up-box pop-common-box'>\n                          <div class='msg-common-form'>\n                            <div class='msg-common-content'>\n                                <span class='".concat(r,"' style='color: #FFFFFF;font-size:30px;'></span>\n                                <div style='color: #FFFFFF;margin-top: 8px;'>").concat(e,"</div>\n                            </div>\n                          </div>\n                       </div>"));t.eqxSectionCover.prepend(o),(!h()||t&&"pc"==t.previewMode)&&$(".pop-common-box").css({position:"fixed"});var i=setTimeout((function(){$(".pop-common-box").fadeOut(1200,(function(){$(".pop-common-box").remove()})),clearTimeout(i)}),200)},shareTipModal:function(e,t,n){var r=$("<div class='pop-up-box share-tip-modal'>\n                        <div class='pop-image-form'>\n                            <div class='form-head'>\n                                <i class='eqf-info-f'></i>\n                                <span>".concat(t,"</span>\n                            </div>\n                            <div id='pop-image-logo'></div>\n                            <div class='form-bottom'><span>").concat(n||"","</span></div>\n                        </div>\n                    </div>"));e.eqxSectionCover.prepend(r),$(".share-tip-modal").on("click",(function(){$(".share-tip-modal").remove()})),U(e),(!h()||e&&"pc"==e.previewMode)&&$(".pop-up-box").css({position:"fixed"})},openPcShareImg:function(e,t){var n=h()?"pcMobileRender"==e.renderMode?c:s:u,r=$("\n        <div class='pop-up-box pc-share-img' style=\"background-image: url('".concat(D(n),"');background-size: cover;background-repeat: no-repeat;\">\n\n        </div>\n    "));if("settingVote"==t){var o=e.eqxSectionCover,i="100%";"pcRender"==e.renderMode?e.eqxScene.config.isInnerView?(i=o.parent().height(),o.parent().prepend(r),o.parent().find(".pc-share-img").css({height:i})):(i=$("#view_panel").height(),$("#view_panel").prepend(r),$("#view_panel").find(".pc-share-img").css({height:i})):o.prepend(r)}else e.eqxSectionCover.prepend(r);h()||$(".pop-up-box").css({position:"fixed"});$(".pc-share-img").on("click",(function(){$(this).remove()}))},popQrCode:function(e,t,n){var r=$("<div class='pop-up-box pop-QrCode-box'>\n                        <div class='pop-QrCode-form'>\n                            <div class='mini-qrCode'>\n                                <img class='link-img' src='".concat(D(t),"'>\n                            </div>\n                        </div>\n                    </div>"));r.find(".link-img").on("click",(function(){if("form"==k("applet")&&window.wx&&wx.miniProgram)if(n){var t=n.indexOf("?");n=-1!=t?n+"&sceneId="+e.eqxScene.meta.id:n+"?sceneId="+e.eqxScene.meta.id,wx.miniProgram.navigateTo({url:n})}else wx.miniProgram.switchTab({url:"/page/mall/mall"});else n&&(v()?location.href=n:window.open("","_blank").location.href=n)})),e.eqxSectionCover.prepend(r),(!h()||e&&"pc"==e.previewMode)&&$(".pop-up-box").css({position:"fixed"});e.eqxSectionCover.find(".pop-QrCode-box").on("click",(function(t){var n=$(".pop-QrCode-form");n.is(t.target)||0!==n.has(t.target).length||e.eqxSectionCover.find(".pop-QrCode-box").remove()}))},pageModal:function(e,t,n){var r=k("appletRanking")?"applet-ranking":"",o=$("<div class='layer-wrapper ".concat(r,"'>\n                        <div class='layer-form'>\n                            <div class='layer-head clearfix'>\n                                <div class='l-title'>").concat(t,"</div>\n                                <div class='r-close'>\n                                    <em class='eqf-no'></em>\n                                </div>\n                            </div>\n                            <div class='layer-content-wrapper'>\n                                ").concat(n,"\n                            </div>\n                        </div>\n                    </div>"));e.eqxSectionCover.append(o),$(".vote-result-box .vote-order").css({display:"none"}),(!h()||e&&"pc"==e.previewMode)&&$(".layer-wrapper").css({position:"fixed"});var i=0,a="";e&&"mobileRender"===e.renderMode&&($(".layer-wrapper").on("DOMMouseScroll mousewheel",(function(e){e.stopPropagation()})),i=$(window).scrollTop(),a=$("body").css("overflow-y"),$("body").css({position:"fixed","overflow-y":"hidden",top:-i}));e&&"pc"===e.previewMode&&($(".layer-form").css({top:"60px",width:"768px",marginLeft:"-384px",left:"50%",height:"calc(100% - 60px)"}),$("#iscrollDomForPc").remove());$(".layer-wrapper").on("click",(function(t){var n=$(".layer-form"),r=$(".eqf-no");(!n.is(t.target)&&0==n.has(t.target).length||r.is(t.target))&&($(".layer-wrapper").remove(),"mobileRender"===e.renderMode&&($("body").css({position:"static","overflow-y":a,top:"0px"}),$(window).scrollTop(i),setTimeout((function(){$(window).scrollTop(i+1)}),100)),e&&"pc"===e.previewMode&&e.dealAppend("pcRender",!0))}))},popLastDataModal:z,submitRenderShowLastDataDom:function(e){if(!m())return;var t=window.scene,n=t.config,r=(t.map,t.formLastData),o=t.currentTimeMillis,i=(n.showAfterSubmit,n.showLastSubmitContent),a=n.showLastSubmitContentTime;n.editorLastSubmitContent,n.editorLastSubmitContentTime;r||(r={updateDate:+new Date});var s=V(o,a,0,r.updateDate).showTime;if(i&&!s)return e.after('<div class="submit-show-last-data">查看已提交的内容</div>')},showToast:W,loadingShadow:G,subscribeWechatMpModal:function(){return K.apply(this,arguments)},linkRiskIframeModal:function(e,t){$("#ebdLinkRiskModal").length&&$("#ebdLinkRiskModal").remove();var n="<div class='ebd-linkrisk-modal' id='ebdLinkRiskModal'>\n        <span class='close eqf-no'></span>\n        <iframe src='".concat(D(e),"' frameborder='0' scrolling='no'></iframe>\n    </div>"),r=t.$ele||$("body");document.body.classList.add("noScroll"),document.title="外链审核风险提示",r.append(n),v()&&$("#ebdLinkRiskModal").css("position","fixed");$("#ebdLinkRiskModal .close").click((function(){$("#ebdLinkRiskModal").remove(),document.body.classList.remove("noScroll"),document.title=window.scene.title}))},formAccessPasswordModal:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H();var r=(null===(e=window.serverParams)||void 0===e?void 0:e.formPasswordArticleInfo)||{},a=r.introduction,s=r.inputInfo,c=r.buttonInfo,u=s||"请输入访问密码",l='<div class="form-access-password-modal" style="padding: 32px">\n        <p style="font-size:16px">'.concat(B(a)||"该".concat(i,"已开启访问密码，请输入密码后访问"),'</p>\n        <input type="text" placeholder="').concat(u,'" style="height:64px;font-size:20px" maxlength="20" />\n        <p class="pw-error">请输入访问密码</p>\n        <div class="pw-btn">').concat(B(c)||"确定","</div>\n    </div>"),p="mobileRender"===(null===(t=n.config)||void 0===t?void 0:t.renderMode),f=n.currentPage.eqxSectionCover||$("body"),d=$(l);p&&(f=$("body"),$("body").addClass("noScroll"),d.css("position","fixed"));f.append(d),f.find("#bgm-btn-wraper").css("z-index","999992");var h=d.find(".pw-error"),m=!1;p&&d.css("position","fixed"),d.find(".pw-btn").click(o(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d.find("input").val().trim())){e.next=24;break}if(!m){e.next=4;break}return e.abrupt("return");case 4:return d.removeClass("error"),m=!0,e.prev=6,e.next=9,R(window.scene.id,t);case 9:n=e.sent,r=n.code,o=n.success,i=n.obj,setTimeout((function(){m=!1}),500),200===r&&o&&(i?(window.scene.formAccessPassword=t,d.remove(),$("body").removeClass("noScroll"),f.find("#bgm-btn-wraper").css("z-index","1001")):(h.html("请输入正确的访问密码"),d.addClass("error"))),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(6),m=!1,h.html(e.t0.msg),d.addClass("error");case 22:e.next=25;break;case 24:d.addClass("error");case 25:case"end":return e.stop()}}),e,null,[[6,17]])}))));var g=/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9])*$/;d.find("input").get(0).addEventListener("beforeinput",(function(e){var t=e.isComposing,n=e.data;return d.removeClass("error"),!(!t||!g.test(n))||(!!g.test(n)||(e.stopPropagation(),e.preventDefault(),!1))}),{passive:!1,capture:!0}),d.find("input").focus((function(e){e.target.value||(e.target.placeholder="")})),d.find("input").blur((function(e){v&&(document.scrollingElement.scrollTop=10,setTimeout((function(){document.scrollingElement.scrollTop=0}),0)),e.target.value||(e.target.placeholder=u)}))}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,u,l=n(1),p=n(24),f=n(9).qiniuZoom,d=n(24).getItem,h=n(125).APP_ID,m=n(4),v=m.addUrlParam,g=m.getUrlParam,y=m.removeUrlParam,b=n(28).$postWxComp,x=n(249).$getPvCount,w=n(6).popUpModal,S=n(6).popShareModal,k=n(6).popVoteMoreOk,O=n(96),E=n(28).$getUserWxInfo,C=(n(85).getSharePopConfig,n(584).popAdShareModal,n(85).getButtonConfig),_=n(4).getPathName,I=n(87).getTemplateParam,P=n(182).wxSlientAuth;function T(e){return e?f(e,150).replace("//res5","//res1").replace(/\/webp/g,"/png"):""}var R,$,A,q,j,L="",M={},D={},B=!1,F="retry:"+location.pathname.split("/").pop();function N(e){return g("sourceType")&&(e=y("sourceType",e),e=y("immediately",e)),e=y("openid",e),e=y("retry",e),e=y("ssid",e)}function H(e){return e.replace(/#分享者#/g,M.nickname)}e.exports={initWeChat:function(e,t){B=e.obj.config.disableWxShare||!1,c="",q=e.obj.property||{},u=q.shareDes&&q.shareDes.title?q.shareDes.title.description:e.obj.name||"未命名表单",R=T(e.obj.cover),q.shareDes&&q.shareDes.cover&&(R=T(q.shareDes.cover));if(L=q.shareDes&&q.shareDes.description?q.shareDes.description.description||"易企秀表单 - 登录 www.eqxiu.com  快速制作，高效推广。":e.obj.description||"易企秀表单 - 登录 www.eqxiu.com  快速制作，高效推广。",$=e.obj.dsAppId||"",A=N(t),q.shareDes&&"string"==typeof q.shareDes){var n=q.shareDes;q.shareDes={description:{type:"position",description:n}}}if(!q.shareDes)return K();q.shareDes.avatar?R=T(M.headimgurl):q.shareDes.cover&&(R=T(q.shareDes.cover));var r=e.obj.id;(function(e,t){var n=function(){return Promise.resolve(null)},r=function(){return Promise.resolve(null)};e.title&&e.title.type&&(n=function(){return V(e.title,t).then((function(t){u=e.nickname?H(t):t}))});e.description&&e.description.type&&(r=function(){return V(e.description,t).then((function(t){L=e.nickname?H(t):t}))});return Promise.all([n(),r()])})(q.shareDes,r).then((function(){return K()})).catch((function(e){return console.error(e)}))},shareWidthSDK:K,setWeChatUser:Q,getWeChatUser:function(){return M},setWxCompData:function(e){D=e},saveWxCompData:function(e,t){D[e]=t},generateUserKey:function(){c=Date.now()+""+Math.floor(1e5*Math.random()),A=v("userKey",c,A),K()},getWxJSSDK:Y,hrefToWxAuth:function(e,t){return Z.apply(this,arguments)},addCompKey:function(e,t){A=v("compKey",t,A=e),K()},webWeChartShare:function(e,t,n){var r=y("toPage",A),o=$?DS.linkChange(r):r;window._tracker_api_&&(o=window._tracker_api_.getShareUrl(o));t||(t=L);n||(n=R);n=f(n,300,300,!1,{type:"jpg"});var i=document.querySelector("#wxShareCover");i&&(i.src=n);function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=G();e&&window._showShareTip?k():t||S()}te({shareLink:o,title:e,desc:t,imgUrl:n}),console.log("wx分享设置webWeChartShare"),console.log({wxLink:o,title:e,desc:L,newCover:n}),wx.onMenuShareTimeline({title:e,link:o,desc:t,imgUrl:n,success:function(){$&&DS.sendRepost("appMessage"),window._tracker_api_.share("timeline"),X(),a(!0)},cancel:function(){}}),wx.onMenuShareAppMessage({title:e,desc:t,link:o,imgUrl:n,success:function(){$&&DS.sendRepost("appMessage"),window._tracker_api_.share("message"),X(r),a(!0)},cancel:function(){}}),wx.onMenuShareQQ({title:e,desc:t,link:o,imgUrl:n,success:function(){window._tracker_api_.share("qq"),a()},cancel:function(){}}),wx.onMenuShareWeibo({title:e,desc:t,link:o,imgUrl:n,success:function(){window._tracker_api_.share("weibo"),a()},cancel:function(){}}),wx.onMenuShareQZone({title:e,desc:t,link:o,imgUrl:n,success:function(){window._tracker_api_.share("qzone")},cancel:function(){}})},changeWxLocationUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;A=N(e)},getLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wgs84",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a({},W),n=a(a({},W),t),r=n.cache,o=void 0===r||r,i=n.timeout,s=void 0===i?0:i;return new Promise((function(t,n){if(o&&U)return t(U),U;var r=0;function i(){clearTimeout(r),n()}s&&(r=setTimeout((function(){n()}),s)),Y().then((function(){wx.getLocation({type:e,success:function(e){e.latitude,e.longitude,e.speed,e.accuracy;U=e,clearTimeout(r),t(e)},fail:i,cancel:i})}))}))},retryKey:F};var z=null;function J(e){return void 0!==j||z?Promise.resolve(j||z):z=x(e).then((function(e){return j=e||""})).catch((function(){return j=""}))}function V(e,t){var n="";return new Promise((function(r,o){switch(e.type){case"myself":n+="我是".concat(M.nickname,",").concat(e.description),r(n);break;case"position":J(t).then((function(t){n+="我是第".concat(t.obj,"位").concat(e.description),r(n)}));break;case"selfAndPosition":J(t).then((function(t){n+="我是".concat(M.nickname,", 我是第").concat(t.obj,"位 ").concat(e.description),r(n)}));break;default:n=e.description,r(n)}}))}var U=null,W={cache:!0,timeout:0};function G(){var e=window.scene.property;return e&&(e.boughtLabel||e.removeLabel)}function K(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=G();e&&window._showShareTip?k():t||S();var n=C(),r=window.history.state,o=n&&n.link;t||(o&&r&&"detail"!=r.page||o&&!r)&&ee(n)}Y().then((function(){var t=y("toPage",A),n=$?DS.linkChange(t):t;window._tracker_api_&&(n=window._tracker_api_.getShareUrl(n)),te({shareLink:n,title:u,desc:L,imgUrl:R});var r=document.querySelector("#wxShareCover");r&&(r.src=R),wx.onMenuShareTimeline({title:u,link:n,desc:L,imgUrl:R,success:function(){$&&DS.sendRepost("appMessage"),window._tracker_api_.share("timeline"),X(),e(!0)},cancel:function(){}}),wx.onMenuShareAppMessage({title:u,desc:L,link:n,imgUrl:R,success:function(){$&&DS.sendRepost("appMessage"),window._tracker_api_.share("message"),X(t),e(!0)},cancel:function(){}}),wx.onMenuShareQQ({title:u,desc:L,link:n,imgUrl:R,success:function(){window._tracker_api_.share("qq"),e()},cancel:function(){}}),wx.onMenuShareWeibo({title:u,desc:L,link:n,imgUrl:R,success:function(){window._tracker_api_.share("weibo"),e()},cancel:function(){}}),wx.onMenuShareQZone({title:u,desc:L,link:n,imgUrl:R,success:function(){window._tracker_api_.share("qzone")},cancel:function(){}})}))}function X(e){if(c){var t={userKey:c};M&&M.headimgurl&&(D.shareUserHeader=M.headimgurl),M&&M.nickname&&(D.shareUserName=M.nickname),t.data=JSON.stringify(D),b(t).catch((function(e){w(JSON.stringify(e))}))}}function Q(e){Object.assign(M,e),window.eqxH5WxInfo=M}function Y(){return O.initWx()}function Z(){return(Z=o(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.location.href,o=I("wxThird_appid"),i=t||o||h,a=l.LONG_PAGE_PREVIEW+"lp/wx/user/info",!o){e.next=9;break}return e.next=7,P(o);case 7:return s=e.sent,e.abrupt("return",s);case 9:if(!p.getItem(F)){e.next=16;break}if(!d("wxOpenid")){e.next=15;break}return e.next=13,E().then((function(e){return Q(e.obj),e}));case 13:return c=e.sent,e.abrupt("return",c);case 15:return e.abrupt("return",{obj:{}});case 16:return t&&(a=v("userId",n,a)),p.setItem(F,!0,1e4),a=v("rurl",y("ssid",r),a),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+i+"&redirect_uri="+encodeURIComponent(a)+"&response_type=code&scope=snsapi_userinfo#wechat_redirect",e.abrupt("return",{obj:{}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=e.link;/http/.exec(e.link)&&(t=_(e.link));var n={title:"聚合页",page:"eqxScenes",url:window.location.origin+t},r=window.location.href;window.history.replaceState(n,null,n.url),window.history.pushState({page:"detail"},null,r),window.addEventListener("popstate",(function(e){var t=e.state;t&&"eqxScenes"===t.page&&location.reload()}))}function te(e){var t=e.shareLink,n=e.title,r=e.desc,o=e.imgUrl;if(window.wx&&window.wx.miniProgram){var i=g("VDP",t);wx.miniProgram.postMessage({data:{type:"formViewPostMessage",title:n,imgUrl:o,desc:r,vdp:i,disableWxShare:B}})}}},function(e,t,n){"use strict";e.exports={ajax:function(e){return new Promise((function(t,n){$.ajax($.extend({xhrFields:{withCredentials:!0},crossDomain:!0},e,{success:function(e){e&&!1===e.success?n(e):t(e)},error:function(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=console).error.apply(t,[e].concat(o)),n.apply(void 0,o)}}))}))},$ajax:function(e){return new Promise((function(t,n){$.ajax($.extend({},e,{success:function(e){e&&!1===e.success?n(e):t(e)},error:function(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=console).error.apply(t,[e].concat(o)),n.apply(void 0,o)}}))}))},fajax:function(e){return Promise.resolve(e)},delay:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}},function(e,t,n){"use strict";var r=n(235),o=n(1),i=(Number.parseInt,n(8).$ajax),a=n(525);function s(e,t){return new Promise((function(n,r){var o=new Image;t&&(o.crossOrigin="Anonymous"),o.onload=function(){n(this)},o.onerror=o.onabort=function(){r(new Error("download image fail"))},o.src=e}))}function c(e,t,n){return e=(0,r.imageUrlHandler)(e,{width:t,height:n})}function u(e){if(e){if(/^blob:/.test(e))return e;if(e.startsWith("data:image/"))return e;var t=window.location.protocol;if(e.startsWith("//")&&"file:"!==t&&(e=t+e),(!e.startsWith("/")||e.startsWith("/tencent"))&&!e.startsWith("file://"))if(/^https?:\/\//.test(e)){for(var n,r=[o.BIND_USER_FILE,o.FREE_USER_FILE,o.VIP_USER_FILE],i=0;i<r.length;i++)if(n=r[i],e.startsWith(n)){e=e.replace(n,o.FILE);break}}else e=o.FILE+e;return e}console.error("add prefix invalid src")}function l(e){return s(e).then((function(e){return{width:e.width,height:e.height,ratio:e.width/e.height}}))}e.exports={loadImg:s,qiniuZoom:c,reSetVideoSrc:function(e){var t=c(e).replace(".image",".file"),n=t.indexOf("?");return n>-1&&(t=t.slice(0,n)),t},addPrefix:u,initEffectImgPath:function(e){var t=window.location.protocol;return e?/^http.*/.test(e)||/^blob:/.test(e)||e.startsWith("data:image/")?e:e.startsWith("//")&&"file:"==t?"http:"+e:e.startsWith("//")||"file:"==t&&e.startsWith("file://")?e:o.FILE+e:e},getImgShapeByNativeFile:function(e){var t=window.URL||window.webkitURL;try{var n=t.createObjectURL(e)}catch(e){return Promise.reject(new TypeError("不支持URL.createObjectURL"))}return l(n)},getImgShape:function(e,t,n){if(e.shape)return Promise.resolve(e.shape);var r=c(e.path,t||115),i=o.FILE+e.path,a=0;return s(i).then((function(t){return a=t.width/t.height,n?(r=c(e.path,t.width||115),{width:t.width,height:t.height,ratio:a}):s(r)})).then((function(e){if(n)return e;var t=n?1:window.devicePixelRatio||1,r=e.height/t;return{width:r*a,height:r,ratio:a}}))},getImgShapeBySrc:l,getQiniuImgInfo:function(e){var t=u(e);return t=t.replace(/\?.*$/,""),i({method:"GET",url:t+="?imageInfo"})},uploadImg:function(e){var t;return new Promise((function(n){a.parseMetaData(e,(function(r){if(r&&r.exif&&1!==r.exif.get("Orientation")){a(e,(function(e){t=e.toDataURL(),n(t)}),{orientation:!0,canvas:!1})}else t=a.createObjectURL(e),n(t)}),{maxMetaDataSize:262144,disableImageHead:!1})}))},isSupportWebp:function(){return!![].map&&0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")},canvasToImage:function(e){var t=document.createElement("img");t.style.backgroundColor=e.style.backgroundColor,t.width=e.width,t.height=e.height;var n=e.toDataURL("image/png",1);return t.src=n,t}}},function(e,t,n){"use strict";var r=location.pathname.match(/[^/].*$/),o=!isNaN(r),i={1:"EqxHotNewText",13:"EqxPhotoWall",7:"EqxNewText",2:"EqxText",x:"EqxText",298:"EqxDeepShare",299:"EqxReport",3:"EqxBackground",4:"EqxImage",8:"EqxTelephone",9:"EqxRedPacket",10:"EqxRandomContent",11:"EqxReward",b:"EqxComment",h:"EqxShape",i:"EqxCount",l:"EqxLink",t:"EqxChart",v:"EqxVideo",o:"EqxInteractiveVideo",p:"EqxImageSlider",m:"EqxMap",n:"EqxRandom",s:"EqxSound",d:"EqxPv",g:"EqxAdvertise",e:"EqxDownTime",f:"EqxUpTime",upload:"EqxUploadImages",uploadNew:"EqxNewUpload",musicRecord:"EqxMusicRecord",a:"EqxScore",score:"EqxFormScore",scoreScale:"EqxScoreScale",c:o?"EqxScoreRadio":"EqxCheckbox",r:o?"EqxScoreRadio":"EqxRadio",z:"EqxDropDownList",5:"EqxInput",501:"EqxInput",502:"EqxInputPhone",503:"EqxInputEmail",504:"EqxInput",505:"EqxInputQQ",506:"EqxInputWeChat",507:o?"EqxFillBlank":"EqxSingleInput",508:o?"EqxShortAnswer":"EqxMultiInput",6:"EqxSubmitButton",601:"EqxSubmitButton",12:"EqxSMS",201:"EqxWxNickName",401:"EqxWxProfile",403:"EqxWxUploadImage",w01:"EqxWxSoundPlay",w02:"EqxWxSoundRecord",j:"EqxImgVote",k:"EqxTextVote",q:"EqxGravity",u:"EqxDrawingBoard",14:"EqxDate",23:"EqxQrcode",24:"EqxLongTouchSavePicButton",lpLine:"EqxLineECharts",lpPie:"EqxPieECharts",lpBarCol:"EqxBarColECharts",lpBarRow:"EqxBarRowECharts",ad01:"EqxLpAdDefault",ad02:"EqxLpAdConfig",ad03:"EqxLpAdFlow",scoreMatrix:"EqxScoreMatrix",scoreMatrixNps:"EqxScoreMatrixNps",scoreRadio:"EqxScoreRadio",scoreCheckbox:"EqxScoreRadio",scoreImageRadio:"EqxImageScoreRadio",scoreImageCheckbox:"EqxImageScoreRadio",textVote:"EqxNewTextVote",5219:"EqxEvaluate",imageVote:"EqxNewImageVote",videoVote:"EqxVideoVote",voteStatistic:"EqxVoteStatistic",5201:"EqxProvince",5210:"EqxFillBlank",5202:"EqxLocation",5204:"EqxSexRadio",5206:"EqxAgeRadio",5212:"EqxAgeCheckbox",5207:"EqxJob",5209:"EqxOther",5203:"EqxNewDate",5205:"EqxTime",5211:"EqxFillBlankMultiple",5214:"EqxShortAnswer",5208:"EqxProfession",5213:"EqxRowFillBlankMultiple",5215:"EqxEducation",5216:"EqxAddress",5218:"EqxMajor",5217:"EqxSchool",lpHeadFigure:"EqxHeadFigure",lpHeadFormTitle:"EqxHeadFormTitle",lpHeadFormDes:"EqxHeadFormDes",sponsor:"EqxSponsor",feReservation:"EqxReservation",startBtn:"startBtn",rankingList:"eqxRankingList",testRanking:"eqxTestRanking",voteRank:"eqxVoteRank",voteRegister:"eqxVoteRegister"},a=Date.now()+""+Math.floor(1e5*Math.random());e.exports={COMP_TYPE:i,FORM_COMPS:["upload","uploadNew","musicRecord","5","501","502","503","504","505","506","507","508","5201","5210","5211","5214","5202","c","r","z","a","score","5219","scoreScale","12","scoreRadio","scoreMatrix","scoreMatrixNps","scoreCheckbox","imageVote","textVote","videoVote","5204","5206","5212","5207","5208","5209","5201","5203","5205","5213","5215","5216","5218","5217","scoreImageRadio","scoreImageCheckbox","feReservation","12"],WX_COMPS:["201","401","403","w01","w02","j","k","11","9","b","13","17","18","19","20","21","22"],VOTE_COMPS:["textVote","imageVote","videoVote"],WX_CLICK_FARMER_COMPS:["i","6","601"],FIX_INDEX_COMPS:["3","q"],COMP_KEY:a,INPUT_COMPS:["5","501","502","503","504","505","506","507","12","508","upload","5201","5210","5203","5211","5209","5213","5214","5216","5217","5218","uploadNew","musicREcord"],CHART_COMPS:["lpLine","lpPie","lpBarCol","lpBarRow"],TABLE_COMPS:["lpFormTable","lpListTable"],FORM_SCORE_COMPS:["score","scoreScale","scoreMatrix","scoreMatrixNps"],FORM_MAY_SCORE_COMPS_ANALYSIS:["scoreCheckbox","scoreRadio","scoreImageRadio","scoreImageCheckbox"],FORM_RELATIVE_RULE_COMPS:["r","c","z","scoreCheckbox","scoreRadio","videoVote","textVote","imageVote","5204","5206","5212","5207","5208","5215","scoreImageRadio","scoreImageCheckbox"],FORM_OPTION_SWITCH_RULE_COMPS:["r","z","scoreRadio","5204","5206","5207","5208","5215","5219","scoreImageRadio"],FORM_MAY_HAVE_SCORE_COMPS:["5210","5211","5213","5214","scoreCheckbox","scoreRadio","scoreImageRadio","scoreImageCheckbox"],FILL_BLANK_COMPS:["5210","5211","5213","5214"],FORM_VOTE_COMPS:["videoVote","textVote","imageVote"],EVALUATE_COMPS:["scoreRadio","scoreCheckbox","scoreImageRadio","scoreImageCheckbox"],PERSONAL_INFO_COMPS:["501","502","503","505","506","12","5201","5202","5203","5204","5205","5206","5207","5208","5209","5212","5215","5216","5217","5218"],VOTE_INFO_COMPS:["voteStatistic","voteCountdown"],FORM_CAN_CHANGE_CONTENT:["5211","5213"],SUBMIT_COMPS:[6,601],CHOICE_AND_FILL_COMPS:["r","c","z","5210","5211","5214","5213"],COMPS_WITH_OPTIONS:["videoVote","textVote","imageVote","r","c","scoreRadio","scoreCheckbox","scoreImageRadio","scoreImageCheckbox"],TEMPLATE_COMPS_NOSHORTCUTBTN:["lpHeadFigure","lpHeadFormTitle","lpHeadFormDes"],RESERVATION_COMPS:["feReservation","feReservations"],FORM_VALUE_TARGET_COMPS:["scoreRadio","scoreCheckbox","r","c","feReservation","5","12","501","502","503","504","505","506","507","508","5203","5205","5209","5210","5211","5214"],PRIVACY_VERIFY_COMPS:["501","502","506","505","503","5209","5210","5211","5213","5214","uploadNew"]}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(4).addProtocol,o=n(97),i=n(8).$ajax,a={};function s(e){var t=e.name,n=e.src,o=e.cache,s=void 0!==o&&o,c=a[t];if(c)return Promise.resolve(c);var u=i({url:r(n),dataType:"script",cache:s}).then((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a[t]=n,n}));return a[t]=u,u}var c=null,u=null;e.exports={$loader:s,$loadQRCode:function(){return s({name:"qrcode",src:o.QRCode})},$loadSHA:function(){return s({name:"sha",src:o.SHA})},$loadMD5:function(){return s({name:"md5",src:o.MD5})},$loadQQMap:function(){return c||(c=new Promise((function(e,t){window.qqMapCallback=function(){e()},s({name:"qqmap",src:o.QQMap}).catch(t)})))},$loadChart:function(){return s({name:"chart",src:o.Chart,cache:!0})},$loadFlux:function(){return s({name:"flux",src:o.Flux})},$loadJWeixin:function(){return s({name:"jweixin",src:o.JWeixin})},$loadTyped:function(){return s({name:"typed",src:o.Typed,cache:!0})},$loadThreeCanvas:function(){return s({name:"threecanvas",src:o.threecanvas})},$loadSliders:function(){return s({name:"",src:o.sliders})},$loadParallax:function(){return s({name:"parallax",src:o.Parallax})},$canvas:function(){return s({name:"canvg",src:o.canvg})},$loadMLink:function(){return s({name:"mlink",src:o.MLink})},$loadQiniu:function(){return s({name:"qiniu",src:o.qiniu})},$loadPlupload:function(){return s({name:"plupload",src:o.plupload})},$loadTbsJs:function(){return s({name:"tbsJS",src:o.tbsJS})},$loadeChartsJs:function(){return s({name:"eCharts",src:o.eCharts,cache:!0}).then((function(){return s({name:"macaronsTheme",src:o.macaronsTheme})}))},$loaderHandsontableJs:function(){return s({name:"handsontableJs",src:o.handsontableJs,cache:!0})},$loaderXlsxJs:function(){return s({name:"xlsxJs",src:o.xlsxJs,cache:!0})},$loadAMap:function(){return u||(u=new Promise((function(e,t){window.aMapCallback=function(){e()},s({name:"amap",src:o.AMap}).catch((function(){t()}))})))},$loaderRegionData:function(){return s({name:"regionData",src:o.regionData,cache:!0})},$loaderLayDate:function(){return s({name:"loaderLayDate",src:o.laydate,cache:!0})},$loaderLCalendar:function(){return s({name:"loaderLCalendar",src:o.LCalendar,cache:!0})},$loaderNativeShare:function(){return s({name:"nativeShare",src:o.nativeShare,cache:!0})},$loadQiniuNew:function(){return s({name:"qiNiu",src:o.qiNiu})},$loadHtml2Canvas:function(){return s({name:"html2canvas",src:o.html2canvas}).then((function(){return s({name:"canvg",src:o.canvg})}))}}},function(e,t,n){"use strict";var r=n(0).mobilecheck;function o(e){return(r()&&document.documentElement.clientWidth||320)/320}e.exports={baseNum:20,getRatio:o,getRem:function(){return 20*o()}}},function(e,t,n){var r=n(111)("wks"),o=n(63),i=n(11).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(41),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(12)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(13),o=n(202),i=n(54),a=Object.defineProperty;t.f=n(20)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";e.exports={RAW_EVENT:{click:1,shake:2,taphold:3,slide:4,mediaCanplay:5,mediaPlaying:6,mediaEnded:7,animStart:8,animIteration:9,animEnd:10},EQX_EVENT:{show:1,hide:2,random:3,play:4,link:5,page:6,phone:7,position:8,anim:9,anchor:10},INIT_EVENT:{show:1,hide:2,default:0},FORM_RULES:{relative:0,switch:1,options:2}}},function(e,t,n){"use strict";var r=/(onload|onerror)/gi;e.exports={toGoodStr:function(e){return e?e.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|iframe|embed|select|button|form)[^>]*>.*?<\s*\/\1\s*>/gi,""):e},isBadStr:function(e){return!!e&&(e=e.replace(/[↵\n\t\s]/g,""),/<\s*(img|input)[^>]*\/?>/gi.test(e)||/<\s*(script|textarea|svg|iframe|embed|select|button|form)[^>]*>.*?<\s*\/\1\s*>/gi.test(e))},filterTags:function(e){return e?e.replace(/<\/?[^>]*>/gi,""):""},toGoodStrForVideo:function(e){return e?e.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|embed|select|button|form)[^>]*>.*?<\s*\/\1\s*>/gi,"").replace(r,""):e}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){function e(e){Array.isArray(e)?e.forEach(t):"object"===a(e)&&t(e)}function t(e){delete e.$$hashKey}return{getItem:function(t){var n=window.localStorage.getItem(t);if("string"==typeof n)try{n=JSON.parse(n);var r=Number(n.$$expries);if(r){if(Date.now()>r)return window.localStorage.removeItem(t),null;delete n.$$expries}return n.$$str&&(n=n.$$str),e(n),n}catch(e){console.warn(e)}},setItem:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){e(n),"object"!==a(n)&&(n={$$str:n});var i=o(o({},n),{},{$$expries:r&&Date.now()+r||null});return window.localStorage.setItem(t,JSON.stringify(i)),n}window.localStorage.removeItem(t)}}}()},function(e,t,n){var r=n(48);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(11),o=n(31),i=n(30),a=n(63)("src"),s=n(323),c=(""+s).split("toString");n(19).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var r=n(2),o=n(12),i=n(48),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1),i=n(24),a=i.getItem,s=(i.setItem,n(4)),c=(s.getUrlParam,s.removeUrlParam,n(4).getUrlHost);e.exports={$postWxComp:function(e){return r({type:"POST",url:o.LONG_PAGE_PREVIEW+"lp/wx/component",data:e})},$getUserWxInfo:function(e){var t,n={};return/eqxiu\.cn/.test(c(window.location.href))&&(n.userId=e),a("wxOpenid")&&(n.ssid=a("wxOpenid")),n.code=null===(t=window.scene)||void 0===t?void 0:t.code,r({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/wx/user/cache",data:n}).finally((function(e){return e}))},$getWxTicket:function(){var e=c(window.location.href),t="lp/wx/ticket?time="+Date.now();return[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/,/eqxiul\.com/,/ebdan\.net/].some((function(t){return t.test(e)}))||(/eqxiu\.cn/.test(e)?t+="&domain=eqxiu.cn":t+="&domain="+e),console.log("getWxTicket",t),r({type:"GET",url:o.LONG_PAGE_PREVIEW+t})},$getWxAppId:function(e){return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/wx/wechat/appid/get",data:{userId:e}}).then((function(e){return e.obj}))},$frontCallWxAuth:function(){return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"/lp/wx/frontCallWxAuth",data:{ssid:a("wxOpenid")}})},$sendTest:function(){return r({type:"POST",url:o.SERVER_LPAGE+"m/form/common/config/push/wechat/enrollment/testing"})}}},function(e,t,n){"use strict";var r,o,i=(r=window.getComputedStyle(document.documentElement,""),o=(Array.prototype.slice.call(r).join("").match(/-(moz|webkit|ms)-/)||""===r.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+o+")","i"))[1],lowercase:o,css:"-"+o+"-",js:o[0].toUpperCase()+o.substr(1)});e.exports={addGlobalStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?document.createElement("style"):document.getElementsByTagName("style")[0];if(!n){n=document.createElement("style");var r=document.head||document.getElementsByTagName("head")[0];n.type="text/css",r.appendChild(n)}var o=document.createTextNode(e);return n.appendChild(o),t&&document.head.appendChild(n),n},addSuffixPx:function(e){return-1===(e=""+e).indexOf("px")&&(e+="px"),e},preFixCss:function(e,t,n){var r=i.js+t.substring(0,1).toUpperCase()+t.substring(1,t.length);e.style[r]=n},prefix:i}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(21),o=n(62);e.exports=n(20)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(90),o=n(48);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(10).COMP_TYPE,l=n(10).FORM_COMPS,p=n(10),f=p.CHART_COMPS,d=p.TABLE_COMPS,h=p.FILL_BLANK_COMPS,m=n(57).BG_CROP_TYPE,v=n(244),g=n(58).ANIMATION_TYPE,y=n(58).ANIMATION_TYPE_WITH_DIR,b=n(23),x=(0,n(4).getUrlParam)("compKey"),w=n(22).RAW_EVENT,S=n(22).EQX_EVENT,k=n(57),O=k.PC_VIEW_WIDTH/k.EDITOR_WIDTH,E=n(23),C=E.filterTags,_=E.toGoodStrForVideo,I=n(16).getRatio,P=n(127).tagsDecode,T="";function R(e,t){if("feReservation"===e.type&&e.properties&&!Array.isArray(e.properties.dateSetting)){var n=e.properties;n.dateSeq=1,n.isMultiple=!1;var r=n.dateSetting,i=r.dateStyle.enable;n.dateSetting=[s(s({},r),{},{id:1,isDefault:!0,title:"项目1",advanceTime:0,advanceType:1,maxAfterDay:null,maxChose:1,dateStyle:s(s({},r.dateStyle),{},{differenceType:0,scopeSeq:0===r.dateStyle.type?0:Math.max.apply(Math,o(r.dateStyle.scope.map((function(e){return delete e.rangeTimes,!1===i&&(e.num=null),e.id}))))})})]}}function $(e,t){if("EqxDrawingBoard"===u[e.type]&&t.map[x]){var n=t.map[x][e.id];n&&(e.properties.imgSrc=n,e.properties.qiniuSrc=n)}}function A(e,t){e&&t&&(e.properties=e.properties||{},"string"==typeof e.properties&&(e.properties={}),e.css=e.css||{},e.sceneId=t.meta.id)}function q(e,t,n){var r=e.css,o=u[e.type];if("translate3d(0px, 0px, 0px) rotateZ(0deg) scale(1, 1)"===r.transform&&(r.transform=""),r.letterSpacing&&!r.letterSpacing.toString().endsWith("em")&&(r.letterSpacing=r.letterSpacing+"em"),"EqxBackground"!==o){["top","left","width","height","zIndex"].forEach((function(e){void 0===r[e]&&(_DEBUG_,"height"===e&&(["EqxInput","EqxInputEmail","EqxInputPhone"].includes(o)&&(r.height=38),"EqxSubmitButton"===o&&(r.height=36),"EqxRadio"!==o&&"EqxCheckbox"!==o||_DEBUG_&&console.info(o),_DEBUG_&&console.info("add height",r.height)))}));var i=Object.assign({},{color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0},r);Object.assign(r,i)}if(function(e){var t=e.css,n=u[e.type],r=["top","bottom","left","zIndex","width","height","lock","transform","opacity","color","backgroundColor","lineHeight","fontSize","textAlign","fontWeight","writingMode","letterSpacing","fontFamily","paddingBottom","paddingTop","letterSpacing","fontStyle","textDecoration","letterSpacing","fontStyle","borderWidth","borderStyle","borderColor","borderRadius","borderRadiusPerc","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","boxShadow","boxShadowDirection","boxShadowSize"];Object.keys(t).forEach((function(e){var o=r.indexOf(e),i=t[e];if(-1===o&&(_DEBUG_,"EqxInput"===n&&"text-align"===e&&(t.textAlign=t.textAlign||t["text-align"],delete t[e]),"border"===e)){var a=function(e){var t=e.split(" ");return{borderWidth:t[0],borderStyle:t[1],borderColor:t[2]}}(i);t.borderColor=a.borderColor||t.borderColor,t.borderWidth=a.borderWidth||t.borderWidth,t.borderStyle=a.borderStyle||t.borderStyle,delete t[e],_DEBUG_&&console.info("delete border:",i,"add",t.borderColor,t.borderWidth,t.borderStyle)}}))}(e),G(r,e),n){var a=n.properties.longPage||486;r.bottom&&!r.top&&(r.top=a-r.bottom-r.height,console.log("bottom ".concat(r.bottom," height ").concat(r.height," -> top ").concat(r.top)),delete r.bottom)}return r.top||(r.top=0),r.left||(r.left=0),e}function j(e){var t=e.type,n={css:{height:"0",paddingBottom:"8px",textAlign:"left",color:"#333",display:"none",fontSize:"14px",lineHeight:1.4,fontWeight:"bold"},content:""},r={css:{display:"none",height:"0",paddingBottom:"8px",textAlign:"left",color:"#666666",fontSize:"12px",lineHeight:1.4,fontWeight:"normal"},content:""},o=e.properties;if(l.includes(t+"")){o.formRelevant=o.formRelevant||{title:n,des:r};var i=o.formRelevant;i.title||(i.title=n),i.des||(i.des=r);try{var a=i.title.content,s=i.des.content;a&&"string"==typeof a&&(i.title.content=C(a)),s&&"string"==typeof s&&(i.des.content=C(s)),K(i.title.css,e),K(i.des.css,e),"5213"==t&&e.choices.options.forEach((function(t){K(t.fills.css,e)}))}catch(e){}}}function L(e){var t=e.properties;"string"==typeof t&&(t={}),t.anim?(Array.isArray(t.anim)||(t.anim=[t.anim]),t.anim=t.anim.filter((function(e){var t=e||{},n=t.type,r=t.direction;return!(-1==n||null==n||null==n||!g[n])&&(y[n]&&!g[n][r]&&(console.error("invalid animation type",e),e.direction=0),!0)}))):t.anim=[],t.anim.forEach((function(e){["delay","duration"].forEach((function(t){"string"==typeof e[t]&&(e[t]=parseFloat(e[t]))}))}))}function M(e){var t=e.type,n=e.properties,r=n.cropSize,o=n.croptype,i=n.pageLength;"EqxBackground"===u[t]&&(r&&!o&&(n.croptype=m["固定背景模式"]),i&&(i<2&&delete n.pageLength,i<10&&(n.pageLength=486*i)))}function D(e){if("EqxImage"===u[e.type]||"EqxHeadFigure"===u[e.type]){var t=e.properties;G(t,e),G(t.imgStyle||(t.imgStyle={}),e)}}function B(e){var t=u[e.type];"string"!=typeof e.choices||"EqxCheckbox"!==t&&"EqxDropDownList"!==t&&"EqxRadio"!==t&&"EqxSexRadio"!==t&&"EqxAgeRadio"!==t&&"EqxEducation"!==t||(e.choices=JSON.parse(e.choices)||{})}function F(e){}function N(e){"EqxDropDownList"==u[e.type]&&(e.showText&&e.placeholderText&&e.choices&&(e.choices.options.unshift({id:0,label:e.placeholderText}),e.choices.options.map((function(t){t.value=t.id,delete t.id,t.selected=!1,t.label==e.showText&&(t.selected=!0)}))),delete e.showText,delete e.placeholderText,e.choices&&delete e.choices.seq)}function H(e){if("EqxPieECharts"==u[e.type]){var t=e.properties.eCharts.data.series.radius;"75"==t[1]&&(t[1]="50%")}}function z(e){var t=e.type;f.indexOf(t+"")>-1&&K(e.properties.eCharts.title.style,e)}function J(e){if("v"==e.type){var t=e.properties.src;t&&t.length&&(e.properties.src=_(P(t)))}}function V(e){var t=e.type;if(d.indexOf(t+"")>-1){var n=e.properties.lpTable;n.content.css&&K(n.content.css,e),K(n.headerCss,e),K(n.title.css,e)}}function U(e){if("p"==e.type){var t=e.properties,n=t.children,r=t.imageDetail,o=t.imageText,i=t.imageTitle,a=t.allowRedirect;n.forEach((function(t){a&&t.href&&!/^((ht|f)tps?):\/\//.test(t.href)&&(t.href="http://"+t.href),K(t,e)})),K(r,e),K(o,e),K(i,e)}}function W(e,t){var n=t.meta.publishTime,r=u[e.type];if("EqxText"===r||"EqxAwesomeText"===r){e.type=2,e.properties&&e.properties.dataUrl&&delete e.properties.dataUrl;var o=e.content;o&&o.length>0&&(o=o.replace(/(^\s*)|(\s*$)/g,""),b.isBadStr(o)&&(console.error("xss text"),o=b.toGoodStr(o)),e.content=o),e.publishTime=n}if("EqxText"==r){e.type=7;var i=e.content;if(i&&i.length>0){i=i.replace(/(^\s*)|(\s*$)/g,""),i=P(i),b.isBadStr(i)&&(console.error("xss text"),i=b.toGoodStr(i));try{var a=i.match(/(font-size:\s*)(\d*)(?=px)/gi),s=[];if(a){var c=a.join(",").match(/\d+/gi);c&&(s=c)}var l=parseInt(e.css.fontSize,10);s.push(l);var p=Math.min.apply(null,s);e.css.fontSize=parseInt(p,10)||14}catch(e){console.log(e,"error")}i=i.replace(/<span[^>]*>|<\/span>/gi,""),e.content=i}}if("EqxNewText"==r||"EqxHeadFormTitle"==r||"EqxHeadFormDes"==r){var f=e.content;f&&f.length>0&&(f=P(f),b.isBadStr(f)&&(console.error("xss text"),f=b.toGoodStr(f)),e.content=f)}}function G(e,t){"100%"===e.width&&(e.width=320),["opacity","width","height","top","bottom","left","right","zIndex","borderWidth","borderBottomLeftRadius","borderBottomRightRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"].forEach((function(t){var n=e[t];n&&!/\d*rem$/.test(e[t])&&(e[t]=parseFloat(n))})),K(e,t)}function K(e,t){if("view"==T&&1!=I()&&"object"===r(e)&&0!=Object.keys(e).length&&!t.remComputed){var n=["top","bottom","left","width","height","transform","lineHeight","fontSize","letterSpacing","paddingBottom","paddingTop","paddingLeft","paddingRight","letterSpacing","borderWidth","borderTopWidth","borderLeftWidth","borderBottomWidth","borderRightWidth","borderRadius","borderRadiusPerc","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","boxShadow","boxShadowDirection","boxShadowSize"];"p"===t.type&&n.push("detailHMax","showHeight","titleHMax"),n.forEach((function(t){var n=e[t];if(n&&!/rem|%|em$/.test(n)&&("lineHeight"!=t||/px/.test(n)))if("transform"!=t&&"boxShadow"!=t||!n){var r=(e[t]+"").indexOf("px")>-1,o=parseFloat(e[t]);o=isNaN(o)?0:o,e[t]=Math.ceil(parseFloat(e[t])*I()*1e3)/1e3,r&&(e[t]=e[t]+"px")}else e[t]=n.replace(/\d*\.?\d*px/g,(function(e){if(e){var n=parseFloat(e)*I();return("boxShadow"==t?~~n:n)+"px"}}))}))}}function X(e,t){var n=e.properties,r=n.url,o=n.number,i="",a="";r?(!Number.isInteger(+r)&&r.startsWith("http://")&&window.location.href.startsWith("https://")&&(r=r.replace("http://","https://")),a=r,i=Number.isInteger(+r)?S.page:S.link,delete e.properties.url):o&&(a=o,i=S.phone,delete e.properties.number),a&&i&&t.properties.triggerGroup.push({eventType:w.click,sourceType:"e",sourceId:e.id,targetType:"e",targetId:e.id,targetState:i,targetContent:a})}function Q(e,t){e.sound&&e.sound.src&&(-1==t.properties.triggerGroup.findIndex((function(t){return t.eventType==w.click&&t.sourceId==e.id&&t.targetState==S.play}))&&t.properties.triggerGroup.push({eventType:w.click,sourceType:"e",sourceId:e.id,targetType:"e",targetId:e.id,targetState:S.play}))}function Y(e,t,n){n.properties.longPage;var r=n.groups,o=void 0===r?[]:r,i=n.allGroupItems,a=void 0===i?[]:i,s=n.funGroupItem,c=void 0===s?[]:s;if(!n.allGroupItems&&o&&o.length>0){var u=[];o.forEach((function(e){var t=e.compIds.filter((function(e){return(""+e).match(/^\d*$/)}));1==e.type&&t.forEach((function(t){c.push({id:t,type:e.eleType})})),u=u.concat(t)})),n.funGroupItem=c,a=n.allGroupItems=u}var l=a.indexOf(e.id)>-1,p=c.find((function(t){return t.id==e.id})),f=function(e,t,n,r){var o=e.paddingLeft,i=void 0===o?0:o,a=e.paddingRight,s=void 0===a?0:a,c=e.width,u=e.left,l=e.height,p=e.top,f=e.fontSize,d=e.lineHeight,h=l,m=p,v=t.type,g=t.properties,y=O;n&&(y=1.5);if(i=parseFloat(i)*y,s=parseFloat(s)*y,u=parseFloat(u)*y,p=parseFloat(p)*y,["4","o","v","lpHeadFigure"].indexOf(""+v)>-1){var b=function(e,t){var n,r=e.css,o=e.properties.imgStyle,i=(r.paddingLeft,r.paddingRight,r.paddingTop,r.paddingBottom,r.left),a=r.top,s=r.width,c=r.height,u=o=o||{},l=u.width,p=u.height,f=void 0===p?c:p,d=u.marginLeft,h=void 0===d?0:d,m=u.marginTop,v=void 0===m?0:m,g=O;t&&(g=1.5);s*=g;var y=c*g,b=e.properties.supportScrollH;n=parseFloat(s)-2*parseFloat(h)*g,f=parseFloat(y)-2*parseFloat(v)*g,b&&(e.properties.supportScrollH=parseFloat(b)*g,f=parseFloat(o.height)*g);return Object.assign(r,{width:s,height:y,left:i,top:a}),Object.assign(o,{width:n,height:f,marginTop:0,marginLeft:0}),{width:s,height:y}}(t,n);c=b.width,l=b.height}else c=parseFloat(c)*y;["upload","c","r","z","5","501","502","503","504","6","601","12","7","2","startBtn","lpHeadFormTitle"].indexOf(""+v)>-1&&r&&(f=parseFloat(f)*y,l=parseFloat(l)*y);!r&&t.properties.isOverlayElement&&["7","2"].indexOf(v+"")>-1&&(l=1.5*parseFloat(l),f=1.5*parseFloat(f));["h","p"].indexOf(""+v)>-1&&(l=parseFloat(l)*y);"p"==v&&g.children.forEach((function(e){!function(e,t){["width","height"].forEach((function(n){e[n]&&(e[n]*=t)}))}(e,y)}));"i"!=v&&"d"!=v||(f=parseFloat(f)*y,l=parseFloat(l)*y);return Object.assign(e,{paddingLeft:i,paddingRight:s,left:u,width:c,height:l,top:p,fontSize:f?~~parseFloat(f):f,lineHeight:d}),l-h+p-m}(e.css,e,p,l)||0,d=new Map;return t.$maxHeightMap?d=t.$maxHeightMap:t.$maxHeightMap=d,(d.get(n)||0)<f&&(n.properties.longPage-=d.get(n)||0,n.properties.longPage+=f,d.set(n,f)),e.adaptData=!0,e}function Z(e){if(e.properties.zoom=e.properties.zoom||11,"m"==e.type){var t=e.content;t&&"string"==typeof t&&(e.content=C(t));var n=e.properties.address;n&&n.length&&(e.properties.address=C(n))}}function ee(e){if("5202"==e.type){var t=e.properties.placeholder;t&&"string"==typeof t&&(e.properties.placeholder=C(t))}}function te(e){if("upload"==e.type&&!e.properties.uploadType){Object.assign(e.properties,{uploadType:"image"});var t=parseInt(e.css.height);e.css.height=t>40?t-38:40}}function ne(e){if("scoreRadio"==e.type||"scoreCheckbox"==e.type||"scoreImageRadio"==e.type||"scoreImageCheckbox"==e.type){e.properties.formRelevant.evaluate||Object.assign(e.properties.formRelevant,{evaluate:{type:1,score:0,answers:[],answerKeys:"",isOptionRandom:!1,isOptionFixed:!1}});var t=e.properties.formRelevant.evaluate;if("string"==typeof t){try{t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(t)?JSON.parse(window.decodeURIComponent(window.atob(t))):JSON.parse(t)}catch(e){console.log(e),console.log("evaluate 格式异常")}e.properties.formRelevant.evaluate=t;
//-----
//alert(JSON.stringify(t));
try {
                    t.answers.forEach((function(n, r) {
                        e.choices.options.forEach((function(e) {
                            if(e.id == n){
								e.label="----"
							}
                        }))
                    }))
                } catch(e) {
                    console.log(e)
                }

try{t.answers.forEach((function(n,r){e.choices.options.find((function(e){return e.id==n}))||t.answers.splice(r,1)}))}catch(e){console.log(e)}}}return e}function re(e){if(h.includes(e.type)){var t=e.properties.formRelevant,n=t.evaluate;if(t.showScoreAndAnswer||(t.showScoreAndAnswer=!1),"string"==typeof t.evaluate)try{n=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n)?JSON.parse(window.decodeURIComponent(window.atob(n))):JSON.parse(n),t.evaluate=n}catch(e){console.log(e),console.log("evaluate 格式异常")}}return e}e.exports={perfectComp:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";T=r,A(e,t),q(e,t,n),j(e),L(e),D(e),$(e,t),M(e),B(e),W(e,t),v(e,"e",n),N(e),X(e,n),Q(e,n),Z(e),ee(e),H(e),z(e),V(e),te(e),R(e,n),ne(e),re(e),U(e),J(e),"view"==T&&(e.remComputed=!0);return e},perfectJson:A,perfectCss:q,perfectAnim:L,perfectBg:M,perfectChoice:B,perfectInput:F,perfectText:W,perfectTrigger:v,perfectLink:X,perfectSound:Q,perfectCssForPcRender:Y,beforeAdaptorData:function(e,t,n,r){"pcCompute"==r?Y(e,t,n):function(e){var t=["fontSize","height","width","left","top","paddingLeft","paddingRight","paddingTop","paddingBottom"],n=e.css,r=e.type,o=e.properties.imgStyle,i=void 0===o?{}:o,a=["5","501","502","503","504","6","601","c","r","z","12","startBtn"].findIndex((function(e){return e==r}))>-1;if(a){var s="none"==n.transform?"":n.transform;s+="scale(".concat(O,")"),n.transform=s,t=["left","top"],e.properties.tempScale=O}t.forEach((function(e){n[e]=parseFloat(n[e])*O})),["4","0","o","lpHeadFigure"].indexOf(r+"")>-1&&["width","height","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){i[e]=parseFloat(i[e])*O}));a&&(n.left+=parseFloat(n.width)*(O-1)/2,n.top+=parseFloat(n.height)*(O-1)/2)}(e)},perfectFormCss:j,perfectUpload:function(e){"upload"!=e.type||e.properties.uploadType||Object.assign(e.properties,{uploadType:"image"})},convertPx2Rem:K}},function(e,t,n){"use strict";e.exports={1:"爆款文本",2:"文本",3:"背景",4:"图片",5:"输入框",6:"提交按钮",7:"新文本",8:"电话",9:"红包",10:"随机事件",11:"打赏",12:"验证码",13:"照片墙",14:"日期",16:"长按按钮",17:"微信卡券",18:"幸运转盘抽奖",19:"砸金蛋",20:"一刮千金",21:"微信红包",22:"幸运九宫格",23:"二维码",24:"点击截图",201:"微信昵称",298:"文本",299:"文本",401:"微信头像",403:"微信照片",501:"姓名",502:"电话",503:"邮箱",504:"文本",505:"QQ",506:"微信",507:"单行文本",508:"多行文本",601:"提交按钮",x:"文本",a:"评分",b:"留言板",c:"多选题",d:"统计",e:"计时",f:"计时",g:"广告",h:"形状",i:"计数",j:"投票",k:"投票",l:"链接",m:"地图",n:"随机图片",o:"互动视频",p:"图集",q:"重力感应",r:"单选题",s:"音效",t:"图表",u:"画板",upload:"上传图片",uploadNew:"上传组件",v:"视频",w01:"微信声音",w02:"微信声音",z:"下拉列表",scoreMatrix:"评分矩阵",scoreMatrixNps:"NPS矩阵",scoreRadio:"单选题",scoreCheckbox:"多选题",score:"评分",scoreScale:"NPS量表",imageVote:"图片投票",textVote:"文字投票",videoVote:"视频投票",voteStatistic:"投票统计",5201:"省市区",5202:"位置",5203:"日期",5204:"性别",5205:"时间",5206:"年龄单选",5207:"职业",5208:"行业",5209:"其他信息",5210:"单项填空",5211:"多项填空",5212:"年龄多选",5213:"横向填空",5214:"简答题",5215:"学历",5216:"地址",5218:"专业",5217:"院校",scoreImageRadio:"图片选择题",scoreImageCheckbox:"图片选择题",lpHeadFigure:"头图",lpHeadFormTitle:"表单标题",lpHeadFormDes:"表单说明",sponsor:"主办方信息",feReservation:"项目预约",eqxButton:"按钮",startBtn:"开始按钮",showScore:"分数",voteRank:"投票排名",rankingList:"考试排行榜",testRanking:"考试排名",voteRegister:"投票报名",answerAnalysis:"答案解析",externalLink:"外链组件",oneClickScreenshot:"一键截图",orderNumber:"提交序号",nowDate:"提交日期",nowTime:"提交时间",formValue:"已填信息",wxAvatar:"微信头像",wxNickname:"微信昵称",voteShare:"拉票组件"}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(5),m=(n(3).parse,n(99).htmlEncode,n(248),n(34)),v=n(10).FORM_COMPS,g=n(10).FORM_RELATIVE_RULE_COMPS,y=n(10).FORM_OPTION_SWITCH_RULE_COMPS,b=["top","left","paddingTop","paddingBottom","paddingLeft","paddingRight"],x=n(16).getRatio,w=n(23).filterTags,S=n(597),k=(S.hasOptionComps,S.compTitles),O=n(0).isWeixin,E=n(9).qiniuZoom,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,o,p=l(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(n=p.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1,title:!0,description:!0},advanceStyle:{required:!0}},trigger:{self:!1},sound:!1,link:!1,freezeAttrs:["height"]}),n.defaultTitle=m[n.type],n.afterRenderBorderBinded=n.afterRenderBorder.bind(f(n)),n}return t=h,(n=[{key:"getRequired",value:function(){return this.compJson.properties.required||!1}},{key:"getInnerHeight",value:function(){var e=this.css,t=e.height,n=e.paddingBottom,r=void 0===n?0:n,o=e.paddingTop,i=void 0===o?0:o;return t-parseFloat(r)-parseFloat(i)}},{key:"create$li",value:function(){var e=this,t=c(d(h.prototype),"create$li",this).call(this),n=this,r=(n.eqxScene,n.compJson),o=(r.type,r.css),a=r.properties,s=n.$boxDiv,u=$.extend(!0,{},o);for(var l in o.boxReflect&&delete u.boxReflect,u)u[l]="";return s.css(u),s.css({border:"none",borderRadius:"0",height:"auto"}),this.$switchRuleTag=null,this.$relativeRuleTag=null,this.$ruleContainer=null,n.$formTitle=n.$boxContentDiv.find(".form-title-box"),n.$formDes=n.$boxContentDiv.find(".form-des-box"),n.$formComp=n.$boxContentDiv.find(".form-comp-box"),n.$formNote=n.$boxContentDiv.find(".form-note-box"),function(){var e=n.eqxPage.pageJson.properties.formStyle,t=e.title,r=Object.assign({},a.formRelevant.title.css,t),s=a.formRelevant.des.css,c="upload"==n.compJson.type&&n.compJson.properties.uploadNote?38*x():0;c||"upload"!=n.compJson.type||$(n.$formNote).css("display","none"),n.$formTitle.css(i(i({},r),{},{height:"auto"})),n.$formDes.css(i(i({},s),{},{height:"auto"}));var u=JSON.parse(JSON.stringify(o));b.forEach((function(e){null!=u[e]&&delete u[e]}));var l=parseFloat(r.height||0)+parseFloat(s.height||0)+parseFloat(c);n.$formComp.css(Object.assign({},u,{width:"100%",height:"calc(100% - ".concat(l,"px)"),transform:"none",visibility:"visible",fontWeight:"normal"},e.border))}(),this.updateClass(),this.transBlanks(),a.formRelevant.title.imgSrc&&this.updateFormTitleImg(a.formRelevant.title.imgSrc),setTimeout((function(){e.renderBorderImage()})),t}},{key:"transBlanks",value:function(){var e=this.getFormRelavent(),t=e.title,n=e.des;this.$formTitle.find(".head-title").html(this.tranSpaceAndEnter(t.content)),this.$formDes.children().html(this.tranSpaceAndEnter(n.content))}},{key:"perfectSpaces",value:function(e){return e?e.replace(/\s/g,"&nbsp;"):""}},{key:"getFormTitleHeight",value:function(){var e=this.$formTitle.children().outerHeight(),t=this.$formTitle.find(".img-mask img.title-img").height();return(e+=t)?e+(t?16:8)*x():0}},{key:"getFormCheck",value:function(){var e=this.getProp("formCheck");return e||{min:{checked:!1,limit:null},max:{checked:!1,limit:null}}}},{key:"updateFormTitle",value:function(e){(e=e||this.compJson.properties.formRelevant.title.content)?this.$formTitle.find(".title-extra").attr("style","display:inline-block"):this.$formTitle.find(".title-extra").attr("style","display: none"),this.$formTitle.find(".head-title").html(this.tranSpaceAndEnter(e)),this.updateTitleHeight(this.compJson,e),this.updateFormHeight(),this.updateClass()}},{key:"updateFormLimit",value:function(e){e=e,this.$formTitle.find(".title-extra").html(e)}},{key:"updateFormTitleImg",value:function(e){var t=this,n=this.compJson.properties.formRelevant.title.content;n||$(".title-extra").attr("style","display:none"),e=e||this.compJson.properties.formRelevant.title.imgSrc;var r=this.compJson.properties.maskSrc;e&&!this.$formTitle.find(".img-mask img.title-img").length?(this.$formTitle.append(this.createImage(e)),r?this.$formTitle.children(".img-mask").css({"-webkit-mask-box-image":"url(".concat(r,")")}):this.$formTitle.children(".img-mask").css({"-webkit-mask-box-image":"none"}),this.$formTitle.css("display","block")):e?(this.$formTitle.find(".img-mask img.title-img").css("height","auto"),this.$formTitle.find(".img-mask img.title-img").attr("src",e),r?this.$formTitle.children(".img-mask").css({"-webkit-mask-box-image":"url(".concat(r,")")}):this.$formTitle.children(".img-mask").css({"-webkit-mask-box-image":"none"}),this.$formTitle.css("display","block")):e||(this.$formTitle.find(".img-mask img.title-img").css("height",0),this.updateTitleHeight(this.compJson,n),this.updateFormHeight()),this.$formTitle.find(".head-title").html(this.tranSpaceAndEnter(n)),e&&this.$formTitle.find(".img-mask img.title-img").on("load",(function(){!function e(){t.$formTitle.find(".img-mask img.title-img").height()?(t.updateTitleHeight(t.compJson,n),t.updateFormHeight()):setTimeout((function(){e()}),200)}()})),e&&this.bindShowBIgPicture(e)}},{key:"bindShowBIgPicture",value:function(e){var t=this.$formTitle.find(".img-mask img.title-img");O()&&t.on("click.imgPreview",(function(){wx.previewImage({current:e,urls:[e]})}))}},{key:"getValueInfo",value:function(){var e="";return"edit"!==this.eqxScene.config.mode&&(e=this.getValue()),{title:this.getTipTitle(),typeName:m[this.compJson.type],label:e,value:e,editLabel:m[this.compJson.type]}}},{key:"updateTypeTitle",value:function(){this.compJson.title=this.defaultTitle}},{key:"setTitleToDefault",value:function(){this.compJson.properties.formRelevant.title.content=this.defaultTitle}},{key:"isDefaultTitle",value:function(){return(this.compJson.properties.formRelevant&&this.compJson.properties.formRelevant.title.content)==this.defaultTitle}},{key:"updateTitleHeight",value:function(e,t){var n=e.properties.formRelevant.title.imgSrc,r=e.properties.formRelevant.title.css;r||(r=e.properties.formRelevant.title.css={}),t||n?(r.display="block",this.$formTitle.css("display","block")):(r.display="none",this.$formTitle.css("display","none"));var o=this.getFormTitleHeight();r.height=o,this.$formTitle.css("height",o||"auto")}},{key:"updateTitleCss",value:function(e){e&&(this.$formTitle.css(e),this.updateFormJson(e,"title"),this.updateFormTitle(this.compJson.properties.formRelevant.title.content))}},{key:"updateClass",value:function(){var e=this.compJson.properties.required,t=void 0!==e&&e&&this.compJson.properties.formRelevant.title.content?"addClass":"removeClass";this.$formTitle[t]("require")}},{key:"getFormDesHeight",value:function(){var e=this.$formDes.children().height();return e?e+8:0}},{key:"updateFormDes",value:function(e){this.$formDes.children().html(this.tranSpaceAndEnter(e)),this.updateDesHeight(this.compJson,e),this.updateFormHeight()}},{key:"updateDesHeight",value:function(e,t){var n=e.properties.formRelevant.des.css;n||(n=e.properties.formRelevant.des.css={}),t?(n.display="block",this.$formDes.css("display","block")):(n.display="none",this.$formDes.css("display","none"));var r=this.getFormDesHeight();n.height=r,this.$formDes.css("height",r)}},{key:"updateDesCss",value:function(e){e&&(this.$formDes.css(e),this.updateFormJson(e,"des"),this.updateFormDes(this.compJson.properties.formRelevant.des.content))}},{key:"updateFormHeight",value:function(){var e=this.compJson;if(e.properties.formRelevant=e.properties.formRelevant?e.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}},parseFloat(this.compJson.css.paddingTop),parseInt(this.compJson.css.paddingBottom),parseFloat(this.$formComp.css("height")),this.$formTitle&&"none"!=this.$formTitle.css("display"))t=this.getFormTitleHeight();else var t=0;if(this.$formDes&&"none"!=this.$formDes.css("display"))n=this.getFormDesHeight();else var n=0;this.$li.css("height","auto"),this.innerNotHeight&&this.$boxDiv.css("height","");var r=parseInt(t)+parseInt(n);this.update$li({height:this.$li.outerHeight()}),this.$formComp.css("height","calc(100% - ".concat(r,"px)")),this.updateFromInnerHeight(),this.autoSizeTopDown(),this.updatePageHeight()}},{key:"updateFormAllHeight",value:function(e,t,n){this.updateTitleHeight(e,t),this.updateDesHeight(e,n),this.updateFormHeight()}},{key:"updateFormCompCss",value:function(e){e&&(this.$formComp.css(e),this.updateCss(e),this.autoSizeTopDown(),this.updateFormHeight())}},{key:"updateFormJson",value:function(e,t){if(e){var n=this.compJson.properties.formRelevant;n||(n=this.compJson.properties.formRelevant={title:{content:"",css:{}},des:{content:"",css:{}},content:{css:{}}}),n[t]=n[t]||{css:{}};var r=n[t].css;r||(n[t].css={}),Object.assign(r,e)}}},{key:"isOpenBorderImage",value:function(){return!0}},{key:"afterRenderBorder",value:function(){if(this.$li){var e=parseInt(this.compJson.css.width)/x(),t=this.getBorderWidth(),n=t.left,r=t.right,o=(e-(this.getContentWidth()+n+r))*x()/2;o=Math.max(o,0),Math.floor(this.$li.css("padding-left").replace("px",""))!==Math.floor(o)&&this.updatePadding({padKey:"paddingLeft",padValue:o})}}},{key:"renderBorderImage",value:function(){c(d(h.prototype),"renderBorderImage",this).call(this),!this.compBorderImageBbserver&&this.$li&&(this.afterRenderBorder(),this.compBorderImageBbserver=new MutationObserver(this.afterRenderBorderBinded),this.compBorderImageBbserver.observe(this.$li[0],{attributes:!0,childList:!1,subtree:!1,attributeFilter:["style","class"]}))}},{key:"updatePadding",value:function(e){var t=parseInt(this.compJson.css.paddingLeft),n=parseInt(this.compJson.css.paddingRight),r=parseInt(this.compJson.css.width)/x(),o=parseInt(this.compJson.css.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey){var i=this.getContentWidth(),s=this.getBorderWidth(),c=i+s.left+s.right,u=Math.floor(e.padValue)||0;"paddingLeft"==e.padKey?n=r-(t=u)-c:t=r-(n=u)-c,t=Math.max(0,t),n=Math.max(0,n),this.update$li({paddingLeft:t,paddingRight:n})}else{var l=parseInt(this.compJson.css[e.padKey]);o+=parseInt(e.padValue)-l,this.update$li(a({height:o},e.padKey,parseInt(e.padValue)))}this.autoSizeTopDown()}},{key:"getTipTitle",value:function(){var e=this.compJson.properties.formRelevant&&this.compJson.properties.formRelevant.title.content||this.placeholder;return e||(e=m[this.compJson.type]),e}},{key:"findBeforeOption",value:function(){var e=this.eqxPage.baseElementQueue,t=e.indexOf(this);return!(t<0)&&e.slice(0,t).filter((function(e){return g.includes(e.type)}))}},{key:"findAfterSomeOption",value:function(){var e=this.eqxPage.baseElementQueue,t=e.length,n=e.indexOf(this);return n!=t-1&&e.slice(n+1).filter((function(e){return"r"==e.type||"c"==e.type||"z"==e.type}))}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.on("input",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger())}))}},{key:"findAfterOption",value:function(){var e=[],t=this.eqxPage.baseElementQueue,n=t.indexOf(this);return!(n<0)&&(t.slice(n+1).forEach((function(t){var n={};-1!=v.indexOf(t.type)&&(n.value=t.id,n.name=t.getTipTitle(),n.baseComp=t,e.push(n))})),e)}},{key:"findSingRadioComp",value:function(e){return"textVote"==e.type||"imageVote"==e.type||"videoVote"==e.type?"single"==e.getVoteSettings().chooseModal:-1!=y.indexOf(e.type)}},{key:"findSubmitBtn",value:function(){return this.eqxPage.baseElementQueue.filter((function(e){return"6"==e.type||"601"==e.type}))}},{key:"getValue",value:function(){var e,t;return null!==(e=null===(t=this.$li)||void 0===t?void 0:t.find("#".concat(this.id)).val())&&void 0!==e?e:""}},{key:"addRuleContainer",value:function(){return this.$ruleContainer=$('\n            <div class="form-rule-tag-container">\n                <div class="form-rule-tag-wraper"></div>\n            </div>\n        '),this.$li.append(this.$ruleContainer),this.$ruleContainer}},{key:"addSwitchTag",value:function(){this.$switchRuleTag||(this.$ruleContainer=this.$ruleContainer||this.addRuleContainer(),this.$switchRuleTag=$('<div class="list switch-rule">跳</div>'),this.$ruleContainer.find(".form-rule-tag-wraper").append(this.$switchRuleTag))}},{key:"removeRuleContainer",value:function(){!this.$ruleContainer||this.$switchRuleTag||this.$relativeRuleTag||(this.$ruleContainer.remove(),this.$ruleContainer=null)}},{key:"removeSwitchTag",value:function(){this.$switchRuleTag&&this.$switchRuleTag.remove(),this.$switchRuleTag=null,this.removeRuleContainer()}},{key:"addRelativeTag",value:function(){this.$relativeRuleTag||(this.$ruleContainer=this.$ruleContainer||this.addRuleContainer(),this.$relativeRuleTag=$('<div class="list relative-rule">联</div>'),this.$ruleContainer.find(".form-rule-tag-wraper").append(this.$relativeRuleTag))}},{key:"removeRelativeTag",value:function(){this.$relativeRuleTag&&this.$relativeRuleTag.remove(),this.$relativeRuleTag=null,this.removeRuleContainer()}},{key:"addOptionRuleTag",value:function(e){var t=this;["5208","5215"].includes(this.type)||(this.getOptionArray().forEach((function(e){var n=t.$contentsDiv.find("[option-id="+e.id+"]");n.removeClass("option-rule-tag-container"),["videoVote","imageVote"].includes(t.type)||n.css("backgroundColor","")})),e&&e.items.forEach((function(e){var n=t.$contentsDiv.find("[option-id="+e.optId+"]");n.addClass("option-rule-tag-container"),["videoVote","imageVote"].includes(t.type)||n.css("backgroundColor","#FFF8ED")})))}},{key:"removeOptionRuleTag",value:function(){var e=this,t=this.eqxPage.formRulesManager.getRules(this.id,2),n=this.getOptionArray&&this.getOptionArray()||"";n&&(n.forEach((function(t){var n=e.$contentsDiv.find("[option-id="+t.id+"]");n.removeClass("option-rule-tag-container"),["videoVote","imageVote"].includes(e.type)||n.css("backgroundColor","")})),t&&this.addOptionRuleTag(t))}},{key:"findCurrentRule",value:function(){return this.eqxPage.formRulesManager.getRules(this.id)}},{key:"findAffectedRules",value:function(){return this.eqxPage.formRulesManager.getAffectedRules(this.id)}},{key:"HasFormRules",value:function(){var e=this.eqxPage.EqxFormRulesTrigger,t=this.id;return e&&(e.getRules(t,0)||e.getRules(t,1)||e.getAffectedRules(t))}},{key:"removeRules",value:function(){this.eqxPage.formRulesManager.remove(this.id)}},{key:"toJson",value:function(){var e=c(d(h.prototype),"toJson",this).call(this);return e=this.filterScripts(e),JSON.parse(JSON.stringify(e))}},{key:"filterScripts",value:function(e){return function e(t){if("object"===r(t))for(var n in t){var o=t[n];"object"===r(o)?e(o):"string"==typeof o&&o.indexOf("script")>-1&&(t[n]=o.replace(/<(script[^>]*)>(.*?)<([^>]*\/[^>]*script[^>]*)>/gi,"$2"))}return t}(e)}},{key:"hideFormErrMsg",value:function(){var e;null===(e=this.$li)||void 0===e||e.removeClass("validatError noTitle").removeAttr("error-log")}},{key:"showFormErrMsg",value:function(e){var t="validatError";try{var n=this.compJson.properties.formRelevant,r=n.title,o=n.des;"none"===r.css.display&&"none"===o.css.display&&(t+=" noTitle")}catch(e){console.log(e)}this.$li.addClass(t).attr("error-log",e)}},{key:"getFormRelevant",value:function(){return this.compJson.properties.formRelevant}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.on("click",(function(){e.hideFormErrMsg()}))}},{key:"adaptFormHeight",value:function(){var e=this;["$formTitle","$formDes","$formNote","$formComp"].forEach((function(t){if(!(!e[t].length>0||"none"==e[t].css("display"))){e[t].css("height","");var n=e[t].innerHeight();e[t].css("height",n)}}));var t=this.$formComp.css("height");return this.$formComp.css("height","".concat(t)),this.$li.css({height:""}),this.$li.innerHeight()}},{key:"getFormRelavent",value:function(){return this.formRelevantSettings||(this.formRelevantSettings=this.compJson.properties.formRelevant),this.formRelevantSettings}},{key:"autoFill",value:function(e,t){String(e).includes("（跳过）")||(this.$li.find('[name="'.concat(this.name,'"]')).val(e),"showLast"===t&&this.$li.css("pointer-events","none"))}},{key:"tranSpaceAndEnter",value:function(e){return e?w(e).replace(/(\r)*\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""}},{key:"createImage",value:function(e){return e?'<span class="img-mask" style=\'max-width: 100%;margin-top: 8px; display: block;\'>\n                            <img class="title-img" src="'.concat(E(e),'" style="max-width:100%"/>\n                         </span>'):""}},{key:"updateItemSizeByPage",value:function(e,t){c(d(h.prototype),"updateItemSizeByPage",this).call(this,e,t),this.updateFormHeight()}},{key:"updateContentCss",value:function(){}},{key:"triggerRule",value:function(){var e=this;if(this.ruleIds&&this.ruleIds.length){var t;if(this.isCompShow){var n=this.getRealValueForTrigger();if(g.indexOf(this.type+"")>-1){var r=[];n.split(",").forEach((function(t){e.optionsHided&&-1!=e.optionsHided.findIndex((function(e){return e==t}))||r.push(t)})),t=r.join(",")}else t=n}else t="";this.eqxPage.EqxFormRulesTrigger.listen(this.ruleIds,this.id,t,!0)}}},{key:"getRealValueForTrigger",value:function(){return this.getValue()}},{key:"eleShow",value:function(){var e=this;c(d(h.prototype),"eleShow",this).call(this),this.optionsHided&&setTimeout((function(){e.handleOptions()}),0)}},{key:"handleOptions",value:function(e){var t=this;if(this.$li.find("[option-id]").show(),this.optionsHided.forEach((function(e){t.$li.find('[option-id = "'.concat(e,'"]')).hide()})),!this.isBaseLayerElement){var n=this.adaptFormHeight();this.updateCss({height:n}),this.updateFormHeight()}e||this.eqxPage.awitUpdate(!0)}},{key:"compJsonToStr",value:function(){var e=this.getTipTitle(),t=this.compJson.type,n=(k[t],this.toJson());return["id","pageId","sceneId"].forEach((function(e){delete n[e]})),{title:e,type:t,bizType:this.eqxScene.meta.bizType,extend:n}}},{key:"destroy",value:function(){this.observer&&this.observer.disconnect&&this.observer.disconnect(),this.compBorderImageBbserver&&this.compBorderImageBbserver.disconnect(),c(d(h.prototype),"destroy",this).call(this)}}])&&s(t.prototype,n),o&&s(t,o),h}(h);e.exports=C},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){"use strict";var r=n(1),o=n(8),i=o.ajax,a=o.$ajax,s=n(4),c=s.getUrlParam,u=s.parseUrl,l=n(240).perfectMeta,p=n(84).isVipScene,f=n(84).isTgScene;function d(){var e=window.scene||{},t=e.id,n=e.code;if(!t)throw new Error("Not Valid Scene! No Id!");if(!n)throw new Error("Not Valid Scene! No Code!");var o=c("userKey"),i=c("compKey"),a=function(){var e=c("userKey"),t=c("cache"),n=r.LONG_PAGE_PREVIEW;return(p(window.scene)||f())&&(n=r.SERVER_2),(e||t)&&(n=r.LONG_PAGE_PREVIEW),n}()+"lp/wx/component/data?id="+t+"&code="+n,s=u(a);return o&&s.searchParams.set("userKey",o),i&&s.searchParams.set("compKey",i),a=s.href}function h(){var e=window.scene||{},t=e.id,n=e.code,o=e.publishTime;if(!t)throw new Error("Not Valid Scene! No Id!");if(!n)throw new Error("Not Valid Scene! No Code!");var i=r.LONG_PAGE_PREVIEW+"lp/page/"+t+"?code="+n,a=u(i);return a.searchParams.set("time",o),i=a.href}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(window.scene)return window.scene.code;var t=c("code");if(!t){var n=(e=u(e)).pathname,r=n.lastIndexOf("/");r>-1&&(t=n.substr(r+1))}if(t.indexOf("index.html")>-1&&(t=c("codeTestMobile")),!t)throw new Error("No Valid Scene Code!");return t.length>10&&console.error("URL Code 大于 10 位, 请检查 Code"),t}e.exports={$getSceneMetaData:function(){return new Promise((function(t,o){if(window.__isServerRendered&&!window.scene&&o("场景数据异常"),/max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(window.location.host)){var s=(/\/(\w+)$/.exec(window.location.pathname)||[])[1];window.__isMax=!0,a({type:"GET",url:"".concat(r.SERVER_MAX,"m/element/check/other/model/code?objectId=").concat(s,"&JSESSIONID=ff4ff6599aa04597861955583c300a5d&sceneType=1")}).then((function(r){if(r&&r.data){var o=r.data,i=window.scene=o.scene,a=o.pages.map((function(e){return{elements:e}}));window.viewData={list:a},t(e(i))}else{var s=n(242);t(s)}})).catch((function(){var e=n(242);t(e)}))}else i({type:"GET",url:r.LONG_PAGE_PREVIEW+"lp/sc?code="+m()}).then((function(r){if(r.obj)t(e(r.obj));else{var o=n(243);t(o)}})).catch((function(){var e=n(243);t(e)}))})).then((function(t){return t&&t.property&&t.property.isHidden&&!s.getUrlParam("qz_gdt")&&!s.getUrlParam("wx_traceid")&&!s.getUrlParam("gdt_vid")?i({type:"GET",url:r.SERVER_1+"eqs/geterrorpage"}).then((function(t){return t.obj?e(t.obj):"无场景数据"})).catch((function(){return"无场景数据"})):Promise.resolve(t)}));function e(e){return l(e),e}},$getSceneData:function(e){if(window.viewData)return Promise.resolve(window.viewData);var t=c("userKey"),n=c("compKey"),r={type:"GET",url:h()},o={type:"GET",url:d()};e&&(r.data={password:e});var i=null,s=Promise.resolve(null);return(t||n)&&(s=a(o).then((function(e){i=e.map}))),s.then((function(){return a(r)})).then((function(e){return i&&(e.map=i),e}))},$getRecommendScenes:function(e){return a({type:"GET",url:r.SERVER_1+"eqs/s/recommend/scene/preview?domain="+e})},$getPCAdvertisement:function(){return a({type:"GET",url:r.SERVER_2+"eqs/banners?pageCode=pc_view_bottom_ad"})},$copyScene:function(e){return a({type:"POST",url:"".concat(r.SERVER_LPAGE,"m/lp/copy?id=").concat(e),xhrFields:{withCredentials:!0}})},$createSceneByTpl:function(e){return a({type:"get",url:"".concat(r.SERVER_LPAGE,"m/lp/tpl/create?id=").concat(e),xhrFields:{withCredentials:!0}})},randomId:function(){return Math.ceil(1e10*Math.random())}}},function(e,t,n){"use strict";var r=n(574),o=n(1),i=n(3).parse;var a=0;var s=0;e.exports={$defaultAd:function(e){var t=e.content,n=e.imgStyle,o=e.src,a=$(i(r,{content:t})),s='<div class="lpAdvertise-content">\n                        <div class="lpAdvertise-content-wraper">\n                            <img src="'.concat(o,'" style="width: ').concat(n.width,"px; height: ").concat(n.height,'px">\n                        </div>                           \n                    </div>');return a.append(s)},$configAd:function(e){var t=e.content,n=e.src,o=e.config,a=$(i(r,{content:t})),s='<div class="lpAdvertise-content" style="line-height: 100px;">\n                        <img src="'.concat(n,'" style="max-width: 320px;max-height: 100px;">\n                     </div>'),c='<a href="'.concat(o.adLink,'" ></a>');return 1==o.clickType&&(s=$(c).append(s)),a.append(s)},$flowAd:function(e){var t=e.content,n=e.src,o=e.href,a=$(i(r,{content:t})),s='<div class="lpAdvertise-content">\n                        <div id="lp-advertise-flow-content" class="lpAdvertise-flow-content">\n                             <a href="'.concat(o,'">\n                                 <img src="').concat(n,'" class="flow-default-img">\n                             </a>\n                        </div>\n                    </div>');return a.append(s)},$newFlowAd:function(e){e.content;var t=$('<div class="lpAdvertise-wraper"></div>'),n='<div class="lpAdvertise-content transparent">\n                        <div id="lp-advertise-flow-content'.concat(a++,'" class="lpAdvertise-flow-content-new">   \n                        </div>\n                    </div>');return t.append(n)},$adOpenBar:function(){return $('<div class="openAdBar"><em class="eqf-down"/></div>')},createWeappAd:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a="";if(i){var c=$(".pop-share-content")[0].getBoundingClientRect(),u=c.width,l=c.height;n=u+"px",r=l,$(".pop-share-content").css("background-color","transparent")}else{var p=$(".lpBottomMark-wrapper")[0].getBoundingClientRect(),f=p.height;n=n?n+"px":"100%",r=r||f}a="width:".concat(n,";height:").concat(r,"px");var d='rdt="3" cat="尾页组件" act="'.concat(t.mediaName,'" loc="').concat(t.adName,'"');s++;var h='\n        <wx-open-launch-weapp\n            class="open-launch-weapp"\n            id="weapp-'.concat(s,'"\n            username="').concat(o.APPLET.appId,'"\n            path="').concat(o.APPLET.page,'"\n            style="').concat(a,'"\n            ').concat(d,'\n            >\n            <template>\n                <style>\n                    .weapp-ad {height:100%;witdth:100%;display: flex;justify-content: center;align-items: center;pointer-events: none;font-size:14px}\n                    .weapp-ad.submit-ad {justify-content:space-between;padding:0 10px;}\n                    .download-app {color:#676767;width: 56px;height: 100%;display: flex;justify-content: center;align-items: center}\n                    .download-app img {height:20px;}\n                    .logo {width:25px;height:100%;display: flex;align-items: center;}\n                    .logo img {width:100%;height:12px;}\n                    .support {color:#676767;height:100%;display: flex;align-items: center}\n                </style>\n                <div class="weapp-ad" style="').concat(a,'">\n                    ').concat(e,'\n                </div>\n            </template>\n        </wx-open-launch-weapp>\n        <script type="text/javascript">\n            const $weappDom = $(\'#weapp-').concat(s,'\');\n            $weappDom.on(\'ready\',() => {\n                console.log(\'初始化开放标签\')\n            })\n            $weappDom.on(\'click\',(e) => {\n                e.stopPropagation();\n                console.log(\'点击开放标签，埋点数据上报\')\n                var e_d = {"extension":"PNG"} //附加信息\n                var args = {"e_t":"element_click"}\n                args.product = "form_ebd";//具体产品名\n                args.b_t = "form_view";//业务类型\n                args.cat = "尾页组件";//事件分类\n                args.act = "').concat(t.mediaName,'";//事件名\n                args.e_d = e_d;\n                _tracker_api_.report(args)\n            });\n        <\/script>\n    ');return h}}},function(e,t,n){var r=n(40);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(91),o=n(62),i=n(32),a=n(54),s=n(30),c=n(202),u=Object.getOwnPropertyDescriptor;t.f=n(20)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(2),o=n(19),i=n(12);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(39),o=n(90),i=n(25),a=n(18),s=n(218);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,p=6==e,f=5==e||p,d=t||s;return function(t,s,h){for(var m,v,g=i(t),y=o(g),b=r(s,h,3),x=a(y.length),w=0,S=n?d(t,x):c?d(t,0):void 0;x>w;w++)if((f||w in y)&&(v=b(m=y[w],w,g),e))if(n)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(l)return!1;return p?-1:u||l?l:S}}},function(e,t,n){"use strict";e.exports={isFunction:function(e){return e&&"function"==typeof e},noop:function(){},throttle:function(e,t,n){var r,o=null;return function(){var i=this,a=arguments,s=+new Date;if(clearTimeout(o),!r)return r=s,e.apply(i,a);s-r>=n?(e.apply(i,a),r=s):o=setTimeout((function(){e.apply(i,a)}),t)}},debounce:function(e,t){var n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=this;clearTimeout(n),n=setTimeout((function(){e.call.apply(e,[a].concat(o))}),t)}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(579).Base64;function i(e){var t=localStorage.getItem(e);if("string"==typeof t)try{return a(t=JSON.parse(o.decode(t))),t}catch(e){console.warn(e)}}function a(e){Array.isArray(e)?e.forEach(s):"object"===r(e)&&s(e)}function s(e){delete e.$$hashKey}e.exports={getItem:i,setItem:function(e,t){return t?(a(t),localStorage.setItem(e,o.encode(JSON.stringify(t))),t):(localStorage.removeItem(e),!0)},getItemValue:function(e,t){var n=i(e);return"string"==typeof n&&(n=JSON.parse(n)),!(!n||0==n.length||!n[t])&&n[t]},setItemValue:function(e,t,n){var r=i(e);(r=r?"string"==typeof r?JSON.parse(r):r:{})[t]=n,localStorage.setItem(e,o.encode(JSON.stringify(r)))},_getItem:function(e){var t=localStorage.getItem(e);if("string"==typeof t)try{return a(t=JSON.parse(window.decodeURIComponent(window.atob(t)))),t}catch(e){console.warn(e)}},_setItem:function(e,t){return a(t),localStorage.setItem(e,window.btoa(window.encodeURIComponent(JSON.stringify(t)))),t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";if(n(20)){var r=n(64),o=n(11),i=n(12),a=n(2),s=n(122),c=n(174),u=n(39),l=n(81),p=n(62),f=n(31),d=n(82),h=n(41),m=n(18),v=n(229),g=n(66),y=n(54),b=n(30),x=n(92),w=n(14),S=n(25),k=n(166),O=n(67),E=n(69),C=n(68).f,_=n(168),I=n(63),P=n(17),T=n(44),R=n(112),$=n(93),A=n(170),q=n(79),j=n(115),L=n(80),M=n(169),D=n(220),B=n(21),F=n(42),N=B.f,H=F.f,z=o.RangeError,J=o.TypeError,V=o.Uint8Array,U=Array.prototype,W=c.ArrayBuffer,G=c.DataView,K=T(0),X=T(2),Q=T(3),Y=T(4),Z=T(5),ee=T(6),te=R(!0),ne=R(!1),re=A.values,oe=A.keys,ie=A.entries,ae=U.lastIndexOf,se=U.reduce,ce=U.reduceRight,ue=U.join,le=U.sort,pe=U.slice,fe=U.toString,de=U.toLocaleString,he=P("iterator"),me=P("toStringTag"),ve=I("typed_constructor"),ge=I("def_constructor"),ye=s.CONSTR,be=s.TYPED,xe=s.VIEW,we=T(1,(function(e,t){return Ce($(e,e[ge]),t)})),Se=i((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),ke=!!V&&!!V.prototype.set&&i((function(){new V(1).set({})})),Oe=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Ee=function(e){if(w(e)&&be in e)return e;throw J(e+" is not a typed array!")},Ce=function(e,t){if(!w(e)||!(ve in e))throw J("It is not a typed array constructor!");return new e(t)},_e=function(e,t){return Ie($(e,e[ge]),t)},Ie=function(e,t){for(var n=0,r=t.length,o=Ce(e,r);r>n;)o[n]=t[n++];return o},Pe=function(e,t,n){N(e,t,{get:function(){return this._d[n]}})},Te=function(e){var t,n,r,o,i,a,s=S(e),c=arguments.length,l=c>1?arguments[1]:void 0,p=void 0!==l,f=_(s);if(null!=f&&!k(f)){for(a=f.call(s),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);s=r}for(p&&c>2&&(l=u(l,arguments[2],2)),t=0,n=m(s.length),o=Ce(this,n);n>t;t++)o[t]=p?l(s[t],t):s[t];return o},Re=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},$e=!!V&&i((function(){de.call(new V(1))})),Ae=function(){return de.apply($e?pe.call(Ee(this)):Ee(this),arguments)},qe={copyWithin:function(e,t){return D.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Y(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return M.apply(Ee(this),arguments)},filter:function(e){return _e(this,X(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ee(this),arguments)},lastIndexOf:function(e){return ae.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ee(this),arguments)},reduceRight:function(e){return ce.apply(Ee(this),arguments)},reverse:function(){for(var e,t=Ee(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),r=n.length,o=g(e,r);return new($(n,n[ge]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-o))}},je=function(e,t){return _e(this,pe.call(Ee(this),e,t))},Le=function(e){Ee(this);var t=Oe(arguments[1],1),n=this.length,r=S(e),o=m(r.length),i=0;if(o+t>n)throw z("Wrong length!");for(;i<o;)this[t+i]=r[i++]},Me={entries:function(){return ie.call(Ee(this))},keys:function(){return oe.call(Ee(this))},values:function(){return re.call(Ee(this))}},De=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return De(e,t=y(t,!0))?p(2,e[t]):H(e,t)},Fe=function(e,t,n){return!(De(e,t=y(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?N(e,t,n):(e[t]=n.value,e)};ye||(F.f=Be,B.f=Fe),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Fe}),i((function(){fe.call({})}))&&(fe=de=function(){return ue.call(this)});var Ne=d({},qe);d(Ne,Me),f(Ne,he,Me.values),d(Ne,{slice:je,set:Le,constructor:function(){},toString:fe,toLocaleString:Ae}),Pe(Ne,"buffer","b"),Pe(Ne,"byteOffset","o"),Pe(Ne,"byteLength","l"),Pe(Ne,"length","e"),N(Ne,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",p="get"+e,d="set"+e,h=o[u],g=h||{},y=h&&E(h),b=!h||!s.ABV,S={},k=h&&h.prototype,_=function(e,n){N(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[p](n*t+r.o,Se)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[d](n*t+o.o,r,Se)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,o){l(e,h,u,"_d");var i,a,s,c,p=0,d=0;if(w(n)){if(!(n instanceof W||"ArrayBuffer"==(c=x(n))||"SharedArrayBuffer"==c))return be in n?Ie(h,n):Te.call(h,n);i=n,d=Oe(r,t);var g=n.byteLength;if(void 0===o){if(g%t)throw z("Wrong length!");if((a=g-d)<0)throw z("Wrong length!")}else if((a=m(o)*t)+d>g)throw z("Wrong length!");s=a/t}else s=v(n),i=new W(a=s*t);for(f(e,"_d",{b:i,o:d,l:a,e:s,v:new G(i)});p<s;)_(e,p++)})),k=h.prototype=O(Ne),f(k,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&j((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,o){var i;return l(e,h,u),w(n)?n instanceof W||"ArrayBuffer"==(i=x(n))||"SharedArrayBuffer"==i?void 0!==o?new g(n,Oe(r,t),o):void 0!==r?new g(n,Oe(r,t)):new g(n):be in n?Ie(h,n):Te.call(h,n):new g(v(n))})),K(y!==Function.prototype?C(g).concat(C(y)):C(g),(function(e){e in h||f(h,e,g[e])})),h.prototype=k,r||(k.constructor=h));var I=k[he],P=!!I&&("values"==I.name||null==I.name),T=Me.values;f(h,ve,!0),f(k,be,u),f(k,xe,!0),f(k,ge,h),(c?new h(1)[me]==u:me in k)||N(k,me,{get:function(){return u}}),S[u]=h,a(a.G+a.W+a.F*(h!=g),S),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){g.of.call(h,1)})),u,{from:Te,of:Re}),"BYTES_PER_ELEMENT"in k||f(k,"BYTES_PER_ELEMENT",t),a(a.P,u,qe),L(u),a(a.P+a.F*ke,u,{set:Le}),a(a.P+a.F*!P,u,Me),r||k.toString==fe||(k.toString=fe),a(a.P+a.F*i((function(){new h(1).slice()})),u,{slice:je}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){k.toLocaleString.call([1,2])}))),u,{toLocaleString:Ae}),q[u]=P?I:T,r||P||f(k,he,T)}}else e.exports=function(){}},function(e,t,n){"use strict";function r(e){return(e+"").replace(/(\d*\.\d{1,2})\d*/,"$1").replace(/(\.[1-9]*)(0+)$/,"$1").replace(/\.$/,"")}e.exports={fixedNum:function(e){var t;return e<1e4?t=e:e>=1e4&&e<1e8?t=(e/1e4).toFixed(2)+"万":e>=1e8&&(t=(e/1e8).toFixed(2)+"亿"),t},random:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*e)%e+t},convertNum:function(e){var t=e+"";return e>=1e3&&e<1e4?t=r(e/1e3)+"K":e>=1e4&&e<1e5||e>=1e5&&e<99e4?t=r(e/1e4)+"W":e>=99e4&&(t="99W+"),t}}},function(e,t,n){"use strict";function r(e){return/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/.test(e)}function o(e){return/^1[23456789]\d{9}$/.test(e)}function i(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function a(e){return/^[1-9]\d{4,10}$/.test(e)}function s(e){return/^(((ht)tps?):\/\/)?[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/.test(e)}function c(e,t,n,r){var o=(new Date).getFullYear();return r.getFullYear()==e&&r.getMonth()+1==t&&r.getDate()==n&&o-e>=0}var u={int:function(e){return/^-?(0|[1-9]\d*)$/.test(e)},float:function(e){return/^([1-9]\d*|0)(\.\d*)$/.test(e)},tel:r,url:s,card:function(e){return""!==e&&(!1!==function(e){if(!1===/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return!1;return!0}(e)&&(!1!==function(e,t){var n=e.substr(0,2);if(null==t[n])return!1;return!0}(e,{11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"})&&(!1!==function(e){var t=e.length;if("15"==t){var n=e.match(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/),r=n[2],o=n[3],i=n[4],a=new Date("19"+r+"/"+o+"/"+i);return c("19"+r,o,i,a)}if("18"==t){var s=e.match(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X|x)$/),u=s[2],l=s[3],p=s[4],f=new Date(u+"/"+l+"/"+p);return c(u,l,p,f)}return!1}(e)&&!1!==function(e){if("18"==(e=function(e){if("15"==e.length){var t,n=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),r=new Array("1","0","X","9","8","7","6","5","4","3","2"),o=0;for(e=e.substr(0,6)+"19"+e.substr(6,e.length-6),t=0;t<17;t++)o+=e.substr(t,1)*n[t];return e+=r[o%11]}return e}(e)).length){var t,n=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),r=new Array("1","0","X","9","8","7","6","5","4","3","2"),o=0;for(t=0;t<17;t++)o+=e.substr(t,1)*n[t];return r[o%11]==e.substr(17,1).toLocaleUpperCase()}return!1}(e))))},qq:a,chinese:function(e){return/^[\u4e00-\u9fa5]+$/.test(e)},english:function(e){return/^[a-zA-Z]*$/.test(e)},email:i,mobile:o};e.exports={isPhoneNumber:r,isEmail:i,isQQ:a,isWeiChat:function(e){return/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})$/.test(e)||a(e)||r(e)},isMobileNumber:o,regHash:u,isUrl:s,isUrlWithHttp:function(e){return/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/.test(e)},isPhoneOrRing:function(e){return/^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))[0-9]{8}$/.test(e)||/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(e)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(0).mobilecheck,f=n(0).isAndroidPhone,d=n(35),h=n(752),m=n(51).regHash,v=n(3).parse;n(753);var g=n(274).checkRepeat,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,c=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=c.call(this,e,t)).innerNotHeight=!1,n.checkRequest=null,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1}),n.eqxScene.formManager.add(u(n)),n.variablesValue="",n}return t=d,r=[{key:"touchStartMouseDownStopPropagation",value:function(e){$(e).bind("touchstart mousedown",(function(e){e.stopPropagation()}))}}],(n=[{key:"getFtEditableProps",value:function(){var e=i(l(d.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.input.input])}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.input.input?this.compJson.type:i(l(d.prototype),"getFtValue",this).call(this,e)}},{key:"check",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val(),n=this.compJson.properties.formCheck,r=this.compJson.properties.formRelevant.validateType||{},o={success:!0,pageId:this.pageId,key:this.name,value:t,elementId:this.id};return String(t).trim()?function(){var i,a,s,c;if((n||r.isOpen)&&!e.ruleHide){if(r.isOpen&&"text"!=r.value){var u=m[r.value];if(u&&!u(t))return o.success=!1,void(o.message="格式不正确")}if(null!==(i=n.min)&&void 0!==i&&i.checked&&null!==(a=n.min)&&void 0!==a&&a.limit&&t.length<n.min.limit)return o.success=!1,void(o.message="".concat("该项","最少填").concat(n.min.limit,"个字"));null!==(s=n.max)&&void 0!==s&&s.checked&&null!==(c=n.max)&&void 0!==c&&c.limit&&t.length>n.max.limit&&(o.success=!1,o.message="".concat("该项","最多填").concat(n.max.limit,"个字"))}}():this.required&&(o.success=!1,o.message="".concat("该项","为必填项")),o.success&&this.repeatCheckStatus(o),o}},{key:"preCheck",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val(),n=this.compJson.properties.formCheck,r=this.compJson.properties.formRelevant.validateType||{};return String(t).trim()?function(){var o,i,a,s;if((n||r.isOpen)&&!e.ruleHide){if(r.isOpen&&"text"!=r.value){var c=m[r.value];if(c&&!c(t))return!1}return!(null!==(o=n.min)&&void 0!==o&&o.checked&&null!==(i=n.min)&&void 0!==i&&i.limit&&t.length<n.min.limit)&&!(null!==(a=n.max)&&void 0!==a&&a.checked&&null!==(s=n.max)&&void 0!==s&&s.limit&&t.length>n.max.limit)}}():!this.required}},{key:"repeatCheckStatus",value:function(e){var t=this.compJson.properties.formCheck||{};t.noRepeat&&t.repeatChecking?(e.success=!1,e.message="正在校验是否重复，请稍后..."):t.noRepeat&&t.repeatInput&&(e.success=!1,e.message="不允许重复提交")}},{key:"repeatCheck",value:function(){var e=this.compJson.properties.formCheck||{},t=this.$li.find("#".concat(this.id)).val();return e.noRepeat&&t&&this.preCheck()?(e.repeatChecking=!0,this.checkRequest=g(this.id,t).then((function(t){t.obj?e.repeatInput=!0:e.repeatInput=!1})).catch((function(){e.repeatInput=!0})).finally((function(){e.repeatChecking=!1})),this.checkRequest):Promise.resolve()}},{key:"cancelRepeatCheck",value:function(){var e=this.compJson.properties.formCheck||{};this.checkRequest&&Promise.race([this.checkRequest,new Promise((function(e){e()}))]),e.repeatInput=!1,e.repeatChecking=!1}},{key:"create$li",value:function(){var e,t,n,r,o,a,s,c,u,p=this,f=i(l(d.prototype),"create$li",this).call(this),h=this.eqxPage.getFormStyle();return this.$formComp.css({borderWidth:null!==(e=null===(t=h.border)||void 0===t?void 0:t.borderWidth)&&void 0!==e?e:0,borderColor:null!==(n=null===(r=h.border)||void 0===r?void 0:r.borderColor)&&void 0!==n?n:"#000",borderStyle:null!==(o=null===(a=h.border)||void 0===a?void 0:a.borderStyle)&&void 0!==o?o:"soild",backgroundColor:null!==(s=null===(c=h.input)||void 0===c?void 0:c.backgroundColor)&&void 0!==s?s:"#fff",color:null!==(u=h.input.color)&&void 0!==u?u:"#000"}),setTimeout((function(){p.$li&&p.updateFormHeight()}),300),f}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,p=l.title.content,f=l.des.content;return this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t,$(v(h,{id:t,type:r,placeholder:c,required:a,title:p,des:f,inputType:"503"==r?"email":"502"==r||"505"==r?"tel":"text"}))}},{key:"setInputTitle",value:function(e){this.$context.find("input").attr("placeholder",e)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=p(),o=$(e).find("input").length>0?$(e).find("input"):$(e).find("textarea");this.onFocusBlurWhenFlip($(e).find("input")),this.onChangeTriggerVar($(e).find("input"));var i=f();return r&&parseFloat(t.css.top)>=200&&i&&$(e).find("input").focus((function(e){setTimeout((function(){e.target.scrollIntoViewIfNeeded?e.target.scrollIntoViewIfNeeded():e.target.scrollIntoView&&e.target.scrollIntoView()}),500)})).blur((function(){})),o.on("focus",(function(){n.cancelRepeatCheck(),n.hideFormErrMsg()})).on("blur",(function(){n.repeatCheck().then((function(){var e=n.check();e.success?setTimeout((function(){n.hideFormErrMsg()}),2e3):n.showFormErrMsg(e.message)}))})),r&&!i&&o.on("focus",(function(){o.data("scroll",document.body.scrollTop||document.documentElement.scrollTop)})).on("blur",(function(){setTimeout((function(){var e=document.activeElement.tagName.toLowerCase();if("input"!=e&&"textarea"!=e){var t=o.data("scroll");window.scrollTo(0,t),n.eqxPage.EqxMsgManager&&n.eqxPage.EqxMsgManager.post({type:"blur",compType:n.type,value:""})}o.data("scroll",null)}),100)})),!0}},{key:"onFocusBlurWhenFlip",value:function(e){}},{key:"onChangeTriggerVar",value:function(e){var t=this;e.on("change input",(function(){var n=e.val();t.variablesValue=n;var r=t.variables;r&&r.length&&r.forEach((function(e){"7"===e.type.toString()&&e.updateContent(n)}))}))}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}}])&&o(t.prototype,n),r&&o(t,r),d}(d);e.exports=y},function(e,t,n){"use strict";var r=n(142);function o(e){return"string"!=typeof e&&(e+=""),e.slice(0,1)}function i(e){return"string"!=typeof e&&(e+=""),e.slice(0,3)}function a(e){return"string"!=typeof e&&(e+=""),e.slice(0,5)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=[],c=1;switch(n){case 1:s=r.category,c=parseInt(o(t));break;case 2:s=r.secondCategory,c=parseInt(i(t));break;case 3:s=r.thirdCategory,c=parseInt(a(t));break;default:return}if(s[e]&&Array.isArray(s[e]))return-1!==s[e].indexOf(c);console.error("查询失败",e)}e.exports={getAllCategory:function(e){return{one:o(e),two:i(e),three:a(e)}},getTopCategory:o,getChildCategory:i,getClassify:a,allow:function(e,t,n){return s(e,t,n)},forbid:function(e,t,n){return!s(e,t,n)}}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(63)("meta"),o=n(14),i=n(30),a=n(21).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(12)((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&p.NEED&&c(e)&&!i(e,r)&&l(e),e}}},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1),i=n(95),a=n(0),s=(a.isPc,a.isIOS),c=a.isWeixin,u=a.isAndroid;function l(){return navigator.userAgent.match(/miniprogram/i)||"miniprogram"===window._wxjs_environment}e.exports={getAd:function(e){var t=l()||c()?2:u()||s()?3:1,n=l()?1:0,a=i.DEBUG?"form.yqxiu.cn":window.location.host;return r({type:"GET",url:"".concat(o.LONG_PAGE_PREVIEW,"form/config/ad/tail?sharingchannel=").concat(n,"&code=").concat(scene.code,"&currentHost=").concat(a,"&exhibitionPlatform=").concat(t,"&mediaIds=").concat(e)})},getIomAd:function(e){return r({type:"GET",url:"".concat(HOS.IOM_AD,"iom/advert/list?mediaId=").concat(e)})}}},function(e,t,n){"use strict";e.exports={BG_CROP_TYPE:{"固定背景模式":1,"全屏背景模式":2},PC_VIEW_WIDTH:768,EDITOR_WIDTH:320,FREE_TYPES:{default:0,fromScore:1,fromSubject:2},SHOW_AFTER_SUBMIT_TYPES:{default:1,testRes:2,voteRes:3,link:4,free:5},SUBMIT_PAGE_EDITOR_PAGE_HEIGHT:107}},function(e,t,n){"use strict";e.exports={ANIMATION_TYPE:{0:["fadeIn"],1:["fadeInLeft","fadeInDown","fadeInRight","fadeInUp"],2:["bounceInLeft","bounceInDown","bounceInRight","bounceInUp"],3:["bounceIn"],4:["zoomIn"],5:["rubberBand"],6:["wobble"],7:["rotateIn"],8:["flip"],9:["swing"],10:["fadeOut"],11:["flipOutY"],12:["rollInRight","rollInDown","rollInLeft","rollInUp"],13:["lightSpeedInRight","lightSpeedInDown","lightSpeedInLeft","lightSpeedInUp"],14:["bounceOut"],15:["rollOutRight","rollOutDown","rollOutLeft","rollOutUp"],16:["lightSpeedOutRight","lightSpeedOutDown","lightSpeedOutLeft","lightSpeedOutUp"],17:["fadeOutRight","fadeOutDown","fadeOutLeft","fadeOutUp"],18:["zoomOut"],19:["bounceOutRight","bounceOutDown","bounceOutLeft","bounceOutUp"],20:["flipInY"],21:["tada"],22:["jello"],23:["flash"],24:["flipInX"],25:["flipOutX"],26:["twisterInDownRight","twisterInDownDown","twisterInDownLeft","twisterInDownUp"],27:["puffIn"],28:["puffOut"],29:["slideDown"],30:["slideUp"],31:["twisterInUpRight","twisterInUpDown","twisterInUpLeft","twisterInUpUp"],32:["hingeRight","hingeLeft"],33:["opacityFadeInLeft","opacityFadeInDown","opacityFadeInRight","opacityFadeInUp"],particles:["particles"],typer:["typer"]},ANIMATION_TYPE_WITH_DIR:{1:["fadeInLeft","fadeInDown","fadeInRight","fadeInUp"],2:["bounceInLeft","bounceInDown","bounceInRight","bounceInUp"],12:["rollInRight","rollInDown","rollInLeft","rollInUp"],13:["lightSpeedInRight","lightSpeedInDown","lightSpeedInLeft","lightSpeedInUp"],15:["rollOutRight","rollOutDown","rollOutLeft","rollOutUp"],16:["lightSpeedOutRight","lightSpeedOutDown","lightSpeedOutLeft","lightSpeedOutUp"],17:["fadeOutRight","fadeOutDown","fadeOutLeft","fadeOutUp"],19:["bounceOutRight","bounceOutDown","bounceOutLeft","bounceOutUp"],26:["twisterInDownRight","twisterInDownDown","twisterInDownLeft","twisterInDownUp"],31:["twisterInUpRight","twisterInUpDown","twisterInUpLeft","twisterInUpUp"],33:["opacityFadeInLeft","opacityFadeInDown","opacityFadeInRight","opacityFadeInUp"]}}},function(e,t,n){"use strict";var r=n(4).getUrlParam,o=n(6).popQrCode,i=n(0),a=n(1),s=n(0).isPc(),c=n(0).isWeixin(),u=n(c?571:572);function l(e,t){var n={},r="wap";if(r=i.isWeixin()?"wap":i.mobilecheck()?"notWx":"pc",Object.keys(e).includes(r)&&(e=e[r]&&e[r][t]||{}),e&&Object.keys(e).length>0){var o=e.browser,a=e.mini;if(o&&Object.keys(o).length>0){var s={browser:Object.assign({},o)};Object.assign(n,s)}if(a&&Object.keys(a).length>0){var c={mini:Object.assign({},a)};Object.assign(n,c)}}return n}function p(e){i.isMobile()?location.href=e:window.open("","_blank").location.href=e}e.exports={dataHandler:l,platformHandler:function(e,t){var n=l(e,t);return"form"!=r("applet")?n.browser:window.wx&&wx.miniProgram?n.mini:void 0},formatLocation:function(e){var t=e.$wrapper,n={submitContentH:t.find(".form-submit-content").get(0).getBoundingClientRect().height,topContentH:t.find(".top-content").get(0).getBoundingClientRect().height,nrH:t.parent(".nr").outerHeight(!0),viewPanelH:$("#view_panel").outerHeight(!0)||853,mobileBodyH:$("body").height()};!function(e,t){var n=e.$wrapper,r=(t.submitContentH,t.nrH),o=t.topContentH,i=t.viewPanelH,a=t.mobileBodyH,s="pcMobileRender"==e.renderMode?r-o:"pcRender"==e.renderMode?i-o:a-o,c=".no-margin-content-bottom";"pcRender"==e.renderMode&&(c=".pc-no-margin-content-bottom");if(s<0)switch(n.find(".has-margin-content-bottom").css({opacity:"0"}),n.find(c).css({display:"block","box-shadow":"rgba(0, 0, 0, 0.1) 0px -4px 20px 0px"}),e.renderMode){case"pcMobileRender":n.find(c).css({position:"absolute",bottom:o-r});break;case"pcRender":n.find(c).css({position:"fixed",bottom:0,width:"768px"});break;case"mobileRender":n.find(c).css({position:"fixed",bottom:0})}else n.find(".has-margin-content-bottom").css("opacity","1"),e.$wrapper.find(c).css({position:"static","box-shadow":"none"})}(e,n),function(e,t){var n=e.$wrapper,r=(t.submitContentH,t.nrH,t.topContentH),o=(t.mobileBodyH,".no-margin-content-bottom");"pcRender"==e.renderMode&&(o=".pc-no-margin-content-bottom");var a=n.parent(".nr");a.on("scroll",(function(){$(".easyForm-content").children()[0]||n.find(".form-submit-content").get(0).getBoundingClientRect().height;var t=a.outerHeight(),s=a.scrollTop();if($(".save-result-img").length&&i.isPc()&&$(".save-result-img").css({top:209+parseInt(s)}),"pcRender"==e.renderMode&&$(".pc-preview").css("top",-s),t-(r-s-10)>=0)n.find(".has-margin-content-bottom").css({opacity:"1"}),n.find(o).css({display:"none",position:"static",bottom:0,"box-shadow":"none"});else switch(n.find(".has-margin-content-bottom").css({opacity:"0"}),n.find(o).css({opacity:"0.95",display:"block","box-shadow":"rgba(0, 0, 0, 0.1) 0px -4px 20px 0px"}),e.renderMode){case"pcMobileRender":var c=r-t-s;n.find(o).css({position:"absolute",bottom:c});break;case"pcRender":n.find(o).css({position:"fixed",bottom:0,width:"768px"});break;case"mobileRender":n.find(o).css({position:"fixed",bottom:0})}}))}(e,n)},saveHistory:function(e,t){var n=location.href;window.history.pushState({page:e},null,n+t)},dataFormat:function(e,t,n){var i=r("applet");if(e&&Object.keys(e).length>0){var c=e.adLink,l=e.popUpPic?a.FILE+e.popUpPic:u,f=e.clickType||1;if("form"==i&&window.wx&&wx.miniProgram){var d=c;if(2!=f)if(d){var h=d.indexOf("?");d=-1!=h?d+"&sceneId="+n.eqxScene.meta.id:d+"?sceneId="+n.eqxScene.meta.id,wx.miniProgram.navigateTo({url:d})}else wx.miniProgram.switchTab({url:"/page/mall/mall"});else o(n,l,d)}else e.adLink&&!/(http|https):\/\/([\w.]+\/?)\S*/.test(e.adLink)&&(c="http://"+c),1==f&&c?p(c):o(n,l,c)}else{if("form"==i&&window.wx&&wx.miniProgram)wx.miniProgram.switchTab({url:"/page/mall/mall"});else if("create"==t)p(s?"".concat(a.LONG_HOST,"eip/scene?type=lf"):"http://wapwork.eqxiu.com/wlc/page/create");else o(n,u,"")}},jumpLocation:p}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(74),h=n(1),m=n(29).addGlobalStyle,v=n(34),g=(n(734).resolve,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(b,e);var t,n,p,d,g,y=l(b);function b(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),n=y.call(this,e,t),$.extend(!0,n.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableText:!0,adjustMode:!0,replace:!0}},link:!1,flexLine:"w,e,r"}),n.FontFamilyCache=window.FontFamilyCache||{},n.fontStyle=null,n.loadContent=null,n}return t=b,(n=[{key:"create$li",value:function(){var e=this,t=c(f(b.prototype),"create$li",this).call(this);t.find(".element-box").css({height:"inherit"}),t.attr("comp-name",v[this.compJson.type]);var n,r,o=this.dynamicContent();"object"===a(o)&&"showScore"===o.type?(r="-0123456789",n=o.score):n=r=o;var i=t.find(".new-text");return i.text(""),this.loadContent=this.addFontFamily(r).then((function(){i.html(n),e.$li.css({height:"auto"}),e.update$li({height:e.$li.outerHeight()}),""===n||void 0===n?e.$li.addClass("hide"):e.$li.removeClass("hide"),e.autoAdjustSize()})),t}},{key:"updateSize",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);delete n.height,c(f(b.prototype),"updateSize",this).call(this,e,n),this.autoAdjustSize()}},{key:"updateTextCss",value:function(e){Object.keys(e).includes("fontFamily")&&(e.fontFamily?this.addFontFamily(this.dynamicContent()):this.$li&&this.$li.find(".element").css({fontFamily:""})),c(f(b.prototype),"updateTextCss",this).call(this,e),this.autoAdjustSize()}},{key:"dynamicContent",value:function(){return this.compJson.name}},{key:"addFontFamily",value:(d=regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.eqxScene.config.mode,n=this.css.fontFamily,r="".concat(n,"_").concat(encodeURIComponent(t)),n){e.next=5;break}return e.abrupt("return");case 5:if(o="".concat(h.LONG_FONT,"store/fonts/").concat(n,".woff?text=").concat(encodeURIComponent(t)),i='@font-face{font-family:"'.concat(r,'";src: url(').concat(o,") format('woff');}"),this.$li.find(".element").css({fontFamily:'"'.concat(r,'"')}),!this.FontFamilyCache[r]){e.next=10;break}return e.abrupt("return",!0);case 10:if(m(i,!0),this.FontFamilyCache[r]=o,this.FontFamilyCache['"'.concat(r,'"')]=o,!window.FontFace){e.next=19;break}return a=new FontFace(r,"url("+o+")"),e.next=17,a.load().catch((function(e){return console.log("字体错误=》",e),e}));case 17:e.next=21;break;case 19:return e.next=21,$.get(o);case 21:return e.next=23,new Promise((function(e){return requestAnimationFrame(e)}));case 23:case"end":return e.stop()}}),e,this)})),g=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=d.apply(e,t);function a(e){r(i,n,o,a,s,"next",e)}function s(e){r(i,n,o,a,s,"throw",e)}a(void 0)}))},function(e){return g.apply(this,arguments)})}])&&s(t.prototype,n),p&&s(t,p),b}(d));e.exports=g},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(1),h=n(992),m=n(5),v=n(23).filterTags,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1,initSubmitCount:0,flexLine:"w,e,r"}),n}return t=a,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.title,a=o.styleImgSrc,s=(o.submitCountShow,e.css),c=s.width,u=s.height,l=s.backgroundColor;i&&i.length&&(i=v(i));var p="".concat(d.FILE).concat(a);return this.pageId=n,this.$context=a?h.$img({id:t,type:r,src:p,css:{width:c,height:u,backgroundColor:l},padding:"0"}):h.$btn({id:t,type:r,title:i,css:{width:c,height:u,backgroundColor:l}}),this.$context}},{key:"create$li",value:function(){var e=c(f(a.prototype),"create$li",this).call(this),t=i(i({},(this.eqxPage.pageJson.properties.formStyle||{button:{}}).button),this.css),n=t.backgroundColor,r=t.color,o=t.borderWidth,s=t.borderStyle,u=t.borderRadius,l=scene.property;return l.boughtLabel,l.removeLabel,e.find(".element-box").css({backgroundColor:n,color:r,borderStyle:s,borderWidth:o,borderRadius:u,overflow:"hidden"}),e}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}},{key:"update$submitDetailCss",value:function(e){if(this.$submitDetail){var t=this.compJson.css.paddingBottom;this.$submitDetail.css("bottom",t)}}},{key:"bindAfterRenderEvent",value:function(e,t){$(e).click(this.handlerClick.bind(this,e,t))}},{key:"handlerClick",value:function(){}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.styleImgSrc||(this.$context.find("button")[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.styleImgSrc||(this.$context[0].innerText="")}},{key:"update$boxDiv",value:function(e){c(f(a.prototype),"update$boxDiv",this).call(this,e),this.$boxDiv.css({backgroundColor:"transparent"});var t=i({},this.css),n=t.backgroundColor,r=t.color,o=t.borderStyle,s=t.borderWidth,u=t.borderRadius;this.$li.find(".element-box").css({backgroundColor:n,color:r,borderStyle:o,borderWidth:s,borderRadius:u,overflow:"hidden"}),this.$context.find("button").css({backgroundColor:n,color:r})}},{key:"updateCssOpacity",value:function(){var e=this.compJson.css.opacity||0;this.$li.css("opacity",e)}},{key:"findCurrentRule",value:function(){return this.eqxPage.formRulesManager.getRules(this.id)}},{key:"findAffectedRules",value:function(){return this.eqxPage.formRulesManager.getAffectedRules(this.id)}}])&&s(t.prototype,n),r&&s(t,r),a}(m);e.exports=g},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(204),o=n(153);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(41),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(13),o=n(205),i=n(153),a=n(152)("IE_PROTO"),s=function(){},c=function(){var e,t=n(150)("iframe"),r=i.length;for(t.style.display="none",n(154).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(204),o=n(153).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(30),o=n(25),i=n(152)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(17)("unscopables"),o=Array.prototype;null==o[r]&&n(31)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r;!function(o){"use strict";function i(e,t,n){var r,o=document.createElement("img");return o.onerror=function(r){return i.onerror(o,r,e,t,n)},o.onload=function(r){return i.onload(o,r,e,t,n)},"string"==typeof e?(i.fetchBlob(e,(function(t){t?(e=t,r=i.createObjectURL(e)):(r=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)),o.src=r}),n),o):i.isInstanceOf("Blob",e)||i.isInstanceOf("File",e)?(r=o._objectURL=i.createObjectURL(e))?(o.src=r,o):i.readFile(e,(function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)})):void 0}var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;function s(e,t){!e._objectURL||t&&t.noRevoke||(i.revokeObjectURL(e._objectURL),delete e._objectURL)}i.fetchBlob=function(e,t,n){t()},i.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},i.transform=function(e,t,n,r,o){n(e,o)},i.onerror=function(e,t,n,r,o){s(e,o),r&&r.call(e,t)},i.onload=function(e,t,n,r,o){s(e,o),r&&i.transform(e,o,r,n,{})},i.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},i.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},i.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}(window)},function(e,t,n){"use strict";var r,o=n(250),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(576);var l=n(1),p=n(34),f=n(130).$getVoteResultAll,d=n(0),h=n(183),m=n(50).convertNum,v=n(10).FORM_VOTE_COMPS,g=n(4).getUrlParam,y=(0,n(88).isCardScene)(),b=n(46).getItem,x=n(9).qiniuZoom,w=n(7).webWeChartShare,S=n(6),k=n(4),O=k.replaceLocationHref,E=k.addUrlParam,C=n(7).changeWxLocationUrl,_=n(184).buttonBox,I=n(3).parse,P=n(56).getAd,T=n(185),R=n(38).createWeappAd,A=n(254),q=n(99).htmlEncode,j=n(255)().wordsLengthCalc,L=n(16).getRatio,M=0,D=0,B=0;function F(e){D=parseInt(e.touches[0].pageX),B=parseInt(e.touches[0].pageY)}function N(e){if(0==document.body.querySelector(".applet-ranking .vote-result-box").scrollTop){var t=parseInt(e.changedTouches[0].pageX),n=parseInt(e.changedTouches[0].pageY),r=B-n;4===function(e,t){var n=e-D,r=t-B,o=0;if(Math.abs(n)<2&&Math.abs(r)<2)return o;var i=180*Math.atan2(n,r)/Math.PI;i>=-45&&i<=45&&(o=4);return o}(t,n)&&r>50&&r<200&&z("move")}}function H(){z("end")}function z(e){window.parent.postMessage({type:"refreshAppletPage",refreshStatus:e})}function J(e,t,n){var r,o,i,a,s,c,u=$(I(_,{btnBackgroundColor:"#1261ff",btnColor:"#fff",opacity:1,btnTxt:"我也要创建表单",shareBtnTxt:"分享"})),p=d.mobilecheck(),f="pcRender"===t.renderMode,m=(null===(r=t.eqxScene)||void 0===r||null===(o=r.currentPage)||void 0===o||null===(i=o.myScroll)||void 0===i?void 0:i.scrollerHeight)||0;f?(u.addClass("pcRender"),m-=60,M=null===(a=t.eqxScene)||void 0===a||null===(s=a.currentPage)||void 0===s||null===(c=s.myScroll)||void 0===c?void 0:c.y):p&&u.addClass("fixed");n&&u.find(".share").css({visibility:"hidden"});var v,g=window.scene.property.boughtLabel||"",y=window.scene.property.removeLabel||"";g||y?u.find(".vote").remove():P(d.isVoteSceneAd()?l.VOTE_AD_IDS.voteResult:l.VOTE_ME_TOO).then((function(e){var t=e.list;if(200===e.code&&t&&t.length>0){var n=u.find(".vote");n.css({backgroundColor:"transparent",backgroundImage:"url(".concat(x(t[0].picSrc),")"),backgroundSize:"cover",backgroundPosition:"center"});var r='<a style="width:161px;height:100%;display: flex;justify-content:center;\n                align-items:center;overflow: hidden;border:none" target="_black"\n                 href="'.concat(t[0].linkUrl,'" rdt="3" cat="尾页组件" act="投票排名页-我也要创建表单"\n                  loc="表单提交成功"></a>');if(d.isWxEnv()&&!d.isMiniProm()){var o=n[0].getBoundingClientRect(),i=o.width,a=o.height;r=R('<div style="width:161px;height:'.concat(a,'px"></div>'),t[0],i,a)}n.html(r)}else u.find(".vote").remove()})),u.find(".share").on("click",(function(){d.isWeixin()||d.isPc()?S.openPcShareImg(t):h.openShareBox(t)})),p&&(v=document.scrollingElement.scrollTop,t.eqxScene.$ele.parent().addClass("noHeight")),u.find(".back").on("click",(function(){if(e.remove(),p)t.eqxScene.$ele.parent().removeClass("noHeight"),document.scrollingElement.scrollTop=v;else if(f){var n,r,o,i,a,s,c,u,l;null===(n=t.eqxScene)||void 0===n||null===(r=n.currentPage)||void 0===r||r.changeMoveToIscroll(m,"pcRender"),null===(o=t.eqxScene)||void 0===o||null===(i=o.currentPage)||void 0===i||i.dealAppend("pcRender"),null===(a=t.eqxScene)||void 0===a||null===(s=a.currentPage)||void 0===s||s.afterAutoMove(M),null===(c=t.eqxScene)||void 0===c||null===(u=c.currentPage)||void 0===u||null===(l=u.myScroll)||void 0===l||l.scrollTo(0,M)}$(".form-submit-box").css({display:"block"})})),e.append(u)}function V(e,t){var n="快来给【".concat(e.length>8?e.substr(0,8)+"...":e,"】投上你宝贵的一票");w(n,"",t)}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.id,i=e.elementId,a=e.cover.indexOf("//")>-1?"":l.FILE;a&&e.cover.indexOf("vframe/jpg/offset/0")>-1&&(a=l.VIDEO);var s='\n        <li class="vote-item">\n            <div class="item-wrap">\n                <div class="title">\n                    <div style="display: '.concat(e.cover&&"textVote"!=t?"inline-block":"none",'">\n                        <img src="').concat(x(a+e.cover),'" alt="">\n                    </div>\n                    <span class="text-omit">').concat(e.content,'</span>\n                </div>\n                <div class="desc text-omit">\n                    <span>').concat(1==e.rank&&0==n?"当前排名并列第1":"当前排名第".concat(e.rank),'</span>\n                    <span style="display: ').concat(0==n?"none":"inline-block",'">，').concat(1==e.rank?"超过后一名".concat(m(n),"票"):"距前一名".concat(n<999?"还差":"").concat(m(n),"票"),"</span>\n                </div>\n                ").concat(r?"":'<div class="ask-vote"\n                data-title="'.concat(e.content,'"\n                data-cover="').concat(["imageVote","videoVote"].includes(t)?x(a+e.cover,360,360):"",'"\n                data-optionId="').concat(o,'"\n                data-elementId="').concat(i,'"\n    >\n                    给TA拉票\n                </div>'),"\n            </div>\n        </li>\n    ");return s}function W(e){var t=function(e,t){var n=L();return x(e,{single:560,list:560,multiple:320}[t]*n,null,!0)}(e.cover||e.src,"single"),n=e.cover.indexOf("//")>-1?"":l.FILE;n&&e.cover.indexOf("vframe/jpg/offset/0")>-1&&(n=l.VIDEO);var r="textVote"===e.type?30:45;return r*=L(),'\n        <li data-group="'.concat(e.groupId||0,'" class="vote_').concat(e.compId,"-").concat(e.id,'" style="height: ').concat(r,'">\n            <div class="vote-item-img" style="display: ').concat(e.cover&&"textVote"!==e.type?"inline-block":"none",'">\n                <img src="').concat(x(t),'" alt="">\n            </div>\n            <div style="width: 100%;">\n                <div class="result clearfix">\n                    <div>\n                        <span class="rank-no">No.').concat(e.rank,'</span>\n                        <span class="text-omit">').concat(e.content,'</span>\n                    </div>\n                    <div style="color: #999999">\n                        <span class="vote-rank-percent">').concat(e._percent,'</span>% (<span class="vote-num" data-num="').concat(e.num,'">').concat(m(e.num),'</span>票)\n                    </div>\n                </div>\n                <div class="progress">\n                    <div class="progress-percent" style="width: ').concat(e._percent,'%;"></div>\n                </div>\n            </div>\n        </li>\n    ')}var G=[];function K(e){var t=G.find((function(t){return t.parentNode===e}));cancelAnimationFrame(t.renderTimer),t.renderTimer=null}function X(e){var t=e.start,n=e.show,r=e.parentNode,o=e.list;(function(e){return G.find((function(t){return t.parentNode===e}))})(r)&&K(r);var i=requestAnimationFrame((function(){var e=o.slice(t,t+n).map((function(e){var t=$(".vote_".concat(e.compId,"-").concat(e.id)),n=t;return 0===t.length&&(n=$(W(e))),n}));K(r),$(r).find("ul").html(e)}));!function(e,t){var n=G.find((function(t){return t.parentNode===e}));n?n.renderTimer=t:(n={parentNode:e,renderTimer:t},G.push(n))}(r,i)}function Q(e,t,n){var r=0;for(var o in t){var i=t[o]||0;r+=parseInt(i)}n.hasInitValue&&(r+=n.initValue*e.length);var a=0,s=0,c=0;e.forEach((function(e,o){var i=t[e.id]||0;n.hasInitValue&&(i+=n.initValue);var u=0!==r?(100*i/r).toFixed(2):0,l=s;0!==i&&0!==a&&i===a?c++:(s+=c,s++,a=i,c=0),l=s,0===Object.keys(t).length&&(l=o+1),e.rank=l,e._percent=u,e.num=i}))}e.exports={renderVoteResult:function(e,t,n){var r=e.eqxScene.meta.id,o=e.eqxCompList,a=e.eqxSectionCover,u=e.isDisabledShare,l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=$('<div class="vote-result-box"><div class="vote-result-wrapper"></div></div>'),i=e.eqxSectionCover;if("settingVote"===t||"limitVote"===t)S.pageModal(e,"",o[0].outerHTML),$(".vote-result-box").css({padding:"0px 20px",height:"100%"});else{J(o,e,r),i.prepend(o);y?'<a class="vote-bar-create" style="display: inline-block" rdt="3" cat="pc_form" act="投票返回表单" loc="表单提交成功">返回表单</a>':'<div class="vote-bar-create" style="display: inline-block">我也要创建投票</div>',d.mobilecheck()&&$(".vote-result-box, .vote-bar").css({position:"fixed"})}return $(".vote-bar").css({display:"flex"}),$(".vote-bar-create").css({display:"inline-block",float:"left",border:"none",background:"none"}),o}(e,t,n,u&&d.isWeixin());f(r,e.eqxScene.meta.code).then((function(n){var r=n.obj,u=o.filter((function(e){if(v.includes(e.type))return e.voteResult=r[e.id]||{},e}));if(t||function(e,t,n){var r=b("formVotedRecords");t.forEach((function(e){var t=e.voteResult,n=e.voteSettings;e.rankList=c(n.list),e.rankList.sort((function(e,n){var r=t[e.id]||0;return(t[n.id]||0)-r})),Q(e.rankList,t,n)}));var o=e.eqxSectionCover,i=e.isDisabledShare,a=$('\n        <ul class="vote-order"></ul>\n    '),u=[];t.forEach(function(){var e=s(regeneratorRuntime.mark((function e(t,n){var o,s,c,l,p,f,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.rankList,s=t.voteResult,c=o[0]){e.next=5;break}return e.abrupt("return");case 5:l=s[o[0].id]||0,p=o[1]&&s[o[1].id]||0,f=0,0==(h=l-p)&&o.find((function(e,t){var n=l-s[o[t+2>t?t:t+2].id];if(n>0)return h=n,!0})),m=0,r&&r[t.id]&&"（跳过）"!==r[t.id]&&r[t.id].split(",").forEach((function(e,n){e=parseInt(e),o.find((function(t,n){if(e==t.id)return c=t,m=n,!0})),l=s[e]||0,m>=1?(f=o[m-1]&&s[o[m-1].id]||0,0==(h=f-l)&&o.find((function(e,t){var n=s[o[m-2<=0?0:m-2].id]-l;if(n>0)return h=n,!0;--m}))):(p=o[m+1]&&s[o[m+1].id]||0,0==(h=l-p)&&o.find((function(e,t){var n=l-s[o[m+2>t?t:m+2].id];if(n>0)return h=n,!0;++m}))),a.append($(U(Object.assign({},c,{elementId:t.id}),t.type,h,i&&d.isWeixin())));var r=a.find(".vote-item:eq(0) .ask-vote").data();if(d.isWeixin()&&!i&&V(r.title,r.cover),"textVote"!==t.type){var v={};v.label=c.content,v.elementid=t.id,v.optionid=c.id,v.cover=x(c.cover),console.log(v.cover),u.push(v)}}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),o.find(".vote-result-wrapper").append(a),o.find(".ask-vote").on("click",(function(r){var o=r.currentTarget.dataset,i=o.title,a=o.cover,s=o.optionid,c=o.elementid,u="textVote"===t.find((function(e){return~~e.id==~~c})).type?window.location.href:E("VDP","".concat(c,"-").concat(s));if(O(u),"textVote"!==e.currentLayer.items.filter((function(e){return String(e.id)===c}))[0].type){C(u),d.isWeixin()&&V(i,a);var l={};l.label=i,l.elementid=c,l.optionid=s,l.cover=a,T.renderPoster(e,l)}else d.isWeixin()||d.isPc()?(d.isWeixin()&&V(i,a),S.openPcShareImg(e,n)):h.openShareBox(e)})),setTimeout(s(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<u.length&&n<5)){t.next=8;break}return r=new T(e,u[n]),t.next=5,r.createCache();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}}),t)}))),0)}(e,u,t),u.length&&!u.every((function(e){return!e.voteSettings.list.length}))?function(e,t,n){""!=n&&t.forEach((function(e){var t=e.voteResult,n=e.voteSettings;e.rankList=c(n.list),e.rankList.sort((function(e,n){var r=t[e.id]||0;return(t[n.id]||0)-r})),Q(e.rankList,t,n)}));var r=$('\n        <div class="vote-result-all">\n            <div class="title">\n                <div class="line"></div>\n                <div class="text">所有排名</div>\n                <div class="line"></div>\n            </div>\n            <div class="vote-result-list"></div>\n        </div>\n    ');new Promise((function(o,a){var s=0;t.forEach((function(a,c){var u=A().createListManager(a.compJson).showRankList,l=a.compJson.properties.formRelevant.title.content||p[a.type];a.rankList.length&&(""==n?e.eqxSectionCover.find(".vote-result-box .vote-order").after(r):e.eqxSectionCover.find(".vote-result-box .vote-result-wrapper").append(r),setTimeout((function(){var n=302,p=r.find(".vote-result-list").get(0);p&&p.offsetWidth&&(n=parseFloat(window.getComputedStyle(p).width)+8);var f=0,d=0;u.map((function(e,t){var r=(j(q(e.name),42,124)+14+8)/L();(f+=r)>n&&(f=r,d=t)}));var h=$('\n                    <div class="vote-item">\n                        '.concat(t.length>1?'<div class="vote-title">\n                            '.concat(c+1," . ").concat(l,"\n                        </div>"):"",'\n                        <div class="vote-group">\n                            ').concat(u.map((function(e,t){return'<i class="vote-button-item '.concat(t>=d?"not-grow":"","\" data-id='").concat(e.id,"'>").concat(q(e.name),"</i>")})).join(""),"\n                        </div>\n                    </div>\n                ")),m=$('<div class="_vote-group-empty">\n                    <img src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/v1/empty_v1.png" />\n                    <span>该分组下没有内容</span>\n                </div>'),v=$('<div class="infinite-list-phantom"><ul></ul></div>'),g=h.find(".vote-group");g.after(v);var y=a.voteSettings,b=a.rankList||y.list;r.find(".vote-result-list").append(h),0===u.length&&g.hide(),b.forEach((function(e){e.type=a.type,e.compId=a.id,e.isShow=!0,e.previewMode=a.eqxPage.previewMode}));var x=null;b.length<50?X({start:0,show:50,parentNode:v.get(0),list:b}):x=function(e,t,n){if(e[0]&&e[0].type){var r,o=0;o="pc"===(null===(r=e[0])||void 0===r?void 0:r.previewMode)?"textVote"===e[0].type?68:70:"textVote"===e[0].type?46:57;var a=L();if(n&&t)return new i.default({scrollContainer:n,parentNode:t,singleHeight:o*a,list:e,total:e.length,callback:X,needCorrectPos:!1,imgInfo:{arrayType:!1},needTransform:!0,topCache:5,bottomCache:10})}}(b,v.get(0),e.eqxSectionCover.find(".vote-result-box").get(0)),setTimeout((function(){212===g.height()&&g.on("mousewheel",(function(e){e.stopPropagation()})),g.find("i").on("click",(function(e){var t=$(".vote-result-box").scrollTop(),n=e.target;g.find("i").removeClass("active"),$(n).addClass("active");var r=$(n).attr("data-id");"全部"===$(n).text()?b.forEach((function(e){e.isShow=!0})):"未分组"===$(n).text()?b.forEach((function(e){e.groupId?e.isShow=!1:e.isShow=!0})):b.forEach((function(e){e.groupId+""===r?e.isShow=!0:e.isShow=!1})),v.find("ul").empty();var o=b.filter((function(e){return e.isShow}));if(0===o.length)v.hide(),h.append(m);else{v.show(),h.find("._vote-group-empty").remove();var i=0,a=0,s=1;o.forEach((function(e,t){var n=e.num;(n<a||0===n)&&(s=t+1),a=n,i+=n,e.rank=s})),o.forEach((function(e,t){var n=e.num,r=0!==i?(100*n/i).toFixed(2):0;e._percent=r})),x?(x.updateList(o),x.updateHeight()):function(e,t){var n=e.map((function(e){var t=$(".vote_".concat(e.compId,"-").concat(e.id)),n=t;return 0===t.length&&(n=$(W(e))),n}));$(t).find("ul").html(n)}(o,v.get(0))}setTimeout((function(){$(".vote-result-box").scrollTop(t)}))})),u.length>0&&g.find(".vote-button-item").eq(0).trigger("click")})),++s===t.length&&o()})))}))})).then((function(){var t,n;d.mobilecheck()?$(".vote-result-box").css({overflowY:"scroll"}):"pcRender"===e.renderMode&&(null===(t=e.eqxScene)||void 0===t||null===(n=t.currentPage)||void 0===n||n.changeMoveToIscroll(e.eqxSectionCover.find(".vote-result-box .vote-result-wrapper").outerHeight(),"pcRender"))}))}(e,u,t):function(e,t,n){var r=g("appletRanking")?130:168,o=g("appletRanking")?" applet":"",i='<div class="emptyBox'.concat(o,'"><img src="').concat("https://lib.eqh5.com/%40eqxiu-res/form/images/emptys/v1/empty_v1.png",'" style="width: ').concat(r,'px" /><p style="font-size:13px">暂无投票排名数据</p></div>');e.append($(i)),""!=n&&t.eqxSectionCover.find(".vote-result-box .vote-result-wrapper").append(e)}(l,e,t),a.find(".form-submit-box").css({display:"none"}),d.isPc()&&"pcRender"==e.renderMode&&!e.eqxScene.config.isInnerView&&a.parent().css("top",0),g("appletRanking")){var f=document.body.querySelector(".applet-ranking");setTimeout((function(){f.addEventListener("touchstart",F,!1),f.addEventListener("touchmove",N,!1),f.addEventListener("touchend",H,!1)}),1e3)}}))},initWeChartShare:V}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(9);function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(731);var h=n(732),m=n(29),v=m.addGlobalStyle,g=m.addSuffixPx,y=n(733),b=n(3).parse,x=n(1),w=n(16).getRatio,S=n(4).openUrl,k=n(6).linkRiskIframeModal,O=window.FontFamilyCache||{};window.FontFamilyCache=O;var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,r,i,a=p(f);function f(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),n=a.call(this,e,t);var r=t.eqxPage.eqxScene,o=(r=void 0===r?{}:r).config;(o=void 0===o?{}:o).mode;return n.innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableText:!0,adjustMode:!0,replace:!0}},link:!0,flexLine:"n,s,w,e,r"}),n}return t=f,(r=[{key:"getFtEditableProps",value:function(){var e=u(d(f.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return[t.content.content,t.color.color].concat(e,[t.link.url,t.internalLink.internalLink,t.telephone.number])}},{key:"create$context",value:function(){var e=this,t=this.compJson,r=t.id,o=t.type,i=t.content,a=t.sceneId,s=t.css,c=s.letterSpacing,u=void 0===c?0:c,l=s.fontFamily,p=s.fontSize,f=s.writingMode,d=s.marginTop,h=void 0===d?"0px":d,m=s.marginBottom,v=void 0===m?"0px":m,x=s.textShadow,w=void 0===x?"":x,S=s.textIndent,k=void 0===S?"0em":S,O=s.fontScale,E=void 0===O?100:O,_=t.properties.anim,I=void 0===_?[]:_;t.properties.isReplace=t.properties.isReplace||!1,i||this.isCreatedByDefault||(i=t.properties.isElementNewText?"":"请输入文本");try{i=i.replace(/<(script[^>]*)>(.*?)<([^>]*\/[^>]*script[^>]*)>/gi,"&lt;$1&gt;$2&lt;$3&gt;").replace(/<(img)[^>]*>/,"&lt;$1&gt;").replace(/eval(\()/gi,"$1").replace(/atob(\()/gi,"$1").replace(/<([^(abds//][\S]*)[^>]*?>.*<[^>]*\1[^>]*>/gi,"").replace(/<\/?(input|video|audio|details|textarea|select|script|button|iframe|form)[^>]*>/gi,"")}catch(e){}var P=function(e){var t=e.id,n=e.type,r=e.marginTop,o=e.marginBottom,i=e.css,a=e.content,s=void 0===a?"":a,c=e.textShadow,u=e.textIndent;return i.cursor="default",i.minHeight="inherit",i.fontSize&&(i.fontSize=g(i.fontSize)),$(b(y,{id:t,type:n,content:s,marginTop:r,marginBottom:o,textShadow:c,textIndent:u})).css(i)}({id:r,type:o,content:i,marginTop:h,marginBottom:v,textShadow:w,textIndent:k,css:{fontFamily:l,fontSize:~~parseFloat(p),writingMode:f}});return this instanceof n(60)||function(e){return C.apply(this,arguments)}({mode:this.eqxScene.config.mode,fontFamily:l,sceneId:a}).then((function(){e.eqxPage.awitUpdate()})),11===(t.id+"").length&&this.$li.attr("_tracker_data_",JSON.stringify({id:t.id})),I[0]&&"typer"===I[0].type&&P.css({opacity:0}),P.css({letterSpacing:"".concat(parseFloat(u||0),"em")}),E&&P.children().css("font-size","".concat(E,"%")),P}},{key:"create$li",value:function(){var e=u(d(f.prototype),"create$li",this).call(this),t=this.compJson.css,n=t.backgroundImage,r=t.backgroundPosition,i=t.backgroundRepeat,a=t.backgroundSize,s=t.backgroundColor;e.css({backgroundImage:(0,o.qiniuZoom)(n),backgroundPosition:r,backgroundRepeat:i,backgroundSize:a,backgroundColor:this.isBaseLayerElement?s:"none"});var c=this.$boxDiv=e.find(".element-box");return c.css({backgroundImage:"",backgroundSize:"",backgroundRepeat:"",backgroundPosition:"",backgroundColor:s,overflow:"hidden",height:"auto",fontSize:t.fontSize}),c.find(".element").css({color:"inherit",padding:~~(5*w())}),this.updateBackgroundImg(),e}},{key:"create$liBack",value:function(){return this.$liBack=this.$li.clone().css("opacity",0),this.$li.parent().append(this.$liBack),this.$liBack}},{key:"getNewHeightWidth",value:function(e,t){var n=JSON.parse(JSON.stringify(this.compJson.css));Object.assign(n,t,{opacity:0,zIndex:-1}),this.$liBack.css(n);var r=t.width,o=t.height,i=this.$liBack.find("#".concat(this.compJson.id)),a=this.$liBack.find("span"),s=parseInt(i.css("padding-left")||0),c=a.height()+2*s;return e.width===t.width&&e.height===t.height?o=this.$li.height():e.width!==t.width?c>=(o=this.$li.height())&&(o=c):e.height!==t.height&&o<c&&(o=c),{height:o,width:r}}},{key:"remove$liBack",value:function(){this.$liBack&&this.$liBack.remove()}},{key:"updateContent",value:function(e){var t,n=this.$context.children();e=e.replace(/\s/g,(t=0,function(e){return(t+=1)%2?"&nbsp;":e})),this.compJson.properties.isElementNewText?n.text(e||this.compJson.content):n.text(e||this.compJson.content||"请输入文本"),this.compJson.content=e,n.html(n.text())}},{key:"updateTextCss",value:function(e){this.updateCss(e),this.autoAdjustSize()}},{key:"autoAdjustSize",value:function(){var e=12,t=96,n=this.compJson.properties,r=n.adjustWHMode,o=n.adjustFSMode,i=arguments.length?arguments[0]:null;return r?c(this,i):o?s(this,i):a(this);function a(e){var t=e.$context,n=e.$context.children(),r=parseInt(t.css("padding-left")||0),o=parseInt(e.compJson.css.paddingTop)+parseInt(e.compJson.css.paddingBottom),i=e.isBaseLayerElement?e.$li.height():n.height()+2*r+o;if(e.isBaseLayerElement){var a={height:i};e.update$li(a)}else e.$li.css("height","auto"),e.update$li({height:e.$li.outerHeight()});return e.resizeBox&&"function"==typeof e.resizeBox.autoSize&&e.resizeBox.autoSize(),{height:parseInt(e.$li.css("height")),width:parseInt(e.$li.css("width"))}}function s(e,t){if(null!=t){var n=e.$context,r=e.$context.children(),o=l(r);if(o<n.width()){var i={width:o+2*parseInt(n.css("padding-left")||0)};e.update$li(i),e.update$boxDiv(i),n.css(i)}else if(o>=n.width())for(var s=r.height(),c=n.height(),p=n.width();s>c&&p<320;)u(e),s=r.height(),c=n.height(),p=n.width();return a(e)}}function c(n,r){if(null!=r){var o=n.$context,i=n.$context.children();if(1===r){for(;p(o,i,r)&&f(o)>e;)d(n);if(p(o,i,r)&&f(o)<=e)return a(n)}else{if(0!==r)return a(n);for(;p(o,i,r)&&f(o)<t;)h(n);p(o,i,r)||d(n)}return{height:parseInt(n.$li.css("height")),width:parseInt(n.$li.css("width"))}}}function u(e){var t=e.$context,n={width:parseFloat(t.css("width"))+1+"px"};e.update$li(n),e.update$boxDiv(n),t.css(n)}function l(e){var t=e.css("display","inline").width();return e.css("display","block"),t}function p(e,t,n){return n?t.height()>e.height():t.height()<e.height()}function f(e){return parseInt(e.css("font-size"))}function d(t){var n=t.$context,r=f(n);if(r>e){var o={fontSize:r-1+"px"};t.update$li(o),t.update$boxDiv(o),n.css(o)}}function h(e){var n=e.$context,r=f(n);if(r<t){var o={fontSize:r+1+"px"};e.update$li(o),e.update$boxDiv(o),n.css(o)}}}},{key:"updatePadding",value:function(e){var t=this.compJson.css,n=parseInt(t.paddingTop),r=parseInt(t.paddingBottom),o=parseInt(t.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey){this.create$liBack();var i=JSON.parse(JSON.stringify(t));Object.assign(i,s({},e.padKey,parseInt(e.padValue)),{opacity:0,zIndex:-1}),this.$liBack.css(i),o=this.$liBack.find("span").height()+10+n+r,this.remove$liBack()}else{var a=parseInt(t[e.padKey]);o=o+parseInt(e.padValue)-a}o<=28&&(o=28),this.update$li(s({},e.padKey,parseInt(e.padValue))),this.update$li({height:o}),this.autoSizeTopDown()}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.find(".new-text a").on("click",(function(t){t.preventDefault();var n=t.target.href;e.eqxScene.formManager.checkGcVerifyCode(n).then((function(t){var n=t.risk,r=t.link;n?k(r,e.eqxScene):S(r)}))}))}},{key:"update$SpanCss",value:function(e){this.$context.children().css("font-size","".concat(e,"%"))}},{key:"getArrangeOpt",value:function(){var e=this.compJson,t=e.css,n=e.properties.arrangeOpts;return n||(e.properties.arrangeOpts=n={}),{css:t,arrangeOpt:n,scale:this.compJson.css.fontScale||100}}},{key:"update$boxDiv",value:function(e){u(d(f.prototype),"update$boxDiv",this).call(this,e),this.$boxDiv.find(".element").css({color:"inherit"}),e.backgroundColor&&(this.update$li({backgroundColor:e.backgroundColor}),this.$boxDiv.css({backgroundColor:e.backgroundColor}),this.$boxDiv.find(".element").css({backgroundColor:"transparent"}))}},{key:"update$li",value:function(e){u(d(f.prototype),"update$li",this).call(this,e),e.backgroundColor&&this.$li.css({backgroundColor:this.isBaseLayerElement?e.backgroundColor:"transparent"})}},{key:"updateItemSizeByPage",value:function(e,t){u(d(f.prototype),"updateItemSizeByPage",this).call(this,e,t),this.$li.addClass("text-comp");var n=t/e,r=this.compJson.css,o=r.paddingTop,i=r.paddingBottom,a=r.fontSize,s=r.lineHeight,c=r.height,l=parseFloat(this.$context.children().height())+parseFloat(o)+parseFloat(i)+10;if(c=this.isCreatedByDefault?c/n:l,this.findTopGroup()!=this){a=parseFloat(a)*n+"px",(s+"").indexOf("px")>-1&&(s=parseFloat(s)*n+"px");var p={fontSize:a,lineHeight:s};this.update$boxDiv(p),this.$context.css(p)}this.update$li({height:c,fontSize:a,lineHeight:s})}}])&&c(t.prototype,r),i&&c(t,i),f}(h);function C(){return(C=a(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fontFamily,r=t.sceneId,"view"!==t.mode||!window.scene){e.next=12;break}if(o=new Date(window.scene.publishTime).getTime(),i="".concat(x.FONT,"formfonts/").concat(r,"_").concat(o,"/").concat(n,".woff"),!n||O[n]){e.next=12;break}if(a="@font-face{font-family:'"+n+"';src: url('"+i+"') format('woff'),url('"+x.FONT+"formfonts/"+r+"_"+o+"/"+n+".ttf') format('truetype');}",v(a),O[n]="".concat(x.FONT,"formfonts/").concat(r,"_").concat(o,"/").concat(n,".woff"),!window.FontFace){e.next=12;break}return s=new FontFace("font84","url("+i+")"),e.next=12,s.load();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=E},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(1),s=n(8).ajax,c=n(24).getItem;e.exports={$isVoted:function(e,t){return s({type:"POST",url:a.SERVER_1+"eqs/vote/verify/"+e,data:t})},$postVote:function(e,t,n){return s({type:"POST",url:a.SERVER_1+"eqs/vote/"+e+"/"+t,data:n})},$postVoteSignUp:function(e){var t="";return c("wxOpenid")&&(t=c("wxOpenid")),s({type:"POST",url:a.LONG_PAGE_PREVIEW+"form/voteEnrollment/insertV2?ssid=".concat(t),headers:{"Content-Type":"application/json"},data:JSON.stringify(o(o({},e),{},{ssid:t}))})},getVoteHistoty:function(e){var t=e.pid,n="";return c("wxOpenid")&&(n=c("wxOpenid")),s({type:"get",url:a.LONG_PAGE_PREVIEW+"form/voteEnrollment/findV2?pid=".concat(t,"&pageSize=20&pageNo=1&ssid=").concat(n,"&timeStamp=").concat(Date.now())})},checkVoteSign:function(e){var t=e.id,n=e.lat,r=e.lng;return c("wxOpenid")&&c("wxOpenid"),s({type:"GET",url:"".concat(a.LONG_PAGE_PREVIEW,"form/voteEnrollment/check?id=").concat(t,"&lat=").concat(n,"&lng=").concat(r)})}}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object ".concat(t,"]")}function a(e){return i(e,"object")}function s(e){return i(e,"array")}function c(e){e.forEach((function(e){s(e)?c(e):a(e)&&u(e)}))}function u(e){for(var t in e)e.hasOwnProperty(t)&&(t.startsWith("$")?delete e[t]:s(e[t])?c(e[t]):a(e[t])&&u(e[t]))}function l(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports={remove$key:function(e){var t=Object.assign({},e);return u(t),t},isSameValue:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},isObject:a,isPlainObject:function(e){var t,n;return!1!==l(e)&&("function"==typeof(t=e.constructor)&&(!1!==l(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},safeJsonParse:function(e){var t;try{t=JSON.parse(e)}catch(n){t=e}return t},cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},deepAssign:function e(t,n){for(var o in n)if(t.hasOwnProperty(o))if(a(t[o])&&a(n[o]))e(t[o],n[o]);else if(s(t[o])&&s(n[o])){var i;t[o].splice(0),(i=t[o]).push.apply(i,r(n[o]))}else t[o]=n[o];else t[o]=n[o]}}},function(e,t,n){var r=n(21).f,o=n(30),i=n(17)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(2),o=n(48),i=n(12),a=n(156),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),c=o[e]=s?t(p):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},p=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(11),o=n(21),i=n(20),a=n(17)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(26);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(8).$ajax,o=n(15),i=n(1);function a(e,t){return r({type:"GET",url:i.LONG_PAGE_PREVIEW+"lp/material/tencent/uptokens",data:{contentType:t,type:e}})}var s,c,u=(s="xml",c={},function(e){var t;return e.includes("http")||(e=i.FILE+e),c[e]?t=new Promise((function(t,n){c[e].then((function(e){t(e)}),(function(e){n(e)}))})):(t=r({type:"GET",url:e,dataType:s}),c[e]=t),t});e.exports={$getSvg:u,$getSymbol:function(e){return r({type:"GET",dataType:"text"})},$getPcBgImg:function(e){return r({type:"GET",url:i.SERVER_1+"eqs/s/image/scene/preview?domain="+e}).then((function(e){return e?(e=e.startsWith("http:")?e:i.FILE+e,e+="?imageMogr2/auto-orient/thumbnail/2100x1200>"):Promise.reject("No Background Image")}))},$getUploadToken:a,$uploadBase64:function(e,t){var n="//up.qiniu.com/putb64/-1";return window.location.href.startsWith("https://")&&(n="//up.qiniup.com/putb64/-1"),r({type:"POST",url:n,contentType:"application/octet-stream",beforeSend:function(t){t.setRequestHeader("Authorization","UpToken "+e)},data:t})},$saveCompInfoByCompKey:function(e,t){return r({type:"POST",url:"".concat(i.SERVER_1,"eqs/s/board/drawing/save?compKey=").concat(e),data:{data:JSON.stringify(t)}})},$initQiniuUpload:function(e){return Promise.all([a(e.tokenType),o.$loadQiniu(),o.$loadPlupload()]).then((function(t){var n=t[0].map.token;return Object.assign(e,{token:n}),Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:e.uploadButton,uptoken_url:i.LONG_PAGE_PREVIEW+"lp/material/uptokens?type=image",get_new_uptoken:!0,uptoken:e.token,unique_names:!0,domain:"http://qiniu-plupload.qiniudn.com/",max_file_size:e.maxFileSize,max_retries:3,chunk_size:"4mb",auto_start:!0,multi_selection:!1,init:{FilesAdded:function(t,n){window.plupload.each(n,(function(n){e.filesAdded(t,n)}))},BeforeUpload:function(t,n){e.beforeUpload(t,n)},UploadProgress:function(e,t){},FileUploaded:function(t,n,r){e.finishUpload(t,n,r)},Error:function(t,n,r){e.Error(t,n,r)},UploadComplete:function(){},Key:function(e,t){return""}}})}))},$getUploadVideoToken:function(){return r({type:"GET",url:i.LONG_PAGE_PREVIEW+"form/store/tencent/eqxiuvideo/token"})}}},function(e,t,n){"use strict";var r=n(1),o=n(126).isNotExpired,i=(n(3).hashCode,n(541).USER_ROLE),a=n(4).addProtocol;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return!c(e)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return["eqshow.cn","yqxiu.cn","eqxiu.cc","eqxiu.com","eqxiul.com","eqxiu.cn","eqh5.cn","yqh5.cn","yqh5.com","eqxiu.tv","eqxiu.mobi","divh5.com","divh5.cn","divh5.com.cn","divh5.net","meih5.com","meih5.cn","meih5.net","yqxiugroup.com","yqxiuweb.com","yqxiulive.com","yqxiuapp.com","yqxiulife.com","scene.eqh5.cn","scene.eqxiu.mobi","scene.eqxiu.tv","scene.eprezi.cn","scene.eprezi.com","scene.msxiu.cn","scene.ebdan.com.cn","scene.eqxiu.link","scene.eqxiu.pub","ebdan.net"].some((function(t){return e.endsWith("."+t)}))||/localhost/.test(e)}function u(e){var t=e.ext||{};return t.yqc&&t.yqc.ad}function l(e){var t=r.EQX_VIP_DOMAIN;return 1==e.staticStatus&&location.host.includes(t)}e.exports={getShareUrl:function(e){var t=e.code,n=window.location.href,p=window.location.host,f=(r.EQX_FAN_DOMAIN,r.EQX_AD_DOMAIN,r.EQX_VIP_DOMAIN);r.EQX_COMPANY_DOMAIN;try{return s(p)?(console.info("第三方域名"),n):function(e){return c(e)&&/^max\./.test(e)}(p)?(console.info("MAX 域名"),n):u(e)?(console.info("流量域名"),n):l(e)?(console.info("CDN 加速"),a("".concat(f,"/s/").concat(t))):function(e){var t=e.userType,n=e.memberType,r=e.expiryTime;return(t==i["企业账号"]||t==i["企业子账号"])&&n&&r&&o(r)}(e)?(console.info("企业账号"),n):(console.info("普通泛域名"),n)}catch(e){return console.error(e),n}},isEqxAdScene:u,isVipScene:l,isEqxHost:c,isThirdPartyHost:s,isTgScene:function(){return location.host.includes(r.EQX_TG)}}},function(e,t,n){"use strict";var r=n(1),o=n(179).$getLoadPageConfig,i=n(0).isWeixin,a=n(0).mobilecheck,s=(n(4).getPathName,n(0).isApp),c=(n(239).setAd,n(0).isMountAppletParam),u=null,l=null,p=null;function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return window.scene&&window.scene.ext&&window.scene.ext.yqc&&window.scene.ext.yqc.ad?1:-1!==e.indexOf(r.EQX_TG)?2:-1!==e.indexOf(r.EQX_VIP_DOMAIN)?4:-1!==e.indexOf(r.EQX_APP_DOMAIN)?5:-1!==e.indexOf(r.EQX_COMPANY_DOMAIN)?3:-1!==e.indexOf(r.EQX_NO_BUSINESS_DOMAIN)?7:-1!==e.indexOf(r.EQX_BATCH_SCENES_DOMAIN)?8:6}e.exports={customLoadPage:function(e){var t,n=e.isTemplate,d=e.bizType;n&&3!==n&&4!==n?1===n?t=12:2===n&&(t=22):t=d?40==d?31:21:11;var h=f(window.location.host),m="wap";return m=i()?"wap":a()?"notWx":"pc",new Promise((function(e){o(t,h,m).then((function(t){var o=t.map.logo;u=t.map.tail;var i="browser";if(t.map.share&&Object.keys(t.map.share).length>0){var a=Object.keys(t.map.share);a.includes("mini")&&c()&&(i="mini"),(a.includes("browser")||a.includes("mini"))&&(t.map.share=t.map.share[i])}t.map.share&&(p={link:t.map.share.backLink,domains:t.map.share.domains},s()||!window.scene||0===window.scene.property.eqAdType||window.scene.property.loadingLogo||1===n||2===n||-1!==window.location.href.indexOf("scene.eqxiu.com")||(l={shareCover:t.map.share.shareCover,coverLink:t.map.share.coverLink})),window.scene&&window.scene.ext&&window.scene.ext.yqc&&window.scene.ext.yqc.ad?function(){var e=window.location.href;window.scene.id;/singlemessage|groupmessage|timeline/.test(e)}():p&&p.domains&&p.domains.indexOf(h)>-1&&p.link&&!s()&&window.scene&&0!==window.scene.property.eqAdType&&!window.scene.property.loadingLogo&&1!==n&&2!==n&&window.location.href.indexOf("scene.eqxiu.com"),o&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$(".loading");e.backgroundSrc&&t.css({backgroundImage:"url('".concat(r.FILE+e.backgroundSrc,"')"),backgroundColor:"none",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"});if(e.logoSrc){var n=t.find(".loadbg");n.css({backgroundImage:"url('".concat(r.FILE+e.logoSrc,"')"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:"70px",height:"70px"}),e.logoLink&&n.click((function(){window.location.href=e.logoLink}))}if(e.brandSrc){var o=$('<div class="loading-brand"></div>').appendTo(t);o.css({backgroundImage:"url('".concat(r.FILE+e.brandSrc,"')"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"40px",position:"absolute",left:"0",bottom:"0",zIndex:"9999"}),e.brandLink&&o.click((function(){window.location.href=e.logoLink}))}}(o),e()})).catch((function(t){console.log(t),e()}))}))},getLastPageConfig:function(){return new Promise((function(e){return e(u)}))},getSharePopConfig:function(){return l},getButtonConfig:function(){return p},getDomainType:f}},function(e,t,n){"use strict";var r=n(244),o=n(556),i=n(10).COMP_TYPE,a=n(57),s=(a.PC_VIEW_WIDTH,a.EDITOR_WIDTH,[]);function c(e){var t=e.properties,n=t.longPage;n&&n>1&&n<6&&(t.longPage=486*n)}function u(e,t){e.properties=e.properties||{},e.properties.triggerGroup=e.properties.triggerGroup||[],e.properties.formRules=e.properties.formRules||[],e.properties.pageScroll=e.properties.pageScroll||{},e.properties.canNotApplyTemp=!!e.properties.canNotApplyTemp,e.properties.wxNotice=void 0===e.properties.wxNotice||e.properties.wxNotice,e.properties.voteTimes=e.properties.voteTimes||0,Array.isArray(e.properties.triggerGroup)||(e.properties.triggerGroup=[]),e.elements=e.elements||[],e.sceneId=t.meta.id,e.name=e.name||"第".concat(e.num,"页"),e.elements.forEach((function(t){return t.pageId=e.id})),e.properties.checkVotingRanking=e.properties.checkVotingRanking||{isAllow:!1,color:""},e.properties.checkVotingSignUp=e.properties.checkVotingSignUp||{isAllow:!1,color:""},e.properties.checkVotingSignUp.options||(e.properties.checkVotingSignUp.options={elements:[{id:"name",type:"5210",title:"参赛名称",isRequire:!0,optionStr:""},{id:"url",type:"uploadNew",title:"参赛图片/视频",isRequire:!0,optionStr:""},{id:"desc",type:"5214",title:"参赛说明",isRequire:!1,optionStr:""},{id:"phone",type:"502",title:"联系电话",isRequire:!0,optionStr:""}],sucessInfo:"",afterLink:{title:"",href:""}});var n=e.properties.longPage,r=e.pageType;n&&"submit"!==r&&n<476&&(e.properties.longPage=476)}function l(e){var t=e+"Effect";s.includes(t)||s.push(t)}function p(e){var t=e.properties||{};if(t.image||t.scratch){l("scratch");var n=t.effect=Object.assign({name:"scratch"},t.image||t.scratch),r=n.percentage&&(n.percentage.value||n.percentage)||.15;return delete n.percentage,n.percentage=r,void(t.image?delete t.image:delete t.scratch)}if(t.finger)return l("finger"),t.effect=Object.assign({name:"finger"},t.finger),void delete t.finger;if(t.fallingObject)return l("fallingObject"),t.effect=Object.assign({name:"fallingObject"},t.fallingObject),void delete t.fallingObject;if(t.effect){var o=t.effect.name;l(o),"money"===o&&_DEBUG_&&(t.effect.seconds=2)}}e.exports={perfectPage:function(e,t){(function(e,t){var n=e.properties,r=n.pages,o=void 0===r?{}:r,i=n.triggerGroup,a=void 0===i?[]:i,s=e.elements,c=void 0===s?[]:s;if(!Object.keys(o).length||t.list.length>1)return;Object.values(o).forEach((function(e){e.elements=[],e.triggerGroup=[]}));Object.keys(o);var u=[],l=[],p=function(e,t){return function(n){if(n.pageIndex){var r=o[n.pageIndex];if(!r)return void console.error("无法找到page",n,o);r[t].push(n)}else e.push(n)}};c.forEach(p(u,"elements")),a.forEach(p(l,"triggerGroup")),e.elements=u,e.elements=u,e.properties.triggerGroup=l,Object.keys(o).forEach((function(e){var n=o[e];t.list.push({id:e,elements:n.elements,groups:n.groups||[],properties:{longPage:n.height,triggerGroup:n.triggerGroup,condition:n.condition,canNotApplyTemp:n.canNotApplyTemp},pageType:"cover"===e?"cover":"submit",extend:{screens:[{id:"layer:".concat(e),compIds:n.elements.map((function(e){return e.id}))}]}})}))})(e,t),function(e){e.elements&&e.elements.forEach((function(e){e.css=e.css||{};var t=e.type;"3"==t?e.css.zIndex=-1:"q"==t&&(e.css.zIndex=0)}))}(e),u(e,t),function(e){e.elements=e.elements.filter((function(e){var t=e.type;if("EqxShape"==i[t]){var n=e.properties,r=n.type;return!!n.src||!!r&&(!!r.includes("symbols")||!!r.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()})))}return!0}))}(e),c(e),p(e),r(e.properties,"p",e),o(e.properties)},perfectJson:u,perfectLongPage:c,perfectTrigger:r,effectArr:s,perfectEffect:p,adjustPcMode:function(e){}}},function(e,t,n){"use strict";e.exports={getTemplateParam:function(e){if(window.serverParams)return window.serverParams[e]},templateParamKeys:{uniqueCode:"uniqueCode",thirdWxSubscribeQr:"thirdWxSubscribeQr",mustWxAuth:"mustWxAuth"}}},function(e,t,n){"use strict";var r=["yqh5.cn","yqh5.com","eqh5.cn","scene.eqxiu.tv","scene.eqxiu.mobi","divh5.com","divh5.cn","divh5.com.cn","divh5.net","meih5.com","meih5.cn","meih5.net","yqxiutech.com","yqxiugroup.com","yqxiuweb.com","yqxiulive.com","yqxiuapp.com","yqxiulife.com","cc.yqxiutech.com","scene.eprezi.cn","scene.eprezi.com","scene.msxiu.cn","scene.ebdan.com.cn","scene.eqxiu.link","scene.eqxiu.pub","yqxiu.cn","eqxiu.cc","eqxiu.com"],o=n(4),i=o.getUrlParam,a=o.getUrlHost;function s(){var e=function(){var e=null;if(window.parent!==window)try{e=window.parent.location.href}catch(t){e=document.referrer}return e}();if(!e)return!1;var t=a(e);return r.some((function(e){return t.indexOf(e)>-1}))}e.exports={isCardScene:function(){return i("cardId")&&s()},isAppletScene:function(){return i("appletRanking")&&"true"==i("appletRanking")},getWxInfo:function(){var e=decodeURIComponent(i("userinfo"));if(e){e=JSON.parse(e);var t={};return"h5"===e.source&&"wx"===e.type&&e.info&&(["city","country","headimgurl","language","nickname","openid","province","sex","unionid"].forEach((function(n){e.info[n]&&(t[n]=e.info[n])})),Object.keys(t).length)?t:null}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(277);var p=n(770),f=n(771),d=n(3).parse,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,r,c=s(h);function h(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=c.call(this,e,t);var r=t.eqxPage.eqxScene,o=(r=void 0===r?{}:r).config;(o=void 0===o?{}:o).mode;return n.innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1},advanceStyle:{required:!0}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.formManager.add(u(n)),n}return t=h,(n=[{key:"check",value:function(){var e=this,t=this.compJson.properties.formCheck;this.getValue();var n=this.ruleHide?"-99":this.formSubmitValueWithOtherOption,r=n.split(","),o={success:!0,pageId:this.pageId,key:this.name,value:n,elementId:this.id};return n?function(){var n,i,a,s;if(t&&!e.ruleHide)null!==(n=t.min)&&void 0!==n&&n.checked&&null!==(i=t.min)&&void 0!==i&&i.limit&&r.length<t.min.limit?(o.success=!1,o.message="最少选".concat(t.min.limit,"项")):null!==(a=t.max)&&void 0!==a&&a.checked&&null!==(s=t.max)&&void 0!==s&&s.limit&&r.length>t.max.limit&&(o.success=!1,o.message="最多选".concat(t.max.limit,"项"))}():this.required&&(o.success=!1,o.message="".concat("该项"," 为必填项")),o}},{key:"getValue",value:function(){var e=this,t=this.$options.find("input.option[name]").toArray().filter((function(e){return e.checked}));return this.optionsHided&&this.optionsHided.length&&(t=t.filter((function(t){return-1==e.optionsHided.findIndex((function(e){return e==$(t).val()}))}))),this.formSubmitValueWithOtherOption=t.map((function(e){var t=$(e).parent().siblings(".otherOptionBlank").val();return(t=t&&t.trim())?$(e).val()+"-"+t:$(e).val()})).filter((function(e){return!!e})).join(","),this.formSubmitValueWithoutOtherOption=t.map((function(e){return $(e).val()})).filter((function(e){return!!e})).join(","),this.formSubmitValueWithoutOtherOption}},{key:"$compDiv",value:function(e){var t=e.id,n=e.required,r=void 0===n?null:n,o=e.title,i=void 0===o?"标题":o,a=e.type,s=e.css,c=e.formTitle,u=e.formDes;return $(d(f,{id:t,title:i,type:a,css:s,formTitle:c,formDes:u})).attr({required:r})}},{key:"$option",value:function(e){var t=e.compId,n=e.index,r=e.optionId,o=e.optionLabel,i=e.inputType,a=void 0===i?"radio":i,s=e.checked,c=e.ranId,u=e.isOtherOption,l="".concat(t).concat(n);o=this.tranSpaceAndEnter(o);var f=$(d(p,{id:l,inputType:a,compId:t,optionId:r,optionLabel:o,ranId:c}));return u||f.find(".otherOptionBlank").addClass("hide"),"view"==this.eqxScene.config.mode&&s&&f.find("input").attr("checked",!0),f}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=o.titleStyle,s=void 0===a?{}:a,c=o.formRelevant,u=void 0===c?{}:c,l=e.title,p=e.css.height,f=u.title.content,d=u.des.content;0==Object.keys(u).length&&(p=e.css.height=p-36),this.title=l,this.pageId=n,this.name="eq[f_".concat(t,"]"),this.required=i;var h=this.$compDiv({id:t,required:i,type:r,formTitle:f,formDes:d,css:{width:"100%"},title:"r"==r?l:l+"(可多选)"});return h.find(".radio-title").css(s),(this.$options=h.find(".options")).html(this.create$options()),"horizontal"==this.compJson.arrange&&"view"==this.eqxScene.config.mode&&this.eqxScene.config.isPc&&this.$boxContentDiv.addClass("horizontal"),h}},{key:"create$li",value:function(){var e=i(l(h.prototype),"create$li",this).call(this),t=this.compJson.css,n=t.borderRadius,r=t.borderWidth,o=(t.backgroundColor,n-r),a=this.eqxPage.getFormStyle("border"),s=this.eqxPage.getFormStyle("input");return this.$formComp.css(s).css(a),this.$formComp.find(".options").css({"border-radius":o+"px",backgroundColor:"transparent"}),this.updateOptionGroupCss(a),e}},{key:"updateFormCompCss",value:function(e){i(l(h.prototype),"updateFormCompCss",this).call(this,e);var t=this.compJson.css;t.borderRadius,t.borderWidth,t.backgroundColor,this.$formComp.css({color:e.color,"background-color":e.backgroundColor}),this.$formComp.find(".options").css({"background-color":"transparent"}),this.updateOptionGroupCss(e),this.updateContentCss(e)}},{key:"updateOptionGroupCss",value:function(e){if(e){var t=this.compJson.css,n=t.borderStyle,r=t.borderColor,o=e.borderWidth,i=void 0===o?1:o,a=e.borderStyle,s=void 0===a?n:a,c=e.borderColor,u=void 0===c?r:c,l=i>1?1:i;this.$formComp.find(".option-group:not(:last-child)").css({borderBottom:"".concat(l,"px ").concat(s," ").concat(u)}),this.$formComp.find(".option-label").css("color","inherit")}}},{key:"updateContentCss",value:function(e){this.$formComp.find(".option-label").css("color","inherit")}},{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,r=(t.properties.optionStyle,t.choices);"string"==typeof r&&(r=JSON.parse(r));var o=$("<div>"),i=(r.options.length,"r"==this.compJson.type),a=Math.floor(1e8*Math.random());return r.options.forEach((function(t,s){var c=i?t.id==r.default:t.default,u=e.$option({compId:n,index:s,optionId:t.id,optionLabel:t.label,inputType:"r"==e.compJson.type?"radio":"checkbox",checked:c,ranId:a,isOtherOption:t.isOtherOption});o.append(u)})),o.html()}},{key:"bindAfterRenderEvent",value:function(){return i(l(h.prototype),"bindAfterRenderEvent",this).call(this),!0}},{key:"updateTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.compJson.title;this.$li.find(".radio-title").text(e)}},{key:"updateOptions",value:function(){var e=this.create$options();this.$options.html(e);var t=this.eqxPage.getFormStyle("input");this.updateOptionGroupCss(t),this.updateFormHeight()}},{key:"updateOptionsLabel",value:function(){var e,t,n=this,r=null===(e=this.$li)||void 0===e||null===(t=e.find(".option-label"))||void 0===t?void 0:t.find("span");if(r){var o=this.compJson.choices;"string"==typeof o&&(o=JSON.parse(o)),o.options.forEach((function(e,t){$(r[t]).html(n.tranSpaceAndEnter(e.label))}))}}},{key:"updateOptionsType",value:function(){var e="c"===this.compJson.type,t=e?"checkbox":"radio";this.$li.find("input").attr("type",t),e?this.updateTitle(this.compJson.title+"(可多选)"):this.updateTitle()}},{key:"updateHeadBgcolor",value:function(e){this.$li.find(".radio-title").css("backgroundColor",e)}},{key:"updateHeadFontColor",value:function(e){this.$li.find(".radio-title").css("color",e)}},{key:"updateFormHeight",value:function(){var e=this.compJson,t=e.properties.formRelevant,n=t.title,r=t.des,o=(e.css.borderWidth,parseInt(this.compJson.css.paddingTop),parseInt(this.compJson.css.paddingBottom),parseInt(this.$formComp.find(".options").outerHeight()),parseInt(n.css.height)+parseInt(r.css.height));this.$li.css({height:"auto"}),this.update$li({height:this.$li.outerHeight()}),$(this.$context[2]).css("height","calc(100% - ".concat(o,"px)")),this.updateFromInnerHeight(),this.autoSizeTopDown(),this.updatePageHeight()}},{key:"getValueInfo",value:function(){var e=i(l(h.prototype),"getValueInfo",this).call(this);if(!e.value)return e;var t=e.value.split(",").map(String),n=this.formSubmitValueWithOtherOption.split(","),r=this.getOptionArray().filter((function(e){return t.includes(String(e.id))})).map((function(e){if(e.isOtherOption){var t,r=new RegExp("^".concat(e.id,"-")),o=null===(t=n.find((function(e){return r.test(e)})))||void 0===t?void 0:t.replace(r,"".concat(e.label," "));if(o)return o}return e.label})).join(",");return r?(e.label=r,e):e}},{key:"getOptionArray",value:function(){var e=[],t=this.compJson.choices;return"string"==typeof t&&(t=JSON.parse(t)),t.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e.push(n)})),e}},{key:"getOptionHash",value:function(){var e={},t=this.compJson.choices;return"string"==typeof t&&(t=JSON.parse(t)),t.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e[t.id]=n})),e}},{key:"getOptionList",value:function(){var e=[],t=this.compJson.choices;return"string"==typeof t&&(t=JSON.parse(t)),t.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));e.push(n)})),e}},{key:"getTextDetail",value:function(e){var t=this.getTipTitle(),n=this.getOptionHash(),r=[];return e.forEach((function(e){n[e]&&r.push(n[e].label)})),{title:t,options:r}}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=e.split(","),o=this.$li.find('[name="'.concat(this.name,'"]')).toArray();r.forEach((function(t){var r,i=t.indexOf("-"),a=t;if(i>-1){a=t.slice(0,i),r=t.slice(i+1);for(var s=0;s<o.length;s++)if(o[s].value==a){o[s].checked=!0,$(o[s]).siblings(".otherOptionBlank").val(r);break}}else n.$li.find('[name="'.concat(n.name,'"]')).val(e.split(","))})),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&o(t.prototype,n),r&&o(t,r),h}(n(140));e.exports=h},function(e,t,n){var r=n(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(47),o=n(17)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(13),o=n(40),i=n(17)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports={publicHost:"//www.eqxiu.com/",name:"pro",HOSTPARAM:"//as.eqh5.com/",publicViewHost:"//as.eqh5.com/",HOST:"//www.eqxiu.com/",LONG_HOST:"//www.eqxiu.com/",EQX:"//www.eqxiu.com/",WAP_HOST:"//wap.eqxiu.com/",VIEW_HOST:"//h5.eqxiu.com/",NEWVIEW_HOST:"//forms.ebdan.net/",IOM_AD:"//iom-api.eqxiu.com/",SERVER_0:"//service.eqxiu.com/",H5:"//h5s-api.eqxiu.com/",SERVER_LPAGE:"//form-editor-api.eqxiu.com/",INFO_SERVER:"//passport.eqxiu.com/",SERVER_0_VIP:"//vservice.eqxiu.com/",SERVER_1:"//s1.eqxiu.com/",SERVER_2:"//s2.eqxiu.com/",LONG_PAGE:"//h5.eqxiu.com/",LONG_PAGE_PREVIEW:"//form-preview-api.eqxiu.com/",FLOW_SERVER:"//S6.eqxiu.com/",SERVER_MAX:"//max.eqxiu.com/",QUERY_SERVER:"//search.eqxiu.com/",WAP_SERVER:"//ie.eqxiu.com/",PAY_SERVER:"//xiupay.eqxiu.com/",MOBILE_SERVER_1:"//m1.eqxiu.com/",SERVER_4:"//h5s-api.eqxiu.com/",SERVER_5:"//member.eqxiu.com/",LONG_FONT:"//font.eqh5.com/",LONG_TEMP_SERVER:"//emw-api.eqxiu.com/",RED_PACKET_WX_CONFIG:{WX_SLIENT_APP_ID:"wx0424aefe853c387c",AUTHORIZE_URL:"//s1.eqxiu.com/get-weixin-code.html"},MP1_HOST:"//mp1-api.eqxiu.com/",H2_HOST:"//p1.eqxiu.com/",CHECK_HOST:"//check.eqxiu.com/",BIG_DATA:"//datalog.eqxiu.com/",TRACK:"//da.eqxiu.com/",PAY_HOST:"//www.eqxiu.com/",MALL_HOST:"//store.eqxiu.com/",STORE:"//store.eqxiu.com/",YQC:"//as.eqh5.cn/",PAY_MODAL_HOST:"//pay.eqxiu.com/pay-nmt/xd-cost2",PAY_XD_HOST:"//pay.eqxiu.com/",MSEARCH_API:"//msearch-api.eqxiu.com/",REPORT:"//lib.eqh5.com/iap-report/1.0.19/report.min.js",IOM_MEDIA_ID:244,ME_TOO_BTN:286,VIEW_CREATE_AD:285,CREATE_BTN_AD:287,VOTE_ME_TOO:288,SUBMIT_TOP_ICON:881,DOWNLOAD_APP:939,VOTE_AD_IDS:{support:1007,downloadApp:1008,logo:1009,submitTop:1010,voteResult:288,share:1013,submitDefault:1011},APPLET:{appId:"gh_98a1714c656a",page:"page/mall/mall",qrcode:"https://asset.eqh5.com/FjGuGhSUBP1M140I76U3lydpVkb8"},H2_MALL_TYPE:75,H2_POSTER_CATEGORY_ID:899256,H2_QRCODE_CATEGORY_ID:895453,MALL_BUY_ID:"10002",MALL_PIC_ID:"889874",MALL_MUSIC_ID:"889875",MALL_SOUND_ID:"889877",MALL_FONT_ID:"889873",THEME_CATEGORY_ID:"898335",MALL_PIC_ID_NEW:"890729",MALL_MUSIC_ID_NEW:"890727",MALL_SOUND_ID_NEW:"890728",MALL_FONT_ID_NEW:"890726",MALL_PAGE_ID_NEW:"890731",MALL_FUNCTION_ID_NEW:"890730",MALL_PIC_ID_DEFAULT:"890930",MALL_BG_ID_DEFAULT:"890810",MALL_MUSIC_ID_DEFAULT:"890935",MALL_SOUND_ID_DEFAULT:"890933",MALL_FONT_ID_DEFAULT:"890934",MALL_ELE_TEMPLATE_ID:"892646",MALL_TEXT_TEMPLATE:"892707",MALL_IMG_TEMPLATE:"892708",MALL_IMAGE_TEXT_TEMPLATE:"892709",MALL_VIDEO_TEMPLATE:"892710",MALL_CONVERSION_TEMPLATE:"892711",MALL_LINE_TEMPLATE:"892712",MALL_FORM_TEMPLATE:"892713",MALL_CHART_TEMPLATE:"892714",MALL_MEDIA_TEMPLATE:"896378",MALL_MIX_ELE_TEXT_TEMPLATE:"896767",MALL_MIX_ELE_IMG_TEMPLATE:"896768",MALL_MIX_ELE_SHAPE_TEMPLATE:"896769",MALL_MIX_ELE_TEXT_CONTAINER_TEMPLATE:"896770",MALL_MIX_ELE_LINE_TEMPLATE:"896771",MALL_ARRANGE_ELE_TEMPLATE_ID:"894768",MALL_QUESTIONNAIRE_ID:"897352",MALL_REGISTRATION_ID:"896926",MAIL_TEST_ID:"897354",MALL_VOTE_ID:"897353",MALL_ARRANGE_TITLE_TEMPLATE:"894769",MALL_ARRANGE_CARD_TEMPLATE:"894770",MALL_ARRANGE_IMAGE_TEMPLATE:"894771",MALL_ARRANGE_LAYOUT_TEMPLATE:"894772",MALL_ARRANGE_GUIDE_TEMPLATE:"894773",MALL_ARRANGE_COMP_TEMPLATE:"894774",MALL_ARRANGE_FESTIVAL_TEMPLATE:"894775",MALL_PAY_AD_LOGO_APPID:"100055",MALL_PAY_AD_LOGO_CATEGORY_ID:"39",MALL_FORM_THEME_CATEGORY_ID:"63",MALL_PAY_AD_CATEGORY_ID:"38",MALL_PAY_AD_PC_CATEGORY_ID:"65",MALL_FROM_VOTE_OPTIONS_LIMIT:"81",MALL_FROM_SUBMIT_INIT_NUMBER:"80",MALL_FROM_QUESTION_NUMBER_LIMIT:"79",MALL_FROM_EDIT_AFTER_SUBMIT:"78",MALL_FROM_LINK_AFTER_SUBMIT:"77",MALL_FROM_MESSAGE_COUNT:"64",MALL_DISABLE_WX_SHARE:"91",MALL_AREA_LIMIT:"46",MALL_WECHAT_SUBSCR:"58",MALL_VERIFICATION_CODE:"17",MALL_WECHAT_NOTICE:"106",MALL_VOTE_INIT_VALUE:"109",CATEGORY_IDS:{39:"69",19:"100",63:"183",64:"187",81:"213",80:"212",79:"211",78:"210",77:"209",91:"224",46:"86",17:"54",106:"255",109:"258"},SOURCE:"//as.eqh5.com/c/",BIND_USER_SOURCE:"//as.eqxiu.com/c/",WX_APP_ID:"wx3372571209a934a1",WX_APP_ID_WAP:"wx8a61ef75c858990e",UPLOAD_VIDEO_BUCKET:"video-1251586368",UPLOAD_EQX_VIDEO_BUCKET:"eqxiu-video-1251586368",UPLOAD_MER_BUCKET:"eqxiu-1251586368",UPLOAD_REGION:"ap-shanghai",DOMAIN:"eqxiu",EQX_TPL_DOMAIN:"h5.eqxiu.com",EQX_FAN_DOMAIN:"scene.eqxiu.com",EQX_AD_DOMAIN:"scene.eqh5.cn",EQX_VIP_DOMAIN:"vip.eqxiu.cn",EQX_COMPANY_DOMAIN:"scene.eqxiu.cn",EQX_TG:"tg.eqxiu.com",EQX_APP_DOMAIN:"m.eqxiu.com",EQX_NO_BUSINESS_DOMAIN:"eqxiu.com",EQX_BATCH_SCENES_DOMAIN:"eqxiu.tv",FILE:"//asset.eqh5.com/",QINIUFILE:"//asset.eqh5.com/",QINIUVIDEO:"//asset-v.eqh5.com/",BIND_USER_FILE:"//asset.eqh5.com/",FREE_USER_FILE:"//asset.eqh5.com/",VIP_USER_FILE:"//asset.eqh5.com/",FONT:"//font.eqh5.com/",VIDEO:"//asset-v.eqh5.com/",TENCENTVIDEO:"//video-1251586368.file.myqcloud.com",TENCENTIMAGE:"//video-1251586368.image.myqcloud.com",MIX_VIDEO_SERVER:"//a.veqxiu.com/",HD_SERVER:"//hd.yiqixiua.com/",XIUTUI:"//xt.eqxiu.com/",WAP_TPL_CENTER:"http://wap.eqxiu.com/wpmall/cats",BOTTOM_MARK_TEMPLATEID:[67638,1728439,1720820,101204,35701,1658453,1644611],FLOW_AD_RESOURCES:["//lib.eqh5.com/","eqx.ad.render.min"],VEIN_CATEGORY:"890820",PRODUCT_CODE:"P010004",EBD_PRODUCT_CODE:"P010124",EBD_WXWORK_PRODUCT_CODE:"Q01YIQIXIU",DEFAULT_MODEL_ID:"5c9063ed01a26400155b4966",SOURCE_ID:[4191645,4191806,4191844,4191886,12937345,null],EQUITY_MARK:"10036",EQUITY_LOGO:"10037",PATH:n(524),MATERIAlBG:"//material-api.eqxiu.com/",SENTRY_API_KEY:"4ca69441560a4afb984b16856a70101667604f67516940919256d1b3d185d23f",COOPER_HOST:"//lwork-api.eqxiu.com/",FORM_ENCYRPT_CODE:"ddb9ada96fce475e84fd33706b6179cc",APP_CHANNELS:[21,22],noScene:9348401,noVerify:9346352,notDeployed:9348428,AD_AFTER_SHARE:291,AD_TECHNICAL_SUPPORT:290,AD_FORM_LOGO:289,AD_AFTER_SUBMIT:299,VOTE_INIT_VALUE:258,WX_VOTE_INVITE_TEMPLATE_ID:"P0yZdMrmIrM5iu2awaKRdONArG-6JPQnNnmAkSV04aM",WX_VOTE_RESULT_NOTICE_TEMPLATE_ID:"yQqZcrptek3DHOrstPdntRpvwKy8WCLarK_l-FkMN70"}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(8).ajax,i=n(1),a=n(15),s=a.$loadJWeixin,c=a.$loadSHA,u=n(4).getUrlHost,l=n(0),p=l.isWeixin,f=l.isAndroid,d=n(45).isFunction,h=n(125),m=h.wxNonceStr,v=h.wxTimestamp,g=n(125),y=[/eqxiu\.com/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/,/eqxiul\.com/,/ebdan\.net/];function b(e){var t=null;return["yqh5.cn","yqh5.com","eqh5.cn","scene.eqxiu.tv","scene.eqxiu.mobi","divh5.com","divh5.cn","divh5.com.cn","divh5.net","meih5.com","meih5.cn","meih5.net","yqxiutech.com","yqxiugroup.com","yqxiuweb.com","yqxiulive.com","yqxiuapp.com","yqxiulife.com","cc.yqxiutech.com","scene.eprezi.cn","scene.eprezi.com","scene.msxiu.cn","scene.ebdan.com.cn","scene.eqxiu.link","scene.eqxiu.pub"].forEach((function(n){e.indexOf(n)>-1&&(t=n)})),t}function x(){var e=u(window.location.href),t="lp/wx/ticket?time="+Date.now(),n=b(e);return y.some((function(t){return t.test(e)}))||(/eqxiu\.cn/.test(e)?(t+="&domain=eqxiu.cn",t+="&userId="+window.scene.userId):t+=n?"&domain="+n:"&domain="+e),o({type:"GET",url:i.LONG_PAGE_PREVIEW+t})}function w(){var e="api/wx/get-jsticket?time="+Date.now()+"&appId="+g.APP_ID_WAP;return console.log("getWxTicket2",e),o({type:"GET",url:i.WAP_SERVER+e}).then((function(e){return e&&e.obj?{obj:{appId:g.APP_ID_WAP,ticket:e.obj}}:Promise.reject("无微信 ticket: "+g.APP_ID_WAP)}))}var S=null;function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=2===e.ticket?w:x;return S||(S=Promise.all([s(),t(),c()]).then((function(e){var t=e[1].obj,n=t.appId,r=t.ticket;return new Promise((function(e,t){if(n&&r&&-1!==r){var o=location.href.split("#")[0],i=(Date.now(),"jsapi_ticket="+r+"&noncestr="+m+"&timestamp="+v+"&url="+o),a=new jsSHA("SHA-1","TEXT");a.update(i);var s=a.getHash("HEX");console.log("wx config appId ".concat(n,", sign ").concat(i,", hash ").concat(s)),console.log(v),console.log(m),wx.config({debug:!1,appId:n,timestamp:v,nonceStr:m,signature:s,jsApiList:["chooseWXPay","checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","addCard","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","previewImage","uploadVoice","downloadVoice","openLocation","hideMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","hideOptionMenu","showOptionMenu","getLocation"],openTagList:["wx-open-launch-weapp","wx-open-subscribe"]}),wx.ready((function(){wx.miniProgram&&wx.miniProgram.getEnv((function(e){window.isMiniPromByWx=e.miniprogram})),e()}))}else t()}))})))}e.exports={register:function(e,t,n){window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(t+"eqs/rel-account/wechat-mp?appId="+e)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(n)+"#wechat_redirect"},disableWxFontSize:function(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",(function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})}))}p()&&f()&&("object"===("undefined"==typeof WeixinJSBridge?"undefined":r(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)))},domainParam:b,setDocumentTitle:function(e){if(document.title=e,/ip(hone|od|ad)/i.test(navigator.userAgent)){var t=document.createElement("iframe");t.src="http://lib.eqh5.com/favicon.ico",t.style.display="none",t.onload=function(){setTimeout((function(){t.remove()}),9)},document.body.appendChild(t)}},initWx:k,initWx2:function(){return S||(S=Promise.all([s(),w(),c()]).then((function(e){var t=e[1].obj,n=t.appId,r=t.ticket;return new Promise((function(e,t){if(n&&r&&-1!==r){var o=location.href.split("#")[0],i=Date.now(),a="jsapi_ticket="+r+"&noncestr=eqxiuview&timestamp="+i+"&url="+o,s=new jsSHA("SHA-1","TEXT");s.update(a);var c=s.getHash("HEX");console.log("wx config appId ".concat(n,", sign ").concat(a,", hash ").concat(c)),wx.config({debug:!1,appId:n,timestamp:i,nonceStr:"eqxiuview",signature:c,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","hideMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","hideOptionMenu","showOptionMenu","getLocation"],openTagList:["wx-open-launch-weapp","wx-open-subscribe"]}),wx.ready((function(){e()}))}else t()}))})))},setWxShareInfo:function(e){var t=e.title,n=e.desc,r=e.link,o=e.imgUrl,i=e.success,a=e.cancel;return k(e.opts).then((function(){wx.onMenuShareTimeline({title:t,link:r,imgUrl:o,success:function(){d(i)&&i()},cancel:function(){d(a)&&a()}}),wx.onMenuShareAppMessage({title:t,desc:n,link:r,imgUrl:o,success:function(){d(i)&&i()},cancel:function(){d(a)&&a()}}),wx.onMenuShareQQ({title:t,desc:n,link:r,imgUrl:o,success:function(){d(i)&&i()},cancel:function(){d(a)&&a()}}),wx.onMenuShareWeibo({title:t,desc:n,link:r,imgUrl:o,success:function(){d(i)&&i()},cancel:function(){d(a)&&a()}}),wx.onMenuShareQZone({title:t,desc:n,link:r,imgUrl:o,success:function(){d(i)&&i()},cancel:function(){d(a)&&a()}})}))},wxPay:function(e){return new Promise((function(t,n){wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,package:e.packageName,signType:e.signType,paySign:e.paySign,success:function(e){t(e)},cancel:function(e){n(e)}})}))},wxPay2:function(e){return new Promise((function(t,n){console.log("微信jssdk init"),k().then((function(){console.log("微信jssdk chooseWXPay");var r=e.package;r.startsWith("prepay_id=")||(r="prepay_id="+r),wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,package:r,signType:e.signType,paySign:e.paySign,success:function(e){t()},cancel:function(){n("充值失败")}})}))}))}}},function(e,t,n){"use strict";e.exports={Parallax:"//lib.eqh5.com/parallax/1.0.2/parallax.min.js",JWeixin:"//res2.wx.qq.com/open/js/jweixin-1.6.0.js",QQMap:"//map.qq.com/api/js?v=2.exp&key=AE3BZ-IGLK4-AL2U2-XPMFK-WUJX7-77FNE&callback=qqMapCallback",AMap:"//webapi.amap.com/maps?v=1.4.12&key=4fe3ab0a5b87e5bf8f222f780322f82a&callback=aMapCallback",SHA:"//lib.eqh5.com/jsSHA/2.0.2/sha1.js",Chart:"//lib.eqh5.com/Chart.js/1.0.2/Chart.min.js",sliders:"//lib.eqh5.com/slidesjs/3.0.3/jquery.slides.min.js",QRCode:"//lib.eqh5.com/@eqxiu/lrsjng.jquery-qrcode/0.14.0.1/jquery-qrcode.min.js",Flux:"//lib.eqh5.com/@eqxiu/flux/1.0.2/flux.min.js",Typed:"//lib.eqh5.com/@eqxiu/typed/1.1.4/typed.min.js",threecanvas:"//lib.eqh5.com/@eqxiu/threecanvas/1.1.0/threecanvas.js",canvg:"//lib.eqh5.com/canvg/0.0.1/canvg.min.js",MLink:"https://static.mlinks.cc/scripts/dist/mlink.min.js",datePicker:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",datePickerCss:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",moment:"//lib.eqh5.com/moment.js/2.15.2/moment.min.js",imgJcropJs:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",imgJcropCss:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",plupload:"//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",qiniu:"//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",qiNiu:"//lib.eqh5.com/qiniu-js/2.4.0/qiniu.min.js",qiNiu3:"//lib.eqh5.com/qiniu-js/3.0.2/qiniu.min.js",html2canvas:"//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js",tbsJS:"//res.imtt.qq.com/tbs/tbs.js",eCharts:"//lib.eqh5.com/echarts/4.1.0/echarts.min.js",macaronsTheme:"//lib.eqh5.com/echarts/theme/macarons.js",handsontableJs:"//lib.eqh5.com/handsontable/6.0.1/handsontable.min.js",xlsxJs:"//lib.eqh5.com/xlsx/0.11.14/xlsx.full.min.js",regionData:"//lib.eqh5.com/region-data/1.0.2-form/provinceData.min.js",laydate:"//lib.eqh5.com/date-select-pc/1.0.2/laydate.js",laydateCss:"//lib.eqh5.com/date-select-pc/1.0.2/theme/default/laydate.css",LCalendar:"//lib.eqh5.com/mobile-date-select/1.0.1/calendar.min.js",LCalendarCss:"//lib.eqh5.com/mobile-date-select/1.0.1/calendar.min.css",nativeShare:"//lib.eqh5.com/browserShare/1.0.0/nativeShare.js",majorList:"//lib.eqh5.com/eqx-major-list/1.0.0/eqxMajor.list.min.js",schoolList:"//lib.eqh5.com/@eqxiu/eqx-school-list/1.0.2/eqxSchoolList.min.js",MD5:"//lib.eqh5.com/js-md5/0.7.3/md5.min.js",DAYJS:"//lib.eqh5.com/dayJs/1.4.1/day.pro.min.js",helperCompCss:"eqx-market/0.3.3/eqx-helper-comp.css",helperComp:"eqx-market/0.3.3/eqx-helper-comp.umd.min.js"}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.master=t,this.manager=n}var t,n,o;return t=e,(n=[{key:"register",value:function(){this.manager.add(this)}},{key:"deregister",value:function(){this.manager.remove(this)}},{key:"update",value:function(e){}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";var r=n(76).remove$key;e.exports={maxLength:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=2*t,r=e.replace(/\n|\r/g," "),o=(r=r.replace(/[^\x00-\xff]/g,"xx")).substring(0,n).replace(/xx/g,"中").length;return r=e.substring(0,o)},getHash:function(e){var t=r(e),n=JSON.stringify(t),o=0;if(0===n.length)return o;for(var i=0;i<n.length;i++){o=(o<<5)-o+n.charCodeAt(i),o&=o}return o},countCharacters:function(e){var t=0;if(!e)return 0;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r>=1&&r<=126||r>=65376&&r<=65439?t++:t+=2}return t},cutstr:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0,o="",i=0;i<e.length;i++){var a=e.charCodeAt(i);if((r+=a>0&&a<=128?1:2)>t){o=e.substr(0,i)+(n?"...":"");break}o=e.substr(0,i+1)}return o},htmlEncode:function(e){var t=document.createElement("div");null!=t.textContent?t.textContent=e:t.innerText=e;var n=t.innerHTML;return t=null,n},htmlDecode:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.innerText||t.textContent;return t=null,n}}},function(e,t,n){"use strict";var r={content:{name:"文本内容",props:{content:{name:"文本内容"}}},image:{name:"图片内容",props:{imageSrc:{name:"图片内容"}}},color:{name:"颜色",props:{backgroundColor:{name:"背景颜色"},borderColor:{name:"边框颜色"},boxShadowColor:{name:"阴影颜色"},color:{name:"文本颜色"},counterColor:{name:"计数器颜色"},fill:{name:"形状颜色"}}},link:{name:"链接内容",props:{url:{name:"链接内容"}}},telephone:{name:"电话内容",props:{number:{name:"电话内容"}}},sound:{name:"音效内容",props:{soundSrc:{name:"音效内容"}}},time:{name:"计时时间",props:{time:{name:"计时时间"}}},internalLink:{name:"跳转页面",props:{internalLink:{name:"跳转页面"}}},input:{name:"输入框类型",props:{input:{name:"输入框类型"}}},video:{name:"视频内容",props:{video:{name:"视频内容"}}},tRandom:{name:"随机文本内容",props:{tRandom:{name:"随机文本内容"}}},iRandom:{name:"随机图片内容",props:{iRandom:{name:"随机图片内容"}}},code:{name:"代码内容",props:{code:{name:"代码内容"}}},addGroup:{name:"添加组合",props:{addGroup:{name:"添加组合"}}},moveGroup:{name:"移动组合",props:{moveGroup:{name:"移动组合"}}},deleteGroup:{name:"删除组合",props:{deleteGroup:{name:"删除组合"}}},editGroup:{name:"编辑组合",props:{editGroup:{name:"编辑组合"}}}},o={},i={},a={},s={},c=a;Object.keys(r).forEach((function(e){o[e]=e,i[e]=r[e].name;var t=r[e].props;a[e]={},Object.keys(t).forEach((function(n){a[e][n]="".concat(e,".").concat(n),s["".concat(e,".").concat(n)]=t[n].name}))})),e.exports=window.ftRuleType={FtRuleType:o,FtEditableProps:a,FtEditablePropName:s,getEditPropName:function(e){return 0===e.indexOf(c.color.fill)?s[c.color.fill]+(+e.split("-")[1]+1):s[e]},FtRuleName:i}},function(e,t,n){"use strict";e.exports={deg2arc:function(e){return e/180*Math.PI},arc2deg:function(e){return 180*e/Math.PI},scoreFormat:function(e){if(!e)return 0;var t=String(e).split(".");return t[1]?Number(e):Number(t[0])}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(187),p=n(5),f=n(136).isSupportStyle,d=n(612),h=n(132),m=n(9),v=m.initEffectImgPath,g=m.loadImg,y=n(1),b=n(613).stackBlurImage,x=n(136).getEvent,w=n(0).isWeixin,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableImg:!0,gSensor:!0,scratch:!0,replace:!0}}}),n.isArrangEditor=n.eqxScene.config.isArrangEditor,n}return t=p,r=[{key:"getImageStyles",value:function(){return d}}],(n=[{key:"getFtEditableProps",value:function(){var e=i(u(p.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.image.imageSrc,t.link.url,t.internalLink.internalLink,t.telephone.number,t.sound.soundSrc])}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.image.imageSrc?this.getProp("src"):i(u(p.prototype),"getFtValue",this).call(this,e)}},{key:"getImgSrc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.width&&(t.width*=2),t.height&&(t.height*=2),i(u(p.prototype),"getImgSrc",this).call(this,e,t)}},{key:"updateSize",value:function(e,t){if(this.$width&&this.$height){var n=this.$width/this.$height;this.updateImageSize(n,e,t)}i(u(p.prototype),"updateSize",this).call(this,e,t)}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}},{key:"pinchEnd",value:function(){var e=this.compJson,t=e.properties,n=e.css,r=t.imgStyle,o=this.$context[0],i=h.parseTransformInFloat(o.style.transform),a=i.scale.x,s=i.scale.y,c=r.width,u=r.height,l=r.marginTop,p=r.marginLeft,f=c*a,d=u*s,m=Math.max(n.height/d,n.width/f,1),v=p-((f*=m)-c)/2,g=l-((d*=m)-u)/2,y=this.validateImgStyle({width:f,height:d,marginTop:g,marginLeft:v},n);this.$context.css("transform","").css(y),t.imgStyle=y}},{key:"validateImgStyle",value:function(e,t){var n=e.width,r=e.height,o=e.marginTop,i=e.marginLeft;return o<0?o+r<t.height&&(o=t.height-r):o=0,i<0?i+n<t.width&&(i=t.width-n):i=0,{width:n,height:r,marginTop:o,marginLeft:i}}},{key:"moveEnd",value:function(){var e=this.compJson,t=e.properties,n=e.css,r=t.imgStyle,o=parseInt(this.$context.css("marginLeft")),i=parseInt(this.$context.css("marginTop")),a=this.validateImgStyle({width:r.width,height:r.height,marginLeft:o,marginTop:i},n);this.$context.css(a),t.imgStyle=a}},{key:"getContentHeight",value:function(){var e=this.compJson.css,t=e.paddingTop,n=void 0===t?0:t,r=e.paddingBottom,o=void 0===r?0:r,i=e.borderBottomWidth,a=void 0===i?0:i,s=e.borderTopWidth,c=void 0===s?0:s;return parseInt(this.$boxDiv.css("height"))+parseInt(n)+parseInt(o)+parseInt(a)+parseInt(c)}},{key:"updateImageSize",value:function(e,t,n){e||(this.$width&&this.$height?e=this.$width/this.$height:console.error("no imageRatio!")),t||(t=this.compJson.css),n||(n=this.compJson.css),void 0===n.height&&(n.height=t.height),void 0===n.width&&(n.width=t.width);var r=t,o=r.paddingLeft,i=void 0===o?0:o,a=r.paddingRight,s=void 0===a?0:a,c=r.paddingTop,u=void 0===c?0:c,l=r.paddingBottom,p=void 0===l?0:l,f=parseFloat(i)+parseFloat(s),d=parseFloat(u)+parseFloat(p);void 0===n.borderWidth&&(n.borderWidth=parseInt(t.borderWidth||this.compJson.css.borderWidth||0));var h=this.compJson.properties,m=2*n.borderWidth,v=2*n.borderWidth;n.borderLeftWidth&&n.borderRightWidth&&n.borderTopWidth&&n.borderBottomWidth&&(m=(n.borderLeftWidth||0)+(n.borderRightWidth||0),v=(n.borderTopWidth||0)+(n.borderBottomWidth||0));var g=(n.width-m-f)/(n.height-v-d),y=h.imgStyle;if(g>e){var b=n.width-m-f,x=b/e;y={width:b,height:x,marginTop:-(x+v+d-n.height)/2,marginLeft:0}}else{var w=n.height-v-d,S=e*w;y={width:S,height:w,marginLeft:-(S+m+f-n.width)/2,marginTop:0}}this.$context.css(y),this.canvas&&$(this.canvas).css(y),h.imgStyle=y}},{key:"_getContextImgSrc",value:function(){var e=this.compJson.properties,t=(e=void 0===e?{}:e).src,n=e.imgStyle;return t=v(t),n&&(t=this.getImgSrc(t,{width:n.width,height:n.height})),t}},{key:"create$li",value:function(){var e=i(u(p.prototype),"create$li",this).call(this),t=this.compJson.css,n=e.find(".element-box");if(this.isArrangEditor){var r=this.compJson.css,o=r.borderRadius,a=r.borderTopWidth,s=void 0===a?0:a,c=r.borderBottomWidth,l=void 0===c?0:c,f=r.borderLeftWidth,d=void 0===f?0:f,h=r.borderRightWidth,m={borderRadius:o,borderTopWidth:s,borderBottomWidth:l,borderLeftWidth:d,borderRightWidth:void 0===h?0:h,borderStyle:r.borderStyle,borderColor:r.borderColor};delete t.borderWidth,this.update$li(m),n.css({border:"none",borderRadius:"0",overflow:"hidden"})}return this.isSupportImgScroll()&&(this.organizeScrollDom(),this.update$li({overflowY:"auto"}),this.$li.addClass("supportScroll")),n.css({overflow:"hidden"}),e}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.type,o=t.properties,i=o.scratch,a=o.imgStyle,s=o.maskSrc,c=o.filter,u=(c=void 0===c?{}:c).type;t.properties.isReplace=t.properties.isReplace||!1;var p=this._getContextImgSrc();if(Number.isInteger(u)&&u>0)var d=$(l.filterImg({id:n,type:r,src:p,filterType:u}));else d=$(l.img({id:n,type:r,src:p}));return f("WebkitMaskBoxImage")&&s&&this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image":"url(".concat(s,")")}),a&&d.css(a),i&&this.addScratch(),this.$boxContentDiv.css("overflow","hidden"),String(p).includes("/format/webp")&&setTimeout((function(){e.$boxContentDiv.find("img").get(0).complete||e.updateImageSrc(p.replace("/format/webp",""))}),3e3),d}},{key:"isSupportImgScroll",value:function(){return this.findTopGroup()==this&&!isNaN(this.compJson.properties.supportScrollH)}},{key:"imgScrollHover",value:function(e){if(e)var t={height:"auto",zIndex:(n=this.eqxPage,r=0,n.eqxLayerList[0].getEqxComps().forEach((function(e){var t=e.getCss("zIndex");t>r&&(r=t)})),r+1)};else t={height:this.compJson.properties.supportScrollH,zIndex:this.compJson.css.zIndex};var n,r;this.$li.css(t)}},{key:"supportImgContentScroll",value:function(e){this.organizeScrollDom(),this.update$li({height:e,overflowY:"auto"})}},{key:"organizeScrollDom",value:function(){this.$supportScroll||(this.$supportScroll=$('\n                <div class="support-scroll-wrapper"></div>\n            ')),this.$li.children().replaceWith(this.$supportScroll),this.$supportScroll.append(this.$boxDiv)}},{key:"eleShow",value:function(){var e=this,t=this.compJson.properties.src;t&&/.gif/.test(t)&&setTimeout((function(){var t=e.$context.prop("src");e.$context.show().each((function(){this.offsetHeight})).prop("src",t)}),1),i(u(p.prototype),"eleShow",this).call(this)}},{key:"updateImgSrc",value:function(){this.$context=this.create$context(),this.$contentsDiv.empty(),this.$contentsDiv.append(this.$context)}},{key:"updateImageSrc",value:function(e,t,n){e=this.getImgSrc((String(e).includes("//")?"":y.FILE)+e,{width:t,height:n}),this.$context.attr("src",e)}},{key:"addScratch",value:function(){var e=this;this.$contentsDiv[0].style.position="relative",this.canvas=this.createCanvas(),this.ctx=this.canvas.getContext("2d"),this.$contentsDiv.prepend(this.canvas),this.drawCanvas().then((function(){"view"===e.eqxScene.config.mode&&e.addCanvasEvent()}))}},{key:"createCanvas",value:function(){var e=document.createElement("canvas");return e.style.position="absolute",$(e).css(this.compJson.properties.imgStyle),e}},{key:"drawCanvas",value:function(){var e=this,t=this.compJson.properties,n=t.src,r=t.imgStyle;return n=this.getImgSrc(n,{width:r.width,height:r.height}),g(n,!0).then((function(t){e.ctx.globalCompositeOperation="source-over",e.canvas.width=t.width,e.canvas.height=t.height,e.ctx.drawImage(t,0,0),e.ctx.globalCompositeOperation="destination-out",b(e.canvas,30,!0)}))}},{key:"addCanvasEvent",value:function(){var e,t,n,r;this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.lineWidth=40;var o=0,i=this,a=!1;function s(s){o++,setTimeout((function(){o>=45&&!a&&(a=!0,$(i.canvas).fadeOut(500,(function(){setTimeout((function(){i.deleScratch()}),500)})))}),200),s.preventDefault(),s.stopPropagation();var c=x(s);n=c.pageX-$(i.canvas).offset().left,r=c.pageY-$(i.canvas).offset().top,i.ctx.moveTo(e,t),i.ctx.lineTo(n,r),i.ctx.stroke(),e=n,t=r}$(this.canvas).on("mousedown touchstart",(function(n){n.preventDefault(),n.stopPropagation();var r=x(n);e=r.pageX-$(i.canvas).offset().left,t=r.pageY-$(i.canvas).offset().top,$(i.canvas).on("mousemove touchmove",s),$(i.canvas).on("mouseup touchend mouseleave",(function(){$(i.canvas).off("mousemove touchmove",s)}))}))}},{key:"deleScratch",value:function(){$(this.canvas).off(),$(this.canvas).remove(),delete this.canvas}},{key:"editImage",value:function(e,t){var n=this,r=this.compJson;if(t)var o=Promise.resolve(t);else o=g(this._getContextImgSrc()).then((function(e){var t=e.width,n=e.height;return{width:t,height:n,ratio:t/n}}));function i(e){return JSON.parse(JSON.stringify(e))}var a=i(r);e=i(e);var s=a.properties;s.imgStyle=e.imgStyle,s.cropSize=e.cropSize,s.src=e.src,s.originSrc=e.originSrc,s.maskSrc=e.maskSrc;var c=this.updateJson(a);return this.isSupportImgScroll()&&(this.$supportScroll.remove(),this.$supportScroll=null),c.isCompShow=!0,this.eqxPage.renderEqxComp(c,!0),o.then((function(t){if(n.updateCompHeight(t),e.originCss&&n.group&&n.isBaseLayerElement){var r=e.originCss,o=r.width,i=r.height;n.compJson.css.width=o,n.compJson.css.height=i}if(n.isArrangEditor&&e.originCss){var a=e.originCss,s=a.width;a.height,n.compJson.css.width=s}var u=t.width,l=t.height,p=t.ratio;if(c.$width=u,c.$height=l,c.updateImageSize(p),c.isSupportImgScroll()){var f=c.compJson.properties.imgStyle.height,d=c.compJson.properties.supportScrollH;f>d&&c.update$li({height:d})}return c.findTopGroup().autoSizeTopDown(),e.isChangeTheme&&(c.compJson.css.height=166,n.$context.css({height:166})),Promise.resolve(c)}))}},{key:"updateCompHeight",value:function(e){var t=e.width,n=e.height,r=this.compJson.properties.arrangeImageScale||100,o=this.eqxPage.getPageWidth();if(!this.group&&this.isBaseLayerElement){var i=t/n,a=this.compJson.css,s=a.paddingTop,c=void 0===s?0:s,u=a.paddingBottom,l=void 0===u?0:u,p=a.paddingLeft,f=a.paddingRight,d=o-parseFloat(p)-parseFloat(f);this.isArrangEditor&&this.compJson.properties.originCss&&(d=this.compJson.properties.originCss.width-parseFloat(p)-parseFloat(f));var h=parseFloat(d/i)+parseFloat(c)+parseFloat(l);this.update$li({height:h*r/100,width:o*r/100})}}},{key:"updatePadding",value:function(e){var t,n,r,o=this.compJson.properties,i=this.compJson.css,a=parseInt(i.paddingLeft),s=parseInt(i.paddingRight),c=parseInt(i.paddingTop),u=parseInt(i.paddingBottom),l=parseInt(i.width),p=parseInt(i.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey){var f=parseInt(o.imgStyle.width)/parseInt(o.imgStyle.height),d=(parseInt(e.padValue),l-("paddingLeft"==e.padKey?parseInt(e.padValue)+s:parseInt(e.padValue)+a)),h=d/f;o.imgStyle.width=d,o.imgStyle.height=h,this.$context.css({width:d,height:h}),p=h+c+u}else{var m=i[e.padKey];p+=parseInt(e.padValue)-parseInt(m)}this.update$li((t={height:p},n=e.padKey,r=parseInt(e.padValue),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),this.autoSizeTopDown()}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;if(t.properties.isViewBigPicture&&!this.eqxPage.pageJson.properties.triggerGroup.find((function(e){return e.sourceId==n.id}))&&!t.properties.cropSize){var r=this;this.$li.hasClass("supportScroll")&&this.$li.on("touchmove",(function(e){e.stopPropagation()})),w()&&e.on("click.imgPreview",(function(){var e=(parseInt(t.css.width),parseInt(t.css.height),Math.abs(parseInt(t.properties.imgStyle.marginLeft)),Math.abs(parseInt(t.properties.imgStyle.marginTop)),r.$context.attr("src").replace(/\/format\/webp/g,""));wx.previewImage({current:e,urls:["".concat(e)]})}))}}},{key:"updateItemSizeByPage",value:function(e,t){i(u(p.prototype),"updateItemSizeByPage",this).call(this,e,t);var n=this.compJson,r=n.css,o=n.properties.imgStyle,a=(r.paddingLeft,r.paddingRight,r.paddingTop,r.paddingBottom,r.left,r.top,r.width),s=r.height,c=o=o||{},l=c.width,f=void 0===l?a:l,d=c.height,h=void 0===d?s:d,m=c.marginLeft,v=void 0===m?0:m,g=c.marginTop,y=void 0===g?0:g,b=t/e;v*=b,y*=b,this.isSupportImgScroll()?(f=parseFloat(f)*b,h=parseFloat(h)*b):(f=parseFloat(a)-2*parseFloat(v),h=parseFloat(s)-2*parseFloat(y)),Object.assign(o,{width:f,height:h,marginTop:v,marginLeft:y}),this.updateImageSize(f/h),this.isSupportImgScroll()&&(o.marginTop=0,this.$context.css("margin-top",0))}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=S},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e)}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i={0:"零",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九","00":"零","01":"零一","02":"零二","03":"零三","04":"零四","05":"零五","06":"零六","07":"零七","08":"零八","09":"零九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一",32:"三十二",33:"三十三",34:"三十四",35:"三十五",36:"三十六",37:"三十七",38:"三十八",39:"三十九",40:"四十",41:"四十一",42:"四十二",43:"四十三",44:"四十四",45:"四十五",46:"四十六",47:"四十七",48:"四十八",49:"四十九",50:"五十",51:"五十一",52:"五十二",53:"五十三",54:"五十四",55:"五十五",56:"五十六",57:"五十七",58:"五十八",59:"五十九"};function a(e){return(e=e.toString()).length<2?"0"+e:e}function s(e){var t="-";1===String(e).split(t).length&&(t="/");var n=r(String(e).split(" ")[0].split(t).map(Number),3),o=n[0],i=n[1],a=n[2];return Date.parse(new Date(o,i-1,a))}e.exports={formatTime:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cn",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1,1,1],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=e-t,u=Math.floor(c/864e5),l=c%864e5,p=Math.floor(l/36e5),f=l%36e5,d=Math.floor(f/6e4),h=f%6e4,m=Math.round(h/1e3),v=r(i,4),g=v[0],y=v[1],b=v[2],x=v[3];switch(g||y||b||x||(g=1,y=1,b=1,x=1),!g||y||b||x?g||!y||b||x?g&&!y&&b&&!x&&(d=d||1):p=p||1:u=u||1,p=g?p:p+24*u,d=y?d:d+60*p,m=b?m:m+60*d,o){case"cn":return n?(g?u+"天"+s:"")+(y?a(p)+"时"+s:"")+(b?a(d)+"分"+s:"")+(x?a(m)+"秒":""):(x?a(m)+"秒":"")+(b?a(d)+"分"+s:"")+(y?a(p)+"小时"+s:"")+(g?a(u)+"天"+s:"");case"en":return n?(g?a(u)+" days, ":"")+(y?a(p)+" hours, ":"")+(b?a(d)+" minutes, ":"")+(x?a(m)+" seconds":""):(x?a(m)+" seconds, ":"")+(b?a(d)+" minutes, ":"")+(y?a(p)+" hours, ":"")+(g?a(u)+" days":"");case"char":return n?(g?a(u)+"天 ":"")+(y?a(p):"")+(y&&b?":":"")+(b?a(d):"")+((y||b)&&x?":":"")+(x?a(m):""):(x?a(m):"")+(x&&b?":":"")+(b?a(d):"")+((x||b)&&y?":":"")+(y?a(p):"")+(g?" "+a(u)+"天":"")}},getDayBeginTimesTamp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Date.now()+24*e*60*60*1e3;return s(new Date(t).toLocaleDateString())},dateStrToTimesTamp:s,formatNowTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hh:mm:ss",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=new Date(t).toLocaleTimeString("chinese",{hour12:!1}),r=n.split(":"),o=r[0],a=r[1],s=r[2],c=24==o||o<12?"上午":"下午",u=24==o||o<12?"AM":"PM",l="00"==o?"12":o>12?o-12:o,p=24==o?"00":o,f={"hh:mm:ss":"".concat(p,":").concat(a,":").concat(s),"hh:mm":"".concat(p,":").concat(a),"hh:mm:ss+A":"".concat(l,":").concat(a,":").concat(s," ").concat(u),"hh:mm+A":"".concat(l,":").concat(a," ").concat(u),"hh时mm分ss秒":"".concat(p,"时").concat(a,"分").concat(s,"秒"),"hh时mm分":"".concat(p,"时").concat(a,"分"),"hh时mm分ss秒+cn":"".concat(i[p],"时").concat(i[a],"分").concat(i[s],"秒"),"hh时mm分+cn":"".concat(i[p],"时").concat(i[a],"分"),"A+hh时mm分ss秒":"".concat(c," ").concat(l,"时").concat(a,"分").concat(s,"秒"),"A+hh时mm分":"".concat(c," ").concat(l,"时").concat(a,"分"),"A+hh时mm分ss秒+cn":"".concat(c," ").concat(i[l],"时").concat(i[a],"分").concat(i[s],"秒"),"A+hh时mm分+cn":"".concat(c," ").concat(i[l],"时").concat(i[a],"分")};return f[e]}}},function(e,t,n){"use strict";n(776);var r=n(7),o=n(0).isPc(),i=n(0).isWeixin,a=n(0).isMiniProm,s=n(73),c=n(777),u=n(781),l=n(278),p=n(1),f=(n(787),n(788),n(4).getUrlParam),d=n(0),h=n(59).platformHandler,m=(n(59).dataFormat,n(59).jumpLocation),v=n(59).formatLocation,g=n(789),y=n(15).$loadHtml2Canvas,b=n(15).$loadQRCode,x=n(59),w=((0,n(88).isCardScene)(),n(56).getAd),S=n(9).qiniuZoom,k=n(101).scoreFormat,O=n(192),E=n(6).submitRenderShowLastDataDom,C=n(10).FORM_VOTE_COMPS,_=n(3).parse,I=n(799),P=I.singleVoteTextDomTpl,T=I.shareTipWapper,R=n(23).filterTags,A=n(7).changeWxLocationUrl,q=n(73).initWeChartShare,j=n(4).addUrlParam,L=n(6).linkRiskIframeModal,M=n(38).createWeappAd;n(800);n(802).alert;var D=n(24).getItem,B=n(8).ajax;function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:299,t=i()&&a(),n=o?1:!o&&t?2:o||t?1:3,r=a()?1:0,s=/^local/.test(location.host)?"form.yqxiu.cn":location.host;return B({method:"GET",url:"".concat(p.LONG_PAGE_PREVIEW,"form/config/ad/tail?sharingchannel=").concat(r,"&exhibitionPlatform=").concat(n,"&mediaIds=").concat(e,"&code=").concat(scene.code,"&currentHost=").concat(s)}).then((function(e){var t=e.list&&e.list[0];return t?"<a style='display:block;width: 100%;' href='".concat(t.linkUrl,"' rdt='3' cat='尾页组件' act='底部广告点击' loc='表单提交成功' target='_blank'><img style='width: 100%;' src='").concat(S(t.picSrc),"'/></a>"):"<div></div>"}))}function N(e){var t=e.getAllFormComps().filter((function(e){return C.includes(e.type)&&!e.ruleHide}));t.length&&"true"!==String(sessionStorage.getItem("disableWxShare"))&&d.isMobile()&&function(){var e=null,n=0,r=null;t.forEach((function(t){var o=t.getValue();o&&!String(o).includes("跳过")&&(++n,e=o,r=t)}));var o="点击...邀请好友一起来投票",a=!1,s="",c="";if(r&&e){a="textVote"===r.type;var u=r.getOptionArray().find((function(t){return~~t.id===parseInt(String(e).split(",")[0])}));s=R(u.content),c=!a&&S(R(u.cover))||""}var l=window.location.href.split("#")[0];i()&&1===n&&e&&!String(e).includes(",")&&(o=_(P,{img:c,title:s,textClass:a?"only-text":""}),l=(a?window.location.href:j("VDP","".concat(r.id,"-").concat(e))).split("#")[0]);if(i()&&s){A(l),q(s,c)}window._showShareTip&&!f("appletPreview")&&102===window.scene.bizType&&D("wxOpenid")&&(window._havaVoteMore||(window._havaVoteMore=!0,o="邀请好友投票，增加投票次数"));var p=$(_(T,{text:o}));f("appletPreview")&&p.find(".before").css("right","45px");p.on("click",".eqf-no",(function(){p.remove()})),$(document.body).append(p)}()}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function r(){var r;n&&(r=z.warpCacheDefaulAd),r||(r=F(p.AD_AFTER_SUBMIT)),n&&(z.warpCacheDefaulAd=r),r.then((function(n){return!e.canRemoveAllAds&&t.find(".submit-flow-Ad").empty().show().append(n),t.find(".submit-flowAd-easyForm").hide(),n}))}try{var o=e.flowAd;if(window._adConfigForFlow&&_adConfigForFlow.pCodeArr&&_adConfigForFlow.pCodeArr.includes("tail-eform")){if(!$("#easyForm-flow-content").length)return;t.find(".flow-wrapper").css({width:"100%"});var i=new o.flowRender.tail("#easyForm-flow-content",{pCode:"tail-eform",interaResGlobal:1});i.exposure({closeAd:function(){t.find(".removeAd").css("display","none")}});var a=f("applet");"form"==a&&window.wx&&wx.miniProgram&&t.find(".removeAd").css("display","none")}else r()}catch(e){r(),console.log(e)}}var z={};function J(e,t,n,r,o,i,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],h=$("<div class='form-submit-box'>\n     <div class='form-submit-content'>\n         <div class='top-content'>\n         </div>\n         <div class='submit-flow-Ad'\n             style='display: ".concat(1!=s||e.canRemoveAllAds?"none":"block","'>\n\n         </div>\n         <div class='submit-flowAd-easyForm' style='bottom: 0;\n                     display: ").concat(0==s?"block":"none","'>\n             <div id='easyForm-flow-wrapper' class='flow-wrapper'>\n                 <div id='easyForm-flow-content' class='easyForm-content'></div>\n             </div>\n         </div>\n     </div>\n    </div>"));e.eqxScene.formGlobalSetting.shareAsPhoto&&h.find(".form-submit-content").append("\n        <div class='save-result-img ".concat(d.isMobile()?"mobile-btn":"","'>\n        <em class='eqf-download'></em>\n        <p>生成图片</p>\n            </div>\n        "));var m,v="";switch(t){case 1:case 3:v="pcRender"!=n?c.mobileDefaultAndVote(t,r,o,i,a,e.eqxScene.getPageConfig("showText")):c.pcDefaultAndVote(t,r,o,i,a,e.eqxScene.getPageConfig("showText"));break;case 2:v="pcRender"!=n?u.mobileScore(r,o,i,a):u.pcScore(r,o,i,a)}if(h.find(".top-content").append(v),f&&H(e,h,l),E(h.find(".top-content .render-last-wrapper")),l&&(m=z.warpCacheCreateAd),!m){var g=d.isVoteSceneAd()?p.VOTE_AD_IDS.submitDefault:p.CREATE_BTN_AD;m=w(g)}return l&&(z.warpCacheCreateAd=m),m.then((function(e){var t=e.list,n=e.code;if(200===n&&t.length>0){var r="<a style='display: block; width: 112px; height:26px' href='".concat(t[0].linkUrl,"'\n            target='_blank'>\n            <img style='width: 112px; height: 26px;' src='").concat(S(t[0].picSrc),"'></img></a>");d.isVoteSceneAd()&&(r=M("<img style='width: 112px; height: 26px;' src='".concat(S(t[0].picSrc),"'></img>"),t[0],112,26)),h.find(".create-btn-ad").html("").append(r)}return{list:t,code:n}})),h}function V(e,t){$("#iscrollDomForPc").remove();var n=e.eqxPage.$section.parent().find(".form-submit-content").height(),r=(document.body||document.documentElement,n+60);if(0==$("#iscrollDomForPc").length){var o=$("<div id='iscrollDomForPc' style='width:1px;z-index:-100;position:absolute;top:0px;left:0px;height:".concat(r,"px'><div></div></div>"));$("body").prepend(o)}v(e)}e.exports={OpenSubmitDialog:function(e,t,n,a,c,u){var d=k(parseFloat(e.eqxScene.formManager.totalScore).toFixed(1)),w=h(a,"form"),S=!!(c&&Object.keys(c).length>0)&&c.showAnswer,E=e.initStatManager();(2==t&&!E.hasScoreComps()||3==t&&!E.hasVoteComps())&&(t=1),$(".btn-wraper").css("pointer-events","none");var C=o&&e&&"pc"==e.previewMode,_=o?C?"pcRender":"pcMobileRender":"mobileRender";f("synergyComments")&&(_="mobileRender"),w&&Object.keys(w).length>0&&w.bannerPic&&(p.FILE,w.bannerPic);var I=!0;u&&u.flowAdType&&u.flowAdType.includes("tail-eform")&&(I=!1),e.eqxScene;var P,T,R,A,q,j=e.canRemoveAllAds||"",M=J(e,t,_,n,c,a,j,I,!1,!1),D={renderMode:_,$wrapper:M,eqxPage:e,defaultScrollConfig:{preventDefault:!1,mouseWheel:!0,scrollbars:!0,probeType:3,click:!1,bounce:!1,interactiveScrollbars:!0},type:t};function B(){i&&r.getWxJSSDK().then((function(){wx.ready((function(){wx.hideAllNonBaseMenuItem&&wx.hideAllNonBaseMenuItem(),wx.hideOptionMenu&&wx.hideOptionMenu()}))}))}"pcRender"==_&&M.find(".submit-flow-Ad").addClass("pc-submit-flow-Ad"),function(e,t){switch($(".nr").scrollTop(0),e.renderMode){case"pcMobileRender":!function(e){var t;e.eqxPage.$section.parent().prepend(e.$wrapper),e.$wrapper.find("img").length?e.$wrapper.find("img").map((function(n,r){r.onload=function(){t&&clearTimeout(t),t=setTimeout((function(){v(e)}),300)}})):v(e);e.eqxPage.$section.css("display","none")}(e);break;case"pcRender":!function(e){$(".pc-preview").css({height:"100%",top:0}),e.eqxPage.$section.parent().prepend(e.$wrapper),e.eqxPage.$section.css("display","none"),e.$wrapper.find("img").length?e.$wrapper.find("img").map((function(t,n){n.onload=function(){V(e)}})):V(e)}(e);break;case"mobileRender":!function(e,t){$("#con").css("height",""),e.eqxPage.$section.parent().prepend(e.$wrapper),e.$wrapper.find("img").length?e.$wrapper.find("img").map((function(t,n){n.onload=function(){v(e)}})):v(e);e.eqxPage.$section.parent().find(".form-submit-box"),e.eqxPage.$section.css("display","none"),O.render(e.eqxPage,e.eqxPage.eqxSectionCover,t)}(e,t)}}(D,d),3==t&&M.find(".vote-btn").click((function(){var t=e.eqxScene.config,n=t.isInnerView,r=t.disableSubmit;n||r||x.saveHistory("voteTag","#vote"),s.renderVoteResult(e,"",a),"true"===sessionStorage.getItem("disableWxShare")&&setTimeout((function(){B()}),0)})),S&&M.find(".submit-answer-keys, .pc-submit-answer-keys").on("click",(function(t){x.saveHistory("answerTag","#answer"),l.render(e),"true"===sessionStorage.getItem("disableWxShare")&&setTimeout((function(){B()}),0)})),M.find(".submit-show-last-data").click((function(){var e=window.location.pathname;window.location.href="".concat(e,"?sourceType=showLast&immediately=true")})),M.find(".link-btn").click((function(){if(n.btnHref){/(http|https):\/\/([\w.]+\/?)\S*/.test(n.btnHref)||(n.btnHref="http://"+n.btnHref);var t=n.btnHref;e.eqxScene.formManager.checkGcVerifyCode(t).then((function(t){var n=t.risk,r=t.link;n?L(r,e.eqxScene):m(r)}))}})),e.eqxScene.isCardScene&&(M.find(".submit-flow-Ad").hide(),M.find(".create-btn").text("返回表单"),e.EqxMsgManager&&e.EqxMsgManager.post({type:"heightChange",value:486})),M.find(".save-result-img").click((function(){Promise.all([y(),b()]).then((function(){$(".result-img-bottom").length||g.saveResultImg(e)}))})),P=e.eqxScene.config,T=P.isInnerView,R=P.disableSubmit,A=location.href,q=T&&R?A:A+"#submit",window.history.replaceState({page:"submitTag"},null,q),"true"===sessionStorage.getItem("disableWxShare")&&setTimeout((function(){B()}),0),$(".voteRank_view").remove(),$(".votingSignUp_view").remove(),M.find(".removeAd").click((function(){m(o?"http://www.eqxiu.com/mc/":"http://www.eqxiu.com/mc/mobile-member?platform=1")})),N(e),H(e,M)},get$Ad:F,createSubmitContent:J,voteGuide:N,voteMoreTips:function(e){if(!window._havaVoteMore&&!f("appletPreview")&&102===window.scene.bizType&&D("wxOpenid")){var t=$(_(T,{text:"邀请好友投票，增加投票次数"}));t.css({"z-index":"100000"}),t.on("click",".eqf-no",(function(){t.remove()})),setTimeout((function(){if("subPage"==e)window._havaVoteMore=!0,$(".main-page.z-current").append(t);else{var n=$(".gbSetting-popUp-box");n?(window._havaVoteMore=!0,n.append(t)):$(".top-content")&&(window._havaVoteMore=!0,$(".top-content").append(t))}}),500)}}}},function(e,t,n){"use strict";(function(t){var r=n(828),o=n(830),i=n(831),a=n(834);function s(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}var c,u,l,p,f,d=function(e,t,n){var r=t/8,o=e.slice(n,n+r);return new Uint8Array(o).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[t](o)[0]},h=function(e,t,n,r){var o=e.slice(t,n),i="";return new Uint8Array(o).forEach((function(e){i+=String.fromCharCode(e)})),r&&(i=decodeURIComponent(escape(i))),i},m=function(){},v=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]&&(t[n]=e[n]);return t},g=(f=function(e,t){e=e.split("."),t=t.split(".");for(var n=0;n<t.length;n++)if(e[n]!==t[n])return parseInt(e[n])>parseInt(t[n])?1:-1;return 0},c=navigator&&navigator.userAgent,u=(c.match(/Chrome\/([.\d]+)/)||[])[1],l=(c.match(/QBCore\/([.\d]+)/)||[])[1],p=(c.match(/QQBrowser\/([.\d]+)/)||[])[1],u&&f(u,"53.0.2785.116")<0&&l&&f(l,"3.53.991.400")<0&&p&&f(p,"9.0.2524.400")<=0||!1);function y(e){return S(e,(function(e){return"object"==typeof e&&null!==e?y(e):e}))}function b(e,t){return w(t,(function(n,r){e[r]=t[r]})),e}function x(e){return e instanceof Array}function w(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function S(e,t){var n=x(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}var k=function(e,t){if(t=b({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var n=t.Headers||{};if(t&&"object"==typeof t){!function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(n[e]=t[e])}();E.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},(function(e,r){void 0!==t[e]&&(n[r]=t[e])})),t.Headers=v(n)}}return t},O=function(e){return Date.now()+(e||0)},E={noop:m,formatParams:k,apiWrapper:function(e,t){return function(n,r){var o=this;"function"==typeof n&&(r=n,n={}),n=k(e,n);var i=function(e){return e&&e.headers&&(e.headers["x-cos-request-id"]&&(e.RequestId=e.headers["x-cos-request-id"]),e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},a=function(e,t){r&&r(i(e),i(t))},s=function(){if("getService"!==e&&"abortUploadTask"!==e){var t=function(e,t){var n=t.Bucket,r=t.Region,o=t.Key;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!n)return"Bucket";if(!r)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(!n)return"Bucket";if(!r)return"Region";if(!o)return"Key"}return!1}(e,n);if(t)return"missing param "+t;if(n.Region){if(n.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(n.Region))return"Region format error.";o.options.CompatibilityMode||-1!==n.Region.indexOf("-")||"yfb"===n.Region||"default"===n.Region||"accelerate"===n.Region||console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(n.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(n.Bucket))if(n.AppId)n.Bucket=n.Bucket+"-"+n.AppId;else{if(!o.options.AppId)return'Bucket should format as "test-1250000000".';n.Bucket=n.Bucket+"-"+o.options.AppId}n.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete n.AppId)}!o.options.UseRawKey&&n.Key&&"/"===n.Key.substr(0,1)&&(n.Key=n.Key.substr(1))}}(),c="getAuth"===e||"getObjectUrl"===e;if(window.Promise&&!c&&!r)return new Promise((function(e,i){if(r=function(t,n){t?i(t):e(n)},s)return a(E.error(new Error(s)));t.call(o,n,a)}));if(s)return a(E.error(new Error(s)));var u=t.call(o,n,a);return c?u:void 0}},xml2json:i,json2xml:a,md5:r,clearKey:v,fileSlice:function(e,t,n,r,o){var i;if(e.slice?i=e.slice(t,n):e.mozSlice?i=e.mozSlice(t,n):e.webkitSlice&&(i=e.webkitSlice(t,n)),r&&g){var a=new FileReader;a.onload=function(e){i=null,o(new Blob([a.result]))},a.readAsArrayBuffer(i)}else o(i)},getBodyMd5:function(e,t,n,r){n=n||m,e?"string"==typeof t?n(E.md5(t,!0)):Blob&&t instanceof Blob?E.getFileMd5(t,(function(e,t){n(t)}),r):n():n()},getFileMd5:function(e,t,n){var o=e.size,i=0,a=r.getCtx(),s=function(r){if(r>=o){var c=a.digest("hex");t(null,c)}else{var u=Math.min(o,r+1048576);E.fileSlice(e,r,u,!1,(function(e){!function(e,t){var n,r=new FileReader;FileReader.prototype.readAsBinaryString?(n=FileReader.prototype.readAsBinaryString,r.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer?n=function(e){var n="",r=new FileReader;r.onload=function(e){for(var o=new Uint8Array(r.result),i=o.byteLength,a=0;a<i;a++)n+=String.fromCharCode(o[a]);t(n)},r.readAsArrayBuffer(e)}:console.error("FileReader not support readAsBinaryString"),n.call(r,e)}(e,(function(t){e=null,a=a.update(t,!0),i+=t.length,t=null,n&&n({loaded:i,total:o,percent:Math.round(i/o*1e4)/1e4}),s(r+1048576)}))}))}};s(0)},binaryBase64:function(e){var t,n,r,o="";for(t=0,n=e.length/2;t<n;t++)r=parseInt(e[2*t]+e[2*t+1],16),o+=String.fromCharCode(r);return btoa(o)},extend:b,isArray:x,isInArray:function(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}return n},makeArray:function(e){return x(e)?e:[e]},each:w,map:S,filter:function(e,t){var n=x(e),r=n?[]:{};for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)&&(n?r.push(e[o]):r[o]=e[o]);return r},clone:y,attr:function(e,t,n){return e&&t in e?e[t]:n},uuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:s,throttleOnProgress:function(e,t){var n,r,o=this,i=0,a=0,s=Date.now();function c(){if(r=0,t&&"function"==typeof t){n=Date.now();var o,c=Math.max(0,Math.round((a-i)/((n-s)/1e3)*100)/100)||0;o=0===a&&0===e?1:Math.floor(a/e*100)/100||0,s=n,i=a;try{t({loaded:a,total:e,speed:c,percent:o})}catch(e){}}}return function(t,n){if(t&&(a=t.loaded,e=t.total),n)clearTimeout(r),c();else{if(r)return;r=setTimeout(c,o.options.ProgressInterval)}}},getFileSize:function(e,t,n){var r;"string"==typeof t.Body?t.Body=new Blob([t.Body],{type:"text/plain"}):t.Body instanceof ArrayBuffer&&(t.Body=new Blob([t.Body])),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(r=t.Body.size,t.ContentLength=r,n(null,r)):n(E.error(new Error("params body format error, Only allow File|Blob|String.")))},getSkewTime:O,error:function(e,t){var n=e;return e.message=e.message||null,"string"==typeof t?(e.error=t,e.message=t):"object"==typeof t&&null!==t&&(b(e,t),(t.code||t.name)&&(e.code=t.code||t.name),t.message&&(e.message=t.message),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.code||(e.code=e.name),e.error||(e.error=y(n)),e},getAuth:function(e){var t,n=(e=e||{}).SecretId,r=e.SecretKey,i=e.KeyTime,a=(e.method||e.Method||"get").toLowerCase(),c=y(e.Query||e.params||{}),u=y(e.Headers||e.headers||{}),l=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+l:0!==(t=e.Pathname||e.pathname||l).indexOf("/")&&(t="/"+t),!n)throw new Error("missing param SecretId");if(!r)throw new Error("missing param SecretKey");var p=function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(t?s(r).toLowerCase():r);return n.sort((function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:e>t?1:-1}))},f=function(e){var t,n,r,o=[],i=p(e);for(t=0;t<i.length;t++)r=void 0===e[n=i[t]]||null===e[n]?"":""+e[n],n=s(n).toLowerCase(),r=s(r)||"",o.push(n+"="+r);return o.join("&")},d=Math.round(O(e.SystemClockOffset)/1e3)-1,h=d,m=e.Expires||e.expires;h+=void 0===m?900:1*m||0;var v=n,g=i||d+";"+h,b=i||d+";"+h,x=p(u).join(";").toLowerCase(),w=p(c).join(";").toLowerCase(),S=o.HmacSHA1(b,r).toString(),k=[a,t,f(c),f(u),""].join("\n"),E=["sha1",g,o.SHA1(k).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+v,"q-sign-time="+g,"q-key-time="+b,"q-header-list="+x,"q-url-param-list="+w,"q-signature="+o.HmacSHA1(E,S).toString()].join("&")},parseSelectPayload:function(e){for(var t={},n=h(e),r={records:[]};e.byteLength;){var o,i=d(e,32,0),a=d(e,32,4),s=i-a-16,c=0;for(e=e.slice(12);c<a;){var u=d(e,8,c),l=h(e,c+1,c+1+u),p=d(e,16,c+u+2),f=h(e,c+u+4,c+u+4+p);t[l]=f,c+=u+4+p}if("Records"===t[":event-type"])o=h(e,c,c+s,!0),r.records.push(o);else if("Stats"===t[":event-type"])o=h(e,c,c+s,!0),r.stats=E.xml2json(o).Stats;else if("error"===t[":event-type"]){var m=t[":error-code"],v=t[":error-message"],g=new Error(v);g.message=v,g.name=g.code=m,r.error=g}else["Progress","Continuation","End"].includes(t[":event-type"]);e=e.slice(c+s+4)}return{payload:r.records.join(""),body:n}},isBrowser:!0,isNode:function(){return"object"!=typeof window&&"object"==typeof t&&!0}};e.exports=E}).call(this,n(123))},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r={};e.exports={delayLoadJSAndCSS:function(e,t,n,o){return new Promise((function(i){var a=null,s=null,c=null,u=0;if(t||(t=e.substr(e.lastIndexOf(".")+1)),"js"===t){var l=document.getElementsByTagName("script");for(u=0;u<l.length;u++)(l[u].src&&-1!=l[u].src.indexOf(e)||l[u].title==n)&&(s=l[u],a=s,r[e]&&i(l[u]));s||((a=document.createElement("script")).type="text/javascript",a.src=e,o&&o(a),n&&(a.title=n))}else if("css"===t){var p=document.getElementsByTagName("link");for(u=0;u<p.length;u++)(p[u].href&&-1!=p[u].href.indexOf(e)||p[u].title==n)&&(c=p[u],i(p[u]));c||((a=document.createElement("link")).rel="stylesheet",a.type="text/css",a.href=e,n&&(a.title=n),a.disabled=!1)}else i(!1);if(a){document.getElementsByTagName("head")[0].appendChild(a);var f=a.onload;a.onload=function(){f&&f(),"js"===t&&(r[e]=!0),i(a)}}}))}}},function(e,t,n){"use strict";e.exports={getVoteIconShow:function(e){return e.des||e.imgs||e.voteLink?"inline-block":"none"},getVoteIconType:function(e){return e.voteLink?"eqf-link":"eqf-info-l"}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=n(0).mobilecheck,h=n(0).isApp,m=n(86).perfectPage,v=n(557),g=n(1055),y=n(1061),b=n(1062),x=n(1063),w=n(1065),S=n(1066),k=n(240),O=k.perfectMeta,E=k.perfectFormGlobalSetting,C=n(15).$loadMLink,_=n(16).getRatio,I=n(147),P=(n(37).randomId,n(57).SHOW_AFTER_SUBMIT_TYPES),T=n(1068).diff,R=n(200),A=R.initMarkSceneJson,q=(R.initMarkSubmitSceneJson,R.initMessageBoard),j=R.initSceneRecommend,L=n(53).allow,M=n(1071),D=M.isArrangEditor,B=M.isFormEditor,F=n(88),N=F.isCardScene,H=F.isAppletScene,z=n(1072),J=(n(1073),n(1074)),V=J.createCoverPageJson,U=J.createSubmitPageJson,W=n(4),G=W.getVoteDetailParmasByUrl,K=W.getUrlParam,X=n(57).FREE_TYPES,Q=(n(34).e,n(33).convertPx2Rem),Y=n(0).isMobile,Z=n(192),ee=n(105).voteGuide,te=n(76).deepAssign,ne=function(){function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,e),this.sceneJson=t,"view"==o.mode&&t.list.length>0&&!o.noAd&&(this.sceneJson=q(t),this.sceneJson=j(t),this.sceneJson=A(t,o),this.sceneJson.obj&&(this.adHeight=this.sceneJson.obj.adHeight));var i,a=0,s=this.sceneJson.list;if(s.length>0&&!o.skipCover&&(null!==(i=s[0].config)&&void 0!==i&&i.openCover)){var c,u,l=s.findIndex((function(e){return"cover"===e.pageType}));null!==(c=s[l])&&void 0!==c&&null!==(u=c.elements)&&void 0!==u&&u.find((function(e){return"startBtn"===e.type}))&&(a=l>-1?l:0)}this.config=Object.assign({toPageIndex:a,selector:"#nr",mode:"view",renderMode:"pcRender",disablePageEffect:!1,disableCompEvent:!1,disableSubmit:!1,disableTrigger:!1,disableArrow:!1,disableCommentManager:!1,showProgressBar:!1,disableProgressBar:!1,disableCompAnim:!1,disableReport:!1,disablePageScroll:!1,disablePv:!1,disableBGM:!1,initManagers:!0,disableQiniuZoom:!1,mobileEdit:!1,isSubmitTemplate:!1,offVoteDetail:!1,EqxGravity:{disableGravityMotion:!1},disableSetUlTopAndLeft:!1,disableGetVoteData:!1,isInnerView:!1,currentTime:t.timestamp||(new Date).getTime(),skipCover:!1,updateOuterBox:!1,editorMode:null},o),this.config.editorMode=null===(n=this.sceneJson)||void 0===n||null===(r=n.globalFormSetting)||void 0===r?void 0:r.editorMode,this.meta=O(this.sceneJson.meta);var f=this.meta.bizType;L("showFormSetting",f,1)&&(this.formGlobalSetting=E(this.sceneJson.globalFormSetting)),this.config.isArrangEditor=D("isArranged",this.meta.bizType,2),this.config.isFormEditor=B("isFormScene",this.meta.bizType,1),this.sceneName="表单",this.eqxPageList=[],this.currentPage=null,this.soundManager=null,this.statManager=null,this.commentManager=null,this.formManager=null,this.pageScroll=null,this.progressBar=null,this.config.initManagers&&this.initManagers(),this.dependenciesRenderObj={num:0,renderQueue:[],allRendered:!1,renderedPageList:{}},this.nextRenderPageId=-1,this.renderPageCnt=0,this.variableComps={texts:[],textsPreLen:0,inputs:[],inputsPreLen:0,images:[],imagesPreLen:0,uploads:[],uploadsPreLen:0},this.isCardScene=N(),window.devScene=this}var t,n,i,s,u;return t=e,n=[{key:"eqxSectionCover",get:function(){var e=location.pathname.match(/[^/]*$/),t=!isNaN(e),n=this.config.renderMode;return this.$ele&&this.$ele.parents(".iframe-phone").length?$("#iframePhoneCover.iframe-phone-nr-cover"):t&&"pcMobileRender"==n?this.$ele.hasClass("preview-body")?$("#preview-body-cover"):$("#phoneViewCover.phone-view-cover"):"pcMobileRender"==n?$("#nrCover.mobile-nr-cover"):"mobileRender"==n&&this.$ele?$("body"):t&&"pcRender"==n?$(".pc-view"):this.config.isInnerView&&"pcRender"==n&&this.$ele?this.$ele:$("#view_panel").length?$("#view_panel"):this.$ele}},{key:"bizType",get:function(){return this.meta.bizType}},{key:"setNextRenderPageId",value:function(e){this.nextRenderPageId=e}},{key:"getNextRenderPage",value:function(){var e=this;if(-1!==this.nextRenderPageId){var t=this.eqxPageList.find((function(t){return t.pageJson.id===e.nextRenderPageId}));if(t&&!t.$section)return t}var n=this.eqxPageList.length,r=this;if(this.renderPageCnt>0&&(t=function(){for(var e=0;e<n;e++){var t=r.eqxPageList[e];if(t.isXb()&&!t.$section)return t}}()))return t;var o=this.eqxPageList.indexOf(this.currentPage);-1===o&&(o=0);for(var i=0;i<n;i++)if(!(t=this.eqxPageList[(i+o)%n]).$section)return t}},{key:"setPageList",value:function(e){var t;this.sceneJson.list.length=0,(t=this.sceneJson.list).push.apply(t,c(e)),this.eqxPageList=[],this.eqxPageList.length=e.length}},{key:"getMetaWx",value:function(){var e=this.meta.property;return{wxCount:e.wxCount||0,wxClickFarmerCount:e.wxClickFarmerCount||0}}},{key:"calMetaWx",value:function(){var e=this;return this.eqxPageList.reduce((function(t,n){return t.wxCount+=n.getWxCompCount(),e.meta.property.openMsg&&(t.wxCount+=1),e.formGlobalSetting&&e.formGlobalSetting.recordWxInfo&&(t.wxCount+=1),e.formGlobalSetting&&e.formGlobalSetting.clientType&&4==(4&e.formGlobalSetting.clientType)&&(t.wxCount+=1),t.wxClickFarmerCount+=n.getWxClickFarmerCompCount(),t}),{wxCount:0,wxClickFarmerCount:0})}},{key:"syncMetaWx",value:function(){var e=this.calMetaWx();console.log("wxObj",e),this.setProps({property:e})}},{key:"toJson",value:function(){var e=JSON.parse(JSON.stringify(this.sceneJson));for(var t in e.globalFormSetting=JSON.parse(JSON.stringify(this.formGlobalSetting)),e)e.hasOwnProperty(t)&&t.startsWith("$")&&delete e[t];return e}},{key:"renderScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.initContainer(e||this.config.selector),this.config.disableBGM||this.renderBgm(),d()&&"view"==this.config.mode&&!h()&&2==this.meta.isTemplate&&this.tempAppUseBtn(),this.initEqxPages();var n=(this.sceneJson.validateData||{}).disableSubmit;if(G().optionId&&!this.config.offVoteDetail&&(this.config.toPageIndex=0),(t||n)&&0!==this.config.toPageIndex&&this.renderPage(0),this.currentPage=this.eqxPageList[this.config.toPageIndex],this.renderPage(this.config.toPageIndex),!n&&!this.config.offVoteDetail){var r=G(),o=r.elementId,i=r.optionId;o&&i&&this.currentPage.showVoteDetail(o,i)}return Promise.resolve()}},{key:"tempAppUseBtn",value:function(){var e=this;if(!this.$tempAppUseBtn&&window.scene){var t=window.scene,n=t.isTemplate,r=t.sourceId,o={sceneId:t.id};n&&(o.isTemplate=n),r&&(o.sourceId=r),C().then((function(){var t={mlink:"https://ax8bgc.mlinks.cc/AK00",button:e.$ele.find(".temp-app-use")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:o};console.log("mlink",t),new Mlink(t)}));var i=$('<a  class="temp-app-use">\n                                        <div class="temp-app-use-btn">\n                                            <span class="eqf-pen-f"></span>\n                                        </div>\n                                        <div class="temp-app-use-tip">使用</div>\n                                    </a>');this.$ele.append(i)}}},{key:"setMeta",value:function(e,t){this.meta[e]=t}},{key:"updateMeta",value:function(e){te(this.meta,e),O(this.meta)}},{key:"updateFormSetting",value:function(e){te(this.formGlobalSetting,e),E(this.formGlobalSetting),te(this.sceneJson.globalFormSetting,e),E(this.sceneJson.globalFormSetting)}},{key:"setProps",value:function(e){var t=JSON.parse(JSON.stringify(this.meta)),n=this.meta;Object.keys(e).filter((function(e){return"property"!==e})).forEach((function(t){n[t]=e[t]})),e.property&&("string"==typeof e.property&&(e.property=JSON.parse(e.property)),"string"==typeof n.property&&(n.property=JSON.parse(n.property)),Object.keys(e.property).forEach((function(t){n.property[t]=e.property[t]})));var r=JSON.parse(JSON.stringify(this.meta));T(t,r)}},{key:"getMeta",value:function(e){return this.meta[e]}},{key:"getMetaProperty",value:function(e){return this.meta.property[e]}},{key:"initContainer",value:function(e){$(this.$ele).is(e)||(this.$ele=$(e));var t=this.$ele;"edit"!==this.config.mode&&(t.css("overflow-x","hidden"),t.css("overflow-y","auto"),t.css("overflow-y","overlay"),t.css("background","rgba(255, 255,255, 1)")),"static"===t.css("position")&&t.css({position:"relative"}),d()&&t.css({width:"100%",height:"100%"}),this.width=t.width(),this.height=t.height()}},{key:"createBgm",value:function(e){var t=e||this.meta.bgAudio;if(!(this.$ele.find(".bgm-btn-wraper").length>0))return t?(this.bgm=new g(t,this),this.bgm):void 0}},{key:"renderBgm",value:function(){this.isCardScene||H()||(this.bgm||this.createBgm(),this.bgm&&this.eqxSectionCover.append(this.bgm.$bgmBtn))}},{key:"updateBgm",value:function(e){this.meta.bgAudio=e,e?this.bgm?this.bgm.updateJson(e):(this.createBgm(e),this.renderBgm()):this.bgm&&(this.bgm.hide(),this.bgm.stopPlay(),this.bgm=null)}},{key:"stopRenderPages",value:function(){this.renderPagesTimeoutId&&clearTimeout(this.renderPagesTimeoutId)}},{key:"initEqxPages",value:function(){var e=this;this.sceneJson.list.forEach((function(t,n){return e.initEqxPage(n)}))}},{key:"initEqxPage",value:function(e){var t=this.sceneJson.list[e];if(this.eqxPageList.length,t){m(t,this.sceneJson);var n=new(v.get(t))(t,this);return this.eqxPageList[e]=n,n}throw new Error("Invalid Page Index: ".concat(e))}},{key:"getPageConfig",value:function(e){var t=(this.formGlobalSetting||{})[e];return"submitLimit"!==e||t||(this.formGlobalSetting.submitLimit=t={}),t}},{key:"setPageConfig",value:function(e,t){this.formGlobalSetting[e]=t}},{key:"initPageByType",value:function(e){var t=this,n=this.eqxPageList.length;if("cover"===e)return[this.insertPage(n-1,V())];if("submit"===e){var r=[],o=[];return Object.values(X).sort((function(e,t){return t-e})).forEach((function(e){r.push(t.insertPage(t.eqxPageList.length-1,U(e,t.isRemoveAd()))),0!==e&&o.push(t.insertPage(t.eqxPageList.length-2,U(e,t.isRemoveAd(),!1)))})),(o||[]).concat(r)}throw new Error("Invalid Page Type: ".concat(e))}},{key:"renderPage",value:function(e){var t=this;if("number"==typeof e)var n=this.eqxPageList[e];else n=e,e=this.eqxPageList.indexOf(n);if(n.renderMode=this.config.renderMode,!n)return console.error("no eqxPage at index ".concat(e)),Promise.reject(new Error("no eqxPage at index ".concat(e)));var r=n.$section;r||(r=n.create$section(),this.$ele&&this.$ele.prepend(r),n.handlerFromToolDiv(),K("appletRanking")&&n.appletRankingView(),this.dependenciesRenderObj.num++,this.dependenciesRenderObj.total=this.eqxPageList.length,"edit"!==this.config.mode&&n.addEventListener(),n.isXb()&&r.css({display:"inline-block"}),window._tj&&(window._tj["page".concat(e)]=window._tj.now()),0===e&&n.arrow&&n.arrow.updateCss({bottom:"30px"}),this.bindVariableComps(),e===this.config.toPageIndex?n.active().then((function(r){e===t.config.toPageIndex&&n.deactive().show(),window._tj&&(window._tj["page".concat(e,"Effect")]=window._tj.now(),window._tj.firstPageShowTime=window._tj.now())})):window._tj&&(window._tj["page".concat(e,"Effect")]=window._tj.now()),setTimeout((function(){return n._handleSpecialComps()}),600),n.handlerVoteHideSumbit())}},{key:"isRemoveAd",value:function(){var e=this.sceneJson.meta.property;return e.boughtLabel||e.removeLabel}},{key:"bindVariableComps",value:function(){var e=this.variableComps,t=e.texts,n=e.inputs,r=e.images,o=e.uploads,i=e.textsPreLen,a=e.inputsPreLen,s=e.imagesPreLen,c=e.uploadsPreLen,u=function(e,t,n,r){for(var o=t.length,i=function(){var i=t[o],a=i.compJson.properties.var.comp;if(a){var s=r.find((function(e){return e.compJson.id==a}));if(s){if(s.variables=s.variables||[],s.variables.push(i),"7"===String(i.type)){var c=s.variablesValue;c&&i.updateContent(c)}else{var u=s.variablesValues;if(u){var l=u.key,p=u.w,f=u.h;i.updateImageSrc(l,p,f)}}e.splice(o+n,1)}}};o--;)i()};t.length>i&&n.length&&(u(t,t.slice(i),i,n),e.textsPreLen=t.length),n.length>a&&t.length&&(u(t,t,0,n.slice(a)),e.inputsPreLen=n.length),r.length>s&&o.length&&(u(r,r.slice(s),s,o),e.imagesPreLen=r.length),o.length>c&&r.length&&(u(r,r,0,o.slice(c)),e.uploadsPreLen=o.length)}},{key:"initManagers",value:function(){this.initSoundManager(),this.initStatManager(),this.config.disableCommentManager||this.initCommentManager(),this.initEventManager(),this.initFormManager()}},{key:"initSoundManager",value:function(){this.soundManager=new S}},{key:"initStatManager",value:function(){return this.statManager=new w(this.sceneJson),this.statManager.iterate(),this.statManager}},{key:"initCommentManager",value:function(){this.commentManager=new b(this.meta.id)}},{key:"initEventManager",value:function(){this.eventManager=new y,this.eqxSceneMsgManager=new z(this)}},{key:"initFormManager",value:function(){this.formManager=new x(this)}},{key:"replaceEqxPage",value:function(e,t){var n=this.eqxPageList[e],r=null==n?void 0:n.$$lastHash;n.destroy(),this.sceneJson.list.splice(e,1,JSON.parse(JSON.stringify(t))),this.updatePageNum(),this.eqxPageList[e]=null;var o=this.initEqxPage(e);return o.$$lastHash=r,this.currentPage&&this.currentPage.pageJson.num===e+1&&(this.currentPage=o),o}},{key:"changeCurrentPage",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=[null,"cover",void 0,"submit"],r=n[t];if("cover"!==r||this.getPageConfig("openCover")||(t++,r=n[t]),"submit"===r){var o=this.checkoutSubmitPage();if(e=this.eqxPageList.findIndex((function(e){return e===o})),this.addSubmitPageAd(o),o.pageJson.elements.some((function(e){return"voteShare"===e.type}))||ee(this.getFormPage()),Y()){var i=parseFloat(this.formManager.totalScore);Z.render(this.getFormPage(),this.getFormPage().eqxSectionCover,i)}else $(".btn-wraper").css("pointer-events","none")}else e=this.eqxPageList.findIndex((function(e){return e.pageJson.pageType===r}));if(-1===e)throw new Error("未找到page");this.changePageAndRender(e,void 0===r)}},{key:"changePageAndRender",value:function(e,t,n){var r=this.eqxPageList[e];this.currentPage!==r&&(null!==this.currentPage&&this.currentPage.hide(),this.currentPage=r,this.renderPage(e),setTimeout((function(){r.updateCompPosition("ruleChange"),r.dealAppend(r.renderMode,!1),r.scrollTo(0),r._handleSpecialComps()}),20),this.currentPage.show(n),t&&setTimeout((function(){r.votingRankingView(),r.votingSignUpView()})))}},{key:"getFormPage",value:function(){return this.eqxPageList[0]}},{key:"getCoverPage",value:function(){var e;return this.eqxPageList.forEach((function(t,n){t.pageJson&&t.pageJson.pageType&&"cover"===t.pageJson.pageType&&(e=n)})),e}},{key:"getSubmitPages",value:function(){var e=[];return this.eqxPageList.forEach((function(t,n){t.pageJson&&t.pageJson.pageType&&"submit"===t.pageJson.pageType&&e.push(n)})),e}},{key:"getCurrnetSubmitPages",value:function(){var e=[],t=this.getPageConfig("scoreShowType");return this.eqxPageList.forEach((function(n,r){n.pageJson&&n.pageJson.pageType&&"submit"===n.pageJson.pageType&&n.pageJson.properties.condition&&n.pageJson.properties.condition.type===t&&e.push(r)})),e}},{key:"addSubmitPageAd",value:function(e){var t=JSON.parse(JSON.stringify(e.toJson())),n=this.getFormPage().toJson(),r=n.elements.find((function(e){return"ad03"===e.type}));r||(r=I.lpAdvertise({sceneId:this.id,pageId:e.id,type:"ad03"}),Q(r.css,r)),r.properties.appendElement=!0;var o="pcRender"===this.config.renderMode;r.css=a(a({},r.css),{},{display:"block",width:(o?768:320)*_()}),t.elements.push(r);var i=n.elements.find((function(e){return"lpBtMark"===e.type}));i&&(i.css=a(a({},i.css),{},{width:320*_()}),t.elements.unshift(i)),this.replaceEqxPage(this.eqxPageList.findIndex((function(t){return t===e})),t)}},{key:"checkoutSubmitPage",value:function(){var e=this,t=~~this.getPageConfig("scoreShowType"),n=function(e){var n;return(null===(n=e.getProp("condition"))||void 0===n?void 0:n.type)===t},r=this.eqxPageList.filter(n);r.length||(r=this.initPageByType("submit").filter(n));var o,i,a=r[0];return r.forEach((function(e){e.isDefaultSubmitPage()&&(a=e)})),1===r.length||t===X.defualt?a:r.find(t===X.fromScore?(o=parseFloat(e.formManager.totalScore),function(e){if(e===a)return!1;var t=e.getProp("condition"),n=t.max;return t.min<=o&&o<=n}):(i=e.formManager.check(),e.getFormPage(),function(e){if(e===a)return!1;var t=e.getProp("condition"),n=t.children,r=t.and,o=n.length;if(!n.length)return!1;var s=0;return n[r?"forEach":"some"]((function(e){var t=String(e.title.id),n=String(e.opt.optId),r=i.data.find((function(e){return String(e.elementId)===t}));if(!r)return!1;var o=r.value;try{o=JSON.parse(o).value}catch(e){}return!!String(o).split(",").includes(n)&&(s++,!0)})),r?s===o:!!s}))||a}},{key:"setEditorMode",value:function(e){this.config.editorMode=e}},{key:"getEditorMode",value:function(){return this.config.editorMode}},{key:"changeScenceHeight",value:function(e,t){}},{key:"updatePageNum",value:function(){this.sceneJson.list.forEach((function(e,t){e.num=t+1}))}},{key:"insertPage",value:function(e,t){return this.sceneJson.list.splice(e+1,0,t),this.updatePageNum(),this.eqxPageList.splice(e+1,0,null),this.initEqxPage(e+1)}},{key:"deletePage",value:function(e){var t=this.sceneJson.list,n=this.eqxPageList[e];return n&&n.destroy(),t.splice(e,1),this.updatePageNum(),this.eqxPageList.splice(e,1)}},{key:"deletePages",value:function(e){var t=this,n=c(e);return n.sort((function(e,t){return t-e})),n.forEach((function(e){return t.deletePage(e)})),this.eqxPageList}},{key:"sceneRenderReady",value:(s=regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],n=this.$ele.find("img"),r=[],n.each((function(e,t){var n=new Promise((function(e){var n=t.getAttribute("src");if(t.complete&&t.naturalWidth||!n||"null"===n)e();else{var r=function n(){e(),t.removeEventListener("load",n,{once:!0}),t.removeEventListener("error",n,{once:!0}),t.removeEventListener("abort",n,{once:!0}),setTimeout(e,800)};t.addEventListener("load",r,{once:!0}),t.addEventListener("error",r,{once:!0}),t.addEventListener("abort",r,{once:!0}),setTimeout(r,800)}}));r.push(n)})),(t||this.currentPage).getEqxItems().forEach((function(e){e.loadContent&&r.push(e.loadContent)})),e.next=8,Promise.race([Promise.allSettled(r),new Promise((function(e){return setTimeout(e,300*r.length)}))]);case 8:return e.next=10,new Promise((function(e){setTimeout(e,16*n.length)}));case 10:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function a(e){o(i,n,r,a,c,"next",e)}function c(e){o(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"hanlderWxAuthOption",value:function(){var e={wxAuthLevel:0,mustWxVisit:!1},t=[];if(this.getPageConfig("showAfterSubmit")===P.free){var n=this.getPageConfig("scoreShowType");t=this.eqxPageList.filter((function(e){var t,r;return"submit"===e.pageJson.pageType&&String(null===(t=e.pageJson.properties)||void 0===t||null===(r=t.condition)||void 0===r?void 0:r.type)===String(n)}))}t.forEach((function(t){var n=t.pageJson.elements,r=["wxAvatar","wxNickname"];n.some((function(e){return r.includes(e.type)}))&&(e.mustWxVisit=!0,e.wxAuthLevel=2),n.some((function(e){var t;if("rankingList"!==e.type)return!1;var n=(null==e||null===(t=e.properties)||void 0===t?void 0:t.config)||{};return n.showHeadPortrait||n.showName&&n.wechatName}))&&(e.mustWxVisit=!0,e.wxAuthLevel=2)}));var r=this.getFormPage(),o=["EqxWxNickName","201","EqxWxProfile","401"],i=["musicRecord"];r.pageJson.elements.some((function(e){return o.includes(String(e.type))}))&&(e.wxAuthLevel=2),r.pageJson.elements.some((function(e){return i.includes(String(e.type))}))&&(e.mustWxVisit=!0),Object.assign(this.formGlobalSetting,e)}},{key:"destroy",value:function(){this.stopRenderPages(),this.eqxPageList.forEach((function(e){return e.destroy()})),this.bgm&&(this.bgm.destroy(),this.bgm=null)}},{key:"sortPage",value:function(e,t){var n=this.sceneJson.list,o=n.length;if(e===t||e<0||e>o-1||t<0||t>o-1)return console.error("invalid sortPage arguments");if(e>t){var i=r(n.splice(e,1),1)[0];n.splice(t,0,i),i=r(this.eqxPageList.splice(e,1),1)[0],this.eqxPageList.splice(t,0,i)}else i=r(n.splice(e,1),1)[0],n.splice(t,0,i),i=r(this.eqxPageList.splice(e,1),1)[0],this.eqxPageList.splice(t,0,i);this.updatePageNum()}},{key:"getEqxPageByIndex",value:function(e){return this.eqxPageList[e]}},{key:"isEqxPage",value:function(e){return this.eqxPageList.some((function(t){return t===e}))}},{key:"getEqxPageById",value:function(e){return this.getEqxPageByKeyValue("id",e)}},{key:"getEqxPageByKeyValue",value:function(e,t){var n=this.sceneJson.list.findIndex((function(n){return n[e]===t}));if(n>-1)return this.getEqxPageByIndex(n)}},{key:"subscribe",value:function(e,t){return this.eventMap||(this.eventMap={}),this.eventMap[e]?this.eventMap[e].push(t):this.eventMap[e]=[t],this}},{key:"remove",value:function(e){if("string"==typeof e)this.eventMap[e].length=[];else if(this.eventMap)for(var t=Object.values(this.eventMap),n=0;n<t.length;n++){var r=t[n],o=r.indexOf(e);o>-1&&r.splice(o,1)}return this}},{key:"publish",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.eventMap&&(this.eventMap[e]||[]).forEach((function(e){return e.apply(void 0,n)}))}}],i=[{key:"copyScene",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.removeAd,a=o.autoFill,s=void 0===a||a,c=o.score,u=void 0===c?void 0:c,l=JSON.parse(JSON.stringify(n.toJson())),p=r.toPageIndex||0;i&&(l.meta.property.removeLabel=!0,l.list[p].elements=l.list[p].elements.filter((function(e){return!["lpMark","ad03"].includes(e.type)}))),r.toPageIndex=0;var f,d=new e(l,r);if(d.renderScene(t),s){var h=e.dataAutoFill(n,d,u);setTimeout((function(){n.formManager.autoFillComps(n.getFormPage(),h),d.formManager.totalScore=null!=u?u:n.formManager.totalScore}),600)}return d.formManager.totalScore=null!=u?u:n.formManager.totalScore,d.formManager.submitTimeStamp=n.formManager.submitTimeStamp,p&&(null===(f=d.eqxPageList[0].deactive())||void 0===f||f.hide(),d.config.toPageIndex=p,d.currentPage=d.eqxPageList[p],d.renderPage(p),d.currentPage.show()),d}},{key:"dataAutoFill",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=JSON.parse(JSON.stringify(e.formManager.check(!1))),o={};return r.data.forEach((function(e){o[e.elementId]=e.code||e.origin||(e.setValue?e.setValue:e.value)})),t.formManager.autoFillComps(t.getFormPage(),JSON.parse(JSON.stringify(o))),(n||0===n)&&(t.formManager.totalScore=e.formManager.totalScore),t.formManager.orderNumber=e.formManager.orderNumber,o}}],n&&f(t.prototype,n),i&&f(t,i),e}();e.exports=ne},function(e,t,n){var r=n(19),o=n(11),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(64)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(32),o=n(18),i=n(66);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(47);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(17)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(13);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(92),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(222);var r=n(26),o=n(31),i=n(12),a=n(48),s=n(17),c=n(171),u=s("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),d=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!t})):void 0;if(!d||!h||"replace"===e&&!l||"split"===e&&!p){var m=/./[f],v=n(a,f,""[e],(function(e,t,n,r,o){return t.exec===c?d&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),o(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var r=n(39),o=n(217),i=n(166),a=n(13),s=n(18),c=n(168),u={},l={};(t=e.exports=function(e,t,n,p,f){var d,h,m,v,g=f?function(){return e}:c(e),y=r(n,p,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=s(e.length);d>b;b++)if((v=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=o(m,y,h.value,t))===u||v===l)return v}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(11).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(11),o=n(2),i=n(26),a=n(82),s=n(55),c=n(119),u=n(81),l=n(14),p=n(12),f=n(115),d=n(77),h=n(157);e.exports=function(e,t,n,m,v,g){var y=r[e],b=y,x=v?"set":"add",w=b&&b.prototype,S={},k=function(e){var t=w[e];i(w,e,"delete"==e||"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||w.forEach&&!p((function(){(new b).entries().next()})))){var O=new b,E=O[x](g?{}:-0,1)!=O,C=p((function(){O.has(1)})),_=f((function(e){new b(e)})),I=!g&&p((function(){for(var e=new b,t=5;t--;)e[x](t,t);return!e.has(-0)}));_||((b=t((function(t,n){u(t,b,e);var r=h(new y,t,b);return null!=n&&c(n,v,r[x],r),r}))).prototype=w,w.constructor=b),(C||I)&&(k("delete"),k("has"),v&&k("get")),(I||E)&&k(x),g&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,v,x),a(b.prototype,n),s.NEED=!0;return d(b,e),S[e]=b,o(o.G+o.W+o.F*(b!=y),S),g||m.setStrong(b,e,v),b}},function(e,t,n){for(var r,o=n(11),i=n(31),a=n(63),s=a("typed_array"),c=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,p=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(r=o[f[p++]])?(i(r.prototype,s,!0),i(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72)],void 0===(i="function"==typeof(r=function(e){var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,r,o){o=o||{};var i=this,a=(r=r||{}).maxMetaDataSize||262144;!!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),(function(t){if(t.target.error)return console.log(t.target.error),void n(o);var a,s,c,u,l=t.target.result,p=new DataView(l),f=2,d=p.byteLength-4,h=f;if(65496===p.getUint16(0)){for(;f<d&&((a=p.getUint16(f))>=65504&&a<=65519||65534===a);){if(f+(s=p.getUint16(f+2)+2)>p.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(c=e.metaDataParsers.jpeg[a])for(u=0;u<c.length;u+=1)c[u].call(i,p,f,s,o,r);h=f+=s}!r.disableImageHead&&h>6&&(l.slice?o.imageHead=l.slice(0,h):o.imageHead=new Uint8Array(l).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(o)}),"readAsArrayBuffer")||n(o)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,r,o,i,a){e.hasMetaOption(r)?e.parseMetaData(i,(function(a){n.call(e,t,r,o,i,a)}),r,a):n.apply(e,arguments)}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){"use strict";var r=n(95);e.exports={APP_ID:r.WX_APP_ID,APP_ID_WAP:r.WX_APP_ID_WAP||r.WX_APP_ID,wxNonceStr:"eqxiuview",wxTimestamp:Date.now()}},function(module,exports,__webpack_require__){"use strict";function dateFormat(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};return y=y.replace(/(M+|d+|h+|m+|s+)/g,(function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)})),y.replace(/(y+)/g,(function(e){return x.getFullYear().toString().slice(-e.length)}))}function timeObj2Stemp(e){var t=e.date,n=e.hours,r=e.minutes,o=e.month,i=e.seconds,a=e.year;return Date.parse("".concat(a,"/").concat(o,"/").concat(t," ").concat(n,":").concat(r,":").concat(i||"00"))}function isNotExpired(e){return new Date(e).getTime()>Date.now()}function isExpired(e){return new Date(e).getTime()<Date.now()}function getWeekDayNumber(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e;t instanceof Date||(t=new Date(e));var n=[7,1,2,3,4,5,6];return n[t.getDay()]}module.exports={dateFormat:dateFormat,isExpired:isExpired,isNotExpired:isNotExpired,getWeekDayNumber:getWeekDayNumber,timeObj2Stemp:timeObj2Stemp}},function(e,t,n){"use strict";function r(e){return e?e=function(e){return e.replace(/&#/gm,"")}(e=function(e){return e.replace(/(atob|eval)(?=\s*\()/gim,"xss")}(e=function(e){return e.replace(/\b(onclick|oninput|ondatabinding|ondblclick|ondisposed|oninit|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onprerender|onunload|onerror|onfocus|onblur)(?=\s*=)/gim,"xss")}(e=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e)))):""}e.exports={tagsDecode:function(e){return e&&e.length>0?e.replace(/&lt;/g,"<").replace(/&gt;/g,">"):e},elementsEncode:function(e){return e.forEach((function(e){var t=e.elements;t&&(e.elements=JSON.parse(r(JSON.stringify(t))))})),e},tagsEncode:r}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.type=t,this.data=n}},function(e,t,n){"use strict";var r=n(1),o=n(8).ajax,i=n(24).getItem,a=n(4).getUrlParam;e.exports={sessionDestroy:function(){return o({type:"GET",url:"".concat(r.LONG_PAGE_PREVIEW,"form/view/user/session/destroy?ssid=").concat(a("ssid")||i("wxOpenid"))})},sessionRefresh:function(){return o({type:"GET",url:"".concat(r.LONG_PAGE_PREVIEW,"form/view/user/session/refresh?ssid=").concat(i("wxOpenid"))})},getFormDataLast:function(e,t){var n=i("wxOpenid"),a="".concat(r.LONG_PAGE_PREVIEW,"form/data/last/").concat(e,"?wxId=").concat(t);return n&&(a="".concat(a,"&ssid=").concat(n)),o({method:"GET",url:a})},updateFormDataLast:function(e){var t=window.scene||{},n=t.code,a=t.formLastData,s=a.pageId,c=a.elementId,u=a.id,l=a.wxId,p="".concat(r.LONG_PAGE_PREVIEW,"form/data/last/").concat(s,"/").concat(c,"?code=").concat(n,"&dataId=").concat(u,"&wxId=").concat(l),f=i("wxOpenid");return f&&(p="".concat(p,"&ssid=").concat(f)),o({type:"POST",url:p,data:e})},getSensitiveWords:function(){return o({method:"GET",url:r.LONG_PAGE_PREVIEW+"form/config/sensitiveWords"})}}},function(e,t,n){"use strict";var r,o=n(1),i=n(8).ajax,a={},s={};e.exports={$getVoteResult:function(e,t){return a[e]&&s[e]?s[e]:(a[e]=!0,s[e]=i({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/vote/data?pageId=".concat(e,"&code=").concat(t)}),s[e].then((function(t){return s[e]=null,t})))},$getVoteResultAll:function(e,t){return r||(r=i({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/vote/data/all?pageId=".concat(e,"&code=").concat(t,"&t=").concat((new Date).getTime())}).finally((function(){r=void 0}))),r}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(5);n(583);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,r=[{key:"render",value:function(){return $('<div class="roll-loading"></div>')[0]}}],(n=null)&&i(t.prototype,n),r&&i(t,r),u}(l);e.exports=p},function(e,t,n){"use strict";var r=/rotateZ\((-?\d*\.?\d*)(deg|)\)/,o=/rotateX\((-?\d*\.?\d*)(deg|)\)/,i=/rotateY\((-?\d*\.?\d*)(deg|)\)/,a=/scale\((-?\d+(?:\.\d+)?),\s?(\d+(?:\.\d+)?)\)/,s=/translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/,c=n(186).toInt;function u(e){return l(e,c)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n={rotate:0,rotateY:0,rotateX:0,scale:{x:1,y:1},translate3d:{x:0,y:0,z:0}};return(e=(e=(e=(e=(e+="").replace(r,(function(e,r){n.rotate=t(r)}))).replace(i,(function(e,r){n.rotateY=t(r)}))).replace(o,(function(e,r){n.rotateX=t(r)}))).replace(a,(function(e,r,o){n.scale={x:t(r),y:t(o)}}))).replace(s,(function(e,r,o,i){n.translate3d={x:t(r),y:t(o),z:t(i)}})),n}function p(e){return void 0!==e.rotate?"rotateZ(".concat(e.rotate,"deg)"):""}function f(e){if(e){var t=e.x,n=void 0===t?1:t,r=e.y,o=void 0===r?1:r;return"scale(".concat(n,", ").concat(o,")")}return""}function d(e){if(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.z,a=void 0===i?0:i;return"translate3d(".concat(n,"px, ").concat(o,"px, ").concat(a,"px)")}return""}function h(e){var t=[],n=e.translate3d;return!n||0===n.x&&0===n.y&&0===n.z||t.push(d(e.translate3d)),null!==e.rotate&&void 0!==e.rotate&&t.push(p(e)),!(n=e.scale)||1===n.x&&1===n.y||t.push(f(e.scale)),m(t.join(" "))}function m(e){return e.trim().replace(/\s{2,}/," ")}e.exports={scaleReg:a,translate3dReg:s,parseTransform:u,getRotateStr:p,getScaleStr:f,getTranslate3dStr:d,getTransformStr:h,trimTransformStr:m,updateTransformStr:function(e,t){var n=u(e);return h(Object.assign({},n,t))},parseTransformInFloat:function(e){return l(e,parseFloat)},getTranslateZStr:function(e){if(e){var t=e.match(/translate3d\((.*?)\)/),n=t&&t[1].split(",");return t&&parseInt(n[2])}return""}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(134),s=function(){function e(){o(this,e);var t=null,n=null;switch(arguments.length){case 1:var i=arguments[0];"object"===r(i)&&(i.p1&&i.p2?(t=new a(i.p1),n=new a(i.p2)):void 0!==i.left&&null!==i.left&&(t=new a(i.left,i.top),n=new a(i.left+i.width,i.top+i.height)));break;case 2:t=new a(arguments[0]),n=new a(arguments[1]);break;case 3:arguments[1]instanceof a?(t=new a(arguments[0]),n=new a(arguments[1]),this.angle=arguments[2]):isNaN(arguments[1])||(t=new a(arguments[0]),n=new a(t.x+arguments[1],t.y+arguments[2]));break;case 4:t=new a(arguments[0],arguments[1]),n=new a(t.x+arguments[2],t.y+arguments[3]);break;default:throw new Error("Invalid arguments for Rect")}if(this.angle){this.p1=t,this.p2=n;var s=this.p1.transform2RotateCoord(this.angle),c=this.p2.transform2RotateCoord(this.angle);this.nw=this.p1,this.ne=new a(c.x,s.y).transform2RotateCoord(-this.angle),this.se=this.p2,this.sw=new a(s.x,c.y).transform2RotateCoord(-this.angle),this.width=this.nw.distance2Point(this.ne),this.height=this.nw.distance2Point(this.sw)}else{var u=t.x,l=n.x,p=t.y,f=n.y;(u>l||p>f)&&(u>l&&(u=[l,l=u][0]),p>f&&(p=[f,f=p][0]),t=new a(u,p),n=new a(l,f)),this.p1=t,this.p2=n,this.width=n.x-t.x,this.height=n.y-t.y,this.nw=this.p1,this.ne=new a(this.p2.x,this.p1.y),this.se=this.p2,this.sw=new a(this.p1.x,this.p2.y)}}var t,n,s;return t=e,s=[{key:"getContainingRect",value:function(t,n){for(var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=[],u=0;u<t.length;u++)t[u]instanceof e?(c.push(t[u].p1.transform2RotateCoord(n)),c.push(t[u].p2.transform2RotateCoord(n))):t[u]instanceof a&&c.push(t[u].transform2RotateCoord(n));for(var l=0;l<c.length;l++)c[l].x<r&&(r=c[l].x),c[l].x>i&&(i=c[l].x),c[l].y<o&&(o=c[l].y),c[l].y>s&&(s=c[l].y);return new e(new a(r,o).transform2RotateCoord(-n),new a(i,s).transform2RotateCoord(-n))}},{key:"getBoundingRect",value:function(t,n){var r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;return[t.nw,t.ne,t.sw,t.se].map((function(e){return e.transform2RotateCoord(n)})).forEach((function(e){e.x>r&&(r=e.x),e.x<o&&(o=e.x),e.y>i&&(i=e.y),e.y<s&&(s=e.y)})),new e(new a(o,s).transform2RotateCoord(-n),new a(r,i).transform2RotateCoord(-n),n)}}],(n=[{key:"left",get:function(){return this.p1.x}},{key:"top",get:function(){return this.p1.y}},{key:"right",get:function(){return this.p2.x}},{key:"bottom",get:function(){return this.p2.y}},{key:"contains",value:function(t){return t instanceof a?this.containsPoint(t):t instanceof e&&this.containsRect(t)}},{key:"getBoundingRect",value:function(){var t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;return[this.nw,this.ne,this.sw,this.se].forEach((function(e){e.x>t&&(t=e.x),e.x<n&&(n=e.x),e.y>r&&(r=e.y),e.y<o&&(o=e.y)})),new e(new a(n,o),new a(t,r))}},{key:"toString",value:function(){var e=this.left,t=this.top,n=this.width,r=this.height,o=this.angle,i=void 0===o?0:o;return JSON.stringify({l:parseInt(e),t:parseInt(t),w:parseInt(n),h:parseInt(r),r:parseInt(i)})}},{key:"containsPoint",value:function(e){var t=new a(e).transform2RotateCoord(this.angle),n=this.p1.transform2RotateCoord(this.angle),r=this.p2.transform2RotateCoord(this.angle);return t.x>=n.x&&t.x<=r.x&&t.y>=n.y&&t.y<=r.y}},{key:"containsRect",value:function(e){return e&&this.containsPoint(e.nw)&&this.containsPoint(e.ne)&&this.containsPoint(e.sw)&&this.containsPoint(e.se)}},{key:"move",value:function(e,t){this.p1.x+=e,this.p2.x+=e,this.p1.y+=t,this.p2.y+=t,this.nw=this.p1,this.ne=new a(this.p2.x,this.p1.y),this.se=this.p2,this.sw=new a(this.p1.x,this.p2.y)}},{key:"moveX",value:function(e){this.move(e,0)}},{key:"moveY",value:function(e){this.move(0,e)}},{key:"center",value:function(){var e=(this.p1.x+this.p2.x)/2,t=(this.p1.y+this.p2.y)/2;return new a(e,t)}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.p1.pointRotate2Point(this.center(),t),r=this.p2.pointRotate2Point(this.center(),t);return new e(n,r,(t+(this.angle||0)+360)%360)}}])&&i(t.prototype,n),s&&i(t,s),e}();window.Rect=s,e.exports=s},function(e,t,n){"use strict";var r=n(133);function o(){if(1===arguments.length)this.x=arguments[0].x||0,this.y=arguments[0].y||0;else{if(2!==arguments.length)throw new Error("Invalid arguments for Point");this.x=parseFloat(arguments[0])||0,this.y=parseFloat(arguments[1])||0}}o.prototype.toString=function(){return"("+this.x+", "+this.y+")"},o.prototype.moveX=function(e){return this.move(e,0)},o.prototype.moveY=function(e){return this.move(0,e)},o.prototype.move=function(e,t){return this.x+=e,this.y+=t,this},o.prototype.update=function(e,t){this.x=e,this.y=t},o.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},o.prototype.between=function(e,t){return new r(e,t).contains(this)},o.prototype.offset=function(e){return{x:e.x-this.x,y:e.y-this.y}},o.prototype.distance2Point=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},o.prototype.angle2Point=function(e,t){var n=this.offset(e),r=this.distance2Point(e),o=180*Math.acos(Math.abs(n.x)/r)/Math.PI;if(!r)return 0;if(0===n.x&&n.y>0)var i=90;else n.x>0&&0===n.y?i=0:0===n.x&&n.y<0?i=270:n.x<0&&0===n.y?i=180:n.x<0&&n.y<0?i=180+o:n.x<0&&n.y>0?i=180-o:n.x>0&&n.y>0?i=o:n.x>0&&n.y<0&&(i=360-o);return(i-(t||0)+360)%360},o.prototype.pointRotate2Point=function(e,t){var n=(e.angle2Point(this)+t+360)%360,r=this.distance2Point(e),i=n*Math.PI/180;return new o(e.x+r*Math.cos(i),e.y+r*Math.sin(i))},o.prototype.transform2RotateCoord=function(e){if(!e)return this;var t=new o(0,0),n=(t.angle2Point(this)-e+360)%360,r=this.distance2Point(t),i=n*Math.PI/180;return new o({x:r*Math.cos(i),y:r*Math.sin(i)})},window.Point=o,e.exports=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(5),p=n(15).$loadeChartsJs,f=n(3).parse,d=n(599),h=n(50).fixedNum,m=n(0),v=n(23).filterTags,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{advanceStyle:{border:!1,shadow:!1,paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1,freezeAttrs:["height"]}),n}return t=l,(n=[{key:"isShowLegend",get:function(){return this.eChartsData.legend.show}},{key:"isShowChartTip",get:function(){return this.eChartsData.tooltip.show}},{key:"create$context",value:function(){this.eChartsData=this.compJson.properties.eCharts.data,this.eChartsTitle=this.compJson.properties.eCharts.title;var e=this.compJson.id,t=this.eChartsTitle.style,n=this.eChartsTitle.text,r=t.height;n=v(n);var o=this.getPading(),i=o.top,a=o.bottom,s=this.css.height-parseFloat(r)-i-a,c=$(f(d,{id:e,title:n,height:s}));this.$echartsTitleBox=c.find(".echart-title"),this.$echartsBox=c.find(".echart-box"),this.$echartsTitleBox.css(t);var u=this;return this.initedChart=new Promise((function(e){p().then((function(){"edit"!=u.eqxScene.config.mode&&(window==window.top||m.isPc()||m.isAndroid())||(u.initECharts(c.find(".echart-box")),setTimeout((function(){u.eCharts.resize()}),500)),e()})).catch((function(e){console.error(e)}))})),c}},{key:"update$li",value:function(e){if(i(u(l.prototype),"update$li",this).call(this,e),e.height){var t=this.getPading(),n=t.top,r=t.bottom;this.$echartsBox.css({height:e.height-n-r-this.$echartsTitleBox.outerHeight()}),this.updateFromInnerHeight()}}},{key:"getPading",value:function(){var e=this.css,t=e.paddingTop,n=e.paddingBottom;return{top:parseFloat(t),bottom:parseFloat(n)}}},{key:"initECharts",value:function(e){var t=echarts.init(e[0],"macarons",{renderer:"canvas"});if("lpPie"!=this.type)$.extend(!0,this.eChartsData,{yAxis:{axisLabel:{formatter:function(e){return isNaN(parseInt(e))?e:h(e)}}}}),t.setOption(this.eChartsData);else{var n=this.eChartsData.series.label.formatter;if("{c}"==n)var r=function(e){return e.value[1]};else"{b}: {c}"==n&&(r=function(e){return e.value[0]+": "+e.value[1]});t.setOption($.extend(!0,{},this.eChartsData,{series:{label:{formatter:r||n}}}))}return this.eCharts=t,this.eCharts}},{key:"updateTitleCss",value:function(e){var t=this;if(e){var n=this.eChartsTitle.style;this.$echartsTitleBox.css(n),Object.keys(n).forEach((function(e){"fontSize"===e&&t.$echartsTitleBox.css({"font-size":parseInt(n[e])+"px"})})),this.updateTitleHeight(),Object.assign(n,e)}}},{key:"updateTitleHeight",value:function(){var e=parseInt(this.eChartsTitle.style.height),t=this.$echartsTitleBox.children().height(),n=t-e;if(n){var r=parseInt(this.$li.css("height"))+n;this.update$li({height:r}),this.$echartsTitleBox.css("height",t),this.eChartsTitle.style.height="".concat(t,"px"),this.$echartsBox.css("height","calc(100% - ".concat(t,"px)"))}}},{key:"updateTitleContent",value:function(e){this.$echartsTitleBox.children().text(e),this.updateTitleHeight()}},{key:"updateLegendTextColor",value:function(e){this.eCharts.setOption({legend:{textStyle:{color:e}}})}},{key:"updateAxisLineColor",value:function(e){this.eCharts.setOption({xAxis:{axisLine:{lineStyle:{color:e}},axisTick:{lineStyle:{color:e}}},yAxis:{axisLine:{lineStyle:{color:e}},axisTick:{lineStyle:{color:e}}}})}},{key:"updateAxisTextColor",value:function(e){this.eCharts.setOption({xAxis:{axisLabel:{color:e}},yAxis:{axisLabel:{color:e}}})}},{key:"showLegend",value:function(e){this.eCharts.setOption({legend:{show:e}}),this.eChartsData.legend.show=e}},{key:"setLegendAlign",value:function(e){this.eCharts.setOption({legend:{x:e}}),this.eChartsData.legend.x=e}},{key:"showToolTip",value:function(e){this.eCharts.setOption({tooltip:{show:e}}),this.eChartsData.tooltip.show=e}},{key:"eleShow",value:function(){var e=this;i(u(l.prototype),"eleShow",this).call(this),this.eCharts||this.initedChart.then((function(){e.initECharts(e.$context.find(".echart-box"))}))}},{key:"updateItemSizeByPage",value:function(e,t){i(u(l.prototype),"updateItemSizeByPage",this).call(this,e,t),this.eCharts.resize()}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=g},function(e,t,n){"use strict";e.exports={getBrowserPrefix:function(){var e,t;return{Chrome:"-webkit-",FF:"-moz-",Opera:"-o-",Safari:"-webkit-"}[(e=navigator.userAgent,t=e.indexOf("Opera")>-1,t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":void 0)]||"-webkit-"},isSupportStyle:function(e){return e in document.documentElement.style},getEvent:function(e){var t=e.originalEvent;return e=(t.touches?t.changedTouches[0]:null)||e}}},function(e,t,n){"use strict";function r(){var e=new Date;return e.setHours(23,59,59,999),e}function o(){var e=new Date;return e.setHours(0,0,0,0),e}e.exports={nowTime:function(){return(new Date).getTime()},endDateOfToday:r,startDateOfToday:o,endTimeOfToday:function(){return r().getTime()},startTimeOfToday:function(){return o().getTime()},getDateStr:function(e){var t=e?new Date(e):new Date;return t.getFullYear()+""+t.getMonth()+t.getDate()},timeObj2Stemp:function(e){var t=e.date,n=e.hours,r=e.minutes,o=e.month,i=e.seconds,a=e.year;return Date.parse("".concat(a,"/").concat(o,"/").concat(t," ").concat(n,":").concat(r,":").concat(i||"00"))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(725);var l=n(1),p=n(29),f=p.addGlobalStyle,d=p.addSuffixPx,h=n(726),m=n(5),v=n(3).parse,g=n(4).openUrl,y={defaultFont:!0,moren:!0,null:!0,undefined:!0};function b(e,t,n,r,o){return"url('".concat(l.FONT,"formfonts/").concat(e,"_").concat(t,"/").concat(n,".").concat(r,"') format('").concat(o,"')")}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0,color:!0}},link:!1}),n.FontFamilyCache=y,n}return t=l,(n=[{key:"getFtEditableProps",value:function(){return[]}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.content.content?this.compJson.content:i(u(l.prototype),"getFtValue",this).call(this,e)}},{key:"updateContent",value:function(e){this.compJson.content=e;var t=this.create$context();this.$context.replaceWith(t),this.$context=t}},{key:"update$ContentCss",value:function(e){this.$context.css(e)}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.content,o=e.sceneId,i=e.publishTime,a=e.css,s=a.fontSize,c=a.writingMode,u=e.properties.anim,l=void 0===u?[]:u,p={fontSize:s};this.$boxDiv.css("minHeight",""),this.$boxDiv.css("minWidth",""),c&&(p["-webkit-writing-mode"]=c,p.writingMode=c,"vertical-rl"===c&&(p.textRendering="optimizeLegibility"));var m=function(e){var t=e.id,n=e.type,r=e.css,o=e.content,i=void 0===o?"":o;return r.cursor="default",r.fontSize&&(r.fontSize=d(r.fontSize)),r.minHeight="inherit",$(v(h,{id:t,type:n,content:i})).css(r)}({id:t,type:n,content:r,css:p});return"view"==this.eqxScene.config.mode&&m.find("*").toArray().map((function(e){return $(e).css("font-family")})).forEach((function(e){return function(e){var t=e.fontFamily,n=e.sceneId,r=e.publishTime;if(t&&!y[t]){var o=[b(n,r,t,"woff","woff"),b(n,r,t,"ttf","truetype")].join(", "),i="@font-face{font-family: '".concat(t,"'; src: ").concat(o,";}");f(i),y[t]=!0}}({fontFamily:e,sceneId:o,publishTime:i})})),l[0]&&"typer"===l[0].type&&m.css({opacity:0}),m}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=t.pageId;return"x"===t.type&&t.properties.url?$(e).click((function(){var e=t.properties.url;Number.isInteger(+e)?n.eqxScene.pageScroll.goToPageById(e):g(e,r)})):$(e).find("a[href]").toArray().forEach((function(e){var t=$(e).attr("href");$(e).removeAttr("href").css("cursor","pointer").click((function(){Number.isInteger(+t)?n.eqxScene.pageScroll.goToPageById(+t):g(t,r)}))})),!0}},{key:"addClassToLi",value:function(e){e.addClass("wsite-text")}},{key:"clearRichText",value:function(){this.compJson.content=this.$context.text(),this.compJson.css.writingMode="horizontal-tb",this.$context.html(this.compJson.content),this.$context.css("writingMode","horizontal-tb")}},{key:"settingGroupStyle",value:function(e){Object.assign(this.compJson.css,e),this.update$boxDiv(e)}},{key:"adjustHeight",value:function(){this.$li.css({height:"",width:""}),this.$context.css({height:"",width:""});var e=this.$boxDiv.height(),t=this.$boxDiv.width();this.update$li({height:e,width:t}),this.$context.css({height:e,width:t})}}])&&o(t.prototype,n),r&&o(t,r),l}(m);e.exports=x},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$getReportOptions:function(){var e=o.SERVER_1+"eqs/class/expose_types";return r({type:"GET",url:e})},$postReport:function(e){var t=e.sceneId,n=e.type,i=e.msg;return r({type:"POST",url:o.LONG_PAGE_PREVIEW+"lp/expose",data:{id:t,type:n,msg:i}})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],-1==this.ruleIds.indexOf(e)&&this.ruleIds.push(e),n.off("change").on("change",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getValue())}))}}])&&o(t.prototype,n),r&&o(t,r),c}(n(35));e.exports=u},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}var c,u=n(1),l=n(8).ajax,p=n(24).getItem;n(0).isWeixin;function f(){return(f=s(regeneratorRuntime.mark((function e(t,n,r,i,a){var s,c,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=window.scene||{},c=s.code,f=u.LONG_PAGE_PREVIEW+"lp/r/"+r+"/"+i,d=p("wxOpenid"),c&&(f=f+"?code="+c),window._DEBUG_&&(f=f+(f.includes("?")?"&":"?")+"enableUniqueCode=false"),a&&(/\?code=/.test(f)?f+="&isSync=true":f+="?isSync=true"),d&&(a||c)?f="".concat(f,"&ssid=").concat(d):d&&(f="".concat(f,"?ssid=").concat(d)),e.abrupt("return",l({type:"POST",url:f,data:o({},t)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={$postForm:function(e,t,n,r,o){return f.apply(this,arguments)},$submitXiuForm:function(e,t,n){return l({type:"POST",url:u.SERVER_1+"eqs/promotion/order/data/r/"+e+"/"+n,data:t})},$getSmsCode:function(e,t){return l({type:"GET",url:u.LONG_PAGE_PREVIEW+"lp/valid/code/send",data:{phone:e,userId:t}})},$getSubmitCount:function(e,t,n){return c||(c=l({type:"GET",url:u.LONG_PAGE_PREVIEW+"lp/r/times/".concat(t,"/").concat(e,"?code=").concat(n)}).finally((function(){c=void 0}))),c}}},function(e,t,n){"use strict";e.exports={category:{showFormSetting:[1],formDelete:[1],formRuleTrigger:[1],formOverlayJudge:[1],compDeleteRule:[1],verifyRules:[1],showGlobalFormSetting:[1],showFormDataImport:[1],formSettingPanelShow:[1],showHeadComps:[1],formSettings:[1],afterSubmit:[1],isFormScene:[1],formTestRule:[1],longPage:[0,3]},secondCategory:{showQuestionnaireStyle:[101],showVoteStyle:[102],showCommonFormStyle:[103],showEvaluationStyle:[104],isArranged:[301]},thirdCategory:{}}},function(e,t,n){"use strict";e.exports={errorDesc:{"File size error.":"文件大小不得超过10M，请重新上传","File extension error.":"文件类型不正确，请重新上传"},errorExtension:{image:"image/gif,gif,image/jpeg,jpg jpeg jpe,image/png,png,",video:"video/mp4,mp4,video/quicktime,qt mov,video/mpeg,mpeg mpg mpe m2v",application:"application/msword,doc dot,application/pdf,pdf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,text/plain,asc txt text diff log,"},mimeType:{image:["image/png","image/jpeg","image/gif","image/jpg"],video:["video/mp4","video/quicktime","video/mpeg","video/ogg"],word:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/wps-writer"],excel:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],pdf:["application/pdf"]},defaultMimeType:{image:"jpg",video:"mp4",word:"doc",excel:"xls",ppt:"ppt",pdf:"pdf"},uploadLimitSize:{image:10,video:30,word:10,excel:10,ppt:10,pdf:10}}},function(e,t,n){"use strict";n(15).$loaderRegionData;var r=[],o=[];function i(e){return!!r.includes(e.c)&&(o.push(e.n),r.splice(r.indexOf(e.c),1),!0)}e.exports={adapterDropDownCode:function(e,t){if(r=t.split(","),["5216","5201","5217"].includes(e)){var n=window.provinceCityList;o=[],"5217"==e&&(n=window.eqxSchoolList||eqxSchoolList),n.find((function(t){if(i(t)&&t.cL)return t.cL.find((function(t){if(i(t)&&t.aL)return t.aL.find((function(t,n){return"5217"==e&&(t.c=String(n+1)),i(t)})),o.push(r.join()),!0})),!0}))}else"5218"==e&&(o=[],eqxMajorList.find((function(e){if(i(e)&&e.cL)return e.cL.find((function(e,t){return e.c=String(t+1),i(e)})),!0})));return o}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(35),m=n(15).$loaderRegionData,v=n(0),g=v.mobilecheck,y=v.iphoneCheck,b=n(144).adapterDropDownCode,x=n(194);n(107);var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.eqxScene.formManager.add(f(n)),n.dataList={},n}return t=a,(n=[{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.getValue(),t={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id,origin:this.getRealValue(),code:this.getCode()};return!this.required||this.isSelectAll()||this.ruleHide||(t.success=!1,t.message="".concat("该项","为必填项")),t}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.pageId,o=t.type,i=t.properties,a=i.formRelevant,s=void 0===a?{}:a,c=i.addType,u=i.required,l=t.css,p=l.borderWidth,f=l.backgroundColor,d=s.title.content,h=s.des.content;p||(t.css.borderWidth=0,t.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),f||(t.css.backgroundColor="#ffffff"),this.name="eq[f_".concat(n,"]"),this.required=u,this.pageId=r;var v="province"!=c,g="zone"==c,y=this.getFormRelavent().options,b=x.$compDiv({id:n,type:o,required:u,title:d,des:h,city:v,zone:g,name:y.province.name||"请选择"});return this.$firstGrade=b.find(".list.province").find("select"),v&&(b.find(".province_wrap").append(x.$appendCity(n,y.city.name||"请选择")),this.$secondGrade=b.find(".list.city").find("select")),g&&(b.find(".province_wrap").append(x.$appendZone(n,y.zone.name||"请选择")),this.$thirdGrade=b.find(".list.zone").find("select")),"view"==this.eqxScene.config.mode&&m().then((function(){e.linkData=window.provinceCityList,e.$firstGrade.html(x.$option(e.linkData,y.province.name||"请选择"))})),this.$context=b,this.updateInputCss(t.css,!0),b}},{key:"create$li",value:function(){c(d(a.prototype),"create$li",this).call(this);var e=this.eqxPage.pageJson.properties.formStyle;return this.$formComp.css({"border-width":"0px","background-color":"transparent","border-radius":"0px"}),this.$formComp.find(".list").css(e.border),this.$formComp.find("textarea.editable-text").css(i(i({},e.input),e.border)),this.$formComp.find(".province_wrap .list").css(i(i({},e.input),e.border)).find("select").css("color","inherit"),this.$li}},{key:"updateInputCss",value:function(e){if(e){var t={};["borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius","borderWidth","borderStyle","borderColor","backgroundColor","color"].forEach((function(n){t[n]=e[n]})),this.$context.find(".list").css(t).end().find("select").css("color",t.color)}}},{key:"updateFormCompCss",value:function(e){e&&(this.updateInputCss(e),this.updateCss(e),this.autoSizeTopDown(),this.updateFormHeight())}},{key:"updateFormHeight",value:function(){var e=this.compJson;if(e.properties.formRelevant=e.properties.formRelevant?e.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}},this.$li.css("height",""),this.$formTitle&&"none"!=this.$formTitle.css("display"))t=this.getFormTitleHeight();else var t=0;if(this.$formDes&&"none"!=this.$formDes.css("display"))n=this.getFormDesHeight();else var n=0;var r=parseInt(t)+parseInt(n);this.update$li({height:this.$li.outerHeight()}),this.$formComp.css("height","calc(100% - ".concat(r,"px)")),this.autoSizeTopDown(),this.updatePageHeight()}},{key:"updateProvinceData",value:function(e,t){var n=this;this.$secondGrade&&(e?this.linkData.forEach((function(t){t.n==e&&(n.dataList.cityList=t.cL)})):this.dataList.cityList=[],this.$secondGrade.html(x.$option(this.dataList.cityList,t.city.name||"请选择")),this.$thirdGrade&&this.$thirdGrade.html('<option value="">'.concat(t.zone.name,"</option>")))}},{key:"updateCityData",value:function(e,t){var n=this;this.$thirdGrade&&(e?(this.dataList.cityList||[]).forEach((function(t){t.n==e&&(n.dataList.zoneList=t.aL)})):this.dataList.zoneList=[],this.$thirdGrade.html(x.$option(this.dataList.zoneList,t.zone.name||"请选择")))}},{key:"bindAfterRenderEvent",value:function(){var e=this;c(d(a.prototype),"bindAfterRenderEvent",this).call(this);var t=this.getFormRelavent().options;if(this.$firstGrade.on("change",(function(n){e.updateProvinceData($(n.target).val(),t)})),this.$secondGrade&&this.$secondGrade.on("change",(function(n){e.updateCityData($(n.target).val(),t)})),g()&&y()){var n=this.$li.find("select");n.on("click",(function(){n.data("scroll",document.body.scrollTop||document.documentElement.scrollTop)})).on("blur",(function(){setTimeout((function(){var e=document.activeElement.tagName.toLowerCase();if("input"!=e&&"textarea"!=e){var t=n.data("scroll");window.scrollTo(0,t)}n.data("scroll",null)}),100)}))}}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),this.$context.find("select").on("change",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger())}))}},{key:"getRealValueForTrigger",value:function(){return this.isSelectAll()?this.getValue():""}},{key:"updateDefaultNames",value:function(){var e=this,t=this.getFormRelavent().options;Object.values(t).forEach((function(t){var n=t.type,r=t.name;e.$context.find(".list.".concat(n)).find("select").find("option:eq(0)").text(r||"请选择")}))}},{key:"isSelectAll",value:function(){var e=!0;return this.$li.find("select").each((function(t,n){$(n).val()||(e=!1)})),e}},{key:"getValue",value:function(){var e=[];return this.$li.find("select").each((function(t,n){var r=$(n).val()?$(n).find("option:selected").text():"";e.push(r)})),e.filter((function(e){return!!e})).join("，")}},{key:"getRealValue",value:function(){var e=[];return this.$li.find("select").each((function(t,n){e.push($(n).val())})),e.join(",")}},{key:"getCode",value:function(){var e=[];return this.$li.find("select").each((function(t,n){var r=$(n).val()?$(n).find("option:selected").attr("code"):"";e.push(r)})),e.filter((function(e){return!!e})).join(",")}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=this.getFormRelavent().options;m().then((function(){var o=n.$li;(t?e.replace(/[，]/g,",").split(","):b(n.compJson.type,e)).forEach((function(e,t){switch(o.find("select").eq(t).val(e),t){case 0:n.updateProvinceData(e,r);break;case 1:n.updateCityData(e,r)}}))})),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&s(t.prototype,n),r&&s(t,r),a}(h);e.exports=w},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(307),i=o.ObjAdaptor,a=o.ListAdaptor,s=n(200).perfectScene,c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(t),this.renderMode=n||"",this.sceneJson={map:t.map,meta:t.meta,list:t.list},this.mapAdaptor=new i(t.map),this.metaAdaptor=new i(t.meta),this.pageAdaptor=new a(t.list),this.eleAdptorList=t.list.map((function(e){return e.elements||(e.elements=[]),new a(e.elements)}))}var t,n,o;return t=e,(n=[{key:"addMapFn",value:function(e){return this.mapAdaptor.addFn(e),this}},{key:"addMetaFn",value:function(e){return this.metaAdaptor.addFn(e),this}},{key:"addPageFn",value:function(e){return this.pageAdaptor.addFn(e),this}},{key:"addEleFn",value:function(e){return this.eleAdptorList.forEach((function(t){return t.addFn(e)})),this}},{key:"start",value:function(){var e=this;this.mapAdaptor.start(this.sceneJson),this.metaAdaptor.start(this.sceneJson),this.pageAdaptor.start(this.sceneJson),this.eleAdptorList.forEach((function(t,n){return t.start(e.sceneJson,e.sceneJson.list[n],e.renderMode)}))}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=c},function(e,t,n){"use strict";var r=n(1),o=n(4).redirectUrl(),i=n(0).isApp,a=n(37).randomId,s=n(995),c=n(996);n(997),e.exports={bottomLabel:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,i=e.top,s=e.pageIndex,c="".concat(encodeURIComponent(o)),u='\n<div style="text-align: center;transform: translateY(-2px);-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="'.concat(c,'" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">').concat("易企秀技术支持","</font>\n    </a>\n</div>");return{id:a(),pageId:r,sceneId:n,num:s,type:2,content:u,status:1,css:{zIndex:9999999999,height:"20",width:"129",left:"97px",top:418+i+"px",backgroundColor:"rgba(0,0,0,0.6)",borderBottomLeftRadius:20,borderBottomRightRadius:20,borderTopRightRadius:20,borderTopLeftRadius:20,borderRadius:20},properties:{anim:{type:0,direction:0,duration:2,delay:0}}}},report:function(e){var t=e.pageId,n=void 0===t?1:t,r=e.sceneId,o=void 0===r?1:r,i=e.pageIndex,s=void 0===i?1:i,c=e.center;return{id:a(),pageId:n,sceneId:o,num:s,type:299,content:'\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b>举报</b></font>\n    </span>\n</div>',status:1,css:{zIndex:999,height:36,width:60,left:c?130:10,top:420},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}},image1:function(){return{id:a(),pageId:"",sceneId:"",num:1,type:"4",isInput:0,title:null,content:null,status:1,css:{borderRadius:"0",borderStyle:"solid",height:"158",zIndex:"1000",borderColor:"rgba(0,0,0,1)",boxShadow:"0 0px 0px #333333",color:"#000000",backgroundColor:"white",borderWidth:"0px",width:"158",left:"84px",paddingTop:"11px",paddingLeft:"10px",top:"170px"},properties:{height:"100px",imgStyle:{width:139,height:136,marginTop:"0px",marginLeft:"0px"},width:"100px",src:"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"}}},image2:function(){return{id:a(),pageId:129810,sceneId:16060,num:1,type:2,isInput:0,title:null,content:'\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',status:1,css:{height:"257",width:"257",left:"78px",top:"175px"},properties:{}}},eqxLogo:function(){return{id:a(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-eqxiu"></em>\n</div>',status:1,css:{height:"158",width:"158",left:"84px",top:"170px",backgroundColor:"white"},properties:{}}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"点击此处进行编辑";return{id:a(),pageId:"",sceneId:"",num:1,type:"2",isInput:0,title:null,content:'<div style="text-align: center;"><font color="#ffffff" size="3">'.concat(e,"</font></div>"),status:1,css:{zIndex:"102",height:"65",width:"320",left:"0px",top:"70px"},properties:{}}},line:function(){return{id:a(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>',status:1,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}}},shadow:function(){return{id:a(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>',status:1,css:{height:257,width:257,left:"78px",top:"175px"},properties:{}}},lastPage:function(e,t,n){var s=e.id,c=void 0===s?16060:s,u=e.name,l=e.num,p=e.cover,f=void 0===p?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":p,d=(e.code,e.isDeepShare),h=e.href;u=u||"",t=t||{};var m=c;h=h?"".concat(encodeURIComponent(h)):i()?"":"".concat(encodeURIComponent(o));t&&!t.brandSrc&&t.brandLink&&(h=t.brandLink);var v='<div style="text-align: center;">\n                        <span style="line-height: 1; background-color: initial;">\n                            <font size="4" color="#888888"><b>'.concat(t.sceneName||u,"</b></font>\n                        </span>\n                    </div>"),g='<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="'.concat(h,'" target="_blank">\n                                <font color="#888888">').concat("",'</font>\n                                <font color="').concat("#23a3d3",'">').concat("点我免费制作易企秀","</font>\n                            </a>\n                        </span>\n                    </div>"),y=('<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a class="deepShareHref" target="_blank">\n                                <font color="#888888">'.concat("",'</font>\n                                <font color="#23a3d3">').concat("点我免费制作易企秀","</font>\n                            </a>\n                        </span>\n                    </div>"),{id:"",sceneId:m,num:l,name:u,properties:{},elements:[]}),b={id:a(),pageId:129810,sceneId:m,num:0,type:"3",css:{},properties:{}};t.backgroundSrc?b.properties.imgSrc=t.backgroundSrc:b.properties.bgColor="#E6E9EE";y.elements.push(b);var x={id:a(),pageId:129810,sceneId:m,num:1,type:"2",content:v,css:{height:"65",zIndex:"10",width:"320",left:"0px",top:"77px"},properties:{}};y.elements.push(x);var w={id:a(),pageId:129810,sceneId:m,num:2,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"142",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"142",left:"92px",paddingBottom:"0px",top:"177px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:f}};t.logoSrc&&(w.properties.src=t.logoSrc);t.logoLink&&(w.properties.url=t.logoLink);y.elements.push(w);var S={id:a(),pageId:129810,sceneId:m,num:1,type:"2",content:'<div style="width:280px;\n                                height:1px;\n                                background-color:rgba(60,60,60,0.4);\n                                cursor:pointer;\n                                position:absolute;\n                                left:0;\n                                -webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));\n                                top:12px;"></div>',css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}};y.elements.push(S);var k={id:a(),pageId:129810,sceneId:m,num:1,type:d&&!i()?"298":"2",content:d?'<a class="element comp_anchor editable-text deepShareHref" \n                       data-event="1120601"\n                       style="cursor: default; \n                              width: 100px; \n                              height: 36px; \n                              display: block;\n                              background: #08c3fd; \n                              color:#ffffff;\n                              font-size:13px;\n                              border-radius: 4px;">使用该模板</a>':"",css:{height:"36",width:"120",left:"98px",top:"350px",zIndex:"13"},properties:{}};if(y.elements.push(k),t.brandSrc){var O='<a style="position: absolute;\n                               display: block;\n                               width: 100%;\n                               height: 100%;\n                               background-image: url('.concat(r.FILE+t.brandSrc,');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="').concat(t.brandLink,'"\n                           target="_blank"></a>'),E={id:a(),pageId:129810,sceneId:m,num:2,type:"7",content:O,css:{height:"40px",width:"320px",left:"0",top:"420px",zIndex:"13"},properties:{}};y.elements.push(E)}else{var C={id:439885,pageId:129810,sceneId:m,num:1,type:d&&!i()?"298":"2",content:g,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320",left:"1px",bottom:"36px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}};y.elements.push(C)}return y},lastPageBlur:function(e,t){var n=e.id,s=void 0===n?16060:n,c=e.name,u=e.num,l=e.cover,p=void 0===l?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":l,f=(e.code,e.isDeepShare),d=e.href;c=c||"",t=t||{};var h=s;d=d?"".concat(encodeURIComponent(d)):i()?"":"".concat(encodeURIComponent(o));t&&!t.brandSrc&&t.brandLink&&(d=t.brandLink);var m='<div style="text-align: center;">\n                        <span style="line-height: 1.5; background-color: initial;text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.6) !important;color:#FFFFFF">\n                            '.concat(t.sceneName||c,"\n                        </span>\n                    </div>"),v='<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="'.concat(d,'" target="_blank">\n                                <font color="#888888">').concat("",'</font>\n                                <font color="').concat("#23a3d3",'">').concat("点我免费制作易企秀","</font>\n                            </a>\n                        </span>\n                    </div>"),g={id:"",sceneId:h,num:u,name:c,properties:{},elements:[]},y={id:a(),pageId:129810,sceneId:h,num:0,type:"3",css:{left:0,opacity:.7,top:0,zIndex:-1,filter:"blur(6px)"},properties:{imgSrc:window.scene?window.scene.cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png",originSrc:window.scene?window.scene.cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png"}},b={content:"",css:{color:"#555",height:"700px",left:-27,top:-107,width:374,zIndex:1},id:a(),num:1,pageId:129810,sceneId:h,type:"h",properties:{anim:[],id:144877595,initType:1,items:[{element:[0],fill:"rgba(0,0,0,0.6)",svgFill:"#08A1EF"}],src:"group1/M00/B1/A3/yq0KXFZysi-ACYaKAAACDQH4Nes625.svg",translate3dZ:0,type:"rect"}};t.backgroundSrc?(y.properties.imgSrc=t.backgroundSrc,y.css={left:0,opacity:.7,top:0,zIndex:-1}):g.elements.push(b);g.elements.push(y);var x={id:a(),pageId:129810,sceneId:h,num:2,type:"2",content:m,css:{height:"65px",zIndex:"10",width:"320px",left:"0px",top:"205px",fontSize:"18px",lineHeihgt:1.5},properties:{}};g.elements.push(x);var w={id:a(),pageId:129810,sceneId:h,num:3,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"142",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"144px",left:"88px",paddingBottom:"0px",top:"47px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:p}};t.logoSrc&&(w.properties.src=t.logoSrc);t.logoLink&&(w.properties.url=t.logoLink);if(g.elements.push(w),!i())if(t.brandSrc){var S=r.FILE+t.brandSrc+"?imageMogr2/auto-orient/thumbnail/620x92>",k='<a style="position: absolute;\n                               display: block;\n                               width: 310px;\n                               height: 100%;\n                               background-image: url('.concat(S,');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="').concat(t.brandLink,'"\n                           target="_blank"></a>'),O={id:a(),pageId:129810,sceneId:h,num:5,type:"2",content:k,css:{height:"46px",width:"320px",left:"0px",bottom:"92px",zIndex:"13"},properties:{}};g.elements.push(O)}else{var E={id:439885,pageId:129810,sceneId:h,num:6,type:f&&!i()?"298":"2",content:v,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320px",left:"0px",bottom:"92px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}};g.elements.push(E)}var C={css:{height:26,left:237,top:456,width:67,borderStyle:"solid",borderWidth:6,borderColor:"rgba(255, 255, 255, 0)",borderRadius:"4px",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},id:a(),num:6,pageId:129810,sceneId:h,properties:{anim:[],id:144899161,initType:1,items:[{elements:[0],fill:"rgba(255, 255, 255, 0.6)",svgFill:"#08A1EF"},{elements:[1],fill:"rgba(0, 0, 0, 0.4)",svgFill:"#08A1EF"}],src:"group2/M00/94/6B/yq0KXlZyt2WAERDfAAAVxmdQJtQ706.svg",translate3dZ:0,type:"rect"},type:"h"};return g.elements.push(C),g},bizType40Page:function(){return{id:849219621,sceneId:87910723,num:1,name:null,properties:{},elements:[{css:{top:-132,left:-270,width:873,height:692,zIndex:1,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",imgStyle:{width:873,height:1376.3390625,marginTop:-342.16953125,marginLeft:0},maskSrc:"",originSrc:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",anim:[],initType:0},type:4,id:4791539496,pageId:849219621,sceneId:87910723,num:1,name:"图片1"},{css:{top:-197.5,left:-118,width:579.5,height:388,zIndex:2,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fie_7zLKX1jFwnowjnupl0uxuRzf",imgStyle:{width:579.5,height:388,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"Fie_7zLKX1jFwnowjnupl0uxuRzf",anim:[{type:0,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1200"}],initType:0},type:4,id:2648920976,pageId:849219621,sceneId:87910723,num:2,name:"图片2"},{css:{top:283.5,left:78,width:165,height:50.5,zIndex:5,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",imgStyle:{width:165,height:50.5,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",anim:[{type:24,direction:0,duration:1,delay:.2,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1336"}],initType:0},type:4,id:6696803295,pageId:849219621,sceneId:87910723,num:5,name:"图片4"},{css:{top:118.5,left:86,width:148,height:148,zIndex:4,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FvqrpftukXbdDhFScUbzUuFZEIkz",imgStyle:{width:148,height:148,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FvqrpftukXbdDhFScUbzUuFZEIkz",anim:[{type:4,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1268"}],initType:0},type:4,id:8888432263,pageId:849219621,sceneId:87910723,num:4,name:"图片5"}],price:null,isPaid:null,forms:null}},addReportBlur:function(e){var t=e.pageId,n=void 0===t?1:t,r=e.sceneId,o=void 0===r?1:r,i=e.pageIndex,s=void 0===i?1:i,c=e.center;return{id:a(),pageId:n,sceneId:o,num:s,type:299,content:'\n<div style="text-align: center;width: 44px;height: 26px;\nfont-size: 12px; color: rgba(255, 255, 255, 0.6); line-height: 26px; border-radius: 4px;">\n        举报\n</div>',status:1,css:{zIndex:999,height:41,width:74,left:c?130:1,top:449},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}},bottomReport:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,o=e.top;return{id:a(),pageId:r,sceneId:n,num:1,type:299,arrIndex:999999999999998,content:'<span style="color: #999999; font-size: 12px;" id="reportBtn">举报</span>',css:{height:30,zIndex:"7775",width:"54px",color:"#99999",fontSize:"12px",top:o,lineHeight:"23px",textAlign:"right"},properties:{}}},bottomSupport:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,o=e.top,i=e.config,s='<span style="color: #999999; font-size: 12px;" class="button">'+i.labelText+"</span>";return{id:a(),pageId:r,sceneId:n,num:1,type:"301",arrIndex:999999999999998,content:s,title:null,css:{height:30,zIndex:"7774",width:"320px",backgroundColor:"#EEEEEE",color:"#99999",fontSize:"12px",top:o,lineHeight:"20px",textAlign:"center"},properties:{config:i}}},bottomLogo:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,o=e.top,i=e.config;return{css:{height:30,left:256,top:o,width:54,zIndex:"7776",color:"#99999",lineHeight:"20px"},id:a(),num:1,pageId:r,sceneId:n,content:'<span class="button"><i class="eqf-eqxiulogoorgin" style="font-size: 12px;"></i></span>',properties:{config:i},type:"301",arrIndex:999999999999998}},lpAdvertise:function(e){var t=e.sceneId,n=void 0===t?16060:t,o=e.pageId,i=e.top,u=e.type,l=e.config,p=e.labelConfig,f=126;switch(u){case"ad01":f=126;break;case"ad02":f=136,s=r.FILE+l.adPic;break;case"ad03":f=1,s=c}return{id:a(),pageId:o,sceneId:n,num:1,type:u,arrIndex:999999999997,content:"Ad",css:{height:f,zIndex:"7771",width:"320px",fontSize:"14px",top:i,left:"0",textAlign:"center",backgroundColor:"#ffffff"},properties:{scratch:!1,src:s,imgStyle:{width:320,height:f-36,marginTop:"0",marginLeft:"0"},initType:1,maskSrc:"",anim:[],config:l,labelConfig:p}}},lpBottomMark:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,o=e.top,i=e.config;return{id:a(),pageId:r,sceneId:n,num:1,type:"lpBtMark",arrIndex:999999999999998,content:"",css:{height:30,zIndex:"999999999",width:"320px",fontSize:"12px",top:o,left:"0",textAlign:"center",backgroundColor:"#EEEEEE",color:"#99999",display:"flex",alignItems:"center",justifyContent:"center"},properties:{config:i}}},messageBoard:function(e){var t=e.sceneId,n=void 0===t?16060:t,r=e.pageId,o=e.top;return{id:a(),pageId:r,sceneId:n,num:1,type:"messageBoard",arrIndex:999999999998,content:"写留言",title:null,css:{height:"46px",width:"320px",backgroundColor:"#FFFFFF",color:"#333333",fontSize:"14px",top:o,zIndex:9999999998},properties:{initType:1,appendElement:!0,anim:[]}}},sceneRecommend:function(e){var t=e.sceneId,n=e.pageId;e.top;return{id:a(),pageId:n,sceneId:t,num:1,type:"recommend",arrIndex:99,content:"作品推荐",title:null,css:{height:0,width:"320px",backgroundColor:"#FFFFFF",color:"#333333",fontSize:"14px",top:"300px",zIndex:99},properties:{initType:1,appendElement:!0,anim:[]}}}}},function(e,t,n){"use strict";var r,o=n(1),i=n(8).ajax,a={};e.exports={$getRankingList:function(e,t){return a[t]||(a[t]=i({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/getRankingList?pageId=".concat(e,"&elementId=").concat(t)})),a[t]},$getMockRankingList:function(e,t){return new Promise((function(n){for(var r=e.properties.config.showNumber,o=100,i=[],a=0;a<r;a++)i.push({wxImg:t,name:"小易",customValue:"XXXX",score:o--});return n({obj:i})}))},$getRanking:function(e,t){return r||(r=i({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/getRanking?pageId=".concat(e,"&score=").concat(t)})),r},$getMockRanking:function(e){return 1}}},function(e,t,n){var r,o,i;o=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))});e.properObject=function(e){return r(e)&&!e.hasOwnProperty?t({},e):e}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(14),o=n(11).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){t.f=n(17)},function(e,t,n){var r=n(111)("keys"),o=n(63);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(11).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(14),o=n(13),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(39)(Function.call,n(42).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(14),o=n(155).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){"use strict";var r=n(41),o=n(48);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(41),o=n(48);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(64),o=n(2),i=n(26),a=n(31),s=n(79),c=n(216),u=n(77),l=n(69),p=n(17)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,m,v,g){c(n,t,h);var y,b,x,w=function(e){if(!f&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",k="values"==m,O=!1,E=e.prototype,C=E[p]||E["@@iterator"]||m&&E[m],_=C||w(m),I=m?k?w("entries"):_:void 0,P="Array"==t&&E.entries||C;if(P&&(x=l(P.call(new e)))!==Object.prototype&&x.next&&(u(x,S,!0),r||"function"==typeof x[p]||a(x,p,d)),k&&C&&"values"!==C.name&&(O=!0,_=function(){return C.call(this)}),r&&!g||!f&&!O&&E[p]||a(E,p,_),s[t]=_,s[S]=d,m)if(y={values:k?_:w("values"),keys:v?_:w("keys"),entries:I},g)for(b in y)b in E||i(E,b,y[b]);else o(o.P+o.F*(f||O),t,y);return y}},function(e,t,n){var r=n(164),o=n(48);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(14),o=n(47),i=n(17)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(79),o=n(17)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(21),o=n(62);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(92),o=n(17)("iterator"),i=n(79);e.exports=n(19).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(25),o=n(66),i=n(18);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(70),o=n(221),i=n(79),a=n(32);e.exports=n(162)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r,o,i=n(116),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),r=a.call(c,e),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r=n(161)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r,o,i,a=n(39),s=n(210),c=n(154),u=n(150),l=n(11),p=l.process,f=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete g[e]},"process"==n(47)(p)?r=function(e){p.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,n){"use strict";var r=n(11),o=n(20),i=n(64),a=n(122),s=n(31),c=n(82),u=n(12),l=n(81),p=n(41),f=n(18),d=n(229),h=n(68).f,m=n(21).f,v=n(169),g=n(77),y=r.ArrayBuffer,b=r.DataView,x=r.Math,w=r.RangeError,S=r.Infinity,k=y,O=x.abs,E=x.pow,C=x.floor,_=x.log,I=x.LN2,P=o?"_b":"buffer",T=o?"_l":"byteLength",R=o?"_o":"byteOffset";function $(e,t,n){var r,o,i,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?E(2,-24)-E(2,-77):0,p=0,f=e<0||0===e&&1/e<0?1:0;for((e=O(e))!=e||e===S?(o=e!=e?1:0,r=c):(r=C(_(e)/I),e*(i=E(2,-r))<1&&(r--,i*=2),(e+=r+u>=1?l/i:l*E(2,1-u))*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*i-1)*E(2,t),r+=u):(o=e*E(2,u-1)*E(2,t),r=0));t>=8;a[p++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*f,a}function A(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-S:S;r+=E(2,t),l-=a}return(u?-1:1)*r*E(2,l-t)}function q(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function j(e){return[255&e]}function L(e){return[255&e,e>>8&255]}function M(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function D(e){return $(e,52,8)}function B(e){return $(e,23,4)}function F(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function N(e,t,n,r){var o=d(+n);if(o+t>e[T])throw w("Wrong index!");var i=e[P]._b,a=o+e[R],s=i.slice(a,a+t);return r?s:s.reverse()}function H(e,t,n,r,o,i){var a=d(+n);if(a+t>e[T])throw w("Wrong index!");for(var s=e[P]._b,c=a+e[R],u=r(+o),l=0;l<t;l++)s[c+l]=u[i?l:t-l-1]}if(a.ABV){if(!u((function(){y(1)}))||!u((function(){new y(-1)}))||u((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var z,J=(y=function(e){return l(this,y),new k(d(e))}).prototype=k.prototype,V=h(k),U=0;V.length>U;)(z=V[U++])in y||s(y,z,k[z]);i||(J.constructor=y)}var W=new b(new y(2)),G=b.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||c(b.prototype,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},!0)}else y=function(e){l(this,y,"ArrayBuffer");var t=d(e);this._b=v.call(new Array(t),0),this[T]=t},b=function(e,t,n){l(this,b,"DataView"),l(e,y,"DataView");var r=e[T],o=p(t);if(o<0||o>r)throw w("Wrong offset!");if(o+(n=void 0===n?r-o:f(n))>r)throw w("Wrong length!");this[P]=e,this[R]=o,this[T]=n},o&&(F(y,"byteLength","_l"),F(b,"buffer","_b"),F(b,"byteLength","_l"),F(b,"byteOffset","_o")),c(b.prototype,{getInt8:function(e){return N(this,1,e)[0]<<24>>24},getUint8:function(e){return N(this,1,e)[0]},getInt16:function(e){var t=N(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=N(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return q(N(this,4,e,arguments[1]))},getUint32:function(e){return q(N(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return A(N(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return A(N(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,j,t)},setUint8:function(e,t){H(this,1,e,j,t)},setInt16:function(e,t){H(this,2,e,L,t,arguments[2])},setUint16:function(e,t){H(this,2,e,L,t,arguments[2])},setInt32:function(e,t){H(this,4,e,M,t,arguments[2])},setUint32:function(e,t){H(this,4,e,M,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,B,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,D,t,arguments[2])}});g(y,"ArrayBuffer"),g(b,"DataView"),s(b.prototype,a.VIEW,!0),t.ArrayBuffer=y,t.DataView=b},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(234)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";n(532),n(533),n(534),n(535);var r=n(536).addElementsToPc,o=n(0).isPc,i=n(548),a=n(554),s=n(555),c=n(110),u=(n(246),n(146)),l=n(86).adjustPcMode,p=n(33).perfectCssForPcRender,f=n(9).qiniuZoom,d=n(56).getAd,h=n(1),m=n(87).getTemplateParam,v=n(6).formAccessPasswordModal;e.exports={setUp:function(e){var t=$(document.body),n=$("html");if(e.name=e.name||e.title,o())if(window.top===window){var g=e.property,y=g.boughtLabel,b=g.removeLabel,x=g.removePcLabel,w=b||"";if((y||x)&&(w=!0),w){t.prepend(i.removePcAdsDiv());var S=!1;$(".preview-qrcode").hover((function(){$(".preview-make-panel").show()}),(function(){setTimeout((function(){S||$(".preview-make-panel").hide()}),300)})),$(".fixed-qrcode-m").hover((function(){$(this).show(),S=!0}),(function(){$(this).hide(),S=!1})),$("#con").removeClass("phone-new").addClass("phone-vip"),r(e)}else{var k=i.div();t.prepend(k),i.addAdvertisement(),d(h.ME_TOO_BTN).then((function(e){var t=e.code,n=e.list;if(200===t&&n.length>0){var r='<a rdt="3" cat="尾页组件" act="我也去制作"  loc="表单预览" href="'.concat(n[0].linkUrl,'" target="_blank">\n                                    <img style="width: 150px;height: 30px;margin-bottom: 16px;" src="').concat(f(n[0].picSrc),'"></img>\n                                </a>');$(".preview-make-panel").prepend(r)}})),$("#con").removeClass("phone-vip").addClass("phone-new"),r(e)}e.isTemplate&&"1"===e.isTemplate.toString()&&i.addSample(e.id),t.addClass("pc"),$("title").text(e.name+"-易企秀表单"),$(document).on("click",".preview-style",(function(e){var t,n,r=$(e.currentTarget),o=r.attr("type");if($(".preview-style.active").attr("type")!=o)if(r.addClass("active").siblings().removeClass("active"),$("."+o).show().siblings().hide(),"mobile-preview"==o){if($(".outer-bgm-btn-wraper").hide(),window.mobileScene){(f=window.mobileScene.currentPage).dealAppend("pcMobileRender",!0)}else{var i=window.app.originSceneJson,a={selector:".mobile-preview .nr",mode:"view",renderMode:"pcMobileRender"};n=JSON.parse(JSON.stringify(i)),(t=new c(n,a)).renderScene();var s=t.currentPage;s.dealAppend(),s.adaptSlide(),window.mobileScene=t}window.pcScene.soundManager.stopAll();window.pcScene.currentPage;r.parents(".preview-btn-wrap").addClass("isMobile"),$("#view_panel").children(".voteRank_view_pc").remove(),$("#view_panel").children(".votingSignUp_view_pc").remove(),w&&$(".preview-btn-wrap-no-pcAds").removeClass("no-ad-fixed").show()}else{if(window.pcScene){var f,d=(f=window.pcScene.currentPage).calPageHeight("pcRender");f.changeMoveToIscroll(d,"pcRender")}else{i=window.app.originSceneJson,a={selector:".pc-preview .nr",mode:"view",isPc:!0,renderMode:"pcRender"};n=JSON.parse(JSON.stringify(i)),new u(n).addPageFn(l).addEleFn(p).start(),(t=new c(n,a)).renderScene(),m("formAccessPassword")&&v(t);var h=t.currentPage,g=t.getPageConfig("openCover");"cover"===h.pageJson.id&&g?h.updateCompPosition():h.updateCompPosition("ruleChange"),h.dealAppend(),h.adaptSlide(),window.pcScene=t,$("."+o).find(".bgm-btn-wraper").appendTo($("body")).addClass("outer-bgm-btn-wraper")}w&&$(".preview-btn-wrap-no-pcAds").addClass("no-ad-fixed").show(),$(".outer-bgm-btn-wraper").show().css({top:"11px",right:"20px",left:"auto"}),window.mobileScene&&window.mobileScene.soundManager.stopAll(),r.parents(".preview-btn-wrap").removeClass("isMobile");var y=window.pcScene.eqxPageList[0];y.votingRankingView(),y.votingSignUpView()}}))}else{var O=location.href;O.indexOf("exemplarReview")>=0?(t.prepend(a.phoneDiv()),t.find(".iframe-phone").css("transform","scale(1)"),t.append(a.ctrlBtnDiv())):O.indexOf("control")>=0?(t.prepend(a.phoneDiv()),t.append(a.ctrlBtnDiv2())):O.indexOf("pcRenderView")>=0?t.prepend(a.pcRenderDiv()).css("background-color","transparent"):window.location.href.indexOf("synergyComments")>=0?(t.prepend(a.phoneDiv()),$("title").text(e.name)):(n.addClass("iframe-html"),t.prepend(a.phoneDiv()),t.addClass("pc"),$(".scene_title").text(e.name),$("title").text(e.name))}else t.prepend(s.div()),$("title").text(e.name);$(".main").show()},stopLoading:function(){var e=$(".loading").attr("startTime"),t=$(".loading").attr("duration"),n=0;if(e&&t){var r=(new Date).getTime()/1e3;r-e<t&&(n=t-(r-e))}setTimeout((function(){var e=[];$("img").each((function(t,n){e.push(new Promise((function(e){n.complete?e():(n.addEventListener("load",e,{once:!0}),n.addEventListener("error",e,{once:!0}))})))}));var t=(new Date).getTime();Promise.race([Promise.all(e),new Promise((function(e){return setTimeout(e,2e3)}))]).then((function(){var e=(new Date).getTime();e-t>=800?$(".loading").hide():setTimeout((function(){$(".loading").hide()}),800-e+t)}))}),n)},startLoading:function(){$(".loading").show()}}},function(e,t,n){"use strict";var r=n(8).$ajax,o=n(1);function i(e){return r({type:"GET",url:o.SERVER_2+"eqs/s/trailer/"+e})}e.exports={$getPageInfo:i,$getActivityPage:function(e){return e?i(e).then((function(e){return e.obj?(e.obj.isActivity=!0,e.obj):Promise.reject("活动尾页数据错误")})):Promise.reject("没有活动尾页 ID")},$getLoadPageConfig:function(e,t,n){return n=n||"b",window._configure&&window._configure[n]?Promise.resolve({map:window._configure[n]}):Promise.resolve({map:{}})}}},function(e,t,n){"use strict";var r=n(1);e.exports={nr:function(){var e=$(".loading").clone().show()[0].outerHTML;return'\n<div class="nr">\n    '.concat(e,"\n</div>\n")},ppitest:function(){return'<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>'},pwd:function(e,t){e=e||"场景名称";var n=t.startsWith("http")?t:r.FILE+t;return'\n<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            \x3c!-- 3、场景封面 --\x3e\n            <img class="cover-img" src="'.concat(n,'">\n        </div>\n        \x3c!-- 4、场景名称 --\x3e\n        <div class="scene-name">').concat(e,'</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>')}}},function(e,t,n){"use strict";e.exports={offSet:function(e,t){var n=null,r=null,o=e.offsetParent;for(n+=e.offsetLeft,r+=e.offsetTop;o!==t&&o;)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(r+=o.clientTop,n+=o.clientLeft),r+=o.offsetTop,n+=o.offsetLeft,o=o.offsetParent;return{left:n,top:r}}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}var i=n(1),a=n(24),s=n(4),c=(s.getUrlParam,s.removeUrlParam),u=n(4).addUrlParam,l=n(125).APP_ID,p=n(28).$getUserWxInfo;function f(){return(f=o(regeneratorRuntime.mark((function e(){var t,n,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],n=window.location.href,r=i.LONG_PAGE_PREVIEW+"lp/wx/user/info",o="retry:"+location.pathname.split("/").pop(),!a.getItem(o)){e.next=9;break}return e.next=7,p().then((function(e){return d(e.obj),e}));case 7:return e.sent,e.abrupt("return",{obj:{}});case 9:return a.setItem(o,!0,1e4),r=u("rurl",c("ssid",n),r),t&&(r=u("thirdWxAuthUserInfo",!0,r),r=u("thirdWxAuth",!0,r)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+l+"&redirect_uri="+encodeURIComponent(r)+"&response_type=code&scope=snsapi_base#wechat_redirect",e.abrupt("return",{obj:{}});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){window.eqxH5WxInfo=e}e.exports={wxSlientAuth:function(){return f.apply(this,arguments)},setWeChatUser:d}},function(e,t,n){"use strict";n(577);var r=n(578),o=n(0),i=n(6),a=n(15).$loaderNativeShare,s=n(1);e.exports={openShareBox:function(e){var t=$(r),n=e.eqxScene.meta,c=n.name,u=n.description,l=n.cover,p=window.location.href.split("?")[0];if(u||(u="易企秀表单 - 登录 www.eqxiu.com 快速制作，高效推广。"),e.$section.parent().prepend(t),(!o.isPc()||e&&"pc"==e.previewMode)&&$(".phone-share-box").css({position:"fixed"}),$(".share-bar div").on("click",(function(e){e.stopPropagation(),t.remove()})),$(".phone-share-box").on("click",(function(){t.remove()})),$(".phone-share-box .wrapper").on("click",(function(e){e.stopPropagation()})),o.isMobile()){var f=["wechatFriend","wechatTimeline","qqFriend","weibo"];a().then((function(){(new NativeShare).setShareData({icon:"".concat(s.FILE+l),link:"".concat(encodeURIComponent(p)),title:c,desc:u})})),$("#web-share-view div").each((function(n,r){$(r).on("click",(function(){t.remove();try{nativeShare.call(f[n])}catch(t){var r;switch(n){case 0:case 1:r="长按保留二维码在微信中分享";break;case 2:r="长按保留二维码在QQ中分享";break;case 3:r="长按保留二维码在微博中分享";break;default:r="长按保留二维码在微信中分享"}i.shareTipModal(e,r)}}))}))}else $("#web-share-view .share-wechat, #web-share-view .share-friend").on("click",(function(){t.remove(),i.openPcShareImg(e)})),$("#web-share-view .share-qq").attr("href","\n            http://connect.qq.com/widget/shareqq/index.html?url=\n            ".concat(encodeURIComponent(p),"?from=sqq&title=").concat(c,"g\n            &site=易企秀http://eqxiu.com&summary=").concat(u,"\n            &pics=").concat(s.FILE+l,"&desc=").concat(u,"&appkey=3508809852\n        ")),$("#web-share-view .share-weibo").attr("href","\n            http://service.weibo.com/share/share.php?url=\n            ".concat(encodeURIComponent(p),"?from=sina_weibo\n            &title=").concat(encodeURIComponent("#易企秀分享# 这是我用@易企秀 做的【".concat(c,"】，赶紧打开看看吧！")),"\n            &pic=").concat(s.FILE+l,"&appkey=3508809852\n        "))}}},function(e,t,n){"use strict";n(580);var r='<div class="buttonBox">\n<div class="back"><em class="eqf-left"></em></div>\n<div class="vote" style="background-color: #{btnBackgroundColor};\ncolor: #{btnColor};opacity: #{opacity}" >#{btnTxt}</div>\n<div class="share" style="background-color: #{btnBackgroundColor};\ncolor: #{btnColor}" >#{shareBtnTxt}</div>\n</div>',o='\n<div class="vote-detail-modal" id="vote-detail-modal" >\n    <div class="bgBox"></div>\n    <div class="box">\n        <div class="title opened">\n        #{title}\n        </div>\n        <div class="rankBox hide"></div>\n        <div class="desBox">#{des}</div>\n        <div class="imgBox">\n            <div class="coverBox"></div>\n        </div>\n    </div>\n    '.concat(r,"\n</div>\n"),i="<div class='vote-detail-noob'>\n    <img src='".concat(n(581),"'>\n</div>");e.exports={warpTpl:o,rankTpl:'<div class="rankBox">\n    <div><div class="num">#{rank}</div><div class="info">排名</div></div>\n    <div class="dis"><div class="num">#{distence}</div><div class="info">#{disInfo}</div></div>\n    <div><div class="num">#{score}</div><div class="info">票数</div></div>\n</div>',videoCoverTpl:'<video src=\'#{src}\' poster="#{cover}" controls\n x5-video-player-fullscreen="false" controlslist="nodownload"  />',imgCoverTpl:"<img src='#{cover}' />",noobTpl:i,buttonBox:r}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(582);var a=n(15).$loadQRCode,s=n(1),c=n(0),u=(c.isPc,c.isIOS),l=c.isSafari,p=c.isWxEnv,f=c.isChrome,d=n(252),h=n(7).webWeChartShare,m=n(6).loadingShadow,v=n(16).getRatio,g=n(4).getUrlParam,y=n(9).qiniuZoom,b={},x={},w=function(){},S=s.APPLET.qrcode,k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxPage=t,this.options=n}var t,n,r,c,k,O;return t=e,n=[{key:"createCache",value:(O=o(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b[this.options.elementid+"-"+this.options.optionid]){e.next=9;break}return e.next=4,this.createImg();case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:t=n.toDataURL("image/png"),b[this.options.elementid+"-"+this.options.optionid]=t;case 9:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"initWeChartShare",value:function(e,t){var n="快来给【".concat(e.length>8?e.substr(0,8)+"...":e,"】投上你宝贵的一票");h(n,"",t)}},{key:"createImg",value:(k=o(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x[this.options.elementid+"-"+this.options.optionid]){e.next=7;break}return t=new Promise(function(){var e=o(regeneratorRuntime.mark((function e(t,r){var o,i,c,p,h,m,g,b,x,w,k,O,E,C,_,I,P,T,R,A,q,j,L;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isDestory){e.next=2;break}return e.abrupt("return");case 2:return o=window.scene.title,i=n.options,c=i.label,p=i.cover,h=i.elementid,m=i.optionid,g=window.location,b=g.origin,x=g.pathname,w="".concat(b).concat(x,"?VDP=").concat(h,"-").concat(m),k=n.showTowRowProTitle(c,o),O=p.replace("cros=1&",""),e.next=10,n.loadImg(O);case 10:if(E='\n                    <div class="vote-cover-wrapper">\n                        <div class="vote-poster-cover">\n                            <div class="vote-poster-header">\n                                <div class="vote-poster-item" style="'.concat(k?"-webkit-line-clamp: 1":"-webkit-line-clamp: 2",'">\n                                    ').concat(c,'\n                                </div>\n                                <div class="vote-poster-titleWrapper" style="').concat(k?"":"white-space: nowrap",'">\n                                    正在参加\n                                    <span class="vote-poster-title">\n                                        ').concat(o,'\n                                    </span>\n                                </div>\n                            </div>\n                            <div class="vote-poster-img" style="background-image: url(').concat(y(O,544),')">\n                            </div>\n                            <div class="vote-poster-qrcode">\n                                <div class="vote-poster-qr-').concat(h,"-").concat(m,'">\n    \n                                </div>\n                                <div class="vote-poster-qrTip">\n                                    长按识别').concat(n.isApplet()?"小程序":"二维码","帮TA投票\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                "),C=$(E),$("body").append(C),!n.isApplet()){e.next=21;break}_=n.eqxPage.eqxScene.meta.code,I="code=".concat(_,"&vdp=").concat(h,"-").concat(m),P=38*v(),T="".concat(s.LONG_PAGE_PREVIEW,"form/wx/getShareWxacode?scene=").concat(encodeURIComponent(I)),$(".vote-poster-qr-".concat(h,"-").concat(m)).html("<img src='".concat(T||S,"' style='width: ").concat(P,"px' />")),e.next=26;break;case 21:return e.next=23,a();case 23:e.sent,R=38*v(),$(".vote-poster-qr-".concat(h,"-").concat(m)).qrcode({size:R,text:"".concat(w),render:"table"});case 26:return A=new d({isIOS:u()||l()&&!f()}),n.drawer=A,q={scale:2,width:272,height:396},j=C.find(".vote-poster-cover"),e.next=32,A.dom2canvas(j[0],q,{}).catch((function(e){console.log(e),r()}));case 32:L=e.sent,n.drawer=null,C.remove(),t(L);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.drawer=null,x[this.options.elementid+"-"+this.options.optionid]=t,e.abrupt("return",t);case 7:return e.abrupt("return",x[this.options.elementid+"-"+this.options.optionid]);case 8:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"destory",value:function(){var e;this.isDestory=!0,this.drawer&&($(".vote-poster-cover").remove(),delete x[this.options.elementid+"-"+this.options.optionid],null===(e=this.drawer)||void 0===e||e.destory())}},{key:"showTowRowProTitle",value:function(e,t){var n=!1,r=document.createElement("div");r.className="format-title-wrapper";var o=document.createElement("div");o.innerHTML=e,o.className="vote-poster-item";var i=document.createElement("div");i.innerHTML='\n            正在参加\n            <span class="vote-poster-title">\n                '.concat(t,"\n            </span>\n        "),i.className="vote-poster-titleWrapper",r.append(o),r.append(i),$("body").append(r);var a=o.clientWidth,s=i.clientWidth,c=240*v();return s>c&&a<=c&&(n=!0),r.remove(),n}},{key:"sleep",value:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}},{key:"loadImg",value:function(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=function(){t(r)},r.onerror=function(){n()}}))}},{key:"render",value:(c=o(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p()?'<div class="vote-poster-tip" style="right: '.concat(this.isApplet()?"50":"10",'px">分享').concat(this.isApplet()?"小程序":"链接",'帮TA拉票<div class="vote-poster-dot"></div></div>'):"",n=p()?"长按保存图片":"<span id='download'><span class=\"eqf-download\"></span>下载图片</span>",r=$('\n            <div class="vote-poster-wrapper">\n                <div class="vote-poster-background"></div>\n                '.concat(t,'\n                <div class="vote-poster-main">\n                    <div class="vote-poster-close"><span class="eqf-no"></span></div>\n                    <div class="vote-poster-footer">\n                        ').concat(n,"\n                    </div>\n                </div>\n            </div>\n        ")),o=b[this.options.elementid+"-"+this.options.optionid]){e.next=10;break}return e.next=7,this.createImg();case 7:i=e.sent,o=i.toDataURL("image/png"),b[this.options.elementid+"-"+this.options.optionid]=o;case 10:(a=new Image).src=y(o),this.eqxPage.eqxSectionCover.prepend(r),$(".vote-poster-main").prepend(a),w(),p()?setTimeout((function(){$(".vote-poster-tip").hide(),$(".vote-poster-close").show()}),3e3):$(".vote-poster-close").show(),p()||$("#download").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("download","海报拉票"),t.click()}));case 17:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"bindEvent",value:function(){$(".vote-poster-background").on("click",(function(e){$(".vote-poster-wrapper").remove(),w()})),$(".vote-poster-close").on("click",(function(){$(".vote-poster-wrapper").remove(),w()}))}},{key:"isApplet",value:function(){var e=g("appletPreview");return e&&"true"==e}}],r=[{key:"renderPoster",value:function(t,n){w=m("icon",t.eqxScene);var r=new e(t,n);return r.render().then((function(){r.bindEvent(),r.initWeChartShare(n.label,n.cover)})),r}}],n&&i(t.prototype,n),r&&i(t,r),e}();e.exports=k},function(e,t,n){"use strict";function r(e,t){return"number"!=typeof e&&(e=parseFloat(e)),parseFloat(e.toFixed(t))}function o(e){return e.toFixed(2)}e.exports={toFixed:r,toFixed1:function(e){return r(e,1)},toFixed2:function(e){return r(e,2)},toInt:function(e){return r(e,0)},size:function(e){return(!e||e<0)&&(e=0),e<1024?e+" KB":(e/=1024)<1024?o(e)+" MB":(e/=1024)<1024?o(e)+" GB":o(e/=1024)+" TB"}}},function(e,t,n){"use strict";n(610);var r=n(611),o=n(3).parse,i=n(9).qiniuZoom;e.exports={img:function(e){var t=e.id,n=e.type,r=e.src;return'<img id="'.concat(t,'" ctype="').concat(n,'" class="element comp_image editable-image" style="display:block;" draggable="false" src="').concat(i(r),'">')},filterImg:function(e){var t=e.id,n=e.type,i=e.src,s=e.filterType,c=void 0===s?a[0].value:s,u="filter-"+t,l=(a.find((function(e){return e.value===c}))||c[0]).path;return o(r,{id:t,type:n,filterId:u,src:i,path:l})}};var a=[{value:1,path:"1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"},{value:2,path:"2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"},{value:3,path:"1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"},{value:4,path:"1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"},{value:5,path:"1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"},{value:6,path:"0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"},{value:7,path:"0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"},{value:8,path:"0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"},{value:9,path:"0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"},{value:10,path:"0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"},{value:11,path:"4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]},function(e,t,n){"use strict";n(8).ajax,n(1);e.exports={getServiceTime:function(){return(new Date).getTime(),new Promise((function(e){e({success:!0,code:200,obj:(new Date).getTime()})}))}}},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$getYqcAd:function(e){return r({type:"GET",url:o.SERVER_1+"adview/scenePage/find",data:{sceneId:e,time:Date.now()}})},$getYqcTail:function(e){return r({type:"GET",url:o.SERVER_1+"adview/tail/find",data:{sceneId:e,time:Date.now()}})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(275),f=n(765),d=n(191),h=n(276).copyProperties,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=c.call(this,e,t)).innerNotHeight=!1;var r=new d(e,t);return h(u(n),Reflect.getPrototypeOf(r)),r=null,n}return t=p,(n=[{key:"create$context",value:function(){var e=this.compJson,t=this.eqxScene.config.mode,n=e.id,r=e.pageId,o=e.type,i=e.properties,a=i.required,s=i.formRelevant,c=void 0===s?{}:s,u=c.title&&c.title.content||"",l=c.des&&c.des.content||"";this.scoreSetting=this.getScoreSettings();var p=this.scoreSetting,d=p.minValue,h=p.maxValue,m=p.scoreLevel,v=void 0===m?5:m,g=p.type,y=p.bgColor,b=p.color,x=f.$compDiv({id:n,type:o,required:a,formTitle:u,formDes:l,minValue:d,maxValue:h,mode:t,bgColor:y});this.required=a,this.title=u,this.name="eq[f_".concat(n,"]"),this.pageId=r;var w=g;if("eqf-score-scale"!=g)var S="edit"==t?f.iconEdit:f.iconView,k=Array(v).fill(1).map((function(e,t){return S({ico:w,scoreLevel:v,index:t})}));else S=f.numScale,k=Array(v).fill(1).map((function(e,t){return S(w,b,t+1)}));return x.find(".rating-icons").append(k).css({color:b}),this.$score=x.find('input[type="hidden"]'),this.$titleDiv=x.find(".rating-title"),x}},{key:"getValue",value:function(){return this.$score.val()}},{key:"calcScore",value:function(e){var t=e*this.getScoreSettings().baseNum;return isNaN(parseInt(t))?0:t}},{key:"create$li",value:function(){i(l(p.prototype),"create$li",this).call(this),this.$formComp.css("border-width","0px");var e=this.eqxPage.pageJson.properties.formStyle;return this.updateBgColor(this.scoreSetting.bgColor),this.updateTextColor(e.input.color),this.$formComp.css("border-width",e.border.borderWidth),this.$li}},{key:"update$iconColor",value:function(e){this.$context.find(".rating-icons").css({color:e});var t=this.$context.find(".eqf-score-scale");t.length&&t.css({backgroundColor:e,borderColor:e}),this.updateProp("color",e)}},{key:"updateOptionContent",value:function(e,t){var n="low"==t?".low-rating-level":".senior-rating-level";this.$contentsDiv.find(n).html(this.tranSpaceAndEnter(e))}},{key:"updateBgColor",value:function(e){this.$boxContentDiv.find(".form-comp-box").css("background-color",e)}},{key:"updateTextColor",value:function(e){this.$boxContentDiv.find(".form-comp-box .rating-level div").css("color",e)}},{key:"updateBorderStyle",value:function(e){this.$formComp.css({"border-width":e.borderWidth+"px"})}},{key:"bindAfterRenderEvent",value:function(e,t){return function(e,t,n,r){var o=$(e),i=o.find("i"),a=o.find("input"),s=t.properties.formRelevant.scoreSettings.type.split("-"),c=s[0]+"-"+s[1];i.each((function(e,t){$(t).attr("data-event","11211"),$(t).bind("click",(function(){!function(e){"eqf-score-scale"!=n?i.each((function(t,n){$(n).removeClass(c+"-f").addClass(c+"-l"),t<=e&&$(n).removeClass(c+"-l").addClass(c+"-f")})):i.each((function(t,n){$(n).addClass("active"),t<=e&&$(n).removeClass("active")}))}(e),a.val(e+1),r.hideFormErrMsg()}))})),o.find(".rating-icons").bind("touchstart mousedown",(function(e){e.stopPropagation()}))}(e,t,(t.properties.formRelevant&&t.properties.formRelevant.scoreSettings||{}).type||t.properties.icon,this),!0}},{key:"updateFormCompCss",value:function(e,t){if(e){var n=JSON.parse(JSON.stringify(e));0!=Object.keys(n).length&&(this.$formComp.css(n),this.updateCss(n),this.updateTextColor(n.color),this.updateBgColor(n.backgroundColor),this.updateCss(n),this.updateFormRelevantJson(e,t),this.autoSizeTopDown(),this.updateFormHeight())}}},{key:"updateFormRelevantJson",value:function(e,t){var n=this.eqxPage.pageJson.properties.formStyle,r=this.compJson.properties.formRelevant.scoreSettings;Object.assign(r,{bgColor:e.backgroundColor?e.backgroundColor:n.input.backgroundColor,color:"themeApply"==t?"#FFB243":r.color})}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("i");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.each((function(e,n){$(n).bind("click",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,e+1)}))}))}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=Number(JSON.parse(e).value)-1;setTimeout((function(){n.$li.find("i").eq(r).trigger("click")}),0),"showLast"===t&&this.$li.css("pointer-events","none")}}},{key:"compJsonToStr",value:function(){return i(l(p.prototype),"compJsonToStr",this).call(this)}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],this.ruleIds.push(e);var r=this.getRealValueForTrigger?this.getRealValueForTrigger():this.getValue();n.on("click",".star",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,r)}))}},{key:"check",value:function(){var e=this.getValue(),t=this.getScoreSettings().baseNum,n=this.calcScore(e),r={content:e&&0!=t?e+"（".concat(n,"分）"):e,value:e,score:n};this.ruleHide&&(r.content="（跳过）");var o={success:!0,pageId:this.pageId,key:this.name,value:JSON.stringify(r),score:n,elementId:this.id};return!this.required||e||this.ruleHide||(this.getTipTitle(),o.success=!1,o.message="该项为必填项"),o}},{key:"getScoreSettings",value:function(){var e=this.compJson;return e.properties||(e.properties={}),e.properties.formRelevant||(e.properties.formRelevant={}),e.properties.formRelevant.scoreSettings||(e.properties.formRelevant.scoreSettings={baseNum:1,scoreLevel:5,minValue:"非常不满意",maxValue:"非常满意",type:e.properties.icon}),e.properties.formRelevant.scoreSettings}},{key:"autoFill",value:function(e,t){String(e).includes("（跳过）")||(this.$li.find('[name="'.concat(this.name,'"]')).val(JSON.parse(e).value.split(",")),"showLast"===t&&this.$li.css("pointer-events","none"))}}])&&o(t.prototype,n),r&&o(t,r),c}(n(35));e.exports=u},function(e,t,n){"use strict";n(792);var r=n(3).parse,o=n(1),i=n(0),a=n(4),s=a.getUrlParam,c=a.removeUrlParam,u=n(270),l=(n(793),n(28).$getUserWxInfo),p=n(794),f=n(0),d=!0,h={},m=null,v=0;function g(e){if(e.isPrize){var t=document.querySelector("#redpackAmount");Number(e.amount)<10?t.style.fontSize="72px":Number(e.amount)>10<100?t.style.fontSize="52px":t.style.fontSize="44px",t.innerHTML=e.amount+"<span>元</span>"}}function y(e,t){var n=document.querySelector("#redPackBody");e.classList.remove("start"),t.isPrize&&document.querySelector(".red-pack-step-btn").classList.add("active"),g(t),n.classList.add("opened",t.isPrize?"prize":"no-prize")}e.exports={render:function(e,t,n){var o=window.scene,a=o.redpackUUID;1===o.redPacketActiveStatus&&a&&i.isWeixin()&&(m=e,v=n,function(e,t){var n=$(r(p,{amount:t.amount,isPrize:t.isPrize}));f.isMobile()&&n.css("position","fixed");e.append(n),g(t),function(){var e=document.querySelector("#redPackStartBtn"),t=document.querySelector(".red-pack-step"),n=document.querySelector(".red-pack-close"),r=document.querySelector(".red-pack-step-close"),o=document.querySelector(".red-pack-step-btn"),i=document.querySelector(".no-prize-btn");e.addEventListener("click",(function(){d&&(d=!1,e.classList.add("start"),function(e){var t=m.eqxScene.meta,n=window.scene,r=(n.redpackUUID,n.redpackTicket),o=n.map.costTime,i=s("openid");(h={openId:i,ticket:r,sceneId:t.id,sceneType:4,handedTypeLimit:3,nick:"",headImg:"",extend:window.scene.redpackUUID}).answerScore=v,h.answerTime=o?parseInt(o/1e3):0;var a=new Promise((function(){}));a=window.eqxH5WxInfo?Promise.resolve(window.eqxH5WxInfo):l(t.userId).then((function(e){return e.obj}));a.then((function(e){e&&(h.nick=e.nickname,h.headImg=e.headimgurl)})).then((function(){u.getRedPacket(h).then((function(t){var n=t||{},r=n.success,o=n.code,i=n.obj;y(e,r&&200===o?{amount:((i.amount||0)/100).toFixed(2),isPrize:2===Number(i.status)}:{amount:0,isPrize:!1})})).catch((function(t){y(e,{amount:0,isPrize:!1})}))}))}(e))})),o.addEventListener("click",(function(){t.classList.add("in")})),r.addEventListener("click",(function(){t.classList.remove("in")})),n.addEventListener("click",(function(){document.querySelector(".red-pack-container").style.display="none"}));var a=function(e){e.addEventListener("click",(function(){document.querySelector(".red-pack-container").style.display="none"}))};a(n),a(i)}()}(t,{amount:0,isPrize:!1}))},wxSlientAuth:function(){var e=window.location,t=e.href,n=e.protocol,r=o.RED_PACKET_WX_CONFIG,i=o.LONG_TEMP_SERVER+"/wechat/callback",a="".concat(n+r.AUTHORIZE_URL,"?server_uri=").concat(encodeURIComponent(i)),u=t;s("openid")&&s("token")&&(u=c("openid",u),u=c("token",u)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+r.WX_SLIENT_APP_ID+"&redirect_uri="+encodeURIComponent(a)+"&response_type=code&scope=snsapi_base&state="+encodeURIComponent(u)+"#wechat_redirect"}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(52),p=n(286),f=n(3).parse,d=(n(855),n(51).regHash);n(287);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).eqxScene.config.isInnerView&&(n.innerNotHeight=!1),$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n.defaultEvaluate={matchType:"5",score:10,answers:[{id:1,answer:""}],answerKeys:""},n}return t=l,(n=[{key:"evaluateJson",get:function(){return this.evaluate||this.defaultEvaluate}},{key:"evaluate",get:function(){if(this._evaluate)return this._evaluate;var e=this.getFormRelevant().evaluate;try{"string"==typeof e&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)?e=JSON.parse(window.decodeURIComponent(window.atob(e))):"string"==typeof e&&(e=JSON.parse(e))}catch(e){console.log(e),console.log("evaluate 格式异常")}return this._evaluate=e,this._evaluate}},{key:"getScoreSwitch",value:function(){return this.getFormRelavent().showScoreAndAnswer}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,d=l.title.content,h=l.des.content;this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t;var m=this.getFormRelavent(),v=m.size,g=m.styleType;return $(f(p,{id:t,type:r,placeholder:c,required:a,title:d,des:h,styleType:g,sizeType:v}))}},{key:"setInputTitle",value:function(e){this.$context.find("textarea").attr("placeholder",e)}},{key:"updateFillStyle",value:function(e){var t="fill"==e?"addClass":"removeClass";this.$formComp[t]("fill")}},{key:"check",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val(),n=this.compJson.properties,r=n.formCheck,o=n.formRelevant.validateType,i=0,a=t;n.formRelevant.showScoreAndAnswer&&(i=this.calcScore(t),-1==a.indexOf("跳过")&&-1==a.indexOf("（".concat(i,"分）"))&&(a+="（".concat(i,"分）")));var s={success:!0,pageId:this.pageId,key:this.name,value:a,setValue:JSON.stringify({content:t,score:i}),elementId:this.id,score:i};return s.value=JSON.stringify({content:a,score:i}),t?function(){var n,i,a,c;if((r||o.isOpen)&&!e.ruleHide){if(o.isOpen&&"text"!=o.value){var u=d[o.value];if(u&&!u(t))return s.success=!1,void(s.message="格式不正确")}if(null!==(n=r.min)&&void 0!==n&&n.checked&&null!==(i=r.min)&&void 0!==i&&i.limit&&t.length<r.min.limit)return s.success=!1,void(s.message="".concat("该项","最少填").concat(r.min.limit,"个字"));null!==(a=r.max)&&void 0!==a&&a.checked&&null!==(c=r.max)&&void 0!==c&&c.limit&&t.length>r.max.limit&&(s.success=!1,s.message="".concat("该项","最多填").concat(r.max.limit,"个字"))}}():this.required?(s.success=!1,s.message="".concat("该项","为必填项")):(s.value="",s.setValue=""),this.repeatCheckStatus(s),s}},{key:"preCheck",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val(),n=this.compJson.properties,r=n.formCheck,o=n.formRelevant.validateType;return t?function(){var n,i,a,s;if(!r&&!o.isOpen||e.ruleHide)return!0;if(o.isOpen&&"text"!=o.value){var c=d[o.value];if(c&&!c(t))return!1}return!(null!==(n=r.min)&&void 0!==n&&n.checked&&null!==(i=r.min)&&void 0!==i&&i.limit&&t.length<r.min.limit)&&!(null!==(a=r.max)&&void 0!==a&&a.checked&&null!==(s=r.max)&&void 0!==s&&s.limit&&t.length>r.max.limit)}():!this.required&&void 0}},{key:"getTruthy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.ruleHide)return 0;var n=this.evaluate,r=n.answers,o=n.matchType;o=parseInt(o);var i=r[t].answer;if(!i&&!e)return 0;var a=i.split("；").filter((function(e){return e}));if(0==a.length)return-1;switch(o){case 5:return a.some((function(t){return t==e}))?1:0;case 6:var s=0;return a.forEach((function(t){e.includes(t)&&s++})),s}return 0}},{key:"calcScore",value:function(e){var t=0,n=this.evaluate,r=n.score,o=n.matchType,i=(n.perKeyScore,n.answers);if(this.ruleHide||void 0!==n.showScoreAndAnswer&&!n.showScoreAndAnswer)return 0;i[0].answer.split("；").filter((function(e){return e})),o=parseInt(o);var a=this.getTruthy(e);return 0==a?0:-1==a||5!=o?r||0:(t=a*r,isNaN(parseInt(t))?0:t)}},{key:"toJson",value:function(){var e=i(u(l.prototype),"toJson",this).call(this);return e.properties.formRelevant&&e.properties.formRelevant.evaluate&&"string"!=typeof e.properties.formRelevant.evaluate&&(e.properties.formRelevant.evaluate=window.btoa(window.encodeURIComponent(JSON.stringify(e.properties.formRelevant.evaluate)))),e}},{key:"updateSizeClass",value:function(e){this.$li.find(".fill-blank").removeClass("min max middle").addClass(e),this.$li.find(".fill-blank").css({height:"auto"})}},{key:"updateFormHeight",value:function(){var e=this.compJson;if(e.properties.formRelevant=e.properties.formRelevant?e.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}},this.$li.css("height",""),this.innerNotHeight&&this.$boxDiv.css("height",""),this.$formTitle&&"none"!=this.$formTitle.css("display"))t=this.getFormTitleHeight();else var t=0;if(this.$formDes&&"none"!=this.$formDes.css("display"))n=this.getFormDesHeight();else var n=0;var r=parseInt(t)+parseInt(n);this.$li.css({height:"auto"}),this.update$li({height:this.$li.outerHeight()}),this.$formComp.css("height","calc(100% - ".concat(r,"px)")),this.autoSizeTopDown(),this.updatePageHeight()}},{key:"isOpenScore",value:function(){return this.compJson.properties.formRelevant.showScoreAndAnswer}},{key:"answerRendered",value:function(e){var t=this.getValue(),n=this.getTruthy(t),r='<div class="comp-answer-item fill-blank '.concat(n=n?"correct":"error",'">\n                        <span>').concat(t,"</span>\n                    </div>");e.append(r)}},{key:"autoFill",value:function(e,t){if(!String(e).includes("（跳过）")){var n=e;try{JSON.parse(e)&&(n=JSON.parse(e).content||e)}catch(e){console.log("异常的数据格式，单行或多行填空老数据可能出现该异常")}this.$li.find('[name="'.concat(this.name,'"]')).val(n),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=h},function(e,t,n){"use strict";var r=n(861);n(107);var o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.required,a=void 0===i?null:i,s=e.title,c=e.des,u=e.city,l=e.zone,p=e.name,f=$(o(r,{id:t,type:n,title:s,des:c,city:u,zone:l,name:p}));return f.find("#".concat(t)).attr("required",a),f},$option:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择",n='<option  class="comp_select_option" value="" code="">'.concat(t,"</option>");e.length&&e.forEach((function(e,t){n+='\n            <option class="comp_select_option" value="'.concat(e.n||t,'" code="').concat(e.c||t,'">').concat(e.n,"</option>\n        ")}));return n},$appendZone:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'<div class="list zone">\n                <select style="line-height: 2.7"\n                    name="eq[f_#{id}]_zone"\n                    class="comp_drop_down_select"\n                    selectType = \'zone\'\n                    ctype="#{type}">\n                    <option value="" code="">'.concat(t||"请选择","</option>\n                </select>\n            </div>")},$appendCity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'\n            <div class="list city">\n                <select style="line-height: 2.7"\n                    name="eq[f_#{id}]_city"\n                    class="comp_drop_down_select"\n                    selectType = \'city\'\n                    ctype="#{type}">\n                    <option value="" code="">'.concat(t,"</option>\n                </select>\n            </div>\n            ")}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(277),n(909);var p=n(89),f=n(910),d=n(911),h=n(3).parse,m=n(191),v=n(276).copyProperties,g=n(912).optionsRendered,y=n(45).debounce,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t);var r=new m(e,t);return v(u(n),Reflect.getPrototypeOf(r)),r=null,n}return t=p,(n=[{key:"$compDiv",value:function(e){var t=e.id,n=e.required,r=void 0===n?null:n,o=e.title,i=void 0===o?"标题":o,a=e.type,s=e.css,c=e.formTitle,u=e.extraTitle,l=e.formDes,p=e.className;return $(h(d,{id:t,title:i,type:a,css:s,formTitle:c,extraTitle:u,formDes:l,className:p})).attr({required:r})}},{key:"evaluate",get:function(){if(this._evaluate)return this._evaluate;var e=this.getFormRelevant().evaluate;try{"string"==typeof e&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)?e=JSON.parse(window.decodeURIComponent(window.atob(e))):"string"==typeof e&&(e=JSON.parse(e))}catch(e){console.log(e),console.log("evaluate 格式异常")}return this._evaluate=e||{},this._evaluate}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;i(l(p.prototype),"bindAfterRenderEvent",this).call(this,e,t),$(e).attr("tabIndex","10"),$(e).on("blur",(function(){setTimeout((function(){var e=n.checkMin();e.success||i(l(p.prototype),"showFormErrMsg",n).call(n,e.message)}),200)}));var r=this,o=y((function(){["scoreRadio","r","scoreImageRadio"].includes(r.compJson.type)?(r.$li.find(".option-group .eqx-radio").removeClass("active"),r.$li.find(".option-group .eqx-radio input").prop("checked",!1),$(this).find(".eqx-radio").addClass("active"),$(this).find(".eqx-radio input").prop("checked",!0)):($(this).find(".eqx-radio").toggleClass("active"),$(this).find(".eqx-radio input").prop("checked",$(this).find(".eqx-radio").hasClass("active")));var e=r.checkMax();r.hideFormErrMsg(),e.success||(r.showFormErrMsg(e.message),$(this).find(".eqx-radio").hasClass("active")&&r.eqxPage.showElementById(r.id)),r.callRuleTrigger&&r.callRuleTrigger()}),100);"view"==this.eqxScene.config.mode&&(this.$li.find(".option-group").on("click",o),this.$li.find(".otherOptionBlank").on("click",(function(e){e.stopPropagation(),e.preventDefault()})))}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=o.titleStyle,s=void 0===a?{}:a,c=o.formRelevant,u=void 0===c?{}:c,l=o.formCheck,p=void 0===l?{}:l,f=e.title,d=e.css.height,h=(["c","scoreCheckbox","5212","scoreImageCheckbox"].indexOf(e.type),u.title&&u.title.content||""),m=u.des&&u.des.content||"",v="";if(p.max){var g=p.max,y=(g=void 0===g?{limit:0,checked:!0}:g).limit,b=void 0===y?0:y,x=g.checked,w=p.min,S=(w=void 0===w?{limit:0,checked:!0}:w).limit,k=void 0===S?0:S,O=w.checked;x&&O&&b!==k&&0!==k&&0!==b?v="（选".concat(k,"-").concat(b,"项）"):x&&O&&b==k&&0!==b?v="（选".concat(b,"项）"):O&&!x&&0!==k?v="（最少选".concat(k,"项）"):!O&&x&&b&&(v="（最多选".concat(b,"项）"))}0==Object.keys(u).length&&(d=e.css.height=d-36);var E=u.arrayType||"single";this.title=f,this.pageId=n,this.name="eq[f_".concat(t,"]"),this.required=i;var C=this.$compDiv({id:t,required:i,type:r,formTitle:h,extraTitle:v,formDes:m,css:{width:"100%"},title:"scoreRadio"==r?f:f+"(可多选)",className:E});return h?C.find(".title-extra").attr("style","display:inline-block"):C.find(".title-extra").attr("style","display: none"),C.find(".radio-title").css(s),(this.$options=C.find(".options")).html(this.create$options()),"horizontal"==this.compJson.arrange&&"view"==this.eqxScene.config.mode&&this.eqxScene.config.isPc&&this.$boxContentDiv.addClass("horizontal"),C}},{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,r=(t.properties.optionStyle,t.choices);"string"==typeof r&&(r=JSON.parse(r));var o=$("<div>"),i=(r.options.length,"scoreRadio"==this.compJson.type),a=this.evaluate||{},s=a.isOptionRandom;if("view"==this.eqxScene.config.mode&&s){var c=JSON.parse(JSON.stringify(r.options));if(a.isOptionFixed){var u=c.pop(),l=this.randomSort(c);l.push(u),r.options=l}else r.options=this.randomSort(c)}return this.choices=r,r.options.forEach((function(t,s){var c=!a.showScoreAndAnswer&&(i?t.id==r.default:t.default),u=a.answers&&a.answers.length>0&&a.answers.indexOf(t.id);u=!(isNaN(parseInt(u))||!(u>=0));var l=a.showScoreAndAnswer&&u?"block":"none",p=Math.floor(1e8*Math.random()),f=e.$option({compId:n,index:s,optionId:t.id,optionLabel:t.label,inputType:"scoreRadio"==e.compJson.type||"r"==e.compJson.type||"scoreImageRadio"==e.compJson.type?"radio":"checkbox",checked:c,isAnswer:l,evaluate:a,ranId:p,isOtherOption:t.isOtherOption,src:t.src});o.append(f)})),o.html()}},{key:"$option",value:function(e){var t=e.compId,n=e.index,r=e.optionId,o=e.optionLabel,i=e.inputType,a=void 0===i?"radio":i,s=e.checked,c=e.isAnswer,u=(e.evaluate,e.ranId),l=e.isOtherOption,p="".concat(t).concat(n);o=this.tranSpaceAndEnter(o);var d=$(h(f,{id:p,inputType:a,compId:t,optionId:r,optionLabel:o,isAnswer:c,ranId:u}));return"edit"==this.eqxScene.config.mode&&d.children("label").append('\n                <div class="m-isAnswer eqf-yes" style="display: '.concat(c,';">\n                </div>\n            ')),l||d.find(".otherOptionBlank").addClass("hide"),"view"==this.eqxScene.config.mode&&s&&(d.find("input").attr("checked",!0),d.find(".eqx-radio").addClass("active")),d}},{key:"updateOptionsLabel",value:function(){var e=this,t=this.$li.find(".option-label").find("span");this.choices.options.forEach((function(n,r){$(t[r]).html(e.tranSpaceAndEnter(n.label))}))}},{key:"updateOptionImg",value:function(){var e=this,t=this.$formComp.find(".m-isAnswer");this.choices.options.forEach((function(n,r){var o=e.evaluate.answers&&e.evaluate.answers.length>0&&e.evaluate.answers.indexOf(n.id),i="none";(o=!(isNaN(parseInt(o))||!(o>=0)))&&e.evaluate.showScoreAndAnswer&&(i="inline-block"),$(t[r]).css("display",i)}))}},{key:"checkMin",value:function(){var e=this;this.getValue();var t,n,r=this.ruleHide?"（跳过）":this.formSubmitValueWithOtherOption,o=this.compJson.properties.formCheck,i=r.split(","),a={success:!0,pageId:this.pageId,key:this.name,value:r,elementId:this.id};return r&&(o&&!e.ruleHide&&null!==(t=o.min)&&void 0!==t&&t.checked&&null!==(n=o.min)&&void 0!==n&&n.limit&&i.length<o.min.limit&&(a.success=!1,a.message="最少选".concat(o.min.limit,"项"))),a}},{key:"checkMax",value:function(){var e=this;this.getValue();var t,n,r=this.ruleHide?"（跳过）":this.formSubmitValueWithOtherOption,o=this.compJson.properties.formCheck,i=r.split(","),a={success:!0,pageId:this.pageId,key:this.name,value:r,elementId:this.id};return r&&(o&&!e.ruleHide&&null!==(t=o.max)&&void 0!==t&&t.checked&&null!==(n=o.max)&&void 0!==n&&n.limit&&i.length>o.max.limit&&(a.success=!1,a.message="最多选".concat(o.max.limit,"项"))),a}},{key:"check",value:function(){var e=this,t=this.getValue(),n=this.formSubmitValueWithOtherOption,r=this.calcScore(t),o=i(l(p.prototype),"check",this).call(this),a=this.getEvaluateType(),s=a.type,c=a.evaType;if(o.success){var u=this.ruleHide?"（跳过）":"",f=[];if(n&&!this.ruleHide){var d=this.choices.options;n.split(",").forEach((function(t){var n=t,o="",i=t.indexOf("-");i>-1?(n=t.slice(0,i),o=" "+t.slice(i+1),f.push(t.slice(i+1))):f.push(""),d.forEach((function(t){t.id==n&&(e.evaluate&&!1===e.evaluate.showScoreAndAnswer||isNaN(parseInt(t.score))?u+="".concat(t.label).concat(o,"，"):u+="scoreCheckbox"!==s&&"scoreImageCheckbox"!==s||4!==c?"scoreRadio"!==s&&"scoreImageRadio"!==s||2!==c?"".concat(t.label).concat(o,"（").concat(t.score,"分），"):"".concat(t.label).concat(o,"（").concat(r,"分），"):"".concat(t.label).concat(o,"，"))}))})),u=u.slice(0,-1),("scoreCheckbox"===s||"scoreImageCheckbox"===s)&&4===c&&this.evaluate&&this.evaluate.showScoreAndAnswer&&(u+="（总得分：".concat(r,"分）"))}this.ruleHide&&(t="（跳过）"),t?(o.value=JSON.stringify({value:t,content:u,score:r}),o.origin=JSON.stringify({value:t,content:u,score:r,elementId:this.id,otherArr:f})):o.value="",o.score=r}return o}},{key:"getEvaluateType",value:function(){var e=this.compJson,t=e.type,n=e.properties.formRelevant.evaluate;return{type:t,evaType:n&&n.type}}},{key:"calcScore",value:function(e){var t=0,n=this.evaluate;if(this.ruleHide||void 0!==n.showScoreAndAnswer&&!n.showScoreAndAnswer)return 0;"string"==typeof n&&(n=JSON.parse(window.decodeURIComponent(window.atob(n))));var r=n,o=r.type,i=r.score,a=r.answers;o=parseInt(o);var s=this.choices.options,c={};s.forEach((function(e){c[e.id]=e}));var u=e?e.split(","):[],l=u.sort().join(",")==a.sort().join(",");switch(o){case 1:u.forEach((function(e){var n=c[e].score;t+=parseInt(10*n)})),t=isNaN(parseInt(10*t))?0:t;break;case 2:var p=c[e];p&&d(p.id)&&(t=parseInt(10*i));break;case 3:if(l)t=parseInt(10*i);else{var f=!1;u.forEach((function(e){var n=c[e];d(n.id)?t+=parseInt(10*n.score):f=!0})),f&&(t=0)}break;case 4:t=l?parseInt(10*i):0}function d(e){return a.find((function(t){return t==e}))}return isNaN(parseInt(t))?0:parseFloat(t/10)}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),this.callRuleTrigger=function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getValue())},n.on("change",(function(){t.callRuleTrigger()}))}},{key:"toJson",value:function(){var e=i(l(p.prototype),"toJson",this).call(this);e.properties.formRelevant&&e.properties.formRelevant.evaluate&&"string"!=typeof e.properties.formRelevant.evaluate&&(e.properties.formRelevant.evaluate=window.btoa(window.encodeURIComponent(JSON.stringify(e.properties.formRelevant.evaluate))));var t=e.choices;return"string"==typeof t&&(t=JSON.parse(t)),t.options.forEach((function(e){delete e.isAnswer})),e}},{key:"randomSort",value:function(e){for(var t=e.length,n=0;n<t-1;n++){var r=Math.floor(Math.random()*(t-n)),o=e[r];e[r]=e[t-n-1],e[t-n-1]=o}return e}},{key:"answerRendered",value:function(e){var t=this,n=this.getValue(),r=n?n.split(","):[],o=this.evaluate.answers,i=r.sort().join(",")==o.sort().join(","),a=!0;o.length&&!i||(a=!1),this.choices.options.forEach((function(n){var i;a&&(i=o.find((function(e){return e==n.id}))?"correct":"");var s=r.find((function(e){return e==n.id}))?"selected":"";s&&!i&&a&&(i="error"),e.append(g(n,i,s,t.tranSpaceAndEnter))}))}},{key:"autoFill",value:function(e,t){if(!String(e).includes("（跳过）"))try{var n={};try{n=JSON.parse(e)}catch(t){var r=e.split(",");n.value=[],n.otherArr=[],r.forEach((function(e){e=e.split("-"),n.value.push(e.shift()),n.otherArr.push(e.join("-"))})),n.value=n.value.join(",")}var o=n,i=o.value,a=o.otherArr,s=void 0===a?[]:a,c=i.split(","),u=this.$li.find('[name="'.concat(this.name,'"]')).toArray();c.forEach((function(e,t){for(var n=0;n<u.length;n++)if($(u[n]).find("input.option").val()==e){$(u[n]).find("input.option").prop("checked",!0),$(u[n]).addClass("active");var r=s[t];$(u[n]).siblings(".otherOptionBlank").val(r);break}})),"showLast"===t&&this.$li.css("pointer-events","none")}catch(e){console.log(e)}}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=b},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=n(250),a=(o=i)&&o.__esModule?o:{default:o};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=n(130).$getVoteResultAll,w=n(35),S=n(0).isWeixin,k=n(918),O=n(921),E=n(50).convertNum,C=n(16).getRatio,_=(n(295).sub,n(198).voteBtnTpl),I=n(109).getVoteIconType,P=n(0).isIOS,T=n(924).adapterAdroidJump,R=n(4),A=R.getUrlParam,q=R.openUrl,j=n(925),L=n(3).parse,M=n(23).filterTags,D=n(45).throttle,B=n(6).linkRiskIframeModal,F=n(926),N=F.getVoteGroupDom,H=F.getEmptyVoteGroupDom,z=n(254),J=n(927),V=n(9).qiniuZoom;n(928),n(929),n(199);var U=n(0).isPc(),W=n(109).getVoteIconShow,G=n(296).getEmptyDom,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=v(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).optionsHided=[],n.voteResult={},n.votedList=[],n.isVoted=!1,n.innerNotHeight=!1,n.timer={handleOptions:0},n.groupListManager=z().createListManager(n.compJson),n.voteOptionsService=J().createOptionManager(n.compJson,n.groupListManager),$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n.eqxScene.formManager.add(y(n)),n.handlerSearchThis=n.handlerSearch.bind(y(n)),n.lastCurrent=-1,n.listData=n.groupListManager.showOptionList,n.adaptPositions=[],n.count=0,n.hasResult=!1,n.rankResultCache={},n}return t=i,(n=[{key:"hasGroup",get:function(){return this.groupListManager.showList.length>0}},{key:"updateCompForRender",value:function(){if(this.rendered=!1,this.eqxPage.renderEqxComp(this),this.VirtualManager){var e,t=null===(e=this.$context)||void 0===e?void 0:e.find(".infinite-list-phantom").get(0),n=this.groupListManager.showOptionList;this.VirtualManager.setParentNode(t),this.VirtualManager.updateList(n)}}},{key:"initPositions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,n=arguments.length>1?arguments[1]:void 0;if(this.adaptPositions.splice(0),"textVote"===this.type){var r=this.compJson.properties.formRelevant.voteSettings.list,o=void 0===r?[]:r;return n&&(o=n),void(this.positions=o.map((function(e,n){return e.index=n,{id:e.id,index:n,height:t,top:n*t,bottom:(n+1)*t}})))}var i=this.getOpenAdaption();this.isMutipleAdapt=i&&"multiple"===this.voteSettings.arrayType;var a=C();if(this.isMutipleAdapt){for(var s={width:130,marginLeft:20,marginBottom:16},c=s.width*a,u=c+s.marginLeft*a,l=Math.floor(20*C()),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return isNaN(e)||!e?t*a:e},d=this.compJson.css,h=d.paddingLeft,m=d.paddingRight,v=d.width,g=parseInt(f(v,32))-parseInt(f(h))-parseInt(f(m)),y=Math.floor((g+l)/u),b=[],x=0;x<y;x++)b[x]=0,this.adaptPositions[x]=[];var w=[];w=p(n||this.listData),this.positions=w.map((function(t,n){t.index=n,!t.ratio&&(t.ratio=1);for(var r=b[0],o=0,i=0;i<y;i++)b[i]<r&&(r=b[i],o=i);var a=e.computeHeight(t,c),s=a.height,l=a.imgHeight;"edit"!==e.eqxScene.config.mode&&e.optionsHided&&e.optionsHided.length&&e.optionsHided.map(String).includes(String(t.id))&&(s=0),b[o]+=s;var p={id:t.id,index:n,imgHeight:l,height:s,left:o*u,top:r,bottom:r+s,content:t.content,colIndex:o};return e.adaptPositions[o].push(p),p}))}else{var S=n||this.listData;this.positions.splice(0),S&&S.forEach((function(t,n){t.index=n;var r=("multiple"===e.voteSettings.arrayType?130:280)*a,o=e.computeHeight(t,r),i=o.height,s=o.imgHeight;"edit"!==e.eqxScene.config.mode&&e.optionsHided&&e.optionsHided.length&&e.optionsHided.map(String).includes(String(t.id))&&(i=0);var c=0,u=(c="multiple"===e.voteSettings.arrayType?0===n||1===n?0:n%2==0?e.positions[n-1].bottom:e.positions[n-2].bottom:0===n?0:e.positions[n-1].bottom)+i;e.positions.push({id:t.id,index:n,height:i,top:c,bottom:u,imgHeight:s})}))}this.isMutipleAdapt||(this.adaptPositions[0]=[]),this.VirtualManager&&this.VirtualManager.setPositions(this.positions,this.adaptPositions[0])}},{key:"computeHeight",value:function(e,t){var n="auto",r=0,o=this.getOpenAdaption(),i=C();o?"list"===this.voteSettings.arrayType?r=n=e.cover.includes("624521586073-kg9zf191y7n.svg")?100*i:100*e.ratio:n=e.cover.includes("1624521649900-85s9bpj0dbn.svg")?158*i:e.ratio*t:n="list"===this.voteSettings.arrayType?100*i:"multiple"===this.voteSettings.arrayType?"videoVote"===this.type?230*i:130*i:158*i;for(var a=e.content.split("\n"),s=0,c=0;c<a.length-1;c++){var u=0;if(a[c].length>0)for(var l=0;l<a[c].length;l++)/[\uff00-\uffff]/.test(a[c][l])?u+=16.8*i:/[\u4E00-\u9FFF]/.test(a[c][l])?u+=14*i:u+=4.2*i;else u=1;s+=Math.ceil(u/(t-16))}r=14*s*1.3*i;for(var p=0,f=0;f<a[a.length-1].length;f++)/[\uff00-\uffff]/.test(a[a.length-1][f])?p+=16.8*i:/[\u4E00-\u9FFF]/.test(a[a.length-1][f])?p+=14*i:p+=4.2*i;return"none"!==W(e)&&(p+=50*i),r+=14*Math.ceil(p/(t-16))*1.3*i,"list"!==this.voteSettings.arrayType&&(r=16*i+r+n),this.isCanDirectVote&&(r+=32*i),{height:r,imgHeight:n}}},{key:"initVirtualManager",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.adaptPositions,this.VirtualManager&&(this.VirtualManager.destroy(),this.VirtualManager=null);var r=this.compJson,o=r.properties.formRelevant.voteSettings;this.voteSettings=o,o.list;var i,s,c=o.arrayType,u=void 0===c?"single":c,l="edit"!==this.eqxScene.config.mode,p=30,f=null===(e=this.$context)||void 0===e?void 0:e.find(".infinite-list-phantom").get(0);if(this.dataLen=this.listData.length,l?U?"pcMobileRender"!==this.eqxPage.renderMode?(this.eqxScene.config.isInnerView,i=(this.eqxPage.$section||$(".main-page.z-current")).parents(".nr").get(0),p=256):(p=241,i=(this.eqxPage.$section||$(".main-page.z-current")).parents(".nr").get(0)):i=(this.eqxPage.$section||$(".main-page.z-current")).parents(".nr").get(0):i=$(".workspace").get(0),this.compJson.scrollElementSeletor&&(s=void 0,i=document.querySelector(this.compJson.scrollElementSeletor)),"textVote"===this.type&&(p=35),i&&f){this.initPositions(p,this.listData);var d={scrollContainer:i,parentNode:f,singleHeight:p,total:this.dataLen,callback:this.updateItems.bind(this),positions:this.positions,correctionPositions:this.updateItemsSize.bind(this),row:"multiple"===u?2:1,list:this.groupListManager.getCurrentList(),calcHideTop:s,imgInfo:{isImg:!0,arrayType:this.voteSettings.arrayType},adaptPositions:this.adaptPositions[0],topCache:12,bottomCache:12,optionsHided:this.optionsHided,isView:l,initPositions:this.initPositions.bind(this),needCorrectPos:!0,isTextVote:"textVote"===this.type};"multiple"===u&&"pcRender"===this.eqxPage.renderMode&&(d.row=4),this.VirtualManager=new a.default(d)}else setTimeout((function(){t.initVirtualManager({adaptPositions:t.adaptPositions})}),50)}},{key:"getOpenAdaption",value:function(){var e=this.getVoteSettings();return"textVote"!==this.type&&e.openAdaption}},{key:"showResult",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("edit"!==this.eqxScene.config.mode){var n=this.voteSettings,r=n.list,o=n.showResult;if(o&&this.hasResult&&this.updateVoteResult(this.count,t),o){var i=this.eqxScene.config.disableGetVoteData?new Promise((function(e,t){e({obj:{}})})):x(this.compJson.pageId,this.eqxScene.meta.code);return i.then((function(n){e.voteSettings.initValue;var o=n.obj[e.id]||{},i=0;r.forEach((function(t){var n=t.id,r=o[n]||0;e.voteSettings.hasInitValue&&(r+=e.voteSettings.initValue),i+=r,e.voteResult[n]=r})),e.count=i,e.timer.updateVoteResult&&clearTimeout(e.timer.updateVoteResult),e.timer.updateVoteResult=setTimeout((function(){return e.updateVoteResult(i,t)}),30),e.hasResult=!0})),i}}}},{key:"getResultData",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.voteSettings,r=n.list,o=n.showResult;if(o)return this.showResult(t);var i=this.eqxPage.pageJson.properties.checkVotingRanking,a=void 0===i?{}:i;if(a.isAllow){var s=this.eqxScene.config.disableGetVoteData?new Promise((function(e){return e({obj:{}})})):x(this.compJson.pageId,this.eqxScene.meta.code);return s.then((function(n){var o=n.obj[e.id]||{},i=0;r.forEach((function(t){var n=t.id,r=o[n]||0;i+=r,e.voteResult[n]=r})),e.count=i,e.updateVoteResult(i,t)})),s}return!1}},{key:"isCanDirectVote",get:function(){var e=A("sourceType");if(e&&["showLast","updateLast"].includes(e))return!1;var t=this.eqxPage.getAllFormComps(!1);return"textVote"!==this.type&&1===t.length&&t[0]===this&&"single"===this.getVoteSettings().chooseModal}},{key:"changeResultState",value:function(e){var t=e?"block":"none";this.$context.find(".vote-result").css({display:t})}},{key:"updateOptionContent",value:function(e,t){var n=".item-option-".concat(e);this.$context.find(n).html(this.tranSpaceAndEnter(t)),this.updateVoteHeight()}},{key:"updateSubmitCss",value:function(e){if(e&&this.isCanDirectVote){var t=this.eqxPage.pageJson.properties.formStyle;t.button||(t.button={}),Object.assign(t.button,e),this.$formComp.find(".vote-button").css({color:t.button.color,"border-color":t.button.backgroundColor,"background-color":t.button.backgroundColor})}}},{key:"updateOptionDes",value:function(){var e=this.$formComp.find(".item-option-info");this.compJson.properties.formRelevant.voteSettings.list.forEach((function(t,n){var r="none";(t.des||t.imgs||t.voteLink)&&(r="inline-block");var o=$(e[n]);o.css("display",r),(t.des||t.imgs)&&o.find("em").attr("class","eqf-info-l"),t.voteLink&&o.find("em").attr("class","eqf-link")})),this.updateVoteHeight()}},{key:"updateVoteLink",value:function(){var e=this,t=this.$formComp.find(".link-preview");this.getVoteSettings().list.forEach((function(n,r){var o="none";n.voteLink&&"edit"==e.eqxScene.config.mode&&(o="block"),$(t[r]).css("display",o)}))}},{key:"updateVoteHeight",value:function(){this.$li.css({height:""}),this.update$li({height:this.$li.outerHeight()})}},{key:"isVoted",value:function(){var e=this;return new Promise((function(t,n){var r=e.getVoteSettings().endTime;if(r&&new Date(r)<Date.now())console.log("投票已过期"),n();else if(S()){var o=e.compJson,i=o.sceneId,a=o.pageId,s=o.id;$isVoted(s,{sceneId:i,pageId:a}).then((function(r){r.obj?(e.showResult(r.map),n()):t()}))}else n()}))}},{key:"updateVoteResult",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.rankResultCache={},Object.keys(this.voteResult).forEach((function(r){var o=t.voteResult[r],i=E(o),a=!o/e?" / 0%":" / "+parseFloat(o/e*100).toFixed(1)+"%";n&&t.$li&&t.$li.find(".vote_".concat(t.id,"_").concat(r)).find(".vote-result").text("".concat(i,"票").concat(a)).show(),t.rankResultCache["vote_".concat(t.id,"_").concat(r)]={num:i,percent:a}}))}},{key:"_updateSize",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=h(b(i.prototype),"_updateSize",this)).call.apply(e,[this].concat(n)),this.$li&&this.$li.css("height","auto"),this.$li&&this.update$li({height:this.$li.outerHeight()})}},{key:"getVoteSettings",value:function(){if(!this.voteSettings){var e=this.compJson.properties.formRelevant.voteSettings,t=void 0===e?{}:e;this.voteSettings=t}return this.voteSettings}},{key:"resetSearchValue",value:function(){this.$searchBox&&(this.$searchBox.find("input").val(""),this.$searchBox.find(".clearSearch").hide(),this.handlerSearch({target:{value:""}}))}},{key:"matchSelector",value:function(e,t){return!!this.$li.find(t).get().includes(e)||!!$(e).parents(t).get(0)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;h(b(i.prototype),"bindAfterRenderEvent",this).call(this,e,t),$(e).attr("tabIndex","10"),$(e).on("blur",(function(){var e=n.checkMin();e.success||setTimeout((function(){n.showFormErrMsg(e.message)}),200)}));var r=this.id,o=this;this.isCanDirectVote||this.$li.on("change",(function(e){n.matchSelector(e.target,'input[name="eq[f_'.concat(r,']"]'))&&n.$li.find('input[name="eq[f_'.concat(r,']"]')).each((function(e,t){if(!n.disabled){var r="removeClass",o=$(t).parents("li[option-id]").attr("option-id");t.checked?(r="addClass",n.voteOptionsService.selectByIndex(Number(o),!0)):n.voteOptionsService.cancelSelectByIndex(Number(o)),$(t).parent()[r]("active")}}))})),this.$li.on("input propertychange",(function(e){if(n.matchSelector(e.target,".otherOptionBlank")){var t=$(e.target).parents("li[option-id]").attr("option-id");n.voteOptionsService.updateOtherInput(t,$(e.target).val())}})),"textVote"===this.type?(this.$li.on("click",(function(r){n.matchSelector(r.target,".item-option-info")&&(r.stopPropagation(),r.preventDefault(),"pc"==n.eqxPage.previewMode?O.openVoteTipPC(e,t,r.target,n.eqxPage.eqxSectionCover):k.openVoteTip(e,t,r.target,n.eqxPage.eqxSectionCover))})),this.$li.on("click",(function(e){if(n.matchSelector(e.target,"li[option-id]")){var t=$(e.target).parents("li[option-id]");setTimeout((function(){var e=o.checkMax();e.success||($(t).find("input.radioOrCheckbox").prop("checked")&&o.eqxPage.showElementById(o.id),o.showFormErrMsg(e.message))}),200)}}))):(this.$li.on("click",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isCanDirectVote&&n.matchSelector(t.target,"label")||n.matchSelector(t.target,".".concat(I({voteLink:!0})))){e.next=2;break}return e.abrupt("return");case 2:if(r=$(t.target).parents("li[option-id]").attr("option-id"),!(o=n.getOptionList().find((function(e){return e.id==r})))||!o.voteLink){e.next=29;break}return t.stopPropagation(),t.preventDefault(),i=o.voteLink,a=n,/(http|https):\/\/([\w.]+\/?)\S*/.test(i)||(i="http://"+i),e.next=12,n.eqxScene.formManager.checkGcVerifyCode(i);case 12:if(s=e.sent,c=s.risk,u=s.link,!c){e.next=18;break}return B(u,n.eqxScene),e.abrupt("return",!1);case 18:if(!n.eqxScene.config.isInnerView){e.next=21;break}return window.open(i),e.abrupt("return",!1);case 21:if(!P()){e.next=26;break}return q(i),e.abrupt("return",!1);case 26:-1!=location.href.indexOf("eqxiu.com")&&"pcRender"==a.eqxPage.renderMode&&(i+="?pcRenderView=1"),"mobileRender"!==a.eqxPage.renderMode?window.open(i):(T(a),a.isCanDirectVote?location.href=i:a.fire("imageVote.adapter.andeoid",(function(){location.href=i})));case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),this.$li.on("click",(function(e){var t=$(e.target);if(n.matchSelector(e.target,"li[option-id]")){var r=$(e.target).parents("li[option-id]").attr("option-id");if(!n.getOptionList().find((function(e){return e.id==r})).voteLink||!(n.isCanDirectVote&&n.matchSelector(e.target,"label")||n.matchSelector(e.target,".".concat(I({voteLink:!0})))))if(n.isCanDirectVote||"EM"===e.target.tagName||!t.hasClass("item-option")&&!t.parents(".item-option").length){var o=e.target.classList.contains("eqf-play-f"),i=t.attr("option-id")||t.parents("li[option-id]").attr("option-id");n.eqxPage.showVoteDetail(n.id,i,o),e.stopPropagation(),e.preventDefault()}else setTimeout((function(){var e=n.checkMax();e.success||(t.find("input").prop("checked")&&n.eqxPage.showElementById(n.id),n.showFormErrMsg(e.message))}),200)}}))),this.hasSearch&&this.$searchBox&&(this.$searchBox.find("input")[0].addEventListener("input",D(this.handlerSearch.bind(this),500,300)),this.$searchBox.find("form")[0].addEventListener("submit",(function(e){return n.$searchBox.find("input")[0].blur(),e.preventDefault(),!1})),this.$searchBox[0].addEventListener("click",(function(e){if(n.$searchBox&&e.target.classList.contains("clearSearch"))return n.handleOptions().then((function(){n.showGroup()})),n.$searchBox.find("input")[0].focus(),e.stopPropagation(),e.preventDefault(),!1}))),this.getVoteSettings().showResult&&requestAnimationFrame((function(){return n.showResult()})),this.hasGroup&&this.$groupBox.find(".vote-group-item").on("click",(function(e){var t=e.currentTarget.dataset.id;n.changeCurrentGroup(t)}))}},{key:"updateItemsSize",value:function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!1,o=null===(e=this.$context)||void 0===e?void 0:e.find("li");o&&(o.each((function(e,n){var o=$(n).attr("option-id");if($(n).attr("option-id")&&"undefined"!==o){var i=JSON.parse(o),a=$(n).outerHeight(!0),s=t.positions.findIndex((function(e){return String(e.id)===String(i)}));if(t.positions[s]){var c=t.positions[s].height-a;if(c){r=!0;var u=s+1;if(t.positions[s].bottom=t.positions[s].bottom-c,t.positions[s].height=a,t.isMutipleAdapt){var l=t.positions[s].colIndex,p=t.adaptPositions[l].findIndex((function(e){return e.index===s})),f=t.adaptPositions[l][p];if(f.bottom=t.positions[s].bottom,f.height=t.positions[s].height,u=p+1,t.adaptPositions[l][u])for(;u<t.adaptPositions[l].length;){var d=t.adaptPositions[l][u];t.positions[d.index].top=d.top=t.adaptPositions[l][u-1].bottom,t.positions[d.index].bottom=d.bottom=d.bottom-c,u++}}else if("multiple"===t.voteSettings.arrayType)for(s%2==0&&(u=s+2);u<t.positions.length;)t.positions[u].top=u%2==0?Math.max(t.positions[u-1].bottom,t.positions[u-2].bottom):Math.max(t.positions[u-2].bottom,t.positions[u-3].bottom),t.positions[u].bottom=t.positions[u].top+t.positions[u].height,u++;else for(;u<t.positions.length;)t.positions[u].top=t.positions[u-1].bottom,t.positions[u].bottom=t.positions[u].bottom-c,u++}}}})),this.isMutipleAdapt||(this.adaptPositions[0]=[]),r&&n&&(this.VirtualManager.setPositions(this.positions,this.adaptPositions[0]),this.correctHeight()))}},{key:"correctHeight",value:function(){var e,t,n=Math.max.apply(Math,p(this.positions.map((function(e){return e.bottom}))));"textVote"!==this.type&&this.$formComp.css("height",n),"edit"!==this.eqxScene.config.mode&&(null===(e=this.eqxPage)||void 0===e||null===(t=e.EqxFormRulesTrigger)||void 0===t||t.updatePageAwait())}},{key:"correctDom",value:function(){var e,t=this;null===(e=this.$li.find("li"))||void 0===e||e.each((function(e,n){var r=$(n).attr("data-index"),o=t.positions.length,i=o>r?t.positions[r].top:t.positions[o-1].bottom;$(n).css({top:i})}))}},{key:"handleGroup",value:function(e){var t=this;if(this.$li.css("height",this.$li.height()),this.VirtualManager&&this.VirtualManager.updateList(e),this.listData=this.groupListManager.showOptionList,0===e.length&&this.hasGroup){if(this.$li.find(".no-option").remove(),this.$li.find(".vote-group-empty").length<=0){var n=$(H());this.$li.find(".element-box-contents").append(n),this.$li.find(".form-comp-box").hide()}}else if(0===e.length){if(this.$li.find(".vote-group-empty").remove(),0===this.$li.find(".no-option").length){var r=$(G());this.$li.find(".form-comp-box").append(r),this.$li.find(".form-comp-box").show()}}else this.$li.find(".no-option").remove(),this.$li.find(".vote-group-empty").remove(),this.$li.find(".form-comp-box").show();var o=e.map((function(e){return parseInt(e.id)})),i=this.optionsHided.map((function(e){return parseInt(e.id)}));this.$li.find("li[option-id]").toArray().forEach((function(e){var t=parseInt(e.getAttribute("option-id"));o.includes(t)&&!i.includes(t)?($(e).removeClass("item-not-in-group"),$(e).attr("groupHide",!1)):($(e).addClass("item-not-in-group"),$(e).attr("groupHide",!0))}));var a=this.eqxPage.getFormStyle("input");this.updateVoteLiCss(a),this.updateVoteRender(!1),setTimeout((function(){t.VirtualManager&&t.VirtualManager.update(),t.updateFormHeight()}))}},{key:"hideGroup",value:function(){var e=this;this.$groupBox.hide(),this.$li.find(".vote-group-empty").remove(),this.$li.find("li[groupHide = 'true']").toArray().forEach((function(e){$(e).removeClass("item-not-in-group")})),setTimeout((function(){e.updateFormHeight()}))}},{key:"showGroup",value:function(){this.$groupBox.show();var e=this.groupListManager.getCurrentList();this.handleGroup(e)}},{key:"handlerSearch",value:function(e){if(e.isComposing)return e.target.addEventListener("compositionend",this.handlerSearchThis,{once:!0}),!0;var t=e.target.value;this.voteOptionsService.setOptionsHided(this.optionsHided);var n=this.voteOptionsService.searchByContext(t).map((function(e){return String(e.id)})),r=t&&0===n.length;this.handlerShowOption(n,r,!0),t?(this.$searchBox.find(".clearSearch").show(),this.hideGroup()):(this.$searchBox.find(".clearSearch").hide(),this.showGroup())}},{key:"handlerShowOption",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("textVote"===this.type){var o=this.$li.find("li[option-id]").toArray();t?(this.$li.find(".vote-group-empty").remove(),this.$searchBox&&this.$searchBox.find(".vote-search-empty").css("display","flex"),this.$formComp&&this.$formComp.css("visibility","hidden")):(this.$searchBox&&this.$searchBox.find(".vote-search-empty").hide(),this.$formComp&&this.$formComp.css("visibility","visible"));var i=this.optionsHided.map(String);return o.forEach((function(t){var n=String(t.getAttribute("option-id"));e.includes(n)&&!i.includes(n)?($(t).show(),r&&$(t).removeClass("item-not-in-group"),$(t).attr("searchHide",!1)):($(t).attr("searchHide",!0),$(t).hide())})),this.$li.find(".form-comp-box").show(),void this.updateVoteRender()}t?(this.$li.find(".vote-group-empty").remove(),this.$searchBox&&this.$searchBox.find(".vote-search-empty").css("display","flex"),this.$formComp&&this.$formComp.css("visibility","hidden"),this.update$li({height:0}),this.$formComp.css("height",0)):(this.$searchBox&&this.$searchBox.find(".vote-search-empty").hide(),this.$formComp&&this.$formComp.css("visibility","visible")),this.listData=this.groupListManager.showOptionList.filter((function(t){return e.includes(String(t.id))})),this.VirtualManager&&this.VirtualManager.updateList(this.listData),requestAnimationFrame((function(){n.updateVoteRender()}))}},{key:"hideFormErrMsg",value:function(){if(!this.hasSearch)return h(b(i.prototype),"hideFormErrMsg",this).call(this);this.$li.removeClass("validatError noTitle").removeAttr("error-log")}},{key:"showFormErrMsg",value:function(e){if(!this.hasSearch)return h(b(i.prototype),"showFormErrMsg",this).call(this,e);var t="validatError";try{var n=this.compJson.properties.formRelevant,r=n.title,o=n.des;"none"==r.css.display&&"none"==o.css.display&&(t+=" noTitle")}catch(e){console.log(e)}this.$li.addClass(t).attr("error-log",e)}},{key:"handleOptions",value:function(e){var t=this;if(!this.$li)return!1;this.$searchBox&&this.resetSearchValue(),this.timer.handleOptions&&clearTimeout(this.timer.handleOptions);var n=new Promise((function(e,n){t.timer.handleOptions=setTimeout((function(){t.handlerShowOption(t.getOptionList().map((function(e){return String(e.id)})),!1),e()}),600)}));return e||"edit"===this.eqxScene.config.mode||this.eqxPage.awitUpdate(!0),n}},{key:"checkMin",value:function(){var e=this;this.getValue();var t,n,r=this.ruleHide?"（跳过）":this.getValue(),o=this.compJson.properties.formCheck,i=r.split(","),a=(this.$li.find("li[option-id]").toArray().length,{success:!0,pageId:this.pageId,key:this.name,value:r,elementId:this.id});return r&&(o&&!e.ruleHide&&null!==(t=o.min)&&void 0!==t&&t.checked&&null!==(n=o.min)&&void 0!==n&&n.limit&&i.length<o.min.limit&&(a.success=!1,a.message="最少选".concat(o.min.limit,"项"))),a}},{key:"checkMax",value:function(){var e=this;this.getValue();var t,n,r=this.ruleHide?"（跳过）":this.getValue(),o=this.compJson.properties.formCheck,i=r.split(","),a={success:!0,pageId:this.pageId,key:this.name,value:r,elementId:this.id};return r&&(o&&!e.ruleHide&&null!==(t=o.max)&&void 0!==t&&t.checked&&null!==(n=o.max)&&void 0!==n&&n.limit&&i.length>o.max.limit&&(a.success=!1,a.message="最多选".concat(o.max.limit,"项"))),a}},{key:"check",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.getValue(),n=this.compJson.properties.required,r=this.compJson.properties.formCheck,o=t.split(","),i=this.voteOptionsService.list.length>0,a={success:!0,pageId:this.pageId,key:this.name,value:t,elementId:this.id};return t?function(){var t,n,i,s;if(r&&!e.ruleHide)null!==(t=r.min)&&void 0!==t&&t.checked&&null!==(n=r.min)&&void 0!==n&&n.limit&&o.length<r.min.limit?(a.success=!1,a.message="最少选".concat(r.min.limit,"项")):null!==(i=r.max)&&void 0!==i&&i.checked&&null!==(s=r.max)&&void 0!==s&&s.limit&&o.length>r.max.limit&&(a.success=!1,a.message="最多选".concat(r.max.limit,"项"))}():n&&i&&(a.success=!1,a.message="".concat("该项"," 为必填项")),a}},{key:"getVoteRecord",value:function(e){var t=localStorage.getItem("voteRecordsLongPage");if(t){t=JSON.parse(t);var n=this.voteSettings,r=this.eqxScene.id,o=this.id;if(t[r]){var i=t[r][o];if(i&&(!n||n&&i.find((function(t){return t===e}))>-1))return!0}return!1}return!1}},{key:"updateVoteRecord",value:function(e){var t=localStorage.getItem("voteRecordsLongPage"),n=this.eqxScene.id,r=this.id;t||(t={}),t[n]||(t[n]={}),t[n][r]||(t[n][r]=[]),t[n][r].push(e),localStorage.setItem("voteRecordsLongPage",JSON.stringify(t))}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e);var n=this.ruleIds;this.$li.on("click",(function(e){t.matchSelector(e.target,"#".concat(t.id," input"))&&setTimeout((function(){var e=t.getValue();t.eqxPage.EqxFormRulesTrigger.listen(n,t.id,e)}))}))}},{key:"getOptionArray",value:function(){var e=[],t=this.getVoteSettings().list;return"string"==typeof t&&(t=JSON.parse(t)),t.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.label=n.content,n.default&&(n.default=!1),e.push(n)})),e}},{key:"getOptionHash",value:function(){var e={};return this.getVoteSettings().list.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.label=n.content,n.default&&(n.default=!1),e[t.id+""]=n})),e}},{key:"getOptionList",value:function(){var e=[];return this.getVoteSettings().list.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.label=n.content,n.default&&(n.default=!1),e.push(n)})),e}},{key:"getTextDetail",value:function(e){var t=this.getTipTitle(),n=this.getOptionHash(),r=[];return e.forEach((function(e){n[e]&&r.push(n[e].label)})),{title:t,options:r}}},{key:"isDefaultTitle",value:function(){var e=this.compJson.properties.formRelevant&&this.compJson.properties.formRelevant.title.content;return["文字投票","图片投票","视频投票"].includes(e)}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.getVoteSettings(),i=o.list;i.forEach((function(o){var i=e.map(String),a=t.$li.find('li[option-id="'.concat(o.id,'"] input.radioOrCheckbox'));i.includes(String(o.id))?n&&t.voteOptionsService.isSelected(o.id)?(a.parent().removeClass("active"),a.prop("checked",!1),t.voteOptionsService.cancelSelect(o.id)):(a.prop("checked",!1),a.parent().addClass("active"),t.voteOptionsService.select(o.id,!0)):(r||"single"===t.voteSettings.chooseModal)&&(a.prop("checked",!1),a.parent().removeClass("active"),t.voteOptionsService.cancelSelect(o.id))}))}},{key:"getValue",value:function(){return this.voteOptionsService.setOptionsHided(this.optionsHided),this.voteOptionsService.getSelectedValue()}},{key:"updateChooseModal",value:function(){var e="radio_vote",t="checkbox_vote";"single"===this.voteSettings.chooseModal&&(e="checkbox_vote",t="radio_vote"),this.$li.find(".vote-select-mode").removeClass(e).addClass(t),this.eqxPage.updateVoteCanDirectVote()}},{key:"updateCanDirectVote",value:function(){var e=this;!!this.$li[0].querySelector(".vote-button")!==this.isCanDirectVote&&(this.hideSubmit(),this.$li.find(".vote-select-mode").css("display",this.isCanDirectVote?"none":"inline-block"),this.isCanDirectVote?this.$li.find("li").each((function(t,n){$(_).appendTo($(n)),e.updateSubmitCss({})})):this.$li.find(".vote-button").remove(),this.VirtualManager&&this.VirtualManager.updateList(this.groupListManager.showOptionList),this.updateFormHeight())}},{key:"create$li",value:function(){h(b(i.prototype),"create$li",this).call(this),this.$formComp.css({"border-width":"0px","background-color":"transparent","border-radius":"0px"}),this.render$SearchBox(),this.render$GroupBox();var e=c(c({},this.eqxPage.getFormStyle("input")),this.eqxPage.getFormStyle("border"));return this.updateVoteLiCss(e),this.$li}},{key:"updateFormCompCss",value:function(e){if(e){var t=JSON.parse(JSON.stringify(e));if(0!=Object.keys(t).length){var n=JSON.parse(JSON.stringify(t));n.borderRadius&&delete n.borderRadius,"textVote"===this.type&&this.$formComp.css(n),this.render$SearchBox(),this.updateGroupCss(e),this.updateCss(t),this.autoSizeTopDown(),this.updateVoteLiCss(n),this.updateFormHeight()}}}},{key:"updateVoteOptionCss",value:function(e){e&&this.$formComp.find("li .item-option").css({backgroundColor:e.backgroundColor,color:e.color})}},{key:"updateVoteLiCss",value:function(e){if(e){var t,n=this.compJson,r=n.type,o=n.css,i=o.borderWidth,a=o.borderStyle,s=o.borderColor,c=(o.borderRadius,o.backgroundColor),u=e.borderWidth,l=void 0===u?i:u,p=e.borderStyle,f=void 0===p?a:p,d=e.borderColor,h=void 0===d?s:d,m=(e.borderRadius,e.backgroundColor),v=void 0===m?c:m,g={};"textVote"!==r?(t="li",g={border:"".concat(l,"px ").concat(f," ").concat(h)},this.$formComp.find(t).find(".item-option").css({backgroundColor:v}),this.$formComp.find(t).css(g)):(this.$formComp.find("li").css({borderBottom:"none"}),g={borderBottom:"".concat(l>1?1:l,"px ").concat(f," ").concat(h)},this.hasGroup?(t='li[grouphide="false"]',this.$formComp.find(t).css(g),this.$formComp.find(t).last().css({borderBottom:"none"})):(t="li:not(:last-child)",this.$formComp.find(t).css(g)))}}},{key:"adaptFormHeight",value:function(){var e=this.getVoteSettings().arrayType;if("pc"===this.eqxPage.previewMode){if("multiple"===e)if(this.getOpenAdaption())this.updateVoteRender();else{var t=this.$li.find("ul").find("li").not(":hidden"),n=t.length,r=n%4;t.each((function(e,t){var o={marginRight:"50px"};(e-3)%4==0?o.marginRight="0px":e%4==0&&(o.clear="left"),e>=n-r&&(o.paddingBottom="0px",o.marginBottom="0px"),$(t).css(o)}))}else if("single"===e){var o;null===(o=this.$li)||void 0===o||o.find(".vote-content-wrap").css("height","384px")}}else this.updateVoteRender();return this.$li.css({height:""}),this.getOpenAdaption()&&"multiple"===e?this.compJson.css.height:this.$li.outerHeight()}},{key:"updateFormHeight",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.compJson;r.properties.formRelevant=r.properties.formRelevant?r.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}},this.$li&&this.$li.css("height",""),this.calcTitleAndDesHeight();var o=this.getVoteSettings(),i=o.arrayType,a=r.css,s=a.paddingTop,c=a.paddingBottom;this.getVoteSettings().list.filter((function(e){return!t.optionsHided||-1==t.optionsHided.indexOf(e.id)})),parseFloat(s),parseFloat(c),this.$li&&(this.getOpenAdaption()?this.addAdaptionClass&&this.addAdaptionClass():this.removeAdaptionClass&&this.removeAdaptionClass());var u=0;this.positions&&(u=Math.max.apply(Math,p(this.positions.filter((function(e){return!!t.listData.find((function(t){return t.id===e.id}))})).map((function(e){return e.bottom})))));var l=u;"textVote"==this.type?(this.update$li({height:"auto"}),this.$formComp.css("height","auto")):this.getOpenAdaption()&&"multiple"===i?(this.VirtualManager&&this.VirtualManager.updateList(this.groupListManager.showOptionList),this.positions&&this.positions.length>0&&(l=Math.max.apply(Math,p(this.positions.filter((function(e){return!!t.listData.find((function(t){return t.id===e.id}))})).map((function(e){return e.bottom})))),this.update$li({height:l}),this.$formComp.css("height",l))):(e||(this.VirtualManager&&this.VirtualManager.updateList(this.groupListManager.showOptionList),this.VirtualManager&&this.updateItemsSize(!1)),this.positions&&this.positions.length>0?(u=Math.max.apply(Math,p(this.positions.filter((function(e){return!!t.listData.find((function(t){return t.id===e.id}))})).map((function(e){return e.bottom})))),l=u,this.update$li({height:l}),this.$formComp.css("height",l)):setTimeout((function(){t.positions&&0!==t.positions.length||(l="auto"),t.update$li({height:l}),t.$formComp.css("height",l)}),600)),this.autoSizeTopDown();var f,d,h=this.eqxScene.config.mode;this.VirtualManager&&(this.VirtualManager.updateHeight(),n&&this.VirtualManager.update()),"edit"!==h?null===(f=this.eqxPage)||void 0===f||null===(d=f.EqxFormRulesTrigger)||void 0===d||d.updatePageAwait():this.positions&&this.positions.length>0?setTimeout(this.eqxPage.reSetHeight.bind(this.eqxPage)):setTimeout(this.eqxPage.reSetHeight.bind(this.eqxPage),700)}},{key:"calcTitleAndDesHeight",value:function(){if(this.$formTitle&&"none"!=this.$formTitle.css("display"))e=this.getFormTitleHeight();else var e=0;if(this.$formDes&&"none"!=this.$formDes.css("display"))t=this.getFormDesHeight();else var t=0;var n=0;return this.$searchBox&&"none"!==this.$searchBox.css("display")&&(n=this.$searchBox.outerHeight()),parseFloat(e)+parseFloat(t)+parseFloat(n)}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=this.$li,o=this.compJson.id,i=e.split(","),a=this.$li.find('input[name="eq[f_'.concat(o,']"]')).toArray();i.forEach((function(t){var i,s=t.indexOf("-"),c=t;if(s>-1){c=t.slice(0,s),n.voteOptionsService.select(parseInt(c,10),!0),i=t.slice(s+1);for(var u=0;u<a.length;u++)if(a[u].value==c){a[u].checked=!0,$(a[u]).parent().siblings(".otherOptionBlank").val(i);break}}else n.voteOptionsService.select(parseInt(c,10),!0),n.$li.find('[name="eq[f_'.concat(o,']"]')).val(e.split(","));r.find(".vote_".concat(o,"_").concat(c)).find(".vote-select-mode").addClass("active")})),"showLast"===t&&(this.disabled=!0)}}},{key:"updateItemSizeByPage",value:function(e,t){h(b(i.prototype),"updateItemSizeByPage",this).call(this,e,t),this.updateVoteRender()}},{key:"adaptionSwitch",value:function(){var e=this;this.VirtualManager&&this.VirtualManager.updateList(this.groupListManager.showOptionList),setTimeout((function(){e.updateFormHeight()}))}},{key:"reloadAndResetPosition",value:function(e,t){var n=this;return e.includes("http://")||(e=V(e)),e=(e=e+(String(e).includes("imageMogr2")?"|":String(e).includes("?")?"&":"?")+"imageInfo").replace("http:",""),window.fetch(e).then((function(e){return e.json()})).then((function(e){return n.getVoteSettings().list.filter((function(e){return e.id==t})).forEach((function(t){t.ratio=e.height/e.width})),e}))}},{key:"updateVoteRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getVoteSettings().arrayType,n=this.compJson.css,r=n.paddingLeft,o=n.paddingRight,i=n.width;if("multiple"===t){var a,s,c=Math.floor(20*C()),u=Math.floor(16*C()),l=parseInt(i)-parseInt(r)-parseInt(o),p=Math.floor((l+c)/(130*C()+c)),f=null===(a=this.$li)||void 0===a||null===(s=a.find("ul"))||void 0===s?void 0:s.find("li"),d=f.length,h=Math.floor(d/p),m=d-h*p;h=0==m?h-1:h;var v=0;f.each((function(e,t){var n={marginRight:"".concat(c,"px"),marginBottom:"".concat(u,"px"),clear:"none"};n.marginRight="".concat(c,"px"),(v+1)%p==0?n.marginRight="0px":v%p==0&&(n.clear="left"),v+1>h*p&&(n.paddingBottom="0px",n.marginBottom="0px"),$(t).css(n),"none"===t.style.display||$(t).hasClass("item-not-in-group")||v++}))}e&&this.updateFormHeight()}},{key:"afterAppendToPage",value:function(){var e=this;this.eqxScene.isCardScene?this.getOpenAdaption()&&this.$li[0].clientHeight&&this.updateVoteRender():window.requestAnimationFrame((function(){return e.updateVoteRender()}))}},{key:"hideSubmit",value:function(){if("edit"==this.eqxScene.config.mode);else{var e=this.eqxPage.getSubmitButton();if(!e||!this.eqxPage.displayed)return void setTimeout(this.hideSubmit.bind(this),300);e[this.isCanDirectVote?"eleHide":"eleShow"](!0)}}},{key:"updateGroupCss",value:function(){var e=this.eqxPage.getFormStyle("button"),t=this.eqxPage.getFormStyle("border");e.color||(e.color="#FFF"),e.backgroundColor||(e.backgroundColor="#1261ff");var n={color:e.color,backgroundColor:e.backgroundColor},r={backgroundColor:e.color,color:e.backgroundColor,border:"1px solid ".concat(t.borderColor)};this.$groupBox.find(".vote-group-item").css(r),this.$groupBox.find("div[data-active='true']").css(n)}},{key:"changeCurrentGroup",value:function(e){var t=this.eqxPage.getFormStyle("button"),n=this.eqxPage.getFormStyle("border");t.color||(t.color="#FFF"),t.backgroundColor||(t.backgroundColor="#1261ff");var r={color:t.color,backgroundColor:t.backgroundColor},o={backgroundColor:t.color,color:t.backgroundColor,border:"1px solid ".concat(n.borderColor)};this.$groupBox.find("div[data-id=".concat(this.lastCurrent,"]")).attr("data-active","false").css(o),this.$groupBox.find("div[data-id=".concat(e,"]")).attr("data-active","true").css(r),this.groupListManager.select(e<0?void 0:parseInt(e));var i=this.groupListManager.getCurrentList();this.handleGroup(i),this.lastCurrent=parseInt(e)}},{key:"renderCurrentGroup",value:function(e){var t=this.eqxPage.getFormStyle("button"),n=this.eqxPage.getFormStyle("border");t.color||(t.color="#FFF"),t.backgroundColor||(t.backgroundColor="#1261ff");var r={color:t.color,backgroundColor:t.backgroundColor},o={backgroundColor:t.color,color:t.backgroundColor,border:"1px solid ".concat(n.borderColor)};if(this.$groupBox.find("div[data-active='true']").css(r),this.$groupBox.find("div[data-active='false']").css(o),"edit"==this.eqxScene.config.mode){var i=this.$groupBox.find("div[data-active='true']")[0];i&&(i.scrollIntoViewIfNeeded?i.scrollIntoViewIfNeeded(!0):this.lastCurrent!==e&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}this.groupListManager.select(e<0?void 0:parseInt(e));var a=this.groupListManager.getCurrentList();this.handleGroup(a),this.lastCurrent=e}},{key:"render$GroupBox",value:function(){var e=280;if(this.$li){var t=this.$li.find(".element-box").get(0);"pcRender"==this.eqxPage.renderMode&&(e=720),t&&t.offsetWidth&&(e=parseFloat(window.getComputedStyle(t).width)*C()),this.$groupBox=$(N(this.groupListManager,e)),this.$li.find(".vote-search-box").length>0?this.$li.find(".vote-search-box").after(this.$groupBox):this.$li.find(".form-des-box").after(this.$groupBox);var n=this.groupListManager.current;this.renderCurrentGroup(void 0===n?-1:n),"edit"==this.eqxScene.config.mode?(this.$groupBox.find(".vote-group-item").css("cursor","default"),this.$groupBox.find(".vote-group-list").addClass("hide-scrollbar"),this.$groupBox.find(".vote-group-list").on("wheel",(function(e){e.preventDefault()}))):(this.$groupBox.find(".vote-group-item").css("cursor","pointer"),this.$groupBox.find(".vote-group-list").removeClass("hide-scrollbar"),this.$groupBox.find(".vote-group-list").on("wheel",(function(e){var t=e.currentTarget,n=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;e.originalEvent.deltaY>0?o+n<r&&e.stopPropagation():n>0&&e.stopPropagation()})))}}},{key:"updateGroup",value:function(){var e;null===(e=this.$groupBox)||void 0===e||e.remove(),this.render$GroupBox(),this.updateFormHeight()}},{key:"hasSearch",get:function(){return this.getVoteSettings().hasSearch},set:function(e){return this.getVoteSettings().hasSearch=!!e}},{key:"searchDes",get:function(){return this.getVoteSettings().searchDes},set:function(e){this.getVoteSettings().searchDes=M(String(e)),this.renderSearchDes()}},{key:"updateSearch",value:function(e,t){void 0!==t&&(this.searchDes=t),this.hasSearch=e,this.render$SearchBox(e),this.updateFormHeight()}},{key:"renderSearchDes",value:function(){this.$searchBox&&this.$searchBox.find("input").attr("placeholder",this.searchDes||"请输入选项名称")}},{key:"render$SearchBox",value:function(){if(this.$li)if(this.hasSearch){this.$searchBox||(this.$searchBox=$(L(j,{searchDesc:this.searchDes||"请输入选项名称"})));var e=this.eqxPage.getFormStyle("input")||{},t=this.eqxPage.getFormStyle("border")||{};t=c(c({},t),e),this.$searchBox.find(".inputBox").css({color:e.color,backgroundColor:e.backgroundColor,borderStyle:t.borderStyle,borderColor:t.borderColor}),this.$li.find(".form-des-box").after(this.$searchBox)}else this.$searchBox=null,this.$li.find(".vote-search-box").remove()}},{key:"hasInitValue",get:function(){return this.getVoteSettings().hasInitValue},set:function(e){return this.getVoteSettings().hasInitValue=!!e}},{key:"initValue",get:function(){return this.getVoteSettings().initValue},set:function(e){this.getVoteSettings().initValue=e}},{key:"updateInitValue",value:function(e,t){this.initValue!==t&&(this.initValue=t),this.hasInitValue!==e&&(this.hasInitValue=e)}},{key:"resetInitValue",value:function(){this.initValue=0,this.hasInitValue=!1}}])&&d(t.prototype,n),r&&d(t,r),i}(w);e.exports=K},function(e,t,n){"use strict";var r=n(1),o=n(1).PATH,i=n(9).qiniuZoom,a=n(109),s=a.getVoteIconShow,c=a.getVoteIconType,u="<div class='vote-button'>投票</div>";function l(e,t){var n,a=t.voteSettings,l=a.showResult,p=a.chooseModal,f=t.id,d=t.mode,h=t.voteOptionsService,m=t.isCanDirectVote,v=t.tranSpaceAndEnter,g=t.eqxPage,y=t.compJson,b=g.getFormStyle("border"),x=y.css,w=x.borderWidth,S=x.borderStyle,k=x.borderColor,O=x.borderRadius,E=(x.backgroundColor,b.borderWidth),C=void 0===E?w:E,_=b.borderStyle,I=void 0===_?S:_,P=b.borderColor,T=void 0===P?k:P,R=b.borderRadius,$=void 0===R?O:R;n={border:"".concat(C,"px ").concat(I," ").concat(T),borderRadius:$};var A=l?"block":"none",q="multiple"===p?"checkbox":"radio",j=Math.floor(1e8*Math.random()),L=String(e.cover).indexOf("/tencent/")>-1?"":e.cover.indexOf("vframe/jpg/offset/0")>-1?r.VIDEO:e.cover.indexOf("/")>-1?"":r.FILE,M="",D=i(e.cover);D.includes("http")&&D.includes("//")||(D=L+e.cover),e.cover||(D=e.ratio>1?i(o.VIDEO_VOTE_MULTIPLE):1===e.ratio?i(o.IMAGE_VOTE_MULTIPLE):i(o.VIDEO_VOTE_SINGLE));var B="auto";e.cover||(B="50px"),"view"===d&&(e.src=e.src?e.src:"",(M=e.src?e.src.indexOf("/tencent/")>-1?e.src:r.VIDEO+e.src:"").includes("video-1251586368.cos.ap-shanghai.myqcloud.com")?M=r.TENCENTVIDEO+"/tencent/"+M.split("/tencent/")[1]:0!==e.src.indexOf("http")&&0!==e.src.indexOf("//")||(M=e.src.replace("http:","")));var F=s(e),N=c(e);return'\n            <li option-id="'.concat(e.id,'"  class="vote_').concat(f,"_").concat(e.id," video-vote-item-").concat(e.id,' video-li-wrap"  data-index="').concat(e.index,'"\n             style="border:').concat(n.border,";border-radius:").concat(n.borderRadius,'" >\n                <div class="video-wrap vote-content-wrap">\n                    <img  ').concat(D?'src="'.concat(i(D),'"'):"",' class="image-vote-item-img" style="display: none">\n                    <img class="video-cover"  style="height:').concat(B,";").concat(e.cover?"":"opacity: 0;",'"     \n                    ').concat(D?'src="'.concat(i(D),'"'):"",' ></img>\n                    <div class="playBtn"><em class="eqf-play-f"></em></div>\n                    <div class="vote-result" style="display:').concat(A,'">0票 / 0%</div>\n                </div>\n        \n                <label class="option-wrap item-option" for="vote_').concat(f,"_").concat(e.id,"_").concat(j,'">\n                    <div class="vote-select-mode video-radio ').concat(q,"_vote\n                     ").concat(h.isSelected(e.id)?"active":"",'" style="').concat(m?"display: none;":"",'">\n                        <i class="eqf-yes"></i>\n                        ').concat(h.isSelected(e.id)?'<input type="'.concat(q,'" class="radioOrCheckbox" checked="true" name="eq[f_').concat(f,']" value="').concat(e.id,'" id="vote_').concat(f,"_").concat(e.id,"_").concat(j,'">'):'<input type="'.concat(q,'" class="radioOrCheckbox" name="eq[f_').concat(f,']" value="').concat(e.id,'" id="vote_').concat(f,"_").concat(e.id,"_").concat(j,'">'),"\n                    </div>\n                    <span>").concat(v(e.content),'</span>\n                    <div class="item-option-info info-').concat(e.id,'" data="').concat(e.id,'" style="display: ').concat(F,'">\n                        <em class="').concat(N,'"></em>\n                    </div>\n                </label>\n                ').concat(m?u:"","\n            </li>\n        ")}e.exports={createItem:function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=e.voteSettings.list,o="";return n&&(r=n),r.forEach((function(t){o+=l(t,e)})),r.length||(o+='<div class="no-option" ng-show="!vm.list.length">            <div class="empty-img"></div>            <span>还没有选项</span>        </div>'),o},getOptionDom:l,voteBtnTpl:u}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(147),o=n(1),i=n(0),a=(i.isMiniProm,i.mobilecheck),s=i.isWeixin,c=i.isMountAppletParam,u=(n(4).getUrlParam,n(33).convertPx2Rem),l=n(16).getRatio,p=n(88).isCardScene;function f(e,t){if(p())e.obj.adHeight=0;else{var n=JSON.parse(JSON.stringify(o.BOTTOM_MARK_TEMPLATEID)),i=n[Math.floor(Math.random()*n.length)],a=d("label",e)||{};!function(e,t,n,i){var a=e.list[0].sceneId;if(!e.list[0].elements.some((function(e){return"lpBtMark"===e.type}))){var s={clickType:1,labelText:"易企秀-表单提供技术支持",adLink:"".concat(o.LONG_HOST,"mobile/create.html?sourceId=").concat(t,"&type=lc"),isShowReport:i.disableReport};if(!i.isInnerView&&n&&Object.keys(n).length){if(!/(http|https):\/\/([\w.]+\/?)\S*/.test(n.adLink)&&!c()){var l=n.adLink.replace(/，/g,",").split(","),p=Math.floor(Math.random()*l.length);l[p]&&!isNaN(l[p])?n.adLink="".concat(o.LONG_HOST,"mobile/create.html?sourceId=").concat(l[p],"&type=lc"):n.adLink=s.adLink}Object.assign(s,{labelText:n.label,popUpPic:n.popUpPic,adLink:n.adLink,clickType:n.clickType,scenes:n.scenes||""})}var f=r.lpBottomMark({sceneId:a,top:0,pageId:e.list[0].id,config:s});f.properties.appendElement=!0,e.list[0].groups||(e.list[0].groups=[]),u(f.css,f),e.list[0].elements.push(f),h(e,f,0)}}(e,i,a,t);var s=null,f=function(e){if(window._adConfigForFlow)return window._adConfigForFlow;var t={};e.obj&&(t="string"==typeof e.obj.adConfigForFlow&&""!=e.obj.adConfigForFlow?JSON.parse(e.obj.adConfigForFlow):e.obj.adConfigForFlow);return t}(e);f&&Object.keys(f).length&&f.isAd?s="ad03":(f=d("ad",e))&&Object.keys(f).length&&(s="ad02"),function(e,t,n,i,a){if(t){var s=n,c=e.list[0].sceneId,p=r.lpAdvertise({sceneId:c,top:0,pageId:e.list[0].id,type:t,config:s,labelConfig:a});"ad01"==t&&e.list[0].properties.triggerGroup.push({delay:0,eventType:1,sourceId:p.id,sourceType:"e",targetContent:"".concat(o.LONG_HOST,"mobile/create.html?sourceId=").concat(i,"&type=lc"),targetId:p.id,targetState:5,targetType:"e"}),e.obj&&(e.obj.adHeight=parseFloat(p.css.height)*l()),p.properties.appendElement=!0,u(p.css,p),e.list[0].elements.push(p),h(e,p,0)}else e.obj&&(e.obj.adHeight=0)}(e,s,f,i,a)}return e}function d(e,t){var n=function(e,t){var n="wap";if(n=s()?"wap":a()?"notWx":"pc",window._configure&&window._configure[n])return window._configure[n][e];var r={};return t.obj&&(r="string"==typeof t.obj.configure&&""!=t.obj.configure?JSON.parse(t.obj.configure):t.obj.configure),r&&r[n]&&r[n][e]}(e,t)||{},r=Object.keys(n),o="browser";return r.includes("browser")||r.includes("mini")?(r.includes("mini")&&c()&&(o="mini"),n[o]||{}):n}function h(e,t,n){var r=e.list[n];r.extend&&r.extend.screens&&r.extend.screens[n]&&r.extend.screens[n].compIds&&r.extend.screens[n].compIds.push(t.id)}e.exports={perfectScene:function(e){e.meta?e.obj=e.meta:e.obj=e.obj||{};return e.meta=e.obj,e.map=e.map||{},e.list=e.list||[],e.list.forEach((function(e,t){e.num=t+1})),e},initMarkSceneJson:f,initMarkSubmitSceneJson:function(e,t){var n=Object.assign({},t,{pageType:"submit",disableReport:!0});return f(e,n)},initMessageBoard:function(e){if(e.list[0].elements.some((function(e){return"messageBoard"===e.type})))return;if(e.meta.property&&e.meta.property.openMsg){var t=r.messageBoard({sceneId:e.list[0].sceneId,pageId:e.list[0].id,top:0});e.list[0].elements.push(t),u(t.css,t),h(e,t,0)}return e},initSceneRecommend:function(e){return e}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(181);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(256),h=n(133),m=n(134),v=n(1039).createRect,g=n(132),y=n(1040),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,r,a=l(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=a.call(this)).eqxLayer=t,n.eqxPage=n.eqxLayer.eqxPage,n.eqxScene=n.eqxPage.eqxScene,n.id=e.id,n.itemIds=e.compIds||[],n.css=e.css||{},n.eqxItems=[],n.isGroup=!0,n.$group=null,n.displayed="1",n.locked=!1,n.tag=!1,n.visited=!1,n.json=e,n.$ability={flexLine:"n,ne,e,se,s,sw,w,nw,r"},n.isArrangEditor=n.eqxScene.config.isArrangEditor,n.isArrangEditor&&(e.css=n.css),n}return t=p,(n=[{key:"isEditLocked",get:function(){return this.eqxItems.every((function(e){return e.isEditLocked}))},set:function(e){this.eqxItems.forEach((function(e){e.isGroupItem()||(e.isEditLocked=!1)}))}},{key:"isBaseLayerElement",get:function(){return void 0===this._isBaseLayerElement&&this.isBaseLayerElements(),this._isBaseLayerElement}},{key:"$item",get:function(){return this.$group}},{key:"zIndex",get:function(){return this.css.zIndex||this._initGroupIndex()},set:function(e){this.css.zIndex=e}},{key:"name",get:function(){return this.json.name},set:function(e){this.json.name=e}},{key:"isBaseLayerElements",value:function(){this._isBaseLayerElement=this.getAllSubEqxComps().every((function(e){return!e.compJson.properties.isOverlayElement}))}},{key:"isFunTemplate",value:function(e){var t=this.isArrangEditor;return 1===this.json.type&&(!t||t&&e)}},{key:"isEleTemplate",value:function(){if(1===this.json.type&&this.json.eleType)return this.json.eleType}},{key:"getMap$group",value:function(){return this.$group||(this.$group=this.eqxPage.$section.find("#".concat(String(this.id).replace(":","\\:")))),this.$group}},{key:"destroy",value:function(){c(f(p.prototype),"destroy",this).call(this),this.eqxLayer=null,this.eqxPage=null,this.eqxScene=null,this.$group&&(this.$group.remove(),this.$group=null,this.$groupBox=null,this.$ul=null)}},{key:"removeEqxItem",value:function(e){var t=this.eqxItems.findIndex((function(t){return t===e}));t>-1&&this.eqxItems.splice(t,1),e.destroy()}},{key:"isPropCanEdit",value:function(e){var t=this.FtEditableProps;return[t.addGroup.addGroup,t.deleteGroup.deleteGroup,t.moveGroup.moveGroup].includes(e)}},{key:"getFtValue",value:function(){return 10}},{key:"updateTop",value:function(e){this.getAllSubEqxComps().forEach((function(t){t.updateCss({top:t.css.top+e})})),this.autoSize()}},{key:"getFtEditableProps",value:function(){var e=this.FtEditableProps;return c(f(p.prototype),"getFtEditableProps",this).call(this).concat([e.addGroup.addGroup,e.deleteGroup.deleteGroup,e.moveGroup.moveGroup])}},{key:"hasGroupItem",value:function(){for(var e=0;e<this.eqxItems.length;e++)if(this.eqxItems[e].isGroupItem())return this.eqxItems[e];return null}},{key:"getAllSubEqxComps",value:function(){for(var e=[],t=0;t<this.eqxItems.length;t++){var n=this.eqxItems[t];n.isGroupItem()?e.push.apply(e,i(n.getAllSubEqxComps())):e.push(n)}return e}},{key:"getAllSubEqxItems",value:function(){var e=[];return function e(t,n){n=n||[],t.eqxItems.forEach((function(t){t.isGroupItem()?(n.push(t),e(t,n)):n.push(t)}))}(this,e),e}},{key:"hasSubItemsLocked",value:function(){for(var e=this.getAllSubEqxItems(),t=0;t<e.length;t++)if(e[t].isEditLocked)return!0;return!1}},{key:"_initGroupIndex",value:function(){return Math.max.apply(Math,i(this.eqxItems.map((function(e){return e.zIndex}))))}},{key:"canMove",value:function(){return!this.isEditLocked&&!this.hasSubItemsLocked()}},{key:"onMoveBefore",value:function(){c(f(p.prototype),"onMoveBefore",this).call(this),this.eqxItems.forEach((function(e){return e.onMoveBefore()}))}},{key:"onMove",value:function(e,t){var n=this.oldPos;!this.isBaseLayerElement&&this.$group||this.isAbsolute||this.group?(this.$group.css({top:n.top+t,left:n.left+e}),this.updateLeftTop(e,t)):this.$group&&this.$group.css({top:t,left:n.left}),this.resizeBox&&this.resizeBox.autoSize()}},{key:"onMoveEnd",value:function(e){c(f(p.prototype),"onMoveEnd",this).call(this),this.eqxItems.forEach((function(e){return e.onMoveEnd(!0)})),!e&&this.group?(this.adjustPosition(),this.group.adjustPosition()):this.adjustPosition()}},{key:"instantMove",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.onMoveBefore(),this.onMove(e,t,n,r),this.onMoveEnd()}},{key:"getTransform",value:function(){return this.css.transform||"rotateZ(0)"}},{key:"getBoxReflectDetail",value:function(){var e=!0,t=this.css.boxReflect;t&&"unset"!==t||(e=!1);var n=t||"below 0px -webkit-linear-gradient(top, transparent, transparent 0%, rgb(255, 255, 255))",r=0,o=0;return"unset"!==n&&(r=+n.match(/\b(\d*\.?\d*)px/)[1],o=+n.match(/\b(\d*\.?\d*)%/)[1]),{fullInfo:n,offset:r,hidePercent:o,flag:e}}},{key:"onResizeStart",value:function(){return this.eqxItems.forEach((function(e){return e.onResizeStart()})),c(f(p.prototype),"onResizeStart",this).call(this)}},{key:"onResize",value:function(e,t,n,r,o,i,a,s,c){var u=this;function l(e,t){if(!t)return e;var n=e.rotate(t).p1.transform2RotateCoord(t);return new h(n,e.width,e.height)}function p(e,t){if(!t)return e;e instanceof h||(e=new h(e));var n=e.p1.transform2RotateCoord(-t),r=e.p2.transform2RotateCoord(-t),o=new h(n,r,t).rotate(-t),i=o.p1,a=i.x,s=i.y;return{width:o.width,height:o.height,left:a,top:s}}function f(e,t,n,r,o,i,a,s,c,l){if(i)return function(e,t,n,r){var o=["nw","ne","se","sw"],i=u.oldAbsolutePosition,a=i.left,s=i.top,c=i.width,l=i.height,p=i.transform,f=g.parseTransform(p).rotate,d=new h(a,s,c,l).rotate(f),m=new h(d.p1.transform2RotateCoord(f),c,l),v=h.getBoundingRect(m,n),b=new h(v.p1.transform2RotateCoord(n),v.width,v.height),x=new h(t.rotate(n).p1.transform2RotateCoord(n),t.width,t.height),w=function(e,t){var n=[e.nw,e.ne,e.se,e.sw],r=Number.MAX_SAFE_INTEGER,o=0;return n.forEach((function(e,n){var i=e.distance2Point(t);r>i&&(r=i,o=n)})),o}(b,d[r].transform2RotateCoord(f+n)),S=o[w],k=b[S],O=b[o[(w+2)%4]],E=e.weight(f+n),C=E.x,_=E.y;if("nw"===S)var I=new y(O,b[o[(w+1)%4]]),P=new y(k,b[o[(w+3)%4]]),T=new y(O,b[o[(w+3)%4]]),R=new y(k,b[o[(w+1)%4]]);else"ne"===S?(I=new y(O,b[o[(w+3)%4]]),P=new y(k,b[o[(w+1)%4]]),T=new y(O,b[o[(w+1)%4]]),R=new y(k,b[o[(w+3)%4]])):"se"===S?(I=new y(O,b[o[(w+1)%4]]),P=new y(k,b[o[(w+3)%4]]),T=new y(O,b[o[(w+3)%4]]),R=new y(k,b[o[(w+1)%4]])):"sw"===S&&(I=new y(O,b[o[(w+3)%4]]),P=new y(k,b[o[(w+1)%4]]),T=new y(O,b[o[(w+1)%4]]),R=new y(k,b[o[(w+3)%4]]));var $=0,A=0,q=0,j=0,L=null,M=x.width,D=x.height;if("nw"===S){var B=I.distance2Point(x.p2),F=P.distance2Point(x.p1);$=-B*C/(B+M+F),A=-M*C/(B+M+F);var N=T.distance2Point(x.p2),H=R.distance2Point(x.p1);q=-N*_/(N+D+H),j=-D*_/(N+D+H),L={left:x.p1.x-$-A,width:x.width+A,top:x.p1.y-q-j,height:x.height+j}}else if("ne"===S){var z=I.distance2Point(x.p1),J=P.distance2Point(x.p2);$=z*C/(z+M+J),A=M*C/(z+M+J);var V=T.distance2Point(x.p2),U=R.distance2Point(x.p1);q=-V*_/(V+D+U),j=-D*_/(V+D+U),L={left:x.p1.x+$,width:x.width+A,top:x.p1.y-q-j,height:x.height+j}}else if("se"===S){var W=I.distance2Point(x.p1),G=P.distance2Point(x.p2);$=W*C/(W+M+G),A=M*C/(W+M+G);var K=T.distance2Point(x.p1),X=R.distance2Point(x.p2);q=K*_/(K+D+X),j=D*_/(K+D+X),L={left:x.p1.x+$,width:x.width+A,top:x.p1.y+q,height:x.height+j}}else if("sw"===S){var Q=I.distance2Point(x.p2),Y=P.distance2Point(x.p1);$=-Q*C/(Q+M+Y),A=-M*C/(Q+M+Y);var Z=T.distance2Point(x.p1),ee=R.distance2Point(x.p2);q=Z*_/(Z+D+ee),j=D*_/(Z+D+ee),L={left:x.p1.x-$-A,width:x.width+A,top:x.p1.y+q,height:x.height+j}}return new h(new h(L).rotate(-n).p1.transform2RotateCoord(-n),L.width,L.height)}(e,r,i,o);var p=0,f=0,d=0,m=r.p1.x,v=r.p1.y,b=r.width,x=r.height,w=b,S=x;if("nw"===o){var k=a.distance2Point(r.p2),O=s.distance2Point(r.p1);p=-k*t/(k+w+O),f=-w*t/(k+w+O);var E=c.distance2Point(r.p2),C=l.distance2Point(r.p1);return{left:m-p-f,width:b+f,top:v- -E*n/(E+S+C)-(d=-S*n/(E+S+C)),height:x+d}}if("ne"===o){var _=a.distance2Point(r.p1),I=s.distance2Point(r.p2);p=_*t/(_+w+I),f=w*t/(_+w+I);var P=c.distance2Point(r.p2),T=l.distance2Point(r.p1);return{left:m+p,width:b+f,top:v- -P*n/(P+S+T)-(d=-S*n/(P+S+T)),height:x+d}}if("se"===o){var R=a.distance2Point(r.p1),$=s.distance2Point(r.p2);p=R*t/(R+w+$),f=w*t/(R+w+$);var A=c.distance2Point(r.p1),q=l.distance2Point(r.p2);return{left:m+p,width:b+f,top:v+A*n/(A+S+q),height:x+(d=S*n/(A+S+q))}}if("sw"===o){var j=a.distance2Point(r.p2),L=s.distance2Point(r.p1);p=-j*t/(j+w+L),f=-w*t/(j+w+L);var M=c.distance2Point(r.p1),D=l.distance2Point(r.p2);return{left:m-p-f,width:b+f,top:v+M*n/(M+S+D),height:x+(d=S*n/(M+S+D))}}}!function(e,t,n,r,o,i,a,s,c,u){for(var d=0;d<e.length;d++){var m=e[d];if(!m.isEditLocked){var v=m.oldAbsolutePosition,y=v.left,b=v.top,x=v.width,w=v.height,S=v.transform,k=g.parseTransform(S).rotate,O=l(new h(y,b,x,w),u),E=p(f(t,n,r,O,o,(k-u+360)%360,i,a,s,c),u);m.updateSize({},{top:E.top,left:E.left,width:E.width,height:E.height})}}}(u.getAllSubEqxComps(),e,t,n,r,o,i,a,s,c),u.autoSize()}},{key:"onResizeEnd",value:function(){c(f(p.prototype),"onResizeEnd",this).call(this)}},{key:"onRotateStart",value:function(){return c(f(p.prototype),"onRotateStart",this).call(this)}},{key:"onRotateEnd",value:function(){c(f(p.prototype),"onRotateEnd",this).call(this)}},{key:"onRotate",value:function(e){c(f(p.prototype),"onRotate",this).call(this,"rotateZ(".concat((e+360)%360,"deg)"),{type:"rotate",source:this})}},{key:"updateTransform",value:function(e){this.css.transform=e,this.$item.css({transform:e}),this.autoSizeTopDown()}},{key:"updateCss",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.css[n]=e[n]}))}},{key:"updateItemCss",value:function(e){var t=e-parseFloat(this.getAbsolutePos().top);this.instantMove(0,t),this.autoSize()}},{key:"autoSize",value:function(){this.autoSizeIng||(this.autoSizeIng=!0,this.getAllSubEqxComps().forEach((function(e,t){e.autoSize()})),this._updateSize(),this.autoSizeIng=!1)}},{key:"updateLeftTop",value:function(e,t){this.eqxItems.forEach((function(n){n.updateLeftTop(e,t)}))}},{key:"isGroupItem",value:function(){return!0}},{key:"getName",value:function(){return this.name||"组合"}},{key:"toJson",value:function(){var e=this.css.transform,t=this.getArrIndex(),n={id:this.id,name:this.name,compIds:this.eqxItems.map((function(e){return e.id}))};return isNaN(parseInt(t))||(n.arrIndex=t),e&&(n.css||(n.css={}),Object.assign(n.css,{transform:e})),this.isFunTemplate(!0)&&(n.type=1),this.isEleTemplate&&(n.eleType=this.json.eleType),this.isArrangEditor&&(n.arrangeOpts=this.json.arrangeOpts,n.css=this.json.css),n}},{key:"autoSizeTopDown",value:function(e){this._updateSize(),this.fire("autoSizeTopDown.after")}},{key:"adjustPosition",value:function(){var e,t,n={left:0,top:0},r=[],o=[];if(!this.eqxItems.length){var i={top:0,left:0,width:0,height:0,transform:"",bottom:0};return this._updateSize(i),i}this.$group&&(n=this.getAbsolutePos()),n.transform=this.getTransform(),this.eqxItems.forEach((function(n){var r=n.getAbsolutePos(!0),i=r.top,a=r.left,s=r.width,c=r.height,u=r.transform;(void 0===e||i<e)&&(e=i),(void 0===t||a<t)&&(t=a),o.push({top:i,left:a,width:s,height:c,transform:u,item:n})})),this.isBaseLayerElement||n.top||(n.top=e),n.left||(n.left=t),o.forEach((function(o){var i=o.top,a=o.left,s=o.width,c=o.height,u=o.transform,l=o.item;i=i-e+n.top,a=a-t+n.left,l.updateCss({top:i,left:a}),l._updateSize({top:i,left:a});var p=g.parseTransform(u).rotate,f=new h(a,i,s,c).rotate(p),d=f.nw,m=f.ne,v=f.sw,y=f.se;r.push.apply(r,[d,m,v,y])})),this.$ul&&this.$ul.css({transform:"translate(".concat(-n.left,"px,").concat(-n.top,"px)")});var a=v(r);this.isBaseLayerElement&&(n.top=0);var s={top:n.top,left:n.left,width:a.width,height:a.height,transform:n.transform};return this._updateSize(s),s.bottom=s.top+a.height,s}},{key:"getAbsolutePos",value:function(){if(!this.eqxItems.length)return{top:0,left:0,width:0,height:0,transform:"",bottom:0};var e={left:0,top:0},t=[];if(this.group||this.isAbsolute||!this.isBaseLayerElement){var n,r;this.eqxItems.forEach((function(e){var o=e.getAbsolutePos(!0),i=o.top,a=o.left,s=o.width,c=o.height,u=o.transform;(void 0===n||i<n)&&(n=i),(void 0===r||a<r)&&(r=a);var l=g.parseTransform(u).rotate,p=new h(a,i,s,c).rotate(l),f=p.nw,d=p.ne,m=p.sw,v=p.se;t.push.apply(t,[f,d,m,v])}));var i=v(t);e={top:n,left:r,width:i.width,height:i.height}}else this.$group&&((e=(0,o.offSet)(this.$group.get(0),this.eqxPage.$section.get(0))).width=parseFloat(this.$group.width()),e.height=parseFloat(this.$group.outerHeight()));e.transform=this.getTransform();var a=this.getPadding(),s=a.paddingTop,c=a.paddingBottom;return e.paddingTop=s,e.paddingBottom=c,e.bottom=e.top+e.height,e}},{key:"render",value:function(){if(this.rendered)return this.$group;if(this.isAbsolute=this.findTopGroup()!=this||!this.isBaseLayerElement,this.$group=$('<li class="item item-group" id="'.concat(this.id,'" style="position: ').concat(this.isBaseLayerElement&&!this.isAbsolute?"relative":"absolute",'">\n                <div class="group-box">\n                    <ul class="group-items" style="pointer-events: none"></ul>\n                </div>\n            </li>')),this.$groupBox=this.$group.find(".group-box"),this.$ul=this.$groupBox.find("ul"),this.autoZIndex().$group.attr("eqx-id",this.id),this.isArrangEditor){var e=this.css,t=e.opacity,n=void 0===t?1:t,r=e.boxReflect,o=void 0===r?"unset":r;this.$group.css({opacity:n}),this.$groupBox.css({boxReflect:o})}return this.$ul.append(this.eqxItems.map((function(e){return e.render(!0)}))),this.rendered=!0,"edit"==this.eqxScene.config.mode&&this.isHasTrigger()&&this.addTriggerTag(),this.adjustPosition(),this.$group}},{key:"getZIndex",value:function(){for(var e=-1,t=0;t<this.eqxItems.length;t++){var n=this.eqxItems[t];e=Math.max(n.getZIndex(),e)}return e}},{key:"autoZIndex",value:function(){return this.eqxItems.forEach((function(e){return e.autoZIndex()})),this.$item&&this.$item.css({zIndex:this.getZIndex()}),this}},{key:"addEqxItems",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.addEqxItem(t)}))}},{key:"addEqxItem",value:function(e){e&&!this.eqxItems.includes(e)&&(this.eqxItems.push(e),e.group=this,e.parent=this)}},{key:"addMoveClass",value:function(){this.eqxItems.forEach((function(e){return e.addMoveClass()}))}},{key:"removeAutoClass",value:function(){this.eqxItems.forEach((function(e){return e.removeAutoClass()}))}},{key:"scrollIntoView",value:function(){var e=this.$item&&this.$item[0];e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView&&e.scrollIntoView())}},{key:"addCurClass",value:function(){this.$item&&this.$item.addClass("cur")}},{key:"removeDragClass",value:function(){this.$item&&this.$item.removeClass("cur")}},{key:"replaceGroupByComp",value:function(e){var t=this.eqxLayer;this.eqxItems.sort((function(e,t){return e.getZIndex()-t.getZIndex()})).forEach((function(n,r){var o,a=t.eqxItems.findIndex((function(e){return e===n}));a>-1&&(o=t.eqxItems).splice.apply(o,[e+r,0].concat(i(t.eqxItems.splice(a,1))))})),this.eqxPage.splitCompsByLayer(),this.eqxPage.EqxDragManager.resetCompPosition()}},{key:"getArrIndex",value:function(){return this.json.arrIndex||this.getZIndex()}},{key:"setArrIndex",value:function(e){this.json.arrIndex=e,this.isArrangEditor&&(this.$group.data("arrIndex",e),this.$group.data("offset",this.getPadding()))}},{key:"moveCompByIndex",value:function(e){var t=this.eqxItems,n=this;t.forEach((function(t){var r=e.findIndex((function(e){return e==t})),o=e.splice(r,1)[0],i=e.findIndex((function(e){return e==n}));e.splice(i,0,o)}))}},{key:"initZindex",value:function(){for(var e=1e20,t=0;t<this.eqxItems.length;t++){var n=this.eqxItems[t];e=Math.min(n.getZIndex(),e)}return e}},{key:"getArrangeOpt",value:function(){var e=this.json,t=e.css;t||(e.css=t={paddingTop:"0px",paddingBottom:"0px"}),t.paddingTop||(t.paddingTop=0),t.paddingBottom||(t.paddingBottom=0),e.properties||(e.properties={});var n=e.arrangeOpts;return n||(e.arrangeOpts=n={}),{css:t,arrangeOpt:n,scale:this.getScale()}}},{key:"updatePadding",value:function(e){var t,n,r,o=this.json.css;parseInt(o.paddingTop),parseInt(o.paddingBottom),this.update$li((t={},n=e.padKey,r=parseInt(e.padValue),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),this.autoSizeTopDown()}},{key:"update$li",value:function(e){if(e){Object.assign(this.json.css||{},e),this.updateCss(e);var t=JSON.parse(JSON.stringify(e));delete t.paddingTop,delete t.paddingBottom,this.$group&&this.$group.css(t),this.isBaseLayerElement&&this.eqxPage.EqxDragManager&&this.eqxPage.EqxDragManager.resetCompPosition()}}},{key:"updateScale",value:function(){}},{key:"getPadding",value:function(){var e=0,t=0,n=this.json;return n.css?{paddingTop:e=parseFloat(n.css.paddingTop)||0,paddingBottom:t=parseFloat(n.css.paddingBottom)||0}:{paddingTop:e,paddingBottom:t}}},{key:"getScale",value:function(){var e=this.css;if(e.transform){var t=/scale\((\d*\.\d*),\s*\d*\.\d*\)/.exec(e.transform);return t&&t[1]?100*t[1]:100}return 100}},{key:"containsPoint",value:function(e,t){var n=this.getAbsolutePos(!0),r=n.width,o=n.height,i=n.top,a=n.left,s=n.transform,c=g.parseTransform(s).rotate,u=a,l=a+r;this.isArrangEditor&&(u=Math.min(0,u),l=Math.max(320,l));var p=new m(u,i),f=new m(l,i+o);return new h(p,f).rotate(c).containsPoint(new m(e,t))}},{key:"updateItemSizeByPage",value:function(e,t){var n=this,r=this.getAllSubEqxComps(),o=this.findTopItem(),i=t/e,a=i,s=this.getAbsolutePos(!0);i=this.perfectRatio(i),t=e*i;var c={};if(Object.keys(s).forEach((function(e){c[e]=s[e]*i})),o){var u=o.id,l=o.diff,p=o.type,f=this.eqxPage.getEqxCompById(u);if(f){var d=f.compJson.css,h=d.top,m=d.height;c.top=p?parseFloat(h)+parseFloat(m)*l:parseFloat(h)+i*l}}var v=o?c.top:s.top;r.forEach((function(r){var o=r.getAbsolutePos(!0),u=(o.top-s.top)*i+v,l=(o.left-s.left)*i+c.left;1==n.json.type&&(l+=e*(a-i)/2);var p=o.height*i;r.updateItemSizeByPage(e,t),r.updateCss({left:l,top:u,height:p})})),this.autoSize(),this.eqxPage.EqxDragManager.resetCompPosition()}},{key:"perfectRatio",value:function(e){return this.isFunTemplate(!0)&&(e=e>1?1.5:1/1.5),e}},{key:"findTopItem",value:function(){var e;return this.isBaseLayerElement||this.getAllSubEqxComps().sort((function(e,t){return e.compJson.css.top-t.compJson.css.top})).forEach((function(t){if(!e){var n=t.compJson.properties.relativeItem;n&&(e=n)}})),e}}])&&s(t.prototype,n),r&&s(t,r),p}(d);e.exports=b},function(e,t,n){e.exports=!n(20)&&!n(12)((function(){return 7!=Object.defineProperty(n(150)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),o=n(19),i=n(64),a=n(151),s=n(21).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(30),o=n(32),i=n(112)(!1),a=n(152)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(21),o=n(13),i=n(65);e.exports=n(20)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(32),o=n(68).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var r=n(20),o=n(65),i=n(113),a=n(91),s=n(25),c=n(90),u=Object.assign;e.exports=!u||n(12)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,l=1,p=i.f,f=a.f;u>l;)for(var d,h=c(arguments[l++]),m=p?o(h).concat(p(h)):o(h),v=m.length,g=0;v>g;)d=m[g++],r&&!f.call(h,d)||(n[d]=h[d]);return n}:u},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(40),o=n(14),i=n(210),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).parseInt,o=n(78).trim,i=n(156),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(11).parseFloat,o=n(78).trim;e.exports=1/r(n(156)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(47);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(14),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";var r=n(67),o=n(62),i=n(77),a={};n(31)(a,n(17)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(13);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(413);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(40),o=n(25),i=n(90),a=n(18);e.exports=function(e,t,n,s,c){r(t);var u=o(e),l=i(u),p=a(u.length),f=c?p-1:0,d=c?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=d;break}if(f+=d,c?f<0:p<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:p>f;f+=d)f in l&&(s=t(s,l[f],f,u));return s}},function(e,t,n){"use strict";var r=n(25),o=n(66),i=n(18);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),s=o(e,a),c=o(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:o(u,a))-c,a-s),p=1;for(c<s&&s<c+l&&(p=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=p,c+=p;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(171);n(2)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(20)&&"g"!=/./g.flags&&n(21).f(RegExp.prototype,"flags",{configurable:!0,get:n(116)})},function(e,t,n){"use strict";var r,o,i,a,s=n(64),c=n(11),u=n(39),l=n(92),p=n(2),f=n(14),d=n(40),h=n(81),m=n(119),v=n(93),g=n(173).set,y=n(433)(),b=n(225),x=n(434),w=n(120),S=n(226),k=c.TypeError,O=c.process,E=O&&O.versions,C=E&&E.v8||"",_=c.Promise,I="process"==l(O),P=function(){},T=o=b.f,R=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(17)("species")]=function(e){e(P,P)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),$=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&L(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(k("Promise-chain cycle")):(i=$(n))?i.call(n,c,u):c(n)):u(r)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&q(e)}))}},q=function(e){g.call(c,(function(){var t,n,r,o=e._v,i=j(e);if(i&&(t=x((function(){I?O.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=I||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(c,(function(){var t;I?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},M=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=$(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(D,r,1),u(M,r,1))}catch(e){M.call(r,e)}})):(n._v=e,n._s=1,A(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};R||(_=function(e){h(this,_,"Promise","_h"),d(e),r.call(this);try{e(u(D,this,1),u(M,this,1))}catch(e){M.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(82)(_.prototype,{then:function(e,t){var n=T(v(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(D,e,1),this.reject=u(M,e,1)},b.f=T=function(e){return e===_||e===a?new i(e):o(e)}),p(p.G+p.W+p.F*!R,{Promise:_}),n(77)(_,"Promise"),n(80)("Promise"),a=n(19).Promise,p(p.S+p.F*!R,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!R),"Promise",{resolve:function(e){return S(s&&this===a?_:this,e)}}),p(p.S+p.F*!(R&&n(115)((function(e){_.all(e).catch(P)}))),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,o=n.reject,i=x((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,o=x((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(40);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(13),o=n(14),i=n(225);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(21).f,o=n(67),i=n(82),a=n(39),s=n(81),c=n(119),u=n(162),l=n(221),p=n(80),f=n(20),d=n(55).fastKey,h=n(71),m=f?"_s":"size",v=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&c(r,n,e[u],e)}));return i(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,o,i=v(e,t);return i?i.v=n:(e._l=i={i:o=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),p(t)}}},function(e,t,n){"use strict";var r=n(82),o=n(55).getWeak,i=n(13),a=n(14),s=n(81),c=n(119),u=n(44),l=n(30),p=n(71),f=u(5),d=u(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return f(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&c(r,n,e[i],e)}));return r(u.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(p(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(p(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var r=o(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=n(41),o=n(18);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(68),o=n(113),i=n(13),a=n(11).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(18),o=n(158),i=n(48);e.exports=function(e,t,n,a){var s=String(i(e)),c=s.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return s;var p=l-c,f=o.call(u,Math.ceil(p/u.length));return f.length>p&&(f=f.slice(0,p)),a?f+s:s+f}},function(e,t,n){var r=n(20),o=n(65),i=n(32),a=n(91).f;e.exports=function(e){return function(t){for(var n,s=i(t),c=o(s),u=c.length,l=0,p=[];u>l;)n=c[l++],r&&!a.call(s,n)||p.push(e?[n,s[n]]:s[n]);return p}}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return u})),n.d(t,"imageUrlHandler",(function(){return p}));let r=window.eqxEnv||"pro";const o={test:{material:"//eqxiu-test-1251586368.picsh.myqcloud.com",video:"//video-test-1251586368.file.myqcloud.com",videoImg:"//video-test-1251586368.image.myqcloud.com",oldFile:"//test\\.res\\.eqh5\\.com"},pre:{material:"//asset.eqh5.com",video:"//video-1251586368.file.myqcloud.com",videoImg:"//video-1251586368.image.myqcloud.com",oldFile:"//res\\d?\\.eqh5\\.com"},pro:{material:"//asset.eqh5.com",video:"//video-1251586368.file.myqcloud.com",videoImg:"//video-1251586368.image.myqcloud.com",oldFile:"//res\\d?.eqh5\\.com"}},i={"test.res.eqh5.com":"eqxiu-test-1251586368.picsh.myqcloud.com","res1.":"asset.","res2.":"asset.","res3.":"asset.","res5.":"asset.","res4.":"asset-v.","res6.":"asset-vm.","res.":"asset."};let a=o[r],s={"q-sign-algorithm":"","q-ak":"","q-sign-time":"","q-signature":""},c=!1;function u(e={}){e.env&&["test","pre","pro"].includes(e.env)&&(r=e.env,a=o[r]),e.sign&&"object"==typeof e.sign&&(s=e.sign),c=!![].map&&0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&/Safari/.test(window.navigator.userAgent)}function l(e){return/^blob:/.test(e)||e.startsWith("data:image/")}function p(e,t){if(!e||"string"!=typeof e)return e;let n=!1;if(new RegExp(a.oldFile).test(e)&&(n=!0),l(e))return e;if((e=function(e){if(!e||"string"!=typeof e)return e;if(l(e))return e;e.startsWith("//")||e.startsWith("http")?Object.keys(i).forEach(t=>{e=e.replace(t,i[t])}):e=e.startsWith("/tencent")?a.videoImg+(e.startsWith("/")?e:"/"+e):a.material+(e.startsWith("/")?e:"/"+e);var t=window.location.protocol;return e.startsWith("//")&&"file:"!==t&&(e=t+e),e}(e)).includes("vframe")){const t=(e=e.replace("//asset-v.eqh5.com",a.material)).indexOf(a.material);if(t>-1){const n=t+a.material.length+1;e=(e=`${e.slice(0,n)}material/form/old_qiniu_image/${e.slice(n)}`).slice(0,e.lastIndexOf("."))}}const r=/crop\/([^/$\|]+)?/i,o=e.match(r);if(o){const t=(o[1]||"").match(/([\d.]+)/g);t&&t.length>2&&(e=e.replace(r,"cut/"+t.join("x")))}if(!t||e.includes(".svg"))return c||!/\/format\/webp/.test(e)||/.(gif)$/.test(e)||(e=e.replace(/\/format\/webp/g,"/format/png")),e;let s="",u="?";if(e.includes("imageMogr2/")?u="|":e.includes("?")&&(u="&"),"string"==typeof t)s=t.startsWith("imageMogr2/")?t:t.startsWith("/")?"imageMogr2"+t:"imageMogr2/"+t;else{const n={};Object.assign(n,t),s="imageMogr2/auto-orient/strip";const{width:r="",height:o="",type:i}=n;(r||o)&&(s+="/thumbnail/"+[r,o].join("x")),i?s+="/format/"+i:c&&!/.(gif)$/.test(e)?s+="/format/webp":/\/format\/webp/.test(e)&&!/.(gif)$/.test(e)&&(e=e.replace(/\/format\/webp/g,"/format/png"))}return e+=u+s}},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72)],void 0===(i="function"==typeof(r=function(e){var t=e.transform;e.transform=function(n,r,o,i,a){t.call(e,e.scale(n,r,a),r,o,i,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,r,o,i,a=t.aspectRatio;if(!a)return t;for(r in n={},t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.crop=!0,(o=e.naturalWidth||e.width)/(i=e.naturalHeight||e.height)>a?(n.maxWidth=i*a,n.maxHeight=i):(n.maxWidth=o,n.maxHeight=o/a),n},e.renderImageToCanvas=function(e,t,n,r,o,i,a,s,c,u){return e.getContext("2d").drawImage(t,n,r,o,i,a,s,c,u),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,r){n=n||{};var o,i,a,s,c,u,l,p,f,d,h,m=document.createElement("canvas"),v=t.getContext||e.hasCanvasOption(n)&&m.getContext,g=t.naturalWidth||t.width,y=t.naturalHeight||t.height,b=g,x=y;function w(){var e=Math.max((a||b)/b,(s||x)/x);e>1&&(b*=e,x*=e)}function S(){var e=Math.min((o||b)/b,(i||x)/x);e<1&&(b*=e,x*=e)}if(v&&(l=(n=e.getTransformedOptions(t,n,r)).left||0,p=n.top||0,n.sourceWidth?(c=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(l=g-c-n.right)):c=g-l-(n.right||0),n.sourceHeight?(u=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(p=y-u-n.bottom)):u=y-p-(n.bottom||0),b=c,x=u),o=n.maxWidth,i=n.maxHeight,a=n.minWidth,s=n.minHeight,v&&o&&i&&n.crop?(b=o,x=i,(h=c/u-o/i)<0?(u=i*c/o,void 0===n.top&&void 0===n.bottom&&(p=(y-u)/2)):h>0&&(c=o*u/i,void 0===n.left&&void 0===n.right&&(l=(g-c)/2))):((n.contain||n.cover)&&(a=o=o||a,s=i=i||s),n.cover?(S(),w()):(w(),S())),v){if((f=n.pixelRatio)>1&&(m.style.width=b+"px",m.style.height=x+"px",b*=f,x*=f,m.getContext("2d").scale(f,f)),(d=n.downsamplingRatio)>0&&d<1&&b<c&&x<u)for(;c*d>b;)m.width=c*d,m.height=u*d,e.renderImageToCanvas(m,t,l,p,c,u,0,0,m.width,m.height),l=0,p=0,c=m.width,u=m.height,(t=document.createElement("canvas")).width=c,t.height=u,e.renderImageToCanvas(t,m,0,0,c,u,0,0,c,u);return m.width=b,m.height=x,e.transformCoordinates(m,n),e.renderImageToCanvas(m,t,l,p,c,u,0,0,b,x)}return t.width=b,t.height=x,t}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72),n(124)],void 0===(i="function"==typeof(r=function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var r,o,i;if(n&&!(t+n>e.byteLength)){for(r=[],o=0;o<n;o+=1)i=e.getUint8(t+o),r.push((i<16?"0":"")+i.toString(16));return"data:image/jpeg,%"+r.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,r,o,i,a){var s,c,u,l,p,f,d=e.exifTagTypes[o];if(d){if(!((c=(s=d.size*i)>4?n+t.getUint32(r+8,a):r+8)+s>t.byteLength)){if(1===i)return d.getValue(t,c,a);for(u=[],l=0;l<i;l+=1)u[l]=d.getValue(t,c+l*d.size,a);if(d.ascii){for(p="",l=0;l<u.length&&"\0"!==(f=u[l]);l+=1)p+=f;return p}return u}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,n,r,o,i){var a=t.getUint16(r,o);i.exif[a]=e.getExifValue(t,n,r,t.getUint16(r+2,o),t.getUint32(r+4,o),o)},e.parseExifTags=function(e,t,n,r,o){var i,a,s;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(i=e.getUint16(n,r)))+4>e.byteLength)){for(s=0;s<i;s+=1)this.parseExifTag(e,t,n+2+12*s,r,o);return e.getUint32(a,r)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,n,r,o,i){if(!i.disableExif){var a,s,c,u=n+10;if(1165519206===t.getUint32(n+4))if(u+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(n+8)){switch(t.getUint16(u)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(u+2,a)?(s=t.getUint32(u+4,a),o.exif=new e.ExifMap,(s=e.parseExifTags(t,u,u+s,a,o))&&!i.disableExifThumbnail&&(c={exif:{}},s=e.parseExifTags(t,u,u+s,a,c),c.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,u+c.exif[513],c.exif[514]))),o.exif[34665]&&!i.disableExifSub&&e.parseExifTags(t,u,u+o.exif[34665],a,o),o.exif[34853]&&!i.disableExifGps&&e.parseExifTags(t,u,u+o.exif[34853],a,o)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){"use strict";e.exports={make:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[t[n]=r]=n}return t}}},function(e,t,n){"use strict";n(542);var r=n(1),o=n(8).$ajax,i=n(543).AD_POSITION_ID;function a(){$(".ad-modal-wx").css({top:"0px"}),$(".ad-modal-wx-box").addClass("ad-wx-slideInDown")}function s(e){var t=(r.SERVER_1+"adview/scenePage/find?sceneId="+e).replace(/http:\/\//g,window.location.protocol+"//");return o({type:"GET",url:t})}e.exports={adModal:a,setAd:function(e){s(e).then((function(e){if(e.success){var t=e.list[0].adPositionId;(function(e){s(e).then((function(e){if(e.success){var t=e.list[0].scenePageDTO,n=e.list[0].adCode;if(t){var r=t.elements.find((function(e){return"g"===e.type})),o=r.css.height,i=r.css.width,a=$('<div class="ad-modal-wx">\n                          <div class="ad-modal-wx-box">\n                          <div class="dog-gif "></div>\n                          <div class="ad-modal-content"></div>\n                          <div class="ad-close-btn"></div>\n                          </div>\n                      </div>');$(".p-index.main").not(".editor-section").prepend(a),$(".ad-modal-content").css({width:i,height:o,"margin-left":-i/2}),n.indexOf("gdt-native-template")>-1&&$(".ad-modal-content").append('<div id="gdt-native-template"></div>'),$(".ad-modal-content").append(n),$(".ad-close-btn").on("click",(function(){a.animate({opacity:0},{duration:300,complete:function(e){return a.remove()}})}))}}}))})(i[t]||112643717)}})),window.history.pushState({title:"title",url:"#"},"title","#");var t=!1;window.addEventListener("message",(function(e){e.data.msg&&"adIsShowed"===e.data.msg&&(t=!0)})),window.addEventListener("popstate",(function(){t?window.history.back():a()}),!1)},viewData:function(e,t,n,o){var i=r.TRACK+"p.gif?",a=encodeURIComponent,s=document,c={order_no:e,task_id:t,scene_id:n,exposure_type:o};i+="data="+a(JSON.stringify(c));var u=s.createElement("img");$(u).attr({src:i,width:0,height:0}),s.body.appendChild(u)},getSceneAdTpl:s}},function(e,t,n){"use strict";var r=n(241).AD_TYPE,o=n(76).safeJsonParse;e.exports={perfectMeta:function(e){return e.ext||(e.ext={}),"string"==typeof e.property&&(e.property=JSON.parse(e.property)||{}),e.property||(e.property={}),"string"==typeof e.bgAudio&&(e.bgAudio=o(e.bgAudio)||null),"string"==typeof e.config&&e.config.length&&(e.config=o(e.config)||null),e.openMsg=!!e.property.openMsg,e.formPush=!!e.property.formPush,void 0===e.property.upSlide&&(e.property.upSlide=0),null===e.accessCode&&(e.accessCode=""),function(e){var t=e.property;if(t.shareDes&&"string"==typeof t.shareDes)try{t.shareDes=JSON.parse(t.shareDes)}catch(e){t.shareDes={description:{type:"position",description:t.shareDes}}}var n=!1;if(t.wxCount>0||(1===parseInt(t.clickFarmerStatus)||2===parseInt(t.clickFarmerStatus))&&t.wxClickFarmerCount>0)n=!0;else{var r=t.shareDes;r&&(r.description&&["myself","selfAndPosition","userDefinedDesc"].includes(r.description.type)||r.title&&["myself","selfAndPosition","userDefinedTitle"].includes(r.title.type)||r.avatar)&&(n=!0)}if(!n&&e.config){var o=e.config.clientType;o&&4===parseInt(4&o)&&(n=!0),e.config.recordWxInfo&&(n=!0),e.config.wxAuthLevel>0&&(n=!0)}t.wxAuth=n}(e),e},perfectAdType:function(e){var t=e.property,n=e.createTime,o=e.hideEqAd,i=e.eqAdType,a=e.isAdvancedUser,s=e.bottomLabel;switch(n<14165028e5|o|99===i&&(t.eqAdType=r["无尾页无底标"],delete t.createTime,delete t.hideEqAd),a&&(t.ad=2,s&&s.id?t.eqAdType=r["品牌联合底标"]:t.eqAdType=r["技术支持底标"],delete t.isAdvancedUser),""+t.eqAdType){case r["无尾页无底标"]:t.ad=0;break;case r["技术支持尾页"]:t.ad=1;break;case r["技术支持底标"]:case r["品牌联合底标"]:t.ad=2;break;case r["deepshare尾页"]:t.ad=4;break;default:t.eqAdType=r["技术支持尾页"],t.eqAdType=parseInt(t.eqAdType),t.ad=1}},perfectName:function(e){e.name=e.name||"未命名场景",e.name=e.name.replace(/&quot;/g,'"')},perfectDescription:function(e){e.description=e.description||"易企秀表单 - 登录 www.eqxiu.com 快速制作，高效推广。"},perfectFormGlobalSetting:function(e){var t=Object.assign({autoFill:!1,clearCycle:0,clientCount:0,clientType:0,limit:0,timeLimitEnd:"",timeLimitInDay:"",timeLimitStart:"",wxOnly:!1,showAfterSubmit:1,showText:"",scoreShow:!0,scoreTexts:[],scoreShowType:1,optionSettings:[],defaultSetting:{},exam:{},recordWxInfo:null,shareAsPhoto:!1},e);return Object.assign(e,t),e.optionSettings.length||(e.optionSettings=[]),e.property||(e.property={}),e.openWechatRemind=e.openWechatRemind,e.wechatRemindCycle=0!==parseInt(e.wechatRemindCycle)?e.wechatRemindCycle||null:0,e.openWechatRemindDND=e.openWechatRemindDND,e.voteEnrollmentSetting||(e.voteEnrollmentSetting={auditType:0,startTime:null,endTime:null,openRegionCheck:!1,regions:[{province:"北京市",city:""}]}),e},perfectProperty:function(e){return e&&"string"==typeof e&&(e=o(e)),e.shareDes&&"string"==typeof e.shareDes&&(e.shareDes=o(e.shareDes)),e}}},function(e,t,n){"use strict";var r=(0,n(238).make)({0:"无尾页无底标",1:"技术支持尾页",2:"技术支持底标",3:"品牌联合底标",4:"deepshare尾页"});e.exports={AD_TYPE:r}},function(e,t,n){"use strict";e.exports={id:220233,code:"byiBlZOg",name:"审核关闭",description:"",cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png",bgAudio:null,bgColor:"rgba(255,255,255,1)",createTime:1535704163e3,publishTime:1546505092e3,bizType:0,userId:"b5635fe896014fc890114fa096f7c19e",userType:"1",memberType:"",expiryTime:null,isTemplate:0,property:{wxCount:0,upSlide:0,wxAuth:!1},config:"",ext:{},openMsg:!1,formPush:!1,map:{currentTimeMillis:1595921969578,channel:0,redpack:!1},adHeight:0}},function(e,t,n){"use strict";e.exports={id:220234,code:"9r1H0U1M",name:"链接不存在",description:"",cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png",bgAudio:null,bgColor:"rgba(255,255,255,1)",createTime:1535619322e3,publishTime:154650508e4,bizType:0,userId:"b5635fe896014fc890114fa096f7c19e",userType:"1",memberType:"",expiryTime:null,isTemplate:0,property:{wxCount:0,upSlide:0,wxAuth:!1},config:"",ext:{},openMsg:!1,formPush:!1,map:{currentTimeMillis:1595920378005,channel:0,redpack:!1},adHeight:0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e.trigger;if(r){var o=r.sends;Array.isArray(o)&&(n.properties.triggerGroup=n.properties.triggerGroup||[],o.forEach((function(r){r.handles.forEach((function(o){o.ids&&o.ids.length&&o.ids.forEach((function(i){n.properties.triggerGroup.push({eventType:r.type,sourceType:t,sourceId:"e"==t?e.id:n.id,targetType:"e",targetId:i,targetState:o.type,delay:r.delay})}))}))}))),"e"==t&&r.initType&&(e.properties.initType=r.initType),delete e.trigger}if("e"==t&&1!=e.properties.initType&&2!=e.properties.initType)if(r&&r.receives&&r.receives.length){var i=r.receives.length;1===r.receives[i-1].type?e.properties.initType=2:2===r.receives[i-1].type&&(e.properties.initType=1)}else e.properties.initType=1}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(181);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(246),h=n(10),m=(h.COMP_TYPE,h.FORM_COMPS,n(57).BG_CROP_TYPE,n(57)),v=m.PC_VIEW_WIDTH,g=m.EDITOR_WIDTH,y=m.SUBMIT_PAGE_EDITOR_PAGE_HEIGHT,b=n(201),x=n(33).perfectCssForPcRender,w=v/g,S=n(0),k=(S.isMiniProm,S.mobilecheck),O=(S.iphoneCheck,n(4).getUrlParam),E=n(33).convertPx2Rem,C=n(16).getRatio,_=n(73),I=n(308),P=n(309),T=n(0),R=T.isWxEnv,A=(T.isWeixin,n(6)),q=A.popUpModal,j=A.loadingShadow,L=(n(24).getItem,n(7),n(182).wxSlientAuth,n(28).$getUserWxInfo,n(75).getVoteHistoty),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,i=u(l);function l(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=i.call(this,e,t);var r=e.properties.formStyle||{border:{}};e.properties.formStyle=Object.assign({title:{fontSize:"14",fontWeight:"bold",color:"#333"},border:{borderWidth:1,borderColor:"#CCD5DB",borderStyle:"solid",borderRadius:3},input:{color:"#333",backgroundColor:"#fff"},content:{color:"#000"}},r),n.lockHeight=!1,r.border&&(delete r.border.color,delete r.border.backgroundColor),"view"==n.eqxScene.config.mode&&(E(r.title,r),E(r.border,r),E(r.input,r));var o=e.properties.longPage;return n.pLen=-(o-n.height),n.openCover=n.eqxScene.getPageConfig("openCover")||!1,n.bindThisOnScroll=n.onScroll.bind(p(n)),n.orderHeight((function(){n.dealAppend.call(p(n))})),n.orderOnceHeight((function(){n.changeScrollHeight(n.getWindowHeight())})),n}return t=l,(n=[{key:"addEventListener",value:function(){s(f(l.prototype),"addEventListener",this).call(this),this.renderEqxList=this.eqxCompList.slice(),this.$transformArea=this.$editDiv}},{key:"pageScale",value:function(){return 1}},{key:"active",value:function(){var e=this;this.resetLongPage();var t=s(f(l.prototype),"active",this).call(this);return t.then((function(){e.changeScrollHeight(e.getWindowHeight())})),t}},{key:"resetLongPage",value:function(){this.touchPos=0,this.renderEqxList=this.eqxCompList.slice()}},{key:"addTouchEvent",value:function(){var e=this,t=this;if("edit"!==this.eqxScene.config.mode&&this.$transformArea){var n=this.pLen,r=this.height,o=this.$pageDiv,i=this.$editDiv,a=this.scrollMode;this.$transformArea=i,this.touchPos=0;var s,c,u,l,p,f=this.renderEqxList,d=0,h=0,m=0;this.currentMoveY=0,o.on("mousedown touchstart",(function(e){if(!t.iscrollAble&&(t.autoMotion.stop(),n=t.pLen,!t.hasCoverEffect)){e.stopPropagation(),s=!0,u=t.touchPos;var r=e.originalEvent,o=r.touches?r.changedTouches[0]:null;c=o?o.clientY:e.clientY,"WE"==a&&(l=o?o.clientX:e.clientX),h=t.touchPos,d=Date.now()}})),o.on("mousemove touchmove",(function(o){var i=e.eqxScene.pageScroll,d=e.pageJson.properties.pageScroll.disableFlip;if(o.stopPropagation(),o.preventDefault(),s){var h=o.originalEvent.touches,v=h?h[0]:null,g=v?v.clientY:o.clientY;if(u+=g-c,"WE"===a&&(p=(v?v.clientX:o.clientX)-l,Math.abs(p)>Math.abs(u-t.touchPos)&&!e.forbidHandFlip))return p>0?i.goToPrePage():i.goToNextPage(),void(s=!1);if(u>0&&"NS"===a&&!e.forbidHandFlip&&!d)return i.goToPrePage(),s=!1,void(t.touchPos=0);if(u>n&&u<0)!function(e){for(var t=f.length;t--;){var n=f[t],o=n.compJson.css.top||"";if(o=parseInt(o.toString().replace("px","")),!n.$li)break;var i=n.$li.css("display");o>r&&o+e<r&&!n.triggerHide&&1==n.compJson.properties.initType&&("list-item"===i||"none"===i)&&(n.eleShow(),f.splice(t,1)),"block"==i&&f.splice(t,1)}}(u),t.doTransform(u,0);else if(u<n-5&&"NS"===a&&!e.forbidHandFlip&&!d)return i.goToNextPage(),s=!1,void(t.touchPos=n);m=g-c,c=g}})),o.on("mouseup touchend mouseleave",(function(){if(s&&(s=!1,!(u==h||Math.abs(m)<10)))if(u>n&&u<0){var e=Date.now(),r=(u-h)/(e-d);d=e,Math.abs(r)>5&&(r=r>0?1:-1);var o=Math.abs(r/.002),i=r*o/2,a=u;(u+=i)>0?(o*=(i=-a)/i,u=0):u<n&&(o*=(i=n-a)/i,u=n),t.autoMotion.start(a,i,o),t.bottomArrow&&(t.bottomArrow.remove(),t.bottomArrow=null)}else u>0?t.touchPos=0:u<=n&&(t.touchPos=n),t.doTransform(t.touchPos,0)}))}}},{key:"isDisabledShare",get:function(){return this.eqxScene.formGlobalSetting.disableWxShare}},{key:"dotransformPx",value:function(){var e=this.pLen-this.touchPos;return 0===e||(this.touchPos=e>-250&&e<0?this.touchPos+e:this.touchPos-250,this.doTransform(this.touchPos,300),!1)}},{key:"doTransform",value:function(e,t){this.touchPos=e,"edit"===this.eqxScene.config.mode||this.$transformArea}},{key:"doTransFormAnchor",value:function(){var e=this,t=this.getTopItems().filter((function(e){return"anchor"===e.type})),n=[],r=[],o=[],i=this.pageJson.properties.triggerGroup,a=[],s=0;return s="mobileRender"==this.renderMode?window.innerHeight:"pcRender"===this.renderMode?window.innerHeight-60:486,t.forEach((function(t){n.push(!1),r.push(t.compJson.css.top),o.push(Math.floor(t.compJson.properties.screenPos.top*s/486));var c=i.find((function(e){return"e"===e.sourceType&&e.sourceId===t.id&&1===e.eventType&&10===e.targetState}));if(c){var u=e.getEqxCompById(c.targetId);a.push(u.compJson.css.top)}else a.push(0)})),function(e){t.forEach((function(t,i){t.update$li({display:"none"});var c=r[i],u=o[i];c+e<u&&(a[i]+e>s||a[i]+e<0)&&(t.update$li({top:u-e,display:"block"}),n[i]=!0),n[i]&&c+e>u&&(t.update$li({top:u-e,display:"none"}),n[i]=!1)}))}}},{key:"transformEle",value:function(e,t,n){if("edit"!==this.eqxScene.config.mode){if(e.css({transition:"","-webkit-transition":""}),n){var r="transform ".concat(n,"ms ease-out");e.css({transition:r,"-webkit-transition":"-webkit-".concat(r)})}e.css({transform:t,"-webkit-transform":"-webkit-".concat(t)})}}},{key:"updateCompPosition",value:function(e){this.handleOverElement(e)}},{key:"handleOverElementDynamicHeight",value:function(e){var t=this,n=e.filter((function(e){return e.diffHeight})).sort((function(e,t){return t.getBoundingRect().top-e.getBoundingRect().top})),r=C(),o=0;return n.forEach((function(e){var n=e.diffHeight;o+=n;var i=e.getBoundingRect(!1).bottom,a=new Set,s=(i-n-30)/r;t.getEqxComps().forEach((function(t){if(!t.compJson.properties.appendElement&&"ad03"!==t.type&&t.getBoundingRect(!1).top>=s&&!t.getExtraHeight(!1)&&t!==e){var o=t.findTopGroup();if(o&&o!==t){if(a.has(o)||o.getBoundingRect(!1).top*r<s)return;o.getMap$group(),o.updateTop(n),a.add(o)}else{var i=t.css.top+n;t.update$li({top:i*r}),t.updateCss({top:i})}}})),e.totalDiffHeight||(e.totalDiffHeight=0),e.totalDiffHeight+=n,e.diffHeight=0})),o}},{key:"handleOverElement",value:function(e){var t,n=this,r={},o=[],i=this.getEqxComps(),a="ruleChange"==e&&"pcRender"!==this.renderMode?1:w,s=0;if(i.forEach((function(e){r[e.id]=e,e.isBaseLayerElement||"ad03"===e.type||o.push(e),"4"!=e.type&&"lpHeadFigure"!=e.type||e.isSupportImgScroll()||e.updateImageSize(e.compJson.properties.imgStyle.width/e.compJson.properties.imgStyle.height),"lpBtMark"===e.type&&(s=30)})),this.isSubmitPage()||this.isContent&&this.overlayElementQueue.length){var c=this.handleOverElementDynamicHeight(i);this.lastDiffHeight=this.lastDiffHeight||0,this.updatePageHeight((this.getPageActualHeight()-this.lastDiffHeight+c)/C()),this.lastDiffHeight=c}var u=[];o.forEach((function(t){var o=t.compJson.properties,i=o.relativeItem,c=(o.lock,t.getAbsolutePos()),l=c.top,p=c.left,f=t.tempGroup;if(f){for(var d=a;f&&f.tempGroup;)f=f.tempGroup;1==f.json.type&&"ruleChange"!=e&&(p=f.pos.minLeft+(p-f.pos.left),d=1.5),l=f.pos.minTop*a+(l-f.pos.minTop)*d}else if(i){var h=r[i.id];if(h){var m,v;if(h.group){var g=h.getRealPos();m=g.top,v=g.height,m-=n.$section.get(0).getBoundingClientRect().top}else{var y=h.getAbsolutePos();m=y.top,v=y.height}var b=i.diff;l=i.type?m+v*b:m+b*a}}if(n.isSubmitPage())if("lpBtMark"===t.type)l=0,n.eqxScene.isRemoveAd()&&(t.updateCss({height:0,opacity:0}),l=-60);else if(!n.firstAddBtMark&&!n.eqxScene.isRemoveAd()){var x=s*C();if(l+=x,f&&!u.includes(f)){var w=t.findTopGroup().id,S=t.$li.parents("li[id='".concat(w,"']"));S.css({top:parseFloat(S[0].style.top)+x}),u.push(f)}}t.updateCss({left:p,top:l}),t.autoSizeTopDown()})),this.isSubmitPage()&&(this.firstAddBtMark=!0),o.forEach((function(e){var n=e.tempGroup;if(n){for(var o=e.compJson.css.top;n&&n.tempGroup;)n=n.tempGroup;var i=n.relative.relativeItem;if(i&&!n.relative.diff&&r[i.relativeItem.id]){var s=r[i.relativeItem.id],c=parseFloat(s.compJson.css.top),u=parseFloat(s.compJson.css.height);t=i.relativeItem.type&&"percent"==i.relativeItem.type?i.relativeItem.diff*u:i.relativeItem.diff*a;var l=i.item.compJson.css.top;n.relative.diff=c+t-l}n.relative.diff&&(o+=n.relative.diff),e.updateCss({top:o}),e.autoSizeTopDown()}}))}},{key:"computeCompPosition",value:function(e){e.sort((function(e,t){var n=e.getArrIndex()-t.getArrIndex();return 0==n&&(n=e.getZIndex()-t.getZIndex()),n})).forEach((function(e){e.update$li({visibility:"visible"}),e.isBaseLayerElement}))}},{key:"getOverLayerMaxY",value:function(){var e=0;return this.overlayElementQueue.forEach((function(t){var n=t.getAbsolutePos(!0),r=n.top+n.height;e=Math.max(e,r)})),e}},{key:"calPageHeight",value:function(e,t){var n=this,r=0,o=1;"pcRender"==e&&(o=w),"number"==typeof e&&(o=e);var i=this.getEqxComps().slice(0).filter((function(e){return!e.ruleHide&&!["lpBtMark","ad03","messageBoard"].includes(e.type)}));return t&&(i=i.filter((function(e){var t;return!e.compJson.properties.appendElement&&"none"!==(null===(t=e.$li)||void 0===t?void 0:t.css("display"))}))),i.forEach((function(e){for(var t=e.tempGroup;t&&t.tempGroup;)t=t.tempGroup;t&&1==t.json.type&&(o=1),r=Math.max(r,e.getBoundingRect(n.getRealDom,n.getRealDom).bottom*o-e.getExtraHeight()*o)})),r}},{key:"calRenderHeight",value:function(e){var t=0;return this.getEqxComps().slice(0).filter((function(e){var t;return!e.compJson.properties.appendElement&&"none"!==(null===(t=e.$li)||void 0===t?void 0:t.css("display"))})).forEach((function(e){t=Math.max(t,e.getBoundingRect().bottom-e.getExtraHeight())})),t}},{key:"showEle",value:function(e,t){for(var n=t.renderEqxList||[],r=t.height,o=n.length;o--;){var i=n[o],a=i.compJson.css.top;if(a=i.compJson.css.top||0,a=parseInt(a.toString().replace("px","")),!i.$li)return;var s=i.$li.css("display");if(i.ruleHide)return void n.splice(o,1);a+e<r&&a+e>=-5&&!i.triggerHide&&1==i.compJson.properties.initType&&("list-item"===s||"none"===s)&&(i.eleShow(),n.splice(o,1)),"block"==s&&n.splice(o,1)}}},{key:"changeMoveToIscroll",value:function(e,t){var n;if(this.$section.parent(".nr"),this.$editDiv&&(null===(n=this.eqxScene)||void 0===n?void 0:n.currentPage)===this){this.iscrollAble=!0;var r="pcRender"!=t?g:v;if(!e){var o=this.pageJson.properties.longPage;r=g,e=o}var i=this.eqxBackground;if(i){var a=this.eqxScene.isCardScene?0:this.getBottomMarkHeight();!this.lockHeight&&i.updateBgHeight(e-this.getAdHeight()-a),i.updateBgOpacity(1)}if(this.$editDiv.find("#edit_area").css("width",r),"pcRender"==t)window.top,window,this.bgm&&this.bgm.$bgmBtn.css({position:"fixed",left:"20px",right:"auto"});else{var s=window.top!==window;s&&O("directView")&&this.$section.parent(".nr").css("height",e)}}}},{key:"eqxSectionParent",get:function(){return this.eqxScene.$ele}},{key:"eqxSectionCover",get:function(){var e=this.$section,t=location.pathname.match(/[^/]*$/),n=!isNaN(t);return this.eqxScene.$ele&&this.eqxScene.$ele.parents(".iframe-phone").length?$("#iframePhoneCover.iframe-phone-nr-cover"):n&&"pcMobileRender"==this.renderMode?this.$section.parent(".preview-body").get(0)?$("#preview-body-cover"):$("#phoneViewCover.phone-view-cover"):"pcMobileRender"==this.renderMode?$("#nrCover.mobile-nr-cover"):"mobileRender"==this.renderMode&&this.eqxScene.$ele?$("body"):n&&"pcRender"==this.renderMode?$(".pc-view"):this.eqxScene.config.isInnerView&&"pcRender"==this.renderMode&&this.eqxScene.$ele?this.eqxScene.$ele:$("#view_panel").length?$("#view_panel"):e}},{key:"isFullScreen",get:function(){return!(!this.renderMode||"pcMobileRender"==this.renderMode||"pcRender"==this.renderMode)}},{key:"changeMoveToScroll",value:function(e,t){var n;this.moveMode="scroll";var r=this;window.top!==window&&(e*=this.pageScale());var o=this.eqxBackground;o&&o.updateBgOpacity(1),"pcMobileRender"!==t&&this.bgm&&this.bgm.$bgmBtn.css("position","fixed");var i=null==this||null===(n=this.$section)||void 0===n?void 0:n.parent(".nr").get(0),a=r.doTransFormAnchor();i&&i.addEventListener("scroll",(function(){var e=Math.max(document.body.scrollTop,document.documentElement.scrollTop);r.showEle(-parseFloat(e),r),a(-parseFloat(e))})),i&&i.addEventListener("scroll",this.bindThisOnScroll),this.boundRect={min:0,max:e-$("body").height()},this.bindMoveEvent(!1)}},{key:"dealWidthGroup",value:function(e,t){var n=this,r=e||this.pageJson.groups,o=this.buildTempGroups(r);return this.isArrangEditor,o.forEach((function(e){e.itemIds.forEach((function(t){if(/group/.test(t)){var r=o.find((function(e){return e.id==t}));e.addEqxItem(r),r.tempGroup=e}else{var i=n.getEqxItem(t);i&&(e.addEqxItem(i),i.tempGroup=i.group)}})),e.pos=e.getAbsolutePos(),e.pos.minTop=1e17;var r=e.pos,i=r.left,a=r.width,s=null;e.pos.minLeft=e.pos.left,e.relative={relativeItem:null},e.json.type&&"ruleChange"!=t&&(e.pos.minLeft=(i+a/2)/g*v/1.5-a/2),e.getAllSubEqxComps().forEach((function(t){t.getAbsolutePos().top<e.pos.minTop&&(e.pos.minTop=t.getAbsolutePos().top,s=t,!t.isBaseLayerElement&&t.compJson.properties.relativeItem&&(e.relative.relativeItem={item:t,relativeItem:t.compJson.properties.relativeItem}))})),e.pos.diff=s.getRotateDiff()})),o}},{key:"buildTempGroups",value:function(e){var t=this,n=[];return e&&e.forEach((function(e){var r=new b(e,t.getCurrentLayer());n.push(r)})),n}},{key:"updateMaxDistance",value:function(e,t){var n=this.pageJson.properties.longPage;0==arguments.length?(t=this.height,e=n):1==arguments.length&&(t=e,e=n);var r=this.eqxBackground,o=Math.max(n,e,document.documentElement.clientHeight);r&&r.updateBgHeight(o),this.pLen=t-e>0?0:t-e}},{key:"getAdHeight",value:function(){return this.getEqxComps().find((function(e){return"ad03"===e.type&&!e.isTailAd()}))&&!this.isSubmitPage()?0:this.eqxScene.adHeight}},{key:"calActualHeight",value:function(e){var t=this.eqxScene.isCardScene?0:this.getBottomMarkHeight(),n=this.calPageHeight(e,!0),r=(parseInt(this.getAdHeight())||0)+t,o=this.eqxCompList.filter((function(e){return"recommend"==e.type})),i=o.length?o[0].getHeight():0;return r+=this.handleMsgBoard()+parseInt(i),n="pcRender"===e?Math.max(n,$(window).height()-r-60):"mobileRender"===e?Math.max(n,$(window).height()-r):Math.max(n,this.eqxScene.$ele.height()-r),{pHeight:n=this.getPageActualHeight(),tHeight:n+r}}},{key:"getBottomMarkHeight",value:function(){return this.isSubmitPage()?0:30*C()}},{key:"getAppendCompHeight",value:function(){var e=this.baseElementQueue.filter((function(e){return!!e})),t=e.findIndex((function(e){return"lpBtMark"===e.type})),n=e.findIndex((function(e){return"messageBoard"===e.type})),r=e[n],o=e[t],i=r?r.getAbsolutePos(!0).height:0;return(o?o.getAbsolutePos(!0).height:0)+i}},{key:"appendLogo",value:function(){var e;this.$section.find(".edit_wrapper").css("padding-bottom","0px");var t=this.baseElementQueue.filter((function(e){return!!e})),n=t.findIndex((function(e){return"lpBtMark"===e.type})),r=t.findIndex((function(e){return"messageBoard"===e.type})),i=t[r];if(-1!=n){var a=t[n];i&&i.getAbsolutePos(!0).height,t.splice(n,1);var s=a.getAbsolutePos(!0).height;if("pcRender"!==this.renderMode||a.isComputed||(x(a.compJson,this.pageJson,this.pageJson),a.autoSizeTopDown(),a.isComputed=!0),"submit"==this.pageJson.pageType?t.unshift(a):t.push(a),this.baseElementQueue.splice(0),(e=this.baseElementQueue).push.apply(e,o(t)),this.updateCompsPosition(),"submit"!==this.pageJson.pageType){var c=this.getPageActualHeight(),u=this.$section.parent(".nr").height();c<u?a._updateSize({bottom:"auto",top:u-s+"px",position:"absolute"}):this.getLayerHeight()<c?a._updateSize({bottom:"auto",top:c-s+"px",position:"absolute"}):a._updateSize({bottom:"auto",top:0,position:"relative"})}}}},{key:"appendMessageBoard",value:function(){this.$section.find(".edit_wrapper").css("padding-bottom","0px");var e=this.baseElementQueue.filter((function(e){return!!e})),t=e.findIndex((function(e){return"messageBoard"===e.type})),n=e.findIndex((function(e){return"lpBtMark"===e.type})),r=0;if(-1!=t){-1!==n&&(r=e[n].getAbsolutePos(!0).height);var o=e[t],i=this.overlayElementQueue.length,a=o.getAbsolutePos(!0).height;if("pcRender"!==this.renderMode||o.isComputed||(x(o.compJson,this.pageJson,this.pageJson),o.autoSizeTopDown(),o.isComputed=!0),"submit"!==this.pageJson.pageType){var s=this.getPageActualHeight(),c=this.$section.parent(".nr").height(),u=46*C(),l=this.pageJson.properties.longPage;l*=C();var p=this.getPageMinHeight()-u-r;if(i&&(p=s-a-r),s<c||this.getLayerHeight()<s){o._updateSize({bottom:"auto",marginTop:0,top:p+"px",position:"absolute"});var f=o.getAbsolutePos(!0);this.getPageActualHeight()<f.top+f.height+r&&this.updatePageHeight(l,1)}else if(o._updateSize({bottom:"auto",marginTop:0,top:0,position:"relative"}),i&&p){var d=o.getAbsolutePos(!0).top;o._updateSize({marginTop:p>d?p-d:0})}}}}},{key:"dealAppend",value:function(){if(this.$section){var e=this.baseElementQueue.filter((function(e){return!!e})),t=e.findIndex((function(e){return"lpBtMark"===e.type})),n=e.findIndex((function(e){return"messageBoard"===e.type})),r=e[n],o=e[t];o&&o._updateSize({bottom:"auto",top:0,position:"relative"}),r&&r._updateSize({bottom:"auto",top:0,position:"relative"}),r&&this.appendMessageBoard(),o&&this.appendLogo()}}},{key:"getWindowHeight",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.renderMode;return"pcRender"==n?$(window).height()-60:Math.min(parseFloat(null==this||null===(e=this.eqxScene)||void 0===e||null===(t=e.$ele)||void 0===t?void 0:t.height()),$(window).height())}},{key:"changeScrollHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderMode,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.changeMoveToScroll(e,t,n)}},{key:"showElementById",value:function(e){var t=this.getEqxCompById(e).$li.find(".form-title-box")[0];t&&t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t&&t.scrollIntoView()}},{key:"moveByCompId",value:function(e){var t=this.getEqxCompById(e);if(t){var n=t.getAbsolutePos().top;this.$section.parent(".nr").scrollTop(n)}}},{key:"scrollTo",value:function(e){var t=Math.max(-e,this.pLen);"iscroll"==this.moveMode?(this.myScroll.scrollTo(0,t,0,!0),this.afterAutoMove(t)):(this.eqxScene.isCardScene?this.$cardWraper:$(document)).scrollTop(-t),this.showEle(t,this)}},{key:"adaptDataForRadio",value:function(){var e=0;this.getEqxItems().slice(0).filter((function(e){return!e.compJson.properties.appendElement})).sort((function(e,t){return e.getArrIndex()-t.getArrIndex()})).forEach((function(t){if(t.isBaseLayerElement){var n=t.compJson.css,r=n.top,o=n.height;if(r+=e,t.updateCss({top:r}),["c","r"].indexOf(t.type)>-1&&"horizontal"==t.compJson.arrange){t.updateFormHeight();var i=t.compJson.css.height;r-=(o-i)/2*(w-1),e+=(i-o)*w,o=i,t.updateCss({top:r,height:o})}t.autoSizeTopDown()}}))}},{key:"handleMsgBoard",value:function(){var e=this.messageBoard,t=0;return e&&(t=e.getAbsolutePos().height),t}},{key:"triggerEleShow",value:function(){var e=Math.max(document.body.scrollTop,document.documentElement.scrollTop);this.myScroll&&(e=this.myScroll.y),this.showEle(e,this)}},{key:"onScroll",value:function(e){this.eqxScene.eventManager.publish(this.getEventName("scroll"),e)}},{key:"bindMoveEvent",value:function(e){var t=this;if(O("cardId")&&window.parent!=window){var n=!1,r=this,o=this.$section.parent(".nr"),i=!1,a={startX:0,startY:0};o.off("mousedown.card touchstart.card").on("mousedown.card touchstart.card",(function(t){var o,c;n=!0,o={top:!1,bottom:!1},c=e?r.myScroll.y:r.getScrollTop(),Math.abs(c)<=3&&(o.top=!0),Math.abs(c-r.boundRect.max)<=3&&(o.bottom=!0),i=o;var u=s(t);Object.assign(a,{startX:u.clientX,startY:u.clientY})})),o.off("mouseup.card touchend.card touchcancel.card").on("mouseup.card touchend.card touchcancel.card",(function(e){if(n){n=!1;var r=s(e),o=r.clientY-a.startY,c=r.clientX-a.startX,u=!1;if(Math.abs(c)>Math.abs(o)){if(Math.abs(c)<20)return;u=c>0?"toRight":"toLeft"}else i.top&&o>10?u="toBottom":i.bottom&&o<-10&&(u="toUp");i=!1,u&&t.EqxMsgManager.post({type:"pageMove",eventType:e.originalEvent.type,direction:u})}})),!this.isAddevent&&this.EqxMsgManager.addEvent("pageRefresh",this.pageRefresh.bind(this)),this.isAddevent=!0}function s(e){return e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent}}},{key:"pageRefresh",value:function(){var e=this;setTimeout((function(){e.dealAppend()}),0),this.eqxCompList.forEach((function(e){"imageVote"!==e.type&&"videoVote"!==e.type||e.getVoteSettings().openAdaption&&e.updateFormHeight()}))}},{key:"getScrolTop",value:function(){return this.$ele.parent(".nr").scrollTop()}},{key:"submitForm",value:function(){var e=this.getSubmitButton();return e.handlerSubmit(e.$li,e.compJson)}},{key:"getSubmitButton",value:function(){return this.getEqxItems().find((function(e){return["6","601"].includes(String(e.type))}))}},{key:"_handleSpecialComps",value:function(){s(f(l.prototype),"_handleSpecialComps",this).call(this)}},{key:"handlerVoteHideSumbit",value:function(){var e=this,t=function(){var t=O("sourceType");if(t&&["showLast","updateLast"].includes(t))return!1;var n=e.getAllFormComps(!1);return 1===n.length&&"textVote"!==n[0].type&&n[0].getVoteSettings&&"single"===n[0].getVoteSettings().chooseModal}(),n=this.getSubmitButton();n&&t&&n.eleHide()}},{key:"updateVoteCanDirectVote",value:function(){var e,t=!1;this.getAllFormComps(!1).forEach((function(n){"function"==typeof n.updateCanDirectVote&&(n.updateCanDirectVote(),n.isCanDirectVote&&(t=!0,e=n))}));var n=this.getSubmitButton();return t||!n||n.isCompShow?t&&n&&n.eleHide():n.eleShow(),{hasCanDirectVote:t,updatedComp:e}}},{key:"adaptSlide",value:function(){if(1==(this.eqxScene.meta.property&&this.eqxScene.meta.property.upSlide)){var e=this.getTopItems().filter((function(e){return"lpBtMark"==e.type}));if(e.length>0){var t=e[0].id;this.moveByCompId(t)}}}},{key:"isUpSlide",value:function(){return this.eqxScene.meta.property&&this.eqxScene.meta.property.upSlide&&1==this.eqxScene.meta.property.upSlide}},{key:"handlerFromToolDiv",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pageJson.pageType||"edit"===this.eqxScene.config.mode||(this.votingRankingView(e),this.votingSignUpView(e))}},{key:"appletRankingView",value:function(){_.renderVoteResult(this,"settingVote")}},{key:"votingRankingView",value:function(e){var t=this;if(this.$section){var n=this.pageJson.properties.checkVotingRanking,r=this.initStatManager(),o=this.eqxSectionCover;if(e)return this.$voteRankBtn?void this.$voteRankBtn.hide():void 0;if(n.isAllow&&r.hasVoteComps()){if(this.$voteRankBtn)return void this.$voteRankBtn.show();var i=$('<div class="voteRank_view"\n                style="background: '.concat(n.color,";color:").concat(n.fontColor||"#fff",'"><span>排名</span></div>'));this.$voteRankBtn=i,"mobileRender"==this.renderMode||"pcMobileRender"==this.renderMode?(o.append(i),o.find(".voteRank_view").on("click",(function(){_.renderVoteResult(t,"settingVote")}))):this.eqxScene.config.isInnerView&&"pcRender"==this.renderMode?(o.prepend(i),i.on("click",(function(){_.renderVoteResult(t,"settingVote")}))):(i.addClass("voteRank_view_pc"),o.prepend(i),i.on("click",(function(){_.renderVoteResult(t,"settingVote")})))}}}},{key:"votingSignUpView",value:function(e){var t=this;if(this.eqxScene.sceneJson.validateData,"showLast"!==O("sourceType")&&this.$section){var n=this.pageJson.properties.checkVotingSignUp,r=this.initStatManager(),o=this.eqxSectionCover;if(e)return this.$votingSignUpBtn?void this.$votingSignUpBtn.hide():void 0;var i=this,a=function(e){e.stopPropagation();var n,r=R();if(O("appletPreview")&&O("appletWxInfo")){var o=O("tpl")?"模板中暂不支持报名":"请将作品分享后再报名";return"true"===O("fromHot")&&(o="热门活动内预览不支持报名"),q(o,i)}try{var a=j("icon",t.eqxScene,3e3);n=L({pid:scene.id}).finally((function(){setTimeout(a,1e3)}))}catch(e){return document.body.style.pointerEvents="auto",void q(e.msg,i)}var s=t.pageJson.properties.voteTimes;r?n.then((function(e){0===e.obj?I.renderVoteSignUpBySinger(i,"pcRender"==t.renderMode):0!==e.obj&&I.renderVoteSuccessBySinger(t,"pcRender"==t.renderMode,0===s||e.obj<s,e.list)})):q("请在微信环境中打开",i)};if(n.isAllow&&r.hasVoteComps()){if(this.$votingSignUpBtn)return void this.$votingSignUpBtn.show();var s=$('<div class="votingSignUp_view"\n                style="background: '.concat(n.color,";color:").concat(n.fontColor||"#fff",'"\n                ><span >报名</span></div>'));this.$votingSignUpBtn=s,"mobileRender"==this.renderMode||"pcMobileRender"==this.renderMode?(o.append(s),o.on(k()?"touchend":"click",".votingSignUp_view",a)):this.eqxScene.config.isInnerView&&"pcRender"==this.renderMode?(o.prepend(s),o.find(".votingSignUp_view")[0].addEventListener("click",a)):(s.addClass("votingSignUp_view_pc"),o.prepend(s),o.find(".votingSignUp_view_pc").on(k()?"touchend":"click",a))}}}},{key:"showVoteDetail",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getEqxCompById(e);if(!r)throw new Error("comp not exist! elementId: ".concat(e));var o=r.getOptionArray().find((function(e){return e.id==t}));if(!o)throw new Error("option not exist! optionId: ".concat(t));var i=P.createBySinger(o,r,this,n);i.render(),this.voteDetail=i}},{key:"awitUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("edit"!==this.eqxScene.config.mode){this.updateTimer&&clearTimeout(this.updateTimer);var n=function(){e.getRealDom=t,e.updateTimer=null,e.updateRender(),e.getRealDom=!1};this.updateTimer=setTimeout((function(){n()}),600)}}},{key:"updateRender",value:function(){this.updateCompPosition("ruleChange"),this.dealAppend(),this.triggerEleShow()}},{key:"isDefaultSubmitPage",value:function(){var e=this.getProp("condition");return e&&e.isDefault}},{key:"updatePageHeight",value:function(e,t){!t&&(t=C()),e*=t;var n=this.pageJson.properties.longPage;n*=C();var r=this.overlayElementQueue.length;if("view"===this.eqxScene.config.mode){var o=this.getPageMinHeight(),i=this.getLayerHeight(),a=this.getOverLayerMaxY();r||this.isSubmitPage()||this.isCover?i>a&&(e=Math.max(a,o)):e=o,r&&a<n?o=Math.max(a+this.getAppendCompHeight(),o):r&&a>n&&(o=Math.max(n+this.getAppendCompHeight(),o)),this.isSubmitPage()||this.isCover?e<=n?this.$editDiv.css({height:e+this.getAppendCompHeight()}):this.$editDiv.css({height:e}):((e>o||r)&&e<=n&&(e+=this.getAppendCompHeight()),e<o&&(e=o),this.$editDiv.css({minHeight:e}))}else this.$editDiv.css({minHeight:e}),this.$editDiv.css({height:"auto"}),(this.isSubmitPage()||this.isCover)&&this.$editDiv.css({height:e})}},{key:"getPageMinHeight",value:function(){var e=476*C(),t=this.getCutMinHeight();if(this.isSubmitPage()&&!this.eqxScene.isRemoveAd()&&(e=476*C()-y),t>e&&(e=t),"view"==this.eqxScene.config.mode&&this.eqxScene.$ele){var n=this.eqxScene.$ele.height();e<n&&(e=n)}return e}},{key:"getCutMinHeight",value:function(){var e=0;return this.getEqxComps().forEach((function(t){"oneClickScreenshot"===t.type&&t.compJson.properties.cutParams.bottom>e&&(e=t.compJson.properties.cutParams.bottom)})),e}},{key:"isSubmitPage",value:function(){return"submit"===this.pageJson.pageType}}])&&a(t.prototype,n),r&&a(t,r),l}(d);e.exports=M},function(e,t,n){"use strict";var r,o=n(558),i=(r=o)&&r.__esModule?r:{default:r};function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(10).COMP_TYPE,l=n(10).FORM_COMPS,p=n(10).PERSONAL_INFO_COMPS,f=n(10).FORM_SCORE_COMPS,d=n(10).FORM_MAY_SCORE_COMPS_ANALYSIS,h=n(10).WX_COMPS,m=n(10).FIX_INDEX_COMPS,v=n(10).WX_CLICK_FARMER_COMPS,g=n(10).EVALUATE_COMPS,y=n(33).perfectComp,b=n(37).randomId,x=n(559),w=n(247),S=n(5),k=n(16).getRatio,O=n(269),E=n(310),C=n(1033),_=n(1037),I=n(1038),P=n(1041),T=n(1042),R=n(311),A=console.log.bind(console,"[EqxPage]"),q=n(186).toInt,j=n(1044),L=n(1046),M=n(1047),D=n(1048),B=(n(147),n(1049)),F=n(1050),N=n(1051),H=n(1052),z=n(1054),J=(n(142).category,n(6)),V=n(53),U=V.allow,W=V.forbid,G=n(0),K=G.isWeixin,X=G.isWxEnv,Q=n(4).getUrlParam,Y=n(46).getItem,Z=n(87).getTemplateParam,ee=n(45).debounce,te=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageJson=t,this.eqxScene=n,this.eqxItemList=[],this.eqxLayerList=[],this.currentLayer=null,this.displayed=!1,this.hasCoverEffect=!1,this.destroyed=!1;var r=this.eqxScene,o=r.width,i=r.height,a=t.properties.longPage;this.width=o,this.height=a||i,this.bgm=this.eqxScene.bgm,this.eqxStatManager=null,this.doList=[],this.doOnceList=[],this.onceContentList=[],this.baseElementQueue=[],this.overlayElementQueue=[],"edit"==this.eqxScene.config.mode&&(this.EqxDragManager=new D(this.baseElementQueue,this),this.EqxItemManager=new F(this)),this.pv=0,this.isArrangEditor=this.eqxScene.config.isArrangEditor}var t,n,r;return t=e,(n=[{key:"id",get:function(){return this.pageJson.id}},{key:"triggerManager",get:function(){return this._triggerManager||this.addTriggerManager()}},{key:"formRulesManager",get:function(){return this._formRulesManager||this.addFormRulesManager()}},{key:"groupManager",get:function(){return this._groupManager||this.addGroupManager()}},{key:"ftManager",get:function(){return this._ftManager||this.addFtManager()}},{key:"eqxCompList",get:function(){return this.getEqxComps()}},{key:"canRemoveAllAds",get:function(){var e=this.eqxScene.sceneJson.meta.property;return e&&(e.boughtLabel||e.removeLabel)}},{key:"canRemovePcAds",get:function(){var e=this.eqxScene.sceneJson.meta.property;return e&&e.removePcLabel}},{key:"isCover",get:function(){return"cover"===this.pageJson.pageType}},{key:"isContent",get:function(){return"cover"!==this.pageJson.pageType&&"submit"!==this.pageJson.pageType}},{key:"isSubmit",get:function(){return"submit"===this.pageJson.pageType}},{key:"switchCurrentLayer",value:function(e){null!=e&&(isNaN(parseFloat(e))?e instanceof R&&(this.currentLayer=e):this.currentLayer=this.eqxLayerList[e])}},{key:"updatePageWidth",value:function(e){this.width=e}},{key:"updatePageHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k();e*=t,(this.isSubmitPage()||this.isCover)&&this.$editDiv.css({height:e});var n=this.getPageMinHeight();e<n&&(e=n),this.$editDiv.css({minHeight:e})}},{key:"getCurrentLayer",value:function(){return this.currentLayer||this.eqxLayerList[this.eqxLayerList.length-1]||null}},{key:"getPageMinHeight",value:function(){return 476}},{key:"getBaseLayer",value:function(){return this.eqxLayerList[0]}},{key:"getFormStyle",value:function(e){var t,n,r=(null===(t=this.pageJson)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.formStyle)||{};if(!e)return r||{};var o=r[e]||{};return"border"===e&&(delete o.color,delete o.backgroundColor),r[e]||{}}},{key:"initStyleByCommon",value:function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null==e||null===(t=e.properties)||void 0===t||null===(n=t.formRelevant)||void 0===n||null===(r=n.des)||void 0===r?void 0:r.css;(i||o.message)&&Object.assign(i,o.message)}},{key:"hasEqxItem",value:function(e){return this.eqxLayerList.some((function(t){return t.eqxItems.includes(e)}))}},{key:"getTopItems",value:function(){var e=[];return this.eqxLayerList.forEach((function(t){e.push.apply(e,a(t.eqxItems.filter((function(e){return!e.group}))))})),e}},{key:"initEqxLayers",value:function(e,t){var n=this,r=this,o=this.pageJson,i=o.elements,a=o.groups;a||(a=[]),p();var s=(this.pageJson.extend=this.pageJson.extend||{}).screens,c=void 0===s?[]:s,l=[];return function(){var e=i.slice(),t={};e.forEach((function(e,n){"EqxGravity"!=u[e.type]&&(t[e.id]=e)}));for(var n=function(e){var n=[],o=c[e],i=o.thumbnail,a=o.displayed,s=o.compIds,u=o.screenBg,p=o.flash,f=o.area,d=o.name,h=o.hash,m=o.id,v=void 0===m?r._generateLayerId():m;[].forEach((function(e){var r=t[e];void 0!==r&&(n.push(r),delete t[e])})),l.push({thumbnail:i,displayed:a,compIds:s,flash:p,screenBg:u,items:n,area:f,name:d,hash:h,id:v})},o=0;o<c.length;o++)n(o);if(function(e,t){e.length&&(t[0]?t[0].items=t[0].items.concat(e):t[0]={items:[].concat(e)})}(Object.values(t),l),t=null,l.length){if(l.length>1){var a=l.pop();l.forEach((function(e){a.compIds=a.compIds.concat(e.compIds||[]),a.items=a.items.concat(e.items||[])})),l=[a]}}else l.push({items:[],json:{compIds:[],id:r._generateLayerId()}});l.forEach((function(e,t){e.zIndex=e.zIndex||t+1}))}(),function(){for(var e=0;e<l.length;e++){var t=l[e];d();for(var n=0;n<a.length;n++){var r=a[n];r.tag||r.visited||f(r,t)}}}(),p(),l.map((function(e){return new R(e,n)}));function p(){a.forEach((function(e){delete e.tag,delete e.visited}))}function f(e,t){e.visited=!0;for(var n=e.compIds,r=t.items.map((function(e){return e.id})),o=!0,i=0;i<n.length;i++){var a=n[i];if(-1===r.indexOf(a)){if(!/group/.test(a)){o=!1;break}var s=h(a);if(!s||s.visited||!f(s,t)){o=!1;break}}}return o&&(e.tag=!0,t.items.push(e)),o}function d(){for(var e=0;e<a.length;e++)a[e].visited=!1}function h(e){return a.find((function(t){return t.id===e}))}}},{key:"_generateLayerId",value:function(){return"layer:".concat(b())}},{key:"addEmptyEqxLayer",value:function(e){if(!this.$editDiv)return null;if(this.currentLayer.json.screenBg&&e)var t=JSON.parse(JSON.stringify(this.currentLayer.json.screenBg));else t=null;var n={compIds:[],items:[],id:this._generateLayerId(),screenBg:t},r=new R(n,this),o=this.$editDiv;return 0===e?(this.eqxLayerList.unshift(r),o.prepend(r.render()),this.eqxLayerList.forEach((function(e,t){return e.updateEqxLayerIndex(t+1)}))):e===this.eqxLayerList.length?(this.eqxLayerList.push(r),o.append(r.render()),r.updateEqxLayerIndex(this.eqxLayerList.length)):e?(this.eqxLayerList.splice(e,0,r),o.children().eq(e).before(r.render()),this.eqxLayerList.forEach((function(e,t){return e.updateEqxLayerIndex(t+1)}))):(this.eqxLayerList.push(r),o.append(r.render()),r.updateEqxLayerIndex(this.eqxLayerList.length)),r}},{key:"deleteEqxLayer",value:function(e){var t=this.eqxLayerList;isNaN(parseInt(e))&&(e=t.findIndex((function(t){return t===e}))),e>=0&&t.length>1&&(t.splice(e,1)[0].destroy(),this.switchCurrentLayer(t[t.length-1]))}},{key:"getEaxPageTreeStructureFlatted",value:function(){var e,t=[];return(e=this,e.eqxLayerList.slice().sort((function(e,t){return t.zIndex-e.zIndex})).map((function(e){var t=e.getDirectItems();return function e(t){t.forEach((function(t){return t.isGroupItem()&&e(t.eqxItems)})),t.sort((function(e,t){return t.zIndex-e.zIndex}))}(t),{eqxItems:t}}))).forEach((function(e){return t.push.apply(t,a(function e(t){var n=[];return t.eqxItems.forEach((function(t){n.push(t),t.isGroupItem()&&n.push.apply(n,a(e(t)))})),n}(e)))})),t}},{key:"openPipEditor",value:function(){var e=this.pageJson.properties;e.pip=e.pip||{},e.pip.used=!0,e.pip.playback=!0,e.pip.mode=1}},{key:"initQuickFlash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.pageJson.properties;e&&(t.flash=t.flash||{},t.flash.used=e),t.flash&&t.flash.used&&(this.flash=new M(t.flash,this))}},{key:"toJson",value:function(){if(!this.eqxLayerList.length)return this.pageJson;var e=[],t=[],n=[];this.eqxLayerList.sort((function(e,t){return e.zIndex-t.zIndex})).forEach((function(r){var o=r.toJson(),i=o.elems,s=o.groups,c=o.thumbnail,u=o.screenBg,l=o.compIds,p=o.flash,f=o.area,d=o.name,h=o.hash,m=o.id;e.push.apply(e,a(i)),t.push.apply(t,a(s)),n.push({thumbnail:c,compIds:l,screenBg:u,flash:p,area:f,hash:h,name:d,id:m})})),e.forEach((function(e,t){e.css.zIndex=t+1})),this.eqxBackground&&e.push(this.eqxBackground.compJson),this.eqxGravity&&e.push(this.eqxGravity.compJson),this.pageJson.elements=e,this.pageJson.groups=t,this.pageJson.extend=this.pageJson.extend||{},this.pageJson.extend.screens=n;var r=this.pageJson.properties;return r&&(r.groupSettings=this.ftManager.toJson()),this.pageJson}},{key:"toPageJson",value:function(e){e=Object.assign({transformText:!0,addForms:!0},e);var t=JSON.parse(JSON.stringify(this.toJson())),n=t.id,r=t.sceneId,o=t.forms=[],i=t.redPacket={};if(t.elements.forEach((function(e,t){var a=e.type+"";if("EqxRedPacket"===u[a]){var s=e.properties;i.title=s.title,i.activity=s.activity,i.amount=s.amount,i.begin=s.begin,i.end=s.end,i.count=s.count,i.chance=s.chance}if("EqxText"===u[a]&&e.content&&(e.content=e.content.replace(/(^\s*)|(\s*$)/g,"")),l.includes(a)){var c=e.properties.formRelevant||{},p=c.title&&c.title.content||"",h=e.showScoreAndAnswer||c.showScoreAndAnswer,m={id:e.id,pageId:n,sceneId:r,type:a,showScoreAndAnswer:h,fieldType:a,title:p||e.title,num:t};if(h&&(m.showScoreAndAnswer=h),(f.includes(e.type)||d.includes(e.type))&&(m.score=function(e){var t,n=e.type,r=e.properties.formRelevant.scoreSettings;if("scoreRadio"==n||"scoreCheckbox"==n||"scoreImageRadio"==n||"scoreImageCheckbox"==n){var o=e.choices.options;t={list:{list:o}}}else if("scoreMatrix"==n||"scoreMatrixNps"==n){var i=r.type,a=r.scoreLevel,s=r.baseNum,c=r.contentOption,u=(c=void 0===c?{}:c).list,l=c.optionsList;t={scoreLevel:a,baseNum:s,list:{list:u}},"radio"==i&&(t.list.optionsList=l)}else{var p=r.scoreLevel,f=r.baseNum;t={scoreLevel:p,baseNum:f}}return t}(e)),"z"===a&&e.choices&&e.choices.options&&(m.title=p||e.choices.options[0].label||e.title),"upload"===a){var v=e.properties.uploadType?e.properties.uploadType:"image";m.type="upload-"+v}if("uploadNew"===a){var g=e.properties.uploadType?e.properties.uploadType:"image";m.type="uploadNew-"+g}if(/(^[rc])|^5204$|^5206$|^5212$|^5215$|^5219$/.test(a)&&(e.choices&&"string"!=typeof e.choices&&(e.choices=JSON.stringify(e.choices)),m.choices=e.choices),/5211/.test(a)&&(m.choices=JSON.stringify(e.choices)),/5213/.test(a)){var y=JSON.parse(JSON.stringify(e.choices));y.options.forEach((function(e){delete e.fills})),m.choices=JSON.stringify(y)}if(/.*vote$/i.test(a)){var b={},x=0;try{var w=e.properties.formRelevant.voteSettings,S=w.seq,k=w.list;x=w.showResult,b={seq:S,options:k}}catch(e){}m.choices=JSON.stringify(b),m.status=Number(x)?Number(x):0}o.push(m)}if(e.trigger){var O=e.trigger;O.sends&&0===O.sends.length&&delete O.sends,O.receives&&0==O.receives.length&&delete O.receives,O.sends||O.receives||delete e.trigger}"EqxTelephone"!==u[a]&&"EqxLink"!==u[a]&&"EqxSubmitButton"!==u[a]||e.properties.title&&(e.properties.title=e.properties.title.replace(/ /g,"&nbsp;"))})),t.trigger){var a=t.trigger;a.sends&&0===a.sends.length&&delete a.sends,a.receives&&0===a.receives.length&&delete a.receives,a.sends||a.receives||delete t.trigger}return t}},{key:"getHeadFigureImg",value:function(){var e="";return this.getEqxComps().forEach((function(t){if("lpHeadFigure"===t.type){var n=t.compJson.properties,r=n.src,o=n.originSrc;e=r||o}})),e}},{key:"getProp",value:function(e){var t;return null===(t=this.pageJson)||void 0===t?void 0:t.properties[e]}},{key:"setProps",value:function(e){var t=this.pageJson.properties;Object.keys(e).forEach((function(n){t[n]=e[n]}))}},{key:"isXb",value:function(){return!!this.pageJson.properties.xb}},{key:"isLongPage",value:function(){return"longPage"in this.pageJson.properties}},{key:"getPageWidth",value:function(){return this.width}},{key:"getPageHeight",value:function(){return this.pageJson.properties.longPage||486}},{key:"getPageActualHeight",value:function(){return this.__lastHeight||(this.__lastHeight=0),this.$section&&this.$section.get(0).offsetHeight&&(this.__lastHeight=this.$section.get(0).offsetHeight),this.__lastHeight}},{key:"getLayerHeight",value:function(){var e=this.getCurrentLayer();return this.__lastLayerHeight||(this.__lastLayerHeight=0),e&&e.$ul&&e.$ul.get(0).offsetHeight&&(this.__lastLayerHeight=e.$ul.get(0).offsetHeight),this.__lastLayerHeight}},{key:"toString",value:function(){return"page-".concat(this.pageJson.id)}},{key:"initStatManager",value:function(){return"edit"===this.eqxScene.config.mode&&this.toJson(),this.statManager=new E(this.pageJson.elements),this.statManager.iterate(),this.statManager}},{key:"getNewElements",value:function(){var e=[];return this.eqxLayerList.sort((function(e,t){return e.zIndex-t.zIndex})).forEach((function(t){var n=t.toJson().elems;e.push.apply(e,a(n))})),e}},{key:"updateItemIndex",value:function(e,t){t.eqxLayer&&t.eqxLayer.updateItemIndex(e,t)}},{key:"updateItemsIndexBySplit",value:function(e,t){t[0].eqxLayer.updateItemsIndexBySplit(e,t)}},{key:"updateItemsIndex",value:function(e,t){var n=t.sort((function(e,t){return e.getZIndex()-t.getZIndex()}));"--"===e&&n.reverse(),n.forEach((function(t){t.eqxLayer.updateItemIndex(e,t)}))}},{key:"show",value:function(e){return this.displayed=!0,this.triggerEventAgent&&this.triggerEventAgent.addEventListener(),this.$section.addClass("z-current"),"cover"===this.pageJson.pageType&&this.$section.addClass("cover-page"),this.handlerFromToolDiv(),e&&this.eqxCompList.forEach((function(e){e.$li&&e.eleShow()})),this}},{key:"hide",value:function(){return this.displayed=!1,this.flash&&this.flash.reset&&this.flash.reset(),this.triggerEventAgent&&this.triggerEventAgent.removeEventListener(),this.eqxCompList.forEach((function(e){e.$li&&e.eleHide()})),this.effect&&this.effect.stopEffect&&this.effect.stopEffect(),this.$section&&this.$section.removeClass("z-current"),this.handlerFromToolDiv(!0),this}},{key:"hideElements",value:function(e){if(!Array.isArray(e))return!1;this.getEqxComps().forEach((function(t){e.includes(t.id)?t.$li.addClass("hideElement"):t.$li.removeClass("hideElement")}))}},{key:"showElements",value:function(){this.getEqxComps().forEach((function(e){e.compJson.css.top,e.compJson.properties.anim&&e.compJson.properties.anim[0]&&30===e.compJson.properties.anim[0].type&&e.compJson.css.height,2==e.compJson.properties.initType||e.ruleHide?e.eleHide():e.eleShow()})),this.eqxBackground&&this.eqxBackground.eleShow()}},{key:"active",value:function(){var e=this;return this.destroyed=!1,new Promise((function(n,r){var o=function(e){var t=[];return e.eqxCompList.forEach((function(e){e.anim&&!Array.isArray(e.anim)&&(e.anim=[e.anim]),(e.anim||[]).forEach((function(e){e.sound&&e.soundAgent&&t.push(e.soundAgent.audio)}))})),t}(e),i=o.length;o&&o.length?o.forEach((function(r){4===r.readyState?0==--i&&(t(e),n()):(r.load(),$(r).on("canplay",(function(){0==--i&&(t(e),n())})).on("error",(function(){0==--i&&(t(e),n())})))})):(t(e),n())}));function t(e){e.hasCoverEffect?(e.bgm&&e.bgm.hide(),e.eqxScene.progressBar&&e.eqxScene.progressBar.hide()):e.showElements(),e.effect&&e.effect.startEffect&&e.effect.startEffect(),e.$section.addClass("z-active"),e.flash&&e.flash.play()}}},{key:"deactive",value:function(){if(this.$section)return this.$section.removeClass("z-active"),this}},{key:"destroy",value:function(){this.hide(),this.eqxLayerList.forEach((function(e){e.destroy()})),this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=null,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null,this.$ul&&(this.$ul.remove(),this.$ul=null),this.$editDiv&&(this.$editDiv.remove(),this.$editDiv=null),this.$pageDiv&&(this.$pageDiv.remove(),this.$pageDiv=null),this.$section&&(this.$section.remove(),this.$section=null),this.EqxFormRulesTrigger&&clearTimeout(this.EqxFormRulesTrigger.timer||null),this.destroyed=!0,this._ftManager=null,this._groupManager=null,this._triggerManager=null}},{key:"_handleSpecialComps",value:function(){var e=this;this.getEqxComps().forEach((function(t,n){t.afterAppendToPage&&setTimeout((function(){e.$section&&t.afterAppendToPage()}),500*n)}))}},{key:"create$section",value:function(){var e,t=this,n=this.pageJson,r=n.num,o=n.id,a=n.properties,s=n.elements,c=((this.pageJson.extend=this.pageJson.extend||{}).screens,this.eqxScene.config),l=c.mode,p=c.disableTrigger,f=a.flash,d=void 0===f?{}:f,h=a.formRules,m=void 0===h?[]:h,v=this;this.$section=$(x.section()),this.section=this.$section.get(0),this.$pageDiv=$(x.pageDiv(r)),this.$editDiv=$(x.editDiv(o)),this.$pageDiv.append(this.$editDiv),this.$section.append(this.$pageDiv),this.initResizeObserver=function(){t.resizeObserver=new i.default((function(e){for(t.doList.forEach((function(e){e()}));t.doOnceList.length;)t.doOnceList.shift()()})),t.resizeObserver.observe(t.$section.get(0))},this.initMutationObserver=function(){var e=t,n=ee((function(){e.onceContentList.forEach((function(e){return e()})),e.onceContentList=[]}),300);t.mutationObserver=new MutationObserver(n),t.mutationObserver.observe(e.$section.get(0),{attributes:!1,childList:!0,subtree:!0})},this.initResizeObserver(),this.initMutationObserver(),"view"==l&&"cover"!==v.pageJson.id&&U("formTestRule",v.eqxScene.meta.bizType,1)&&window.app&&(v.EqxTestRulesTrigger=new z(v,p)),function(){var e=function(){var e=v.initEqxBgByJson({css:{opacity:null},properties:{bgColor:"",imgSrc:null},type:3,effect:{type:-1}});v.renderBg(e)};if(s.length){var t=[],n=[];if(s.forEach((function(e){"EqxBackground"===u[e.type]?n.push(e):t.push(e)})),n.length){var r=v.initEqxBgByJson(n[n.length-1]);v.renderBg(r)}else e();s.splice(0),s.push.apply(s,t)}else e()}(),(d.used||"edit"===l)&&(v.eqxLayerList=v.initEqxLayers(),v.$editDiv.append(v.eqxLayerList.map((function(e){return e.render()}))),v.switchCurrentLayer(v.eqxLayerList.length-1)),function(){if(!d.used&&"view"===l){var e=s.slice().map((function(e){return e.name=v.getCompName(e),e})).filter((function(e){var t=e.type;return"EqxBackground"!==u[t]&&"EqxGravity"!==u[t]})).sort((function(e,t){var n=e.arrIndex,r=e.css.zIndex,o=t.arrIndex,i=t.css.zIndex;return n-o||r-i})).map((function(e,t){return e.num=t+1,e.css.zIndex=t+1,e})),t={id:v._generateLayerId(),items:e,compIds:e.map((function(e){return e.id})),zIndex:1};v.isArrangEditor?v.eqxLayerList=v.initEqxLayers(t.items,t.compIds):v.eqxLayerList=v.initEqxLayers()||[new R(t,v)],v.$editDiv.append(v.eqxLayerList.map((function(e){return e.render()}))),v.switchCurrentLayer(v.eqxLayerList.length-1)}}(),(e=s.find((function(e){return"EqxGravity"===u[e.type]})))&&(v.eqxGravity=v.initEqxGravityByJson(e),v.renderGravity(v.eqxGravity)),v.initQuickFlash(),v.trigger=new T(v,p),"view"==l&&U("formRuleTrigger",v.eqxScene.meta.bizType,1)&&(v.EqxFormRulesTrigger=new H(v,p)),v.EqxMsgManager=new B(v),v.eqxLayerList.some((function(e){return e.hasGroupsInLayer()}))&&v.addGroupManager(),"edit"==l&&m.length>0&&U("formRuleTrigger",v.eqxScene.meta.bizType,1)&&v.addFormRulesManager(),v.eqxScene.isCardScene&&v.eqxScene.soundManager.eqxPageBind(v),"edit"==l?(this.splitCompsByLayer(!0,!0),this.updateVoteCanDirectVote()):this.splitCompsByLayer();var g=this.pageJson.properties.longPage;return this.height=g||this.height,this.updatePageHeight(this.height),function(){var e=v.eqxScene,t=e.meta.bizType,n=e.formGlobalSetting,r=e.config.disableSubmit,o=function(){v.getEqxComps().forEach((function(e){!e.ruleHide&&e.ruleIds?v.EqxFormRulesTrigger.listen(e.ruleIds,e.id,e.getRealValueForTrigger?e.getRealValueForTrigger():e.getValue()):e.ruleIds&&v.EqxFormRulesTrigger.listen(e.ruleIds,e.id,null,!0)}))};if("view"!=l||W("formSettings",t,1)||r)o();else{var i=n.autoFill,a=n.wxOnly,s=n.showLastSubmitContent,c=n.editorLastSubmitContent,u=n.recordWxInfo,p=n.clientType;if((Y("Form_Adapter_Android_Records")||{jumped:!1}).jumped||(i&&!Q("sourceType")?v.eqxScene.formManager.autoFillComps(v):Q("sourceType")&&(s||c)&&v.eqxScene.formManager.autoFillLastComps(v),o()),(a||u||Z("mustWxAuth")||p&&4==(4&p))&&!K()&&(!X()||!v.eqxScene.isCardScene)){if(Q("appletWxInfo")&&1==Q("appletWxInfo"))return;setTimeout((function(){J.ImgPopUpModal(v)}),0)}}}(),this.setFormStyleToDom(),this.$section}},{key:"orderHeight",value:function(e){this.doList.push(e)}},{key:"cancelOrderHeight",value:function(e){var t=this.doList.findIndex((function(t){return t===e}));t>-1&&this.doList.splice(t,1)}},{key:"orderOnceHeight",value:function(e){this.doOnceList.push(e)}},{key:"cancelOrderOnce",value:function(e){var t=this.doOnceList.findIndex((function(t){return t===e}));t>-1&&this.doOnceList.splice(t,1)}},{key:"orderOnceContent",value:function(e){this.onceContentList.push(e)}},{key:"cancelOrderOnceContent",value:function(e){var t=this.onceContentList.findIndex((function(t){return t===e}));t>-1&&this.onceContentList.splice(t,1)}},{key:"setFormStyleToDom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$section.get(0),t={title:{fontSize:14,fontWeight:"bold",color:"rgba(51,51,51,1)"},border:{borderColor:"rgba(204,213,219,1)",borderStyle:"solid",borderWidth:1,borderBottomRightRadius:3,borderBottomLeftRadius:3,borderTopRightRadius:3,borderTopLeftRadius:3,borderRadius:3},input:{color:"rgba(51,51,51,1)",backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(204,213,219,1)",borderStyle:"solid",borderWidth:1,borderBottomRightRadius:3,borderBottomLeftRadius:3,borderTopRightRadius:3,borderTopLeftRadius:3,borderRadius:3},content:{color:"rgba(103,103,103,1)",fontSize:14,fontWeight:"normal",fontStyle:"normal",textAlign:"left",letterSpacing:0,textDecoration:"none"},message:{color:"rgba(103,103,103,1)",fontSize:12,fontWeight:"normal"},button:{color:"rgba(255,255,255,1)",backgroundColor:"rgba(18, 97, 255,1)"},compBorderImage:null};function n(e,t){var n=!1;return["Width","Radius","fontSize"].some((function(t){return String(e).includes(t)}))&&(n=!0),n&&!String(t).includes("px")?"".concat(t,"px"):t}var r=this.getFormStyle();$.extend(t,r);var o=e.style;Object.keys(t).forEach((function(e){if("compBorderImage"!==e){var r=t[e];r&&Object.keys(r).forEach((function(t){var i="".concat(e,"-").concat(t),a=r[t];o.setProperty("--".concat(i),n(t,a))}))}}))}},{key:"getEventName",value:function(e){return"page:".concat(this.id,":").concat(e)}},{key:"onEventListener",value:function(e,t){this.eqxScene.eventManager.subscribe(this.getEventName(e),{update:t})}},{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(e,t){this.eqxScene.eventManager.remove(this.getEventName(e),t)}},{key:"renderGravity",value:function(e){e.$gravity?console.error("gravity already rendered"):this.$editDiv.prepend(e.create$gravity())}},{key:"addGravityJson",value:function(e){return this.deleteGravity(),this.addCompJson(e)}},{key:"deleteGravity",value:function(){var e=this;if(this.eqxGravity){var t=this.pageJson.elements.findIndex((function(t){return t.id===e.eqxGravity.compJson.id}));t>-1&&this.pageJson.elements.splice(t,1),this.eqxGravity.delete$gravity(),this.eqxGravity=null}}},{key:"renderBg",value:function(e){e.$bg?console.error("background already rendered"):e.create$bg(this.$editDiv,this.width,this.height)}},{key:"addBgJson",value:function(e){return this.deleteBg(),this.addCompJson(e)}},{key:"deleteBg",value:function(){var e=this;if(this.eqxBackground){var t=this.pageJson.elements.findIndex((function(t){return t.id===e.eqxBackground.compJson.id}));t>-1&&this.pageJson.elements.splice(t,1),this.eqxBackground.delete$bg(),this.eqxBackground=null}}},{key:"reEffectJson",value:function(e){this.pageJson.properties.effect=e}},{key:"addTriggerManager",value:function(){return this._triggerManager=new L(this),this._triggerManager}},{key:"addFormRulesManager",value:function(){return this._formRulesManager=new N(this),this._formRulesManager}},{key:"addGroupManager",value:function(){return this._groupManager=new I(this),this._groupManager}},{key:"addFtManager",value:function(){return this._ftManager=new j(this),this._ftManager}},{key:"addScreenManager",value:function(){return this.screenManager=new P(this),this.screenManager}},{key:"alignItem",value:function(e,t){var n=e.getBoundingRect(),r=function(e){return e.isGroupItem()?function(t,n){e.getAllSubEqxComps().forEach((function(e){e.instantMove(t,n,!1,!0)})),e.autoSize()}:function(t,n){e.instantMove(t,n,!1,!0)}}(e);switch(t){case"左对齐":r(-n.left,0);break;case"右对齐":r(320-n.left-n.width,0);break;case"上对齐":r(0,-n.top);break;case"下对齐":r(0,this.getPageHeight()-n.top-n.height);break;case"水平居中对齐":var o=n.left+n.width/2;r(parseInt(160-o),0);break;case"垂直居中对齐":var i=this.getPageHeight(),a=n.top+n.height/2;r(0,parseInt(i/2-a));break;default:throw new Error("对齐元素位置类型"+t)}A("alignItem",t,n.toString(),"--\x3e",e.getBoundingRect().toString(),e.id)}},{key:"initEqxBgByJson",value:function(e){return this.eqxBackground=new O(e,this),this.eqxBackground}},{key:"initEqxGravityByJson",value:function(e){return this.eqxGravity=new C(e,this),this.eqxGravity}},{key:"alignItems",value:function(e,t){if(0!==e.length){if(1===e.length)return this.alignItem(e[0],t);var n=this.groupManager||this.addGroupManager();e=n.filterNestedItems(e);var r=n.traceTopItemsContain(e),o=r.map((function(e){return e.getBoundingRect()})).join("\n"),i=r.filter((function(e){return e.isGroupItem()})),a=e.length;if(!(a<1)){for(var s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,p=0;p<a;p++){var f=e[p],d=f.getBoundingRect(),h=d.center();f.$rect=d,f.$center=h,d.p1.x<s&&(s=d.p1.x),d.p1.y<u&&(u=d.p1.y),d.p2.x>c&&(c=d.p2.x),d.p2.y>l&&(l=d.p2.y)}var m=q((s+c)/2),v=q((u+l)/2);switch(t){case"左对齐":e.forEach((function(e){var t=e.$rect,n=s-t.left;e.instantMove(n,0,!1)}));break;case"右对齐":e.forEach((function(e){var t=e.$rect,n=c-t.left-t.width;e.instantMove(n,0,!1)}));break;case"上对齐":e.forEach((function(e){var t=e.$rect,n=u-t.top;e.instantMove(0,n,!1)}));break;case"下对齐":e.forEach((function(e){var t=e.$rect,n=l-t.top-t.height;e.instantMove(0,n,!1)}));break;case"水平居中对齐":e.forEach((function(e){var t=e.$center,n=m-t.x;e.instantMove(n,0,!1)}));break;case"垂直居中对齐":e.forEach((function(e){var t=e.$center,n=v-t.y;e.instantMove(0,n,!1)}));break;case"水平均分":if(a<2)return;var g=e.map((function(e){return e})).sort((function(e,t){return e.$center.x-t.$center.x}));s=g[0].$center.x;var y=((c=g[a-1].$center.x)-s)/(a-1);g.forEach((function(e,t){var n=s+y*t-e.$center.x;e.instantMove(n,0,!1)}));break;case"竖直均分":if(a<2)return;g=e.map((function(e){return e})).sort((function(e,t){return e.$center.y-t.$center.y})),u=g[0].$center.y,l=g[a-1].$center.y,y=(l-u)/(a-1),g.forEach((function(e,t){var n=u+y*t-e.$center.y;e.instantMove(0,n,!1)}));break;default:throw new Error("对齐元素位置类型"+t)}i.forEach((function(e){e.autoSize()}));var b=r.map((function(e){return e.getBoundingRect()})).join("\n");A("alignItems\n",o,"\n--\x3e\n",b)}}}},{key:"updateEqxComp",value:function(e,t){t=JSON.parse(JSON.stringify(t)),y(t,this.eqxScene.sceneJson,this.pageJson);var n=this.getEqxCompById(e);if(n)return delete t.id,delete t.num,delete t.pageId,delete t.sceneId,delete t.type,Object.assign(n.compJson,t),n}},{key:"isFunTemplate",value:function(){var e=this.pageJson.properties,t=e.pip,n=e.oneShot;if(t||n)return this.ftManager.ftRules.length}},{key:"getEqxCompByCoord",value:function(e,t){var n=this.eqxLayerList.length,r=[];if(this.isCover&&!this.eqxScene.getPageConfig("openCover"))return null;for(var o=n-1;o>=0;o--){var i=this.eqxLayerList[o];if(i.allowOperate){var s=i.eqxItems.filter((function(e){return!e.isGroupItem()})).sort((function(e,t){return t.css.zIndex-e.css.zIndex}));r.push.apply(r,a(s))}}this.isArrangEditor&&r.push.apply(r,a(this.getEqxItems().filter((function(e){return e.isGroupItem()}))));for(var c=0;c<r.length;c++)if(r[c].containsPoint(e,t))return r[c]}},{key:"getWxCompCount",value:function(){return this.pageJson.elements.reduce((function(e,t){return h.includes(t.type+"")&&(e+=1),e}),0)}},{key:"getWxClickFarmerCompCount",value:function(){return this.pageJson.elements.reduce((function(e,t){var n=t.type+"";return v.includes(n)&&t.properties.clickFarmer&&(e+=1),e}),0)}},{key:"getCompName",value:function(e){if(e.name)return e.name;var t=_.find((function(t){return t.types.includes(e.type+"")}));if(!t)return null;var n=t.types,r=this.getEqxComps().map((function(e){return e.compJson})).filter((function(e){return n.includes(e.type+"")})),o=0;return r.forEach((function(e){if(e.name){var n=new RegExp(t.name+"(\\d+)"),r=parseInt((n.exec(e.name)||[])[1]);r&&r>o&&(o=r)}})),t.name+(o+1)}},{key:"getOperableLayers",value:function(){return this.eqxLayerList.filter((function(e){return e.allowOperate}))}},{key:"getEqxItems",value:function(){var e;return(e=[]).concat.apply(e,a(this.eqxLayerList.map((function(e){return e.eqxItems}))))}},{key:"getDirectEqxItems",value:function(){var e;return(e=[]).concat.apply(e,a(this.eqxLayerList.map((function(e){return e.getDirectItems()}))))}},{key:"getEqxItem",value:function(e){return e&&this.getEqxItems().find((function(t){return""+t.id==""+e}))}},{key:"getEqxCompById",value:function(e){return this.getEqxItem(e)}},{key:"getEqxComps",value:function(){var e=[];return this.eqxLayerList.forEach((function(t){e.push.apply(e,a(t.getEqxComps()))})),e}},{key:"getZIndex",value:function(e){return e.compJson.css.zIndex}},{key:"initEqxCompById",value:function(e){var t=this.pageJson.elements.find((function(t){return t.id==e}));return this.initEqxCompByJson(t)}},{key:"deleteEqxComp",value:function(e){this.deleteEqxItem(e)}},{key:"deleteEqxItem",value:function(e){e&&(e.eqxLayer.deleteEqxItem(e),e.isGroupItem()||this.deleteTrigger(e),this.splitCompsByLayer())}},{key:"deleteTrigger",value:function(e){var t=e.compJson.id,n=this.pageJson.properties;n.triggerGroup&&(n.triggerGroup=n.triggerGroup.filter((function(e){return e.sourceId.toString()!=-t.toString()&&e.targetId.toString()!==t.toString()})))}},{key:"renderEqxComp",value:function(e,t){e&&(this.getCurrentLayer().renderEqxItem(e,t),e.afterAppendToPage&&e.afterAppendToPage(),this.EqxDragManager&&this.EqxDragManager.resetCompPosition())}},{key:"isNoHasBaseLayer",get:function(){return!!this.pageJson.pageType}},{key:"initEqxCompByJson",value:function(e,t){if(e){this.getCompJsonById(e.id)||(e=this.addCompJson(e,t)),this.isNoHasBaseLayer&&(e.properties.isOverlayElement=!0);var n=this.getEqxItem(e.id),r=w[e.type];if(n)return console.error("already init",e,n),null;if(!(r&&r.prototype instanceof S))return console.error("In Valid Type: ".concat(e.type," @Page").concat(this.pageJson.id),e),null;var o=this.getCurrentLayer(),i=new r(e,o);return o.initEqxItem(i),i}}},{key:"getCompJsonById",value:function(e){if(e){var t=this.getEqxItem(e);return t?t.compJson:void 0}}},{key:"addCompJson",value:function(e,t){var n=JSON.parse(JSON.stringify(e));return this.addPageInfo(n,t),y(n,this.eqxScene.sceneJson,this.pageJson),n}},{key:"addPageInfo",value:function(e,t){var n=this.pageJson,r=0;if(-1===m.indexOf(""+e.type)&&(r=Math.max.apply(Math,[0].concat(a(this.getEqxItems().map((function(e){return e.zIndex}))))),e.css.zIndex=e.css.zIndex||r+1),e.id||(e.id=b()),Object.assign(e,{id:e.id,pageId:n.id,sceneId:n.sceneId,num:r+1}),"simple"===e.fromSource){delete e.fromSource;var o=this.getEqxItems().find((function(e){return 6===e.type||601===e.type}));if(o){var i=o.zIndex;e.num=i,e.css.zIndex=i,o.zIndex=i+1,o.compJson.css.zIndex=i+1}return e}return e.fromSource&&"psd"===e.fromSource?(delete e.fromSource,e):(t||(delete e.name,e.name=this.getCompName(e)),e)}},{key:"getLayer0ItemIds",value:function(){for(var e=this.pageJson.elements,t=this.pageJson.extends.screens,n=[],r=0;r<e.length;r++){var o=e[r].id;i(o)&&n.push(o)}return n;function i(e){for(var n=0;n<t.length;n++)for(var o=t[r].compIds,i=0;i<o;i++)if(o[i]===e)return!1;return!0}}},{key:"getEqxLayerById",value:function(){}},{key:"newEqxLayer",value:function(){}},{key:"mergeEqxLayers",value:function(){}},{key:"centerUI",value:function(){}},{key:"initTrigger",value:function(){}},{key:"addPageGroup",value:function(e){this.pageJson.groups=this.pageJson.groups||[],e.type&&this.pageJson.groups.push(e)}},{key:"getPageGroups",value:function(){return this.pageJson.groups||[]}},{key:"getPageGroupSettings",value:function(){var e=this.pageJson.properties;return e.groupSettings=e.groupSettings||[],e.groupSettings}},{key:"renderEqxCompById",value:function(e){return this.renderEqxComp(this.getEqxCompById(e))}},{key:"setIframeUlTopAndLeft",value:function(){var e,t=(this.width-320)/2,n=(this.height-486)/2;return e=this.width/this.height<=320/486?"scale("+this.width/320+")":"scale("+this.height/486+")",this.$ul.css({marginTop:n,marginLeft:t,transform:e}),{marginLeft:t,marginTop:n}}},{key:"resetZIndex",value:function(e){for(var t=e.length,n=t-1;n>=0;n--){var r=e[n];r.compJson.css.zIndex=t-n,r.update$li({zIndex:r.compJson.css.zIndex})}}},{key:"splitCompsByLayer",value:function(e,t){var n=this;this.baseElementQueue.length=0,this.overlayElementQueue.length=0,this.getDirectEqxItems().sort((function(e,t){var n=e.getArrIndex()-t.getArrIndex();return 0==n?e.getZIndex()-t.getZIndex():n})).forEach((function(e){e.isBaseLayerElement?n.baseElementQueue.push(e):n.overlayElementQueue.push(e)})),t&&e&&this.EqxDragManager?this.orderOnceContent((function(){n.EqxDragManager.resetCompPosition()})):e&&this.EqxDragManager&&this.EqxDragManager.resetCompPosition()}},{key:"correctionGroupPos",value:function(){for(var e=this.baseElementQueue,t=e.length-1;t>=0;t--)if(e[t].isGroupItem()&&!e[t].LongVisited){e[t].LongVisited=!0;var n=e[t].json.arrayIndex;n&&e.splice.apply(e,[n,0].concat(a(e.splice(t,1))))}this.combineEqxItems(),this.EqxDragManager.resetCompPosition()}},{key:"combineEqxItems",value:function(){this.updateArrIndex();var e=this.getDirectEqxItems().sort((function(e,t){var n=e.getArrIndex()-t.getArrIndex();return 0==n&&(n=e.getZIndex()-t.getZIndex()),n}));this.eqxLayerList[0].updateCompsIndex(this.eqxLayerList[0]._getCompsFromTree(e,!0),!0)}},{key:"reSetHeight",value:function(){}},{key:"updateArrIndex",value:function(){this.baseElementQueue.concat(this.overlayElementQueue).forEach((function(e,t){e.isGroupItem()&&e.getAllSubEqxComps().forEach((function(e){e.setArrIndex(t+1)})),e.setArrIndex(t+1)}))}},{key:"updateCompsPosition",value:function(){for(var e=this,t=this.eqxLayerList[0].$ul&&this.eqxLayerList[0].$ul[0],n=a(t.children).filter((function(e){return"absolute"!==$(e).css("position")})),r=function(r){var o=n[r],i=e.baseElementQueue[r];if(!i||!i.$li&&!i.$ul)return"continue";var a=(i.$li||i.$group)[0];if(o!==a){var s=document.createElement("li");if(t.contains(a)&&t.contains(o)){t.replaceChild(s,a),t.replaceChild(a,o),t.replaceChild(o,s);var c=n.findIndex((function(e){return e===a}));n[r]=a,n[c]=o}}},o=0;o<n.length;o++)r(o);this.combineEqxItems()}},{key:"getSpecialComps",value:function(e){return this.getEqxComps().filter((function(t){return t[e]&&t[e]()}))}},{key:"findEaluateComps",value:function(){return this.getEqxComps().filter((function(e){return g.indexOf(e.compJson.type+"")>-1}))}},{key:"getAllFormComps",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?p:[];return this.getEqxComps().filter((function(e){return!t.includes(e.compJson.type+"")&&l.includes(e.compJson.type+"")}))}},{key:"updateCompsSize",value:function(e,t){this.getDirectEqxItems().forEach((function(n){n.updateItemSizeByPage(e,t)})),this.EqxDragManager.resetCompPosition()}},{key:"updateCompBorderImage",value:function(e){this.pageJson.properties.formStyle&&(this.pageJson.properties.formStyle.compBorderImage=e),this.getEqxComps().forEach((function(e){e.updateBorderImage&&e.updateBorderImage()}))}}])&&c(t.prototype,n),r&&c(t,r),e}();e.exports=te},function(e,t,n){"use strict";var r=n(561),o=n(598),i=n(600),a=n(601),s=n(602),c=n(603),u=n(608),l=n(102),p=n(614),f=n(617),d=n(621),h=n(624),m=n(627),v=n(630),g=n(636),y=n(638),b=n(644),x=n(651),w=n(654),S=n(262),k=n(663),O=n(677),E=n(267),C=n(680),_=n(683),I=n(684),P=n(269),T=n(690),R=n(694),$=n(697),A=n(138),q=n(727),j=n(728),L=n(74),M=n(741),D=n(742),B=n(745),F=n(748),N=n(272),H=n(52),z=n(754),J=n(756),V=n(758),U=n(759),W=n(760),G=n(761),K=n(275),X=n(190),Q=n(768),Y=n(769),Z=n(89),ee=n(772),te=n(281),ne=n(821),re=n(841),oe=n(846),ie=n(849),ae=n(853),se=n(860),ce=n(862),ue=n(863),le=n(867),pe=n(869),fe=n(871),de=n(872),he=n(874),me=n(876),ve=n(880),ge=n(883),ye=n(885),be=n(890),xe=n(893),we=n(896),Se=n(897),ke=n(898),Oe=n(902),Ee=n(196),Ce=n(294),_e=n(916),Ie=n(196),Pe=n(917),Te=n(932),Re=n(938),$e=n(942),Ae=n(145),qe=n(193),je=n(285),Le=n(945),Me=n(948),De=n(298),Be=n(298),Fe=n(299),Ne=n(299),He=n(949),ze=n(951),Je=n(954),Ve=n(957),Ue=n(958),We=n(961),Ge=n(302),Ke=n(302),Xe=n(967),Qe=n(968),Ye=n(969),Ze=n(971),et=n(977),tt=n(61),nt=n(994),rt=n(998),ot=n(999),it=n(1e3),at=n(1001),st=n(1004),ct=n(1005),ut=n(1016),lt=n(1017),pt=n(1020),ft=n(1021),dt=n(1023),ht=n(1025),mt=n(1026),vt=n(1030),gt=n(1032),yt=location.pathname.match(/[^/].*$/),bt=!isNaN(yt);e.exports={EqxReward:T,11:T,EqxRandomContent:F,10:F,EqxRedPacket:R,9:R,EqxNewText:L,7:L,EqxHotNewText:M,1:M,300:D,301:B,EqxText:A,2:A,x:A,EqxDeepShare:q,298:q,EqxReport:j,299:j,EqxBackground:P,3:P,EqxImage:l,4:l,EqxTelephone:b,8:b,EqxComment:k,b:k,EqxShape:m,h:m,EqxCount:O,i:O,EqxLink:p,l:p,EqxAnchor:f,anchor:f,EqxChart:r,t:r,EqxPieECharts:o,lpPie:o,EqxLineECharts:i,lpLine:i,EqxBarColECharts:a,lpBarCol:a,EqxBarRowECharts:s,lpBarRow:s,EqxFormTable:c,lpFormTable:c,EqxListTable:u,lpListTable:u,EqxVideo:v,v:v,EqxInteractiveVideo:g,o:g,EqxMixVideo:y,mixVideo:y,EqxImageSlider:h,p:h,EqxMap:d,m:d,EqxRandom:S,n:S,EqxSound:x,s:x,EqxPv:w,d:w,EqxAdvertise:I,g:I,EqxDownTime:E,e:E,voteCountdown:C,EqxUpTime:_,f:_,EqxUploadImages:te,upload:te,EqxNewUpload:ne,uploadNew:ne,EqxMusicRecord:re,musicRecord:re,EqxScore:K,a:K,EqxFormScore:X,score:X,EqxEvaluate:ue,5219:ue,scoreScale:Q,EqxNewImageVote:Te,imageVote:Te,EqxCheckbox:bt?Ee:Y,c:bt?Ee:Y,EqxRadio:bt?Ee:Z,r:bt?Ee:Z,EqxDropDownList:N,z:N,EqxInput:H,5:H,501:H,EqxInputPhone:U,502:U,EqxInputEmail:V,503:V,504:H,508:bt?Le:J,505:W,506:G,507:bt?qe:z,5202:ie,EqxLocation:ie,5213:ae,EqxRowFillBlankMultiple:ae,5217:se,EqxSchool:se,5218:ce,EqxMajor:ce,EqxSubmitButton:ee,6:ee,601:ee,12:oe,EqxWxNickName:fe,201:fe,EqxWxProfile:de,401:de,EqxWxUploadImage:he,403:he,EqxWxSoundPlay:le,w01:le,EqxWxSoundRecord:pe,w02:pe,EqxSceneRecommend:We,recommend:We,EqxMesssageBoard:ye,messageBoard:ye,EqxTextVote:me,k:me,EqxImgVote:ve,j:ve,EqxDrawingBoard:ge,u:ge,EqxPhotoWall:$,13:$,14:be,EqxQrcode:xe,23:xe,EqxLpAdDefault:we,ad01:we,EqxLpAdConfig:Se,ad02:Se,EqxLpAdFlow:ke,ad03:ke,EqxLpBottomMark:Oe,lpBtMark:Oe,EqxScoreRadio:Ee,scoreRadio:Ee,EqxScoreMatrix:Ce,scoreMatrix:Ce,EqxScoreMatrixNps:_e,scoreMatrixNps:_e,EqxScoreCheckbox:Ie,scoreCheckbox:Ie,EqxImageScoreRadio:Ge,scoreImageRadio:Ge,EqxImageScoreCheckbox:Ke,scoreImageCheckbox:Ke,EqxNewTextVote:Re,textVote:Re,EqxVideoVote:Pe,EqxVoteStatistic:$e,voteStatistic:$e,videoVote:Pe,EqxProvince:Ae,5201:Ae,EqxFillBlank:qe,5210:qe,EqxFillBlankMultiple:je,5211:je,EqxShortAnswer:Le,5214:Le,EqxSexRadio:Me,5204:Me,EqxAgeRadio:De,5206:De,EqxAgeCheckbox:Be,5212:Be,EqxJob:Fe,5207:Fe,EqxProfession:Ne,5208:Ne,EqxOther:He,5209:He,EqxNewDate:ze,5203:ze,EqxTime:Je,5205:Je,EqxEducation:Ve,5215:Ve,EqxAddress:Ue,5216:Ue,EqxHeadFigure:Xe,lpHeadFigure:Xe,EqxHeadFormTitle:Qe,lpHeadFormTitle:Qe,EqxHeadFormDes:Ye,lpHeadFormDes:Ye,EqxSponsor:Ze,sponsor:Ze,EqxReservation:et,feReservation:et,EqxButton:tt,startBtn:nt,showScore:rt,formValue:pt,nowDate:ft,nowTime:dt,orderNumber:ht,voteRank:it,rankingList:at,testRanking:st,voteRegister:ct,externalLink:ot,answerAnalysis:ut,oneClickScreenshot:lt,voteShare:mt,wxAvatar:vt,wxNickname:gt}},function(e,t){e.exports='<li id="inside_#{id}" num="#{num}" ctype="#{type}" class="item item-comp" style="position: #{position};">\n    <div class="element-box" style="width: 100%; height: 100%;">\n        <div class="element-box-contents" style="width: 100%; height: 100%;">\n        </div>\n    </div>\n</li>\n'},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$getPvCount:function(e){return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/pv/get?pageId="+e})},$getSharePvCount:function(e){return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/share/get?pageId="+e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(251);var r,o=n(1085),i=(r=o)&&r.__esModule?r:{default:r};function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=$(".comp-setting-contain").get(0),u=$(".cross-sortable-options-container").get(0),l=["scroll"],p={scrollContainer:c,parentNode:u,singleHeight:105,addHeight:0,total:0,callback:void 0,positions:[],correctionPositions:void 0,row:1,list:[],topCache:6,bottomCache:6,calcHideTop:function(e,t){return e-t<0?0:e-t},imgInfo:{isImg:!1,isVideo:!1,arrayType:"multiple"},adaptPositions:[],optionsHided:[],isView:!1,faultHeight:200,initPositions:null,needCorrectPos:!0,needTransform:!1,isTextVote:!1,notUpdateDomInScroll:!1};t.default=function(){var e,t,n,r,o,s,f=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,h=200,m=d=Object.assign({},JSON.parse(JSON.stringify(p)),d),v=m.scrollContainer,g=void 0===v?c:v,y=m.parentNode,b=void 0===y?u:y,x=m.singleHeight,w=void 0===x?105:x,S=m.addHeight,k=void 0===S?0:S,O=m.total,E=void 0===O?0:O,C=m.callback,_=m.positions,I=void 0===_?[]:_,P=m.correctionPositions,T=m.row,R=void 0===T?1:T,A=m.list,q=void 0===A?[]:A,j=m.topCache,L=void 0===j?6:j,M=m.bottomCache,D=void 0===M?6:M,B=m.calcHideTop,F=void 0===B?function(e,t){return e-t<0?0:e-t}:B,N=m.imgInfo,H=void 0===N?{isImg:!1,isVideo:!1,arrayType:"multiple"}:N,z=m.optionsHided,J=void 0===z?[]:z,V=m.isView,U=void 0!==V&&V,W=m.needCorrectPos,G=void 0===W||W,K=m.needTransform,X=m.isTextVote,Q=(m.notUpdateDomInScroll,w*L),Y=!1;this.initPositions=d.initPositions,$(g).css("overflow-anchor","false");var Z=!1,ee=null;$(b).find(".pre-occupy").get(0)||$(b).prepend('<div class="pre-occupy"></div>');var te=$(b).find(".pre-occupy");if(!I.length)for(var ne=0;ne<q.length;ne++)I.push({id:q[ne].id,index:ne,top:w*ne,height:w,bottom:w*(ne+1)});function re(){var e=function(){P&&P();var e=0;I.length&&(e=Math.max.apply(Math,a(I.map((function(e){return e.bottom}))))),(e+=k)!==s&&(s=e,$(b).css({height:s}))};P&&!Y?setTimeout(e,0):e()}function oe(){if(I[o]){var e=o>=1?I[o].top:0;if(X&&E<50)return;K?$(b).find("ul").css({transform:"translate3d(0,".concat(e,"px,0)")}):te.css({height:"".concat(e,"px")})}}function ie(){if(t=(new Date).getTime(),b){var e=fe(g,b,w,E);C(e),G&&re(),d.adaptPositions&&0!==d.adaptPositions.length||oe()}}function ae(i){var a;if(Z){var s=(new Date).getTime(),c=de(g),u=(null===(a=I[o])||void 0===a?void 0:a.top)||0,l=$(g).height();if(r||(r=he(b,g).top),l&&e&&(clearTimeout(e),e=null),n>r&&Math.abs(c-n)>Q){var p=c-n;u+p<0&&(p=-u),ie()}else t&&s-t>h?ie():e=setTimeout((function(){ie(!0)}),h)}}function se(){if($(b).css({height:w*E/R+"px",display:"block"}),ie(!0),g.myScroll)le();else{var e=[document.querySelector("html"),document.body].includes(g)?document:g;e!==document&&ue(),l.forEach((function(t){e.addEventListener(t,ae,{passive:!1})})),new i.default((function(e){e.forEach((function(e){e.intersectionRatio>0?(Z=!0,ae()):Z=!1}))})).observe(b)}}function ce(){ue()}function ue(){ee&&ee.disconnect();var e=[document.querySelector("html"),document.body].includes(g)?document:g;(ee=new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.length&&g.myScroll&&(le(),ee.disconnect(),l.forEach((function(t){e.removeEventListener(t,ae,{passive:!1})})))}))}))).observe(g,{childList:!0,attributes:!1})}function le(){Z=!0,g.myScroll.on("scroll",ae),g.myScroll.on("destroy",ce)}function pe(e){var t;if(d.adaptPositions&&d.adaptPositions.length>0)return(null===(t=d.adaptPositions.find((function(t){return t&&t.bottom>e})))||void 0===t?void 0:t.index)||0;if("multiple"===H.arrayType){var n,r=null===(n=I.find((function(t){return t.bottom>e})))||void 0===n?void 0:n.index;if(r)return r%2==0?r:r-1}return(I.find((function(t){return t&&t.bottom>e}))||{index:I.length}).index}function fe(e,t,i,a){var s=0,c=Math.ceil($(e).height()/i)*R;d.adaptPositions&&d.adaptPositions.length?d.adaptPositions.slice(o,o+Math.floor(L/R)).forEach((function(e){return s+=e.height})):I.slice(o,o+L).forEach((function(e){return s+=e.height})),s||(s=$(e).height()),r=he(t,e).top;var u=de(e),l=F(u,r)-s;n=u,o=l?pe(l):0;var p=0,f=0;if(U&&J&&J.length){for(var h=o;h<q.length&&p!==c;h++)J.map(String).includes(q[h]).id?(f++,P||(I[h].height=0,I[h].bottom=I.top,this.updatePositions(h,[I[h]]))):p++;p+=f}else p=c;var m=L+D;return o+m+c>q.length&&(o=q.length-c-m)%2>0&&(o+=1),o<0&&(o=0),{start:o,show:c+m,parentNode:t,list:q,startChanged:!0}}function de(e){var t,n,r,o=$(e).scrollTop();o||(o-=parseInt(null===(t=$(e).children(":first"))||void 0===t||null===(n=t.css("transform"))||void 0===n||null===(r=n.replace(/[^0-9^.\-,]/g,""))||void 0===r?void 0:r.split(",")[5],10));return isNaN(o)?0:o}function he(e,t){var n=null,r=null,o=e.offsetParent;for(n+=e.offsetLeft,r+=e.offsetTop;o!==t&&o;)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(r+=o.clientTop,n+=o.clientLeft),r+=o.offsetTop,n+=o.offsetLeft,o=o.offsetParent;return{left:n,top:r}}se(),this.setParentNode=function(e){b=e,$(b).find(".pre-occupy").get(0)||$(b).prepend('<div class="pre-occupy"></div>'),te=$(b).find(".pre-occupy")},this.updateTotal=function(e){E=e,$(b).css({height:w*E+"px"}),ie(!0)},this.updateList=function(e){if(q=e,P)f.initPositions&&f.initPositions(w,e),d.adaptPositions&&d.adaptPositions.length?te.css({display:"none"}):te.css({display:"block"});else{for(var t=[],n=0,r=function(e){var r=I.find((function(t){return t.id===q[e].id})),o=(null==r?void 0:r.height)||w,i=n;n+=o,t.push({id:q[e].id,top:i,index:e,height:o,bottom:n})},o=0;o<q.length;o++)r(o);I=t}ie(!0)},this.updatePositions=function(e,t){for(var n=0,r=0;r<t.length;r++)I[e+r]&&Object.assign(I[e+r],t[r]);for(var o=0;o<I.length;o++)I[o].top=n,n+=I[o].height,I[o].bottom=n;re()},this.setPositions=function(e,t){I=e,t&&(d.adaptPositions=t)},this.getPositions=function(){return I},this.updateHeight=re.bind(this),this.update=ie,this.destroy=function(){if(ee&&ee.disconnect(),g.myScroll)g.myScroll.off("scroll",ae),g.myScroll.off("destroy",ue);else{var e=[document.querySelector("html"),document.body].includes(g)?document:g;l.forEach((function(t){e.removeEventListener(t,ae,{passive:!1})}))}},Y=!0}},function(e,t,n){"use strict";e.exports={android:'<path d="M50.143 45.057h-.24c-2.13 0-3.858-1.735-3.858-3.875v-16.47c0-2.14 1.727-3.874 3.857-3.874h.24c2.13 0 3.858 1.735 3.858 3.875v16.47c0 2.14-1.727 3.874-3.857 3.874zm-10.366 6.055h-2.17v8.96c0 2.14-1.726 3.876-3.856 3.876h-.24c-2.13 0-3.857-1.735-3.857-3.875v-8.96H24.35v8.96c0 2.14-1.728 3.875-3.858 3.875h-.242c-2.13 0-3.857-1.735-3.857-3.875v-8.96h-2.17c-2.663 0-4.82-2.17-4.82-4.845V21.565h35.195V46.27c0 2.674-2.158 4.842-4.82 4.842zM18.45 5.498L15.675.666c-.1-.174-.04-.396.132-.496l.21-.12c.172-.1.393-.042.493.132l2.8 4.877c2.298-1.092 4.864-1.706 7.574-1.706 2.856 0 5.552.68 7.94 1.885L37.732.182c.1-.174.322-.233.495-.133l.21.12c.172.1.23.323.13.497l-2.888 5.028c4.99 2.866 8.46 8.094 8.9 14.17H9.192c.453-6.22 4.08-11.55 9.26-14.367zm16.626 8.074c.865 0 1.567-.705 1.567-1.574 0-.87-.702-1.574-1.567-1.574s-1.567.705-1.567 1.574c0 .87.7 1.574 1.566 1.574zm-16.152 0c.865 0 1.567-.705 1.567-1.574 0-.87-.7-1.574-1.566-1.574-.865 0-1.567.705-1.567 1.574 0 .87.702 1.574 1.567 1.574zM4.098 45.057h-.24C1.727 45.057 0 43.323 0 41.182v-16.47c0-2.14 1.727-3.874 3.857-3.874h.24c2.13 0 3.858 1.735 3.858 3.875v16.47c0 2.14-1.727 3.874-3.857 3.874z"/>',apple:'<path d="M43.06 34.522c0 8.67 8.394 12.374 8.394 12.374-2.057 8.63-9.252 15.172-9.252 15.172-1.613 1.607-4.567 1.852-4.567 1.852-2.377 0-5.31-1.34-5.31-1.34-2.258-1.3-5.425-1.3-5.425-1.3-2.792 0-5.31 1.26-5.31 1.26C19.335 63.835 16.4 64 16.4 64c-2.57 0-3.983-1.498-3.983-1.498C-.546 50.658.003 35.272.003 35.272c0-19.646 15.576-19.587 15.576-19.587 3.625 0 4.918.827 4.918.827 3.866 1.882 5.777 1.892 5.777 1.892 1.5 0 5.816-1.93 5.816-1.93 2.224-1.053 5.78-1.065 5.78-1.065 8.324 0 11.983 6.423 11.983 6.423-7.15 4.35-6.792 12.69-6.792 12.69zM25.73 14.818C25.73 1.075 38.376 0 38.376 0c0 14.797-12.648 14.818-12.648 14.818z"/>',baidu:'<path d="M57.55 28.923c-.22 7.717-6.715 8.677-6.715 8.677-8.176-.648-7.673-8.677-7.673-8.677-.795-8.38 5.755-9.64 5.755-9.64 9.083.13 8.632 9.64 8.632 9.64zm-20.143-8.677c-5.93 0-5.755-8.677-5.755-8.677 1.708-7.93 7.673-9.642 7.673-9.642 5.472.78 6.714 8.677 6.714 8.677-1.866 10.65-8.633 9.64-8.633 9.64zm0 12.533c2.75 3.706 7.673 8.676 7.673 8.676 7.267 4.21 7.673 10.605 7.673 10.605 0 13.94-14.387 10.606-14.387 10.606-1.873-.813-7.673-1.928-7.673-1.928h-4.796c-2.325.456-10.55 1.928-10.55 1.928-10.735 0-11.51-10.605-11.51-10.605 0-6.348 4.795-9.64 4.795-9.64 6.15-4.696 9.592-9.64 9.592-9.64 5.137-7.285 9.59-6.75 9.59-6.75 5.755-.286 9.593 6.75 9.593 6.75zm-11.51 2.892H23.02v5.785h-6.714c-5.86.902-5.755 8.677-5.755 8.677-.55 5.375 5.756 7.713 5.756 7.713h9.59V35.672zm6.714 17.353v-11.57h-4.795V53.99c-.017 2.652 3.837 3.855 3.837 3.855h10.55v-16.39h-4.795v12.533H34.53c-1.057-.102-1.92-.963-1.92-.963zm-15.345-6.748h5.755v7.713h-4.796s-2.647-.46-2.877-3.856c0 0 .105-3.235 1.918-3.857zm3.836-26.03c-6.798 0-6.713-10.606-6.713-10.606C14.387.33 21.1 0 21.1 0c5.998 0 6.715 9.64 6.715 9.64 0 9.85-6.714 10.606-6.714 10.606zM6.715 33.742c-6.17 0-6.714-9.64-6.714-9.64 0-8.282 6.714-9.642 6.714-9.642 6.75 0 7.673 9.642 7.673 9.642 0 8.668-7.673 9.64-7.673 9.64z"/>',bolt:'<path d="M32 0L8 16l6 4L0 32l24-12-6-4z"/>',camera:'<path d="M16 20c0-2.21 1.79-4 4-4s4 1.79 4 4-1.79 4-4 4-4-1.79-4-4zM28 8l-3.29-6.643C24.44.567 23.696 0 22.813 0H17.32c-.893 0-1.646.582-1.904 1.385L12.004 8H4c-2.21 0-4 1.79-4 4v20h32V12c0-2.21-1.79-4-4-4zM6 16c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm14 12c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"/>',"checkmark-circle":'<path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm-2.48 23.383L6.158 16.02l2.828-2.828 4.533 4.535 9.616-9.617 2.828 2.828L13.52 23.383z"/>',clock:'<path d="M16 4c6.617 0 12 5.383 12 12s-5.383 12-12 12S4 22.617 4 16 9.383 4 16 4zm0-4C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm5.422 18.578L18 15.152V8h-4.023v7.992c0 .602.277 1.12.695 1.492l3.922 3.922 2.828-2.828z"/>',cloud:'<path d="M24 10c-.38 0-.738.06-1.102.11C21.504 7.647 18.926 6 16 6c-2.988 0-5.566 1.666-6.94 4.1-.353-.047-.705-.1-1.06-.1-4.41 0-8 3.588-8 8 0 4.414 3.59 8 8 8h16c4.41 0 8-3.586 8-8 0-4.412-3.59-8-8-8zm0 12H8c-2.207 0-4-1.797-4-4 0-2.193 1.94-3.885 4.004-3.945.008.943.172 1.87.5 2.744l3.746-1.403c-.168-.444-.25-.915-.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465.64 3.2 1.64C17.27 13.1 16 15.394 16 18h4c0-2.205 1.793-4 4-4s4 1.795 4 4c0 2.203-1.793 4-4 4z"/>',code:'<path d="M64 64h-7V50h7v14zM50 50v-7h7v7h-7zm-7 0h-7V36h14v7h-7v7zm21-14v7h-7v-7h7zM36 0h28v28H36V0zm4 24h20V4H40v20zm3-17h14v14H43V7zM0 36h28v28H0V36zm4 4v20h20V40H4zm3 3h14v14H7V43zM0 0h28v28H0V0zm4 24h20V4H4v20zM7 7h14v14H7V7zm43 50v7H36v-7h14z"/>',cog:'<path d="M32 17.97v-4l-4.78-1.993c-.134-.375-.274-.738-.446-1.094l1.93-4.805-2.83-2.828-4.76 1.96c-.364-.175-.735-.323-1.118-.46L17.97 0h-4L11.99 4.734c-.398.14-.78.29-1.16.47l-4.754-1.91L3.25 6.12l1.938 4.712c-.188.387-.34.78-.485 1.188L0 14.03v4l4.707 1.962c.145.406.3.8.488 1.188l-1.902 4.742L6.12 28.75l4.724-1.945c.38.18.766.324 1.164.46L14.03 32h4l1.98-4.758c.38-.14.755-.29 1.114-.46l4.797 1.92 2.83-2.827-1.97-4.773c.168-.36.305-.723.438-1.094L32 17.968zM15.97 22c-3.313 0-6-2.688-6-6s2.687-6 6-6 6 2.688 6 6-2.69 6-6 6z"/>',computer:'<path d="M61 44H38.676l6.2 8.77s1.124 1.64 0 3.23H19.154c-1.156-1.59 0-3.23 0-3.23l6.37-8.77H3c-1.657 0-3-1.343-3-3V3c0-1.657 1.343-3 3-3h58c1.657 0 3 1.343 3 3v38c0 1.657-1.343 3-3 3zm-29-2c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 5H4v31h56V5z"/>',dengpao:'<path d="M40 44.97V52c0 3.314-2.686 6-6 6h-1v3.5c0 1.38-1.12 2.5-2.5 2.5h-11c-1.38 0-2.5-1.12-2.5-2.5V58h-1c-3.314 0-6-2.686-6-6v-7.04C3.936 40.402 0 33.17 0 25 0 11.193 11.193 0 25 0s25 11.193 25 25c0 8.173-3.932 15.413-10 19.97zM25 7C15.06 7 7 15.06 7 25c0 .585.033 1.162.088 1.733.02.206.056.407.082.61.047.358.095.715.162 1.065.048.25.11.496.168.743.07.29.14.58.222.865.08.273.168.542.26.81.083.24.17.48.263.718.113.29.232.575.36.858.088.196.182.387.277.578.152.307.307.61.475.907.078.137.163.268.244.402.203.334.407.667.63.987.006.01.014.018.02.027 1.674 2.394 3.914 4.355 6.527 5.7-.477.532-.777 1.228-.777 2v6c0 1.657 1.343 3 3 3h12c1.657 0 3-1.343 3-3v-6c0-.772-.3-1.468-.778-2 2.998-1.544 5.497-3.904 7.222-6.788.062-.103.127-.203.186-.306.177-.31.34-.63.5-.95.09-.182.178-.362.26-.546.13-.286.252-.577.367-.87.093-.237.18-.475.26-.716.092-.267.18-.535.26-.808.084-.287.154-.578.224-.87.06-.246.12-.488.168-.737.068-.354.117-.713.164-1.073.026-.202.062-.4.08-.605.055-.57.088-1.146.088-1.732 0-9.94-8.06-18-18-18zm3.5 41h-7c-1.38 0-2.5-1.12-2.5-2.5v-1c0-1.38 1.12-2.5 2.5-2.5h7c1.38 0 2.5 1.12 2.5 2.5v1c0 1.38-1.12 2.5-2.5 2.5z"/>',denied:'<path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm0 4c2.59 0 4.973.844 6.934 2.242L6.238 22.93C4.84 20.97 4 18.586 4 16 4 9.383 9.383 4 16 4zm0 24c-2.59 0-4.973-.844-6.934-2.242L25.762 9.07C27.16 11.03 28 13.414 28 16c0 6.617-5.383 12-12 12z"/>',douban:'<path d="M0 64v-5.818h20.945s-4.9-9.9-8.145-11.636l8.145-3.49s5.56 12.554 5.818 15.126h13.964s5.825-11.048 5.818-15.127l6.982 3.49S50.167 56.8 48.232 58.06c-.447.03-.656.07-.523.124.156.065.335-.002.522-.124 2.858-.183 15.768.124 15.768.124V64H0zm5.818-23.273v-25.6h52.364v25.6H5.818zm43.055-19.782H15.127V34.91h33.745V20.944zM3.49 0H64v5.818H3.49V0z"/>',earth:'<path d="M27.314 4.686C30.336 7.708 32 11.726 32 16s-1.664 8.292-4.686 11.314C24.292 30.336 20.274 32 16 32s-8.292-1.664-11.314-4.686C1.664 24.292 0 20.274 0 16S1.664 7.708 4.686 4.686C7.708 1.664 11.726 0 16 0s8.292 1.664 11.314 4.686zM25.9 25.9c1.97-1.97 3.28-4.425 3.82-7.096-.42.62-.824.85-1.073-.538-.257-2.262-2.335-.817-3.64-1.62-1.376.926-4.467-1.803-3.942 1.275.81 1.39 4.375-1.857 2.598 1.08-1.134 2.05-4.145 6.592-3.753 8.946.05 3.43-3.504.715-4.73-.422-.823-2.28-.28-6.262-2.433-7.378-2.338-.102-4.344-.314-5.25-2.927-.545-1.87.58-4.654 2.584-5.084 2.934-1.843 3.98 2.158 6.732 2.232.854-.894 3.182-1.178 3.375-2.18-1.805-.318 2.29-1.517-.173-2.2-1.358.16-2.234 1.41-1.512 2.468-2.632.614-2.717-3.81-5.247-2.414-.064 2.206-4.132.715-1.407.268.936-.41-1.527-1.594-.196-1.38.654-.035 2.854-.806 2.26-1.324 1.224-.76 2.254 1.822 3.453-.06.866-1.445-.363-1.712-1.448-.98-.612-.684 1.08-2.164 2.573-2.803.497-.213.973-.33 1.336-.296.752.868 2.142 1.02 2.215-.104C20.18 2.47 18.127 2 16 2c-3.05 0-5.95.97-8.352 2.762.645.296 1.012.664.39 1.134-.483 1.44-2.443 3.37-4.163 3.098-.893 1.54-1.482 3.238-1.733 5.017 1.44.478 1.773 1.42 1.464 1.737-.734.64-1.185 1.548-1.418 2.54.47 2.87 1.818 5.516 3.915 7.613 2.644 2.644 6.16 4.1 9.9 4.1s7.254-1.456 9.898-4.1z"/>',eye:'<path d="M16 4C7.164 4 0 15.844 0 15.844S7.164 28 16 28s16-12.156 16-12.156S24.836 4 16 4zm0 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zm-4-8c0-2.21 1.79-4 4-4s4 1.79 4 4-1.79 4-4 4-4-1.79-4-4z"/>',facebook:'<path d="M17.996 32H12V16H8v-5.514l4-.002-.007-3.248c0-4.498 1.22-7.236 6.52-7.236h4.41v5.515h-2.756c-2.064 0-2.163.77-2.163 2.21l-.008 2.76h4.96l-.585 5.513L18 16l-.003 16z"/>',fork:'<path d="M20 0v3.875c0 1.602-.625 3.11-1.754 4.238L6.93 19.367C5.14 21.152 4.156 23.497 4.047 26H0l6 6 6-6H8.043c.105-1.438.684-2.773 1.71-3.805l11.317-11.25C22.96 9.055 24 6.547 24 3.875V0h-4zm3.953 26c-.11-2.504-1.098-4.848-2.887-6.64l-2.23-2.216L16 19.964l2.242 2.23c1.03 1.028 1.61 2.368 1.715 3.806H16l6 6 6-6h-4.047z"/>',globe:'<path d="M15 2C6.716 2 0 8.716 0 17s6.716 15 15 15c8.284 0 15-6.716 15-15S23.284 2 15 2zm8.487 20c.268-1.264.437-2.606.492-4h3.982c-.104 1.38-.426 2.722-.96 4h-3.515zM6.513 12c-.268 1.264-.437 2.606-.492 4H2.04c.104-1.38.426-2.722.96-4h3.515zm14.926 0c.3 1.28.48 2.62.54 4H16v-4h5.44zM16 10V4.146c.456.133.908.355 1.35.668.832.586 1.626 1.488 2.3 2.61.464.774.866 1.637 1.202 2.577H16zm-5.65-2.578c.674-1.12 1.468-2.023 2.3-2.61.442-.312.894-.534 1.35-.667V10H9.148c.336-.94.738-1.804 1.203-2.58zM14 12v4H8.02c.06-1.38.24-2.72.54-4H14zM2.997 22c-.533-1.278-.854-2.62-.96-4h3.984c.056 1.394.225 2.736.493 4H2.997zm5.024-4H14v4H8.56c-.3-1.28-.48-2.62-.54-4zM14 24v5.854c-.456-.133-.908-.355-1.35-.668-.832-.586-1.626-1.488-2.3-2.61-.464-.774-.866-1.637-1.202-2.577H14zm5.65 2.578c-.674 1.12-1.468 2.023-2.3 2.61-.442.31-.894.534-1.35.667V24h4.852c-.336.94-.738 1.803-1.203 2.58zM16 22v-4h5.98c-.06 1.38-.24 2.72-.54 4H16zm7.98-6c-.055-1.394-.224-2.736-.492-4h3.516c.533 1.278.855 2.62.96 4H23.98zm1.978-6H22.96c-.58-1.836-1.386-3.447-2.353-4.732 1.33.636 2.533 1.488 3.585 2.54.67.67 1.26 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54C8.426 6.553 7.623 8.164 7.04 10H4.04c.504-.788 1.094-1.52 1.766-2.192zM4.042 24H7.04c.582 1.836 1.386 3.447 2.353 4.732-1.33-.636-2.533-1.488-3.585-2.54-.67-.67-1.26-1.404-1.766-2.192zm20.15 2.192c-1.052 1.052-2.256 1.904-3.585 2.54.967-1.285 1.77-2.896 2.354-4.732h2.998c-.504.788-1.094 1.52-1.766 2.192z"/>',googleplay:'<path d="M55.532 34.556c-.828.473-5.547 3.122-11.786 6.618l-8.59-8.715 9.907-9.83c5.385 3.012 9.44 5.28 10.47 5.858 2.467 1.383 2.425 4.682 0 6.068zM3.177.02c.74-.078 1.548.064 2.355.51 1.54.854 23.514 13.14 37.89 21.18l-9.536 9.46L3.176.02zM1.36.75l31.244 31.694L2.074 62.73C.89 62.225 0 61.116 0 59.575V3.55C0 2.412.532 1.4 1.36.75zm40.752 41.34C27.972 50.01 7.556 61.426 5.42 62.574c-.32.172-.656.29-.994.367L33.872 33.73l8.24 8.36z"/>',happy:'<path d="M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16zm0-29c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 23.18 3 16 8.82 3 16 3zm0 15.71c3.623 0 7.07-.962 10-2.653C25.545 21.633 21.215 26 16 26S6.456 21.627 6 16.05c2.93 1.69 6.377 2.658 10 2.658zM8 11c0-1.657.895-3 2-3s2 1.343 2 3-.895 3-2 3-2-1.343-2-3zm12 0c0-1.657.895-3 2-3s2 1.343 2 3-.895 3-2 3-2-1.343-2-3z"/>',"heart-fill":'<path d="M16 5.844C14.387 3.578 11.87 2 8.887 2 3.984 2 0 5.992 0 10.89v.735L16.008 30 32 11.625v-.734C32 5.993 28.016 2 23.113 2 20.13 2 17.613 3.578 16 5.844z"/>',"heart-stroke":'<path d="M23.113 6c2.457 0 4.492 1.82 4.836 4.188L16.003 23.906 4.05 10.188C4.396 7.82 6.43 6 8.888 6c2.016 0 3.855 2.164 3.855 2.164L16 11.624l3.258-3.46S21.098 6 23.113 6zm0-4C20.13 2 17.613 3.578 16 5.844 14.387 3.578 11.87 2 8.887 2 3.984 2 0 5.992 0 10.89v.735L16.008 30 32 11.625v-.734C32 5.993 28.016 2 23.113 2z"/>',home:'<path d="M16 0L0 16h4v16h24V16h4L16 0zm8 28h-6v-6h-4v6H8V13.656L16 8l8 5.656V28z"/>',iphone:'<path d="M16 0H8C3.582 0 0 3.582 0 8v16c0 4.418 3.582 8 8 8h8c4.418 0 8-3.582 8-8V8c0-4.418-3.582-8-8-8zm-4 30.062c-1.14 0-2.062-.922-2.062-2.062s.924-2.062 2.062-2.062 2.062.922 2.062 2.062-.923 2.062-2.062 2.062zM20 24H4V8c0-2.203 1.795-4 4-4h8c2.203 0 4 1.797 4 4v16z"/>',kaixinwang:'<path d="M60.55 30.164s-3.495 8.614-16.985 12.25c0 0-.502 11.237 0 15.076 0 0 1.59 4.938-4.718 3.77 0 0-6.54-.59-13.21-9.424 0 0-2.07-1.43-2.83 0 0 0-5.59 5.25-9.437 7.538 0 0-7.05.734-7.55-3.77 0 0-2.984-13.204.945-21.67 0 0-.27-2.117-.944-2.828 0 0-8.863-10.313-4.717-22.615 0 0 1.108-1.883 5.66-.94 0 0 7.296 4.272 8.493 4.71 0 0 3.262.61 3.774-.942 0 0 7.578-9.802 14.153-11.307 0 0 7.228-.582 7.55 6.597 0 0 2.167 10.163 1.886 13.192 0 0 1.658 4.158 4.717 3.768 0 0 9.924-.088 12.266 1.885.002 0 2.355 1.546.946 4.71zm-47.18-2.827c.014-2.52-1.886-2.827-1.886-2.827-3.34 0-2.83 1.884-2.83 1.884-.147 2.405 2.83 2.827 2.83 2.827 2.28-.39 1.887-1.883 1.887-1.883zm.944 5.654C12.837 41.594 20.92 44.3 20.92 44.3c6.04.515 11.322-4.71 11.322-4.71-7.647 2.45-11.323.94-11.323.94-6.05-1.626-6.606-7.537-6.606-7.537zm21.702-14.133s-3.136-1.152-5.66.942c0 0-.945.584-.945-.943 0 0-3.12-5.667-7.548-1.885 0 0-6.72 5.505-2.83 13.192 0 0 1.413 3.005 6.604.942 0 0 .403 2.08 1.887 3.77 0 0 4.505 3.148 7.55-3.77 0 0 3.515-6.6.943-12.25zm5.662 15.076s-3.622-.382-3.774 2.827c0 0-.038 2.695 2.83 2.827 0 0 2.97-.587 2.832-2.827 0 0 .402-2.827-1.888-2.827zm-8.492-5.653c-2.024-.756-1.887-3.77-1.887-3.77.25-1.964 2.83-2.826 2.83-2.826 2.763.114.944 3.77.944 3.77-.534 3.908-1.888 2.826-1.888 2.826zm-9.436-2.827c-2.17-.976 0-4.71 0-4.71 1.118-2.726 2.83-1.886 2.83-1.886 2.223.41.945 3.77.945 3.77-.313 2.153-3.775 2.826-3.775 2.826z"/>',laiwang:'<path d="M58.66 31.066V36.4h-5.62v-3.138h2.81v-4.707c3.787-6.594 2.185-13.18 2.185-13.18C53.475.582 38.685 4.708 38.685 4.708c-.413-.66-4.057-2.51-4.057-2.51C38.404.023 43.678 0 43.678 0 59.987 1.348 61.78 14.748 61.78 14.748c2.22 10.518-3.12 16.318-3.12 16.318zm-6.1-1.51c0 6.135-2.082 11.777-5.565 16.263v6.758h-7.79C35.388 54.753 30.98 56 26.28 56 11.766 56 0 44.16 0 29.556 0 14.95 11.766 3.11 26.28 3.11c14.514 0 26.28 11.84 26.28 26.446zM26.28 8.4c-11.61 0-21.024 9.472-21.024 21.156S14.67 50.712 26.28 50.712c3.336 0 6.49-.786 9.29-2.178h7.406V42.4c2.71-3.563 4.328-8.01 4.328-12.844C47.304 17.872 37.89 8.4 26.28 8.4zm11.13 24.267c-1.707 0-3.09-1.393-3.09-3.11 0-1.72 1.383-3.112 3.09-3.112 1.71 0 3.093 1.393 3.093 3.11 0 1.72-1.385 3.112-3.092 3.112zm-11.13 0c-1.708 0-3.092-1.393-3.092-3.11 0-1.72 1.384-3.112 3.092-3.112 1.708 0 3.092 1.393 3.092 3.11 0 1.72-1.384 3.112-3.092 3.112zm-11.13 0c-1.708 0-3.092-1.393-3.092-3.11 0-1.72 1.384-3.112 3.092-3.112 1.707 0 3.092 1.393 3.092 3.11 0 1.72-1.385 3.112-3.092 3.112z"/>',lock:'<path d="M14 0C8.492 0 4.004 4.484 4.004 10v2H0v14c0 3.31 2.69 6 6 6h12c3.31 0 6-2.69 6-6V10c0-5.516-4.488-10-10-10zm-2.004 24c-1.1 0-1.996-.895-1.996-2s.895-2 1.996-2c1.105 0 2 .895 2 2s-.894 2-2 2zM20 12H8.004v-2c0-3.31 2.69-6 5.996-6 3.31 0 6 2.69 6 6v2z"/>',logo:'<path d="M148.98 8.452H153v2.684h-5.64s-1.095-.04-1.557-1.203l-1.246-2.468h-.592V12h8.754l-1.278 3.455h1.464v5.06s-.127 1.54-2.305 1.54h-10.685V19.59h9.19s.223-.072.22-.216v-1.326h-2.618l.78-3.085h-9.347l-1.215 5.153s-.526 2.224-2.742 1.944h-2.93v-2.684h1.59s.487-.065.592-.494l.935-3.92h-3.116V12h8.848V7.465h-.498l-1.246 2.468s-.75 1.304-2.835 1.265h-4.175V8.452h3.8s.487-.03.686-.432l.187-.555h-4.766v-2.56h8.848v-.987h-8.94V1.14h17.944s.244-.048.31-.37V.28h3.49v1.635s-.22 2.005-2.96 2.005h-5.982v.956H153v2.59h-4.86l.28.68s.2.308.56.308zm-16.667 21.286h-2.492c-.234-1.372-1.34-1.234-1.34-1.234-1.607 0-1.588 2.19-1.588 2.19 0 2.72 1.62 2.468 1.62 2.468 1.174 0 1.31-1.388 1.31-1.388h2.554c-.293 3.657-3.832 3.517-3.832 3.517-4.466 0-4.206-4.565-4.206-4.565 0-4.45 4.112-4.35 4.112-4.35 3.898 0 3.863 3.363 3.863 3.363zm-7.788-24.74l-1.776-2.222h-10.812l-1.807 2.53s-.313.34-.747.34h-3.147V2.868h1.34s.1-.002.187-.155L109.633 0H124.9l1.9 2.622s.13.167.373.154h1.09v2.776h-2.96s-.443 0-.778-.555zM103.807 30.54l3.084 4.535h-3.177l-1.495-2.53-1.495 2.53H97.67l3.115-4.473-2.804-4.01h3.085l1.277 2.344 1.277-2.344h2.96l-2.773 3.948zm-2.337-8.483h-4.735v-2.56h2.68c.39 0 .404-.37.404-.37v-4.35H86.11l-.81 1.018c-.475.574-1.276.494-1.276.494H81.47v-2.932h.715c.4 0 .53-.247.53-.247l1.277-2.097h-1.65V.185h20.872v8.823c-.05 2.132-2.118 2.098-2.118 2.098H88.074l-.592.987h15.92v8.113c-.138 1.938-1.932 1.85-1.932 1.85zM99.258 2.96H85.924v1.45h13.334V2.96zm-.124 5.585s.214-.097.218-.278V7.003H85.924v1.542h13.21zM84.18 18.91l2.337-3.177h4.268l-4.33 5.614s-.724.62-1.62.524h-3.458v-2.56h2.305s.28-.063.498-.4zm3.208 9.84h-4.33v1.05h3.925v2.036h-3.925v1.08h4.455v2.16h-7.01V26.59h6.885v2.16zm-16.76 7.065L68.85 32.73l1.808-3.054h3.552l1.807 3.085-1.776 3.055h-3.613zm-53.43-17.86l1.806-3.055h3.552l1.807 3.085-1.807 3.054h-3.583l-1.776-3.086zM44.8 35.814l-5.016-8.637 3.614-6.108 5.016 8.576H62.09l6.762-11.66L62.06 6.323H48.414l-17.23 29.46-20.78.062L0 17.923 10.375.153l20.81-.03 5.017 8.637-3.583 6.14-5.048-8.607H13.957L7.103 17.985l6.854 11.66h13.646L44.863.156h20.78l10.374 17.83-10.406 17.83H44.8zm47.48-13.85h-3.52v-2.56h1.432c.436 0 .654-.34.654-.34L93.4 15.95h4.363l-4.3 5.552c-.428.42-1.183.462-1.183.462zm.592 4.41c4.353 0 4.268 4.41 4.268 4.41 0 1.972-.966 3.024-.966 3.024l.997 1.017L95.988 36l-1.122-1.172c-.42.386-1.776.463-1.776.463-4.573.02-4.394-4.472-4.394-4.472.134-4.61 4.176-4.443 4.176-4.443zm.062 6.787s.237-.016.312-.062l-.717-.71 1.183-1.14.685.708s.187-.29.187-1.08c0 0 .18-2.375-1.682-2.375 0 0-1.65-.176-1.65 2.406 0 0-.046 2.252 1.68 2.252zm17.073 1.912h-2.555V26.59h2.555v8.484zm1.215-8.483h2.555v5.307c0 1.38 1.34 1.265 1.34 1.265 1.26 0 1.31-1.296 1.31-1.296V26.59h2.554v5.492c0 3.456-3.77 3.208-3.77 3.208-4.307 0-3.987-3.27-3.987-3.27v-5.43zm16.948-7.31v2.776h-21.746V19.31h2.15V7.095h3.21V19.28h3.675V4.69h3.582v4.04h8.94v2.96h-8.94v7.59h9.128zm-5.11 15.794h-2.43V32.73h2.43v2.344zm14.612-8.7c4.254 0 4.237 4.38 4.237 4.38 0 4.69-4.176 4.536-4.176 4.536-4.524 0-4.268-4.658-4.268-4.658.233-4.44 4.206-4.257 4.206-4.257zm-1.65 4.474c0 2.34 1.65 2.314 1.65 2.314 1.762 0 1.682-2.345 1.682-2.345.002-2.392-1.65-2.344-1.65-2.344-1.757 0-1.683 2.375-1.683 2.375zm12.087.74l1.214-4.996h3.645v8.483h-2.43v-5.553l-1.465 5.553h-1.932l-1.464-5.46v5.46h-2.43v-8.483h3.644l1.215 4.997z"/>',logo2:'<path d="M23.103 24l2.397-4.216h4.795l2.397 4.108-2.397 4.216H25.5L23.103 24zm37.05 24L53.4 36.432l4.795-8.216 6.756 11.46h18.307L92.41 24 83.256 8.324H64.95L41.845 48H13.95L0 24 13.95 0h27.896l6.756 11.568-4.795 8.216-6.756-11.46H18.745L9.59 24l9.154 15.676h18.308L60.154 0H88.05L102 24 88.05 48H60.155zm39.34-8.324L102 43.784 99.603 48H94.7L92.3 43.784l2.397-4.108h4.794z"/>',mail:'<path d="M15.996 15.457L32 7.917V4H0v3.906zm.008 4.422L0 12.32V28h32V12.344z"/>',"minus-circle":'<path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8 18H8v-4h16v4z"/>',moon:'<path d="M24.633 22.184c-8.188 0-14.82-6.637-14.82-14.82 0-2.695.773-5.188 2.03-7.363C5.02 1.97 0 8.19 0 15.646 0 24.675 7.32 32 16.352 32 23.81 32 30.032 26.977 32 20.156c-2.18 1.254-4.672 2.028-7.367 2.028z"/>',normaluser:'<path d="M31.5 64C59.433 56.326 63 32.54 63 24.694 63 16.846 60.61 8.58 54.31 0 49.565 1.885 39.206 2.72 31.5 0 23.794 2.72 13.434 1.885 8.692 0 2.39 8.58 0 16.846 0 24.694 0 32.54 3.568 56.326 31.5 64z"/>',pad:'<path d="M49 64H3c-1.657 0-3-1.343-3-3V3c0-1.657 1.343-3 3-3h46c1.657 0 3 1.343 3 3v58c0 1.657-1.343 3-3 3zm-23-2c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM45 6H7v48h38V6z"/>',paperclip:'<path d="M17.293 15.292l-2.83-2.83-4 4c-1.952 1.954-1.952 5.12 0 7.072 1.954 1.953 5.12 1.953 7.072 0l10.122-9.88c3.123-3.123 3.123-8.187 0-11.312-3.125-3.124-8.19-3.124-11.313 0l-11.12 10.88c-4.297 4.295-4.297 11.26 0 15.557 4.295 4.295 11.26 4.295 15.555 0l6-6-2.83-2.83-6 6c-2.732 2.732-7.165 2.732-9.9 0-2.732-2.732-2.732-7.166 0-9.9L19.173 5.17c1.562-1.562 4.095-1.562 5.656 0 1.563 1.563 1.563 4.097 0 5.657l-10.12 9.88c-.392.39-1.024.39-1.415 0s-.39-1.024 0-1.415l4-4z"/>',pengyou:'<path d="M52.67 41.29s3.272 9.1-5.53 11.01c0 0-7.662 1.98-11.066-11.01 0 0-3.688-10.606-3.688-12.846 0 0 11.04-2.228 18.442-1.835 0 0 11.116.84 11.065 9.174 0 0 .504 7.72-9.222 5.506zm0-18.35c-5.252.728-21.207 3.67-21.207 3.67V7.34c-.2-6.054 8.3-7.34 8.3-7.34 7.385.19 6.454 7.34 6.454 7.34 10.325-4.012 11.065 7.34 11.065 7.34.22 4.044-4.61 8.26-4.61 8.26zM7.49 28.443s-8.17-.48-7.377-8.258c0 0-1.713-6.644 8.3-6.423 0 0-3.114-11.53 11.065-11.01 0 0 6.523-.628 8.3 7.34 0 0 3.448 12.204 2.765 16.515 0 0-11.877.988-23.052 1.836zm23.975 0c-.872 4.484 1.844 12.846 1.844 12.846 3.235 6.336.922 11.01.922 11.01-2.932 8.7-11.988 7.34-11.988 7.34-6.323-1.716-6.455-8.257-6.455-8.257-5.134-.13-7.377-1.835-7.377-1.835-5.28-1.89-2.766-11.01-2.766-11.01 8.884-11.576 25.82-10.094 25.82-10.094z"/>',pin:'<path d="M17.07 2.93C13.164-.976 6.836-.976 2.93 2.93c-3.907 3.904-3.907 10.238 0 14.14C2.93 17.07 10 24 10 32c0-8 7.07-14.93 7.07-14.93 3.907-3.902 3.907-10.236 0-14.14zM10 14c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/>',"plus-circle":'<path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8 18h-6v6h-4v-6H8v-4h6V8h4v6h6v4z"/>',qq:'<path d="M173.94 152.517s-7.24.53-15.89-15.95c0 0-7.897 20.247-13.904 24.922 0 0 15.89 5.882 15.89 17.942 0 0-2.98 19.937-36.746 19.937 0 0-22.406.63-30.787-13.957h-2.98v-.31l-2.978.31c-8.383 14.587-30.79 13.955-30.79 13.955-33.766 0-36.745-19.937-36.745-19.937 0-12.06 15.89-17.942 15.89-17.942-6.007-4.675-13.904-24.92-13.904-24.92-8.65 16.48-15.89 15.948-15.89 15.948-17.583-29.635 15.89-60.807 15.89-60.807-5.712-18.323 5.96-26.916 5.96-26.916C29.54.66 89.522 0 89.522 0s59.983.66 62.568 64.795c0 0 11.672 8.593 5.96 26.915 0 0 33.473 31.172 15.89 60.807z"/>',qqliulanqi:'<path d="M64 55.332c0 4.57-3.122 8.31-7.08 8.642V64H31.792c-.02 0-.04-.007-.06-.007C14.184 63.85 0 49.583 0 32 0 14.327 14.327 0 32 0s32 14.327 32 32c0 5.69-1.492 11.03-4.096 15.66C62.338 49.11 64 52 64 55.332zm-32-41.11c-9.818 0-17.778 7.96-17.778 17.778 0 7.13 4.208 13.262 10.268 16.092 1.22-2.013 3.562-3.394 6.287-3.394.893 0 1.743.156 2.533.424 1.73-5.002 6.017-8.55 11.047-8.55 1.6 0 3.12.367 4.512 1.016.582-1.76.91-3.634.91-5.588-.002-9.818-7.962-17.778-17.78-17.778z"/>',qqweibo:'<path d="M60.847 26.088c-8.08-2.418-13.422-13.494-13.422-13.494-2.424 0-2.684-2.7-2.684-2.7 0-3.707 2.685-3.597 2.685-3.597 3.337 0 3.58 3.598 3.58 3.598.012 1.683-1.79 2.7-1.79 2.7C51.84 21.502 61.74 24.288 61.74 24.288c2.26 1.005-.893 1.798-.893 1.798zm-6.264-9.896s-1.34.62-.895-.9c0 0 1.906-1.828 1.79-5.398 0 0-.266-8.096-8.053-8.096 0 0-7.158.06-7.158 8.096 0 0 0 8.096 7.158 8.096 0 0 1.785 1.974 0 1.8 0 0-8.948-.953-8.948-9.896 0 0 .135-9.895 9.843-9.895 0 0 8.948 1.556 8.948 9.894 0 0-.432 4.82-2.685 6.298zM17 38.682h-3.578s-2.586-.992-.895-2.7c0 0 17.896 2.972 17.896-14.392 0 0-.252-13.494-13.422-13.494 0 0-14.316 1.116-14.316 14.393 0 0 .037 4.654 1.79 6.296 0 0 .568 3.07-1.79.9 0 0-2.52-3.105-2.684-7.197 0 0 1.06-17.093 17-17.093 0 0 16.108.7 16.108 16.193 0 0-.58 17.092-16.107 17.092zM12.528 24.29s-1.74-4.157 1.79-7.198c0 0 5.442-2.025 8.053 2.7 0 0 1.083 4.132-1.79 6.296 0 0-3.242 1.586-6.264 0 0 0-9.393 9.066-8.948 17.992.03.574 0 10.795 0 10.795s-1.03 3.125-3.578.9V44.08s2.232-13.204 10.737-19.79z"/>',qqzone:'<path d="M49.096 31.43L51.726 55 32.438 43.65 13.15 55l1.754-22.698L0 19.206h21.918L32.438 0l11.397 19.206H64L49.096 31.43zm-1.754-9.605h-26.3l15.78 2.62L17.534 41.03h29.808L29.808 37.54l17.534-15.715z"/>',rain:'<path d="M23.998 6c-.375 0-.733.06-1.103.11C21.505 3.647 18.925 2 16 2c-2.987 0-5.565 1.666-6.94 4.1C8.707 6.053 8.355 6 8 6c-4.41 0-8 3.588-8 8s3.59 8 8 8h15.998c4.414 0 8-3.588 8-8s-3.586-8-8-8zm0 12H8c-2.207 0-4-1.795-4-4 0-2.193 1.94-3.885 4.004-3.945.01.943.172 1.87.5 2.744l3.746-1.403c-.168-.444-.25-.915-.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465.64 3.2 1.64C17.27 9.1 16 11.394 16 14h4c0-2.205 1.795-4 3.998-4 2.21 0 4 1.795 4 4s-1.79 4-4 4zM3.28 29.438c-.75.75-1.968.75-2.718 0s-.75-1.97 0-2.72S6 24 6 24s-1.97 4.688-2.72 5.438zm8.005 0c-.75.75-1.965.75-2.72 0-.75-.75-.75-1.97 0-2.72.755-.75 5.44-2.718 5.44-2.718s-1.966 4.688-2.72 5.438zm7.995 0c-.75.75-1.97.75-2.72 0s-.75-1.97 0-2.72S22 24 22 24s-1.968 4.688-2.718 5.438z"/>',renren:'<path d="M26.667 0h12S32.767 40.406 64 51.726L58 63S37.77 48.42 34 33.82c0 0-12.018 22.796-27.333 28.517L0 54.38S31.49 46.61 26.667 0z"/>',ribbon:'<path d="M8 20c-1.41 0-2.742-.29-4-.736V32l4-4 4 4V19.264C10.742 19.71 9.41 20 8 20zM0 8c0-4.418 3.582-8 8-8s8 3.582 8 8-3.582 8-8 8-8-3.582-8-8z"/>',sad:'<path d="M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16zm0-29c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 23.18 3 16 8.82 3 16 3zm-8 7c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm12 0c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zM9.997 24.398l-2.573-1.544C9.174 19.946 12.36 18 16 18c3.64 0 6.827 1.945 8.576 4.854l-2.573 1.544C20.78 22.362 18.55 21 16 21c-2.55 0-4.78 1.362-6.003 3.398z"/>',scenegift:'<path d="M34.133 63.954V25.58H64v38.373H34.133zM0 12.79h14.82C8.034 11.604 8 4.997 8 4.997 8.056.07 13 0 13 0c9.28-.03 15.986 11.202 16.888 12.79h4.237C35.125 11.2 42.505-.045 51 0c0 0 5.046.083 5 4.996 0 0 .06 6.606-6.823 7.794H64v8.527H0V12.79zm53-6.794c.062-1.888-2-2-2-2-8.038-.048-13 8.994-13 8.994 12.39.04 15-6.994 15-6.994zm-40-2s-1.983.025-2 2 2.81 6.995 15 6.995c0 0-5.02-9.01-13-8.993zm16.867 59.958H0V25.58h29.867v38.374z"/>',scenesend:'<path d="M0 24.89L64 0 46.222 64 24.89 46.222l24.888-32-32 24.89L0 24.888zm10.667 14.22L24.89 49.78 14.22 60.444 10.667 39.11z"/>',sendcompany:'<path d="M56 37L32 13 8 37H0v-6L31 0h2l31 31v6h-8zm-3 1v26H39V43H25v21H11V38l21-21 21 21z"/>',smiley:'<path d="M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16zm0-29c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 23.18 3 16 8.82 3 16 3zm-8 7c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm12 0c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm2.003 9.602l2.573 1.544C22.826 24.054 19.64 26 16 26s-6.827-1.945-8.576-4.854l2.573-1.544C11.22 21.638 13.45 23 16 23s4.78-1.362 6.003-3.398z"/>',star:'<path d="M22.137 19.625L32 12H20L16 0l-4 12H0l9.875 7.594L6 32l10.016-7.68L26.008 32z"/>',sun:'<path d="M16 8c-4.417 0-8 3.582-8 8s3.583 8 8 8c4.42 0 8-3.582 8-8s-3.58-8-8-8zm-2-6c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zM4 6c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm-2 8c1.105 0 2 .895 2 2 0 1.107-.895 2-2 2s-2-.893-2-2c0-1.105.895-2 2-2zm2 12c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm10 4c0-1.11.895-2 2-2 1.108 0 2 .89 2 2 0 1.102-.892 2-2 2-1.105 0-2-.898-2-2zm10-4c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm6-8c-1.104 0-2-.896-2-2 0-1.107.896-2 2-2s2 .893 2 2c0 1.104-.896 2-2 2zM24 6c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2z"/>',taobao:'<path d="M48.988 48.946c-4.903 0-7.9-1.58-7.9-1.58l.79-3.946 7.11.79c6.122 0 6.32-5.527 6.32-5.527V14.21c0-7.378-7.9-7.895-7.9-7.895-6.463 0-15.012 3.158-15.012 3.158l3.16 1.58c.142 1.014-3.16 4.736-3.16 4.736H52.94v3.946H41.085v3.947h11.852v3.947H41.086v9.473l4.74-2.368-.79-3.947 4.742-1.58 3.95 10.264-5.53 2.368-1.58-3.947c-5.47 3.996-14.222 4.737-14.222 4.737h-7.11c-4.662 0-5.532-5.526-5.532-5.526V30h7.11v3.157c-.14 5.157 7.112 4.737 7.112 4.737V27.63H21.333v-3.946h12.642v-3.947h-5.53c-.317 2.196-3.952 3.158-3.952 3.158s-2.82-.52-3.16-1.58c2.75-1.887 6.32-9.472 6.32-9.472-4.472.22-8.69 6.316-8.69 6.316l-4.74-3.948C19.295 12.45 22.912 0 22.912 0l7.112 1.58c.106 1.228-1.58 4.736-1.58 4.736C40.153 2.44 52.15 3.158 52.15 3.158 63.474 4.408 64 15 64 15v21.315C64 49 48.988 48.945 48.988 48.945zM11.062 10.263c-5.48 0-5.53-4.737-5.53-4.737C5.53.122 11.06.79 11.06.79c5.138 0 5.53 4.736 5.53 4.736 0 4.548-5.53 4.737-5.53 4.737zM2.37 18.157l3.95-5.526c11.83 10.054 11.063 12.632 11.063 12.632C17.12 30.322 7.9 47.367 7.9 47.367L0 41.84l11.852-12.63c1.392-1.303 0-3.947 0-3.947-.29-2.28-9.482-7.106-9.482-7.106z"/>',"thin-arrow-down-left":'<path d="M18 28c1.105 0 2-.895 2-2s-.895-2-2-2h-7.172L27.414 7.414c.78-.78.78-2.047 0-2.828C27.024 4.196 26.512 4 26 4s-1.024.195-1.414.586L8 21.172V14c0-1.105-.895-2-2-2s-2 .895-2 2v14h14z"/>',"thin-arrow-down-right":'<path d="M28 14c0-1.105-.895-2-2-2s-2 .895-2 2v7.172L7.414 4.586c-.78-.78-2.047-.78-2.828 0C4.196 4.976 4 5.488 4 6s.195 1.024.586 1.414L21.172 24H14c-1.105 0-2 .895-2 2s.895 2 2 2h14V14z"/>',"thin-arrow-down":'<path d="M4.586 19.414l10 10c.78.78 2.047.78 2.828 0l10-10c.78-.78.78-2.047 0-2.828s-2.047-.78-2.828 0L18 23.172V4c0-1.105-.895-2-2-2s-2 .895-2 2v19.172l-6.586-6.586C7.024 16.196 6.512 16 6 16s-1.024.195-1.414.586c-.78.78-.78 2.047 0 2.828z"/>',"thin-arrow-left":'<path d="M12.586 4.586l-10 10c-.78.78-.78 2.047 0 2.828l10 10c.78.78 2.047.78 2.828 0s.78-2.047 0-2.828L8.828 18H28c1.105 0 2-.895 2-2s-.895-2-2-2H8.828l6.586-6.586c.39-.39.586-.902.586-1.414s-.195-1.024-.586-1.414c-.78-.78-2.047-.78-2.828 0z"/>',"thin-arrow-right":'<path d="M19.414 27.414l10-10c.78-.78.78-2.047 0-2.828l-10-10c-.78-.78-2.047-.78-2.828 0s-.78 2.047 0 2.828L23.172 14H4c-1.105 0-2 .895-2 2s.895 2 2 2h19.172l-6.586 6.586c-.39.39-.586.902-.586 1.414s.195 1.024.586 1.414c.78.78 2.047.78 2.828 0z"/>',"thin-arrow-up-left":'<path d="M4 18c0 1.105.895 2 2 2s2-.895 2-2v-7.172l16.586 16.586c.78.78 2.047.78 2.828 0 .39-.39.586-.902.586-1.414s-.195-1.024-.586-1.414L10.828 8H18c1.105 0 2-.895 2-2s-.895-2-2-2H4v14z"/>',"thin-arrow-up-right":'<path d="M26 4H14c-1.104 0-2 .895-2 2s.896 2 2 2h7.173L4.587 24.586c-.78.78-.78 2.047 0 2.828.39.39.902.586 1.414.586s1.025-.195 1.415-.586L24 10.828V18c0 1.105.896 2 2 2s2-.895 2-2V4h-1.998z"/>',"thin-arrow-up":'<path d="M27.414 12.586l-10-10c-.78-.78-2.047-.78-2.828 0l-10 10c-.78.78-.78 2.047 0 2.828s2.047.78 2.828 0L14 8.828V28c0 1.105.895 2 2 2s2-.895 2-2V8.828l6.586 6.586c.39.39.902.586 1.414.586s1.024-.195 1.414-.586c.78-.78.78-2.047 0-2.828z"/>',tieba:'<path d="M64 28.804v33.072H36.267s-.933.052-1.067-2.134V32.005s-1.165-3.2 5.333-3.2V1.066h6.4v4.267H64v6.4H46.933v17.07H64zm-21.333 7.468v19.203h13.867V36.272H42.667zM14.933 55.475s-4.91 5.24-12.8 6.4L1.066 57.61s8.08-3.244 9.6-7.47V13.87s.682-2.068 4.267-2.135c0 0 3.29.126 3.2 2.134v33.07s.47 6.066 11.733 10.668L28.8 62.943S22.857 64 14.933 55.475zM23.467 9.6s.113-3.436-8.533-3.2c0 0-8.533.1-8.533 3.2v37.34H0V0h29.867v46.94h-6.4V9.6z"/>',time:'<path d="M57.094 17.342L39.19 4.248c3.422-4.74 10.202-5.65 15.146-2.035 4.944 3.616 6.178 10.39 2.758 15.13zm-.198 17.644c.016 15.224-12.23 27.578-27.352 27.594-15.123.017-27.395-12.312-27.41-27.536C2.116 19.82 14.363 7.466 29.483 7.45 44.61 7.434 56.88 19.762 56.897 34.986zM29.492 14.27c-10.206.01-18.663 7.49-20.294 17.297h-.232v6.895h.23c1.634 9.824 10.12 17.308 20.34 17.297 10.206-.01 18.664-7.49 20.294-17.297h.232v-6.895h-.23C48.2 21.743 39.712 14.26 29.492 14.27zm-15.39 24.193v-6.895H26.09V16.915h6.85V38.463H14.102zm-9.41-36.25C9.636-1.403 16.416-.492 19.837 4.248L1.935 17.342C-1.485 12.602-.25 5.83 4.692 2.212z"/>',twitter:'<path d="M32 6.076c-1.177.522-2.443.875-3.77 1.034 1.354-.813 2.395-2.1 2.886-3.632-1.27.752-2.674 1.3-4.17 1.593C25.75 3.796 24.044 3 22.157 3c-3.627 0-6.566 2.94-6.566 6.565 0 .515.058 1.016.17 1.496-5.456-.275-10.294-2.89-13.532-6.86-.565.97-.89 2.096-.89 3.3 0 2.278 1.16 4.287 2.922 5.465-1.076-.034-2.088-.33-2.974-.82v.082c0 3.18 2.262 5.834 5.265 6.437-.55.15-1.13.23-1.73.23-.422 0-.833-.04-1.234-.118.835 2.608 3.26 4.506 6.133 4.56-2.248 1.76-5.08 2.81-8.155 2.81-.53 0-1.052-.032-1.566-.093 2.904 1.863 6.355 2.95 10.063 2.95 12.076 0 18.68-10.004 18.68-18.68 0-.285-.007-.568-.02-.85C30.006 8.55 31.12 7.394 32 6.077z"/>',uc:'<path d="M53.093 32.265c-7.527-5.77-19.034-7.054-19.034-7.054 5.832-1.907 12.02-7.053 12.02-7.053-.333-6.053 2.003-8.06 2.003-8.06 1.492 1.375 3.005 6.045 3.005 6.045C64 21.39 61.108 32.265 61.108 32.265h-8.015zM26.046 26.22S10.018 32.564 10.018 46.37c0 0 .893 11.278 8.172 13.66C12.446 58.893 0 55.07 0 43.35c0-15.233 13.134-18.434 14.025-27.207 0 0-1.02-8.06-7.012-8.06 0 0-4.643.682-6.01 2.014 0 0 5.962-10.617 18.032-10.077 0 0 12.937.063 14.025 11.084-.002 0 1.73 8.45-7.014 15.115zM18.19 60.033c1.72.342 2.847.446 2.847.446-1.046 0-1.99-.165-2.848-.446zm-2.162-11.646s.948-8.06 8.014-8.06c0 0 9.016.13 9.016 8.06 0 0-.12 9.07-8.014 9.07 0 0-9.016.67-9.016-9.07zm4.007 0c0 4.65 4.007 5.038 4.007 5.038 4.47 0 5.01-4.03 5.01-4.03 0-4.626-5.01-5.04-5.01-5.04-4.22-.123-4.007 4.032-4.007 4.032zm17.03 0s-.19-12.092-11.02-12.092c0 0-4.6-1.38-11.018 3.023 0 0 3.518-7.19 12.02-7.055 0 0 15.762.647 16.03 17.13 0 0-.818 6.053-3.006 7.054 0 0 7.738-1.62 10.02 4.03H28.05s8.532-1.28 9.015-12.092zm9.016-7.054S41.277 30.12 25.045 29.242c0 0 8.813-2.856 17.03 1.008l8.014 5.038s1.677.997 5.01 1.008c0 0 6.233.472 7.01 4.03 0 0-5.922-1.36-8.013 0 0 0-3.56 4.318-8.014 1.008z"/>',umbrella:'<path d="M16 0C7.18 0 0 7.178 0 16h4c0-.826.676-1.5 1.5-1.5.828 0 1.5.674 1.5 1.5h4c0-.826.676-1.5 1.5-1.5.828 0 1.5.674 1.5 1.5v10c0 1.102-.895 2-2 2-1.102 0-2-.898-2-2H6c0 3.31 2.695 6 6 6 3.312 0 6-2.69 6-6V16c0-.826.676-1.5 1.5-1.5.828 0 1.498.674 1.498 1.5h4c0-.826.68-1.5 1.5-1.5.828 0 1.5.674 1.5 1.5h4c0-8.822-7.172-16-15.998-16z"/>',unlock:'<path d="M14.004 0C8.488 0 4.008 4.484 4.008 10h3.996c0-3.31 2.688-6 6-6C17.31 4 20 6.69 20 10v2H0v14c0 3.31 2.695 6 6 6h12c3.305 0 6-2.69 6-6V10c0-5.516-4.488-10-9.996-10zM12 24c-1.102 0-2-.895-2-2s.898-2 2-2c1.11 0 2 .895 2 2s-.89 2-2 2z"/>',user:'<path d="M12 16C5.375 16 0 21.375 0 28c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4 0-6.625-5.375-12-12-12zM6 6c0-3.314 2.686-6 6-6s6 2.686 6 6-2.686 6-6 6-6-2.686-6-6z"/>',voice:'<path d="M38.246 32.653c0 9.68-7.396 17.645-16.902 18.686v8.48h8.45V64H8.668v-4.18h8.45v-8.482c-9.505-1.04-16.9-9.005-16.9-18.685 0-1.815-.486-2.548 0-4.21h4.11c-.63 1.625.114 2.366.114 4.21 0 8.08 6.622 14.63 14.79 14.63s14.79-6.55 14.79-14.63c0-1.843.743-2.584.114-4.21h4.11c.487 1.662.002 2.395.002 4.21zM19.23 42.667h-1.027c-5.393 0-9.764-4.32-9.764-9.65V9.65C8.437 4.32 12.81 0 18.202 0h1.028c5.394 0 9.765 4.32 9.765 9.65v23.366c0 5.33-4.372 9.65-9.764 9.65z"/>',wechat:'<path d="M171.484 138.214l6.938 21.872-26.76-14.913c-72.416-.25-66.408-49.71-66.408-49.71 0-28.145 34.69-40.76 34.69-40.76 75.01-16.33 78.3 42.75 78.3 42.75 0 28.293-26.76 40.76-26.76 40.76zm-49.24-60.128c-4.417 0-8 3.582-8 8s3.583 8 8 8c4.42 0 8-3.582 8-8 0-4.42-3.58-8-8-8zm43 0c-4.417 0-8 3.582-8 8s3.583 8 8 8c4.42 0 8-3.582 8-8 0-4.42-3.58-8-8-8zm-75.035-8.47c-17.465 24.322-4.957 47.72-4.957 47.72-2.767 2.24-7.93 1.988-7.93 1.988H61.467l-36.673 16.9 8.92-25.848C-1.755 92.678.015 60.668.015 60.668v-2.982C6.983-1.914 70.385.024 70.385.024c30.228-.665 46.585 12.924 46.585 12.924 19.95 11.217 24.78 32.808 24.78 32.808-34.684 1.2-51.54 23.86-51.54 23.86zm-48.965-39.53c-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11-4.925-11-11-11zm67 11c0-6.075-4.925-11-11-11s-11 4.925-11 11 4.925 11 11 11 11-4.925 11-11z"/>',weibo:'<path d="M199.39 65.394s-.494 9.988-10.012 9.988c0 0-10.252-1.807-7.007-11.985 0 0 11.966-41.924-36.037-47.942 0 0-17.018 5.194-17.018-6.99 0 0 1.506-7.99 8.008-7.99 0-.002 66.773-10.275 62.066 64.92zm-56.06-24.97s-8.01 1.064-8.01-6.99c0 0 2.412-5.994 7.008-5.994 0 0 34.003-5.033 30.032 32.96 0 0-1.923 5.993-6.006 5.993 0 0-8.008.682-8.008-7.99 0 0 4.523-17.978-15.017-17.978zm-10.012 4.995s17.018.91 17.018 16.978c0 0 .245 9.102-4.004 12.984 0 0 29.03 6.81 29.03 28.965 0 0-.25 56.93-91.096 56.93 0 0-84.09.923-84.09-52.935 0 0-4.08-25.11 27.03-54.933 31.108-29.823 48.8-30.963 57.06-30.963 0 0 16.017-.976 16.017 15.98 0 0-.412 11.22-3.003 14.982 0 0 19.064-7.99 36.038-7.99zm-55.06 25.967s-49.883 3.47-58.06 42.948c0 0-.604 30.22 52.054 34.958 0 0 54.006 2.183 66.07-36.955.002 0 13.083-38.317-60.063-40.95zM73.12 142.2c-26.866-.565-28.93-22.87-28.93-22.87-1.095-30.22 32.92-32.816 32.92-32.816 31.985-.314 30.926 25.854 30.926 25.854C106.16 142.198 73.12 142.2 73.12 142.2zm-5.985-31.82s-11.97 1.422-11.97 9.943c0 0-1.052 8.95 9.975 8.95 0 0 10.974-1.898 10.974-9.944 0-.002 1.093-8.95-8.98-8.95zm15.962-3.98s-3.99-.663-3.99 2.984c0 0-.93 2.983 2.993 2.983 0 0 3.99-.785 3.99-3.978 0 0-.34-1.99-2.993-1.99z"/>',windows:'<path d="M28.984 59.594V33.416H63V64l-34.016-4.406zm0-55.188L63 0v30.584H28.984V4.406zM0 33.416h26.15v25.487L0 55.23V33.417zM0 8.77l26.15-3.673v25.487H0V8.77z"/>',wondering:'<path d="M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16zm0-29c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 23.18 3 16 8.82 3 16 3zm7.304 15.8l.703 2.4-13.656 4-.702-2.4zM8 10c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2zm12 0c0-1.105.895-2 2-2s2 .895 2 2-.895 2-2 2-2-.895-2-2z"/>',"x-circle":'<path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm7.914 21.086l-2.828 2.828L16 18.828l-5.086 5.086-2.828-2.828L13.172 16l-5.086-5.086 2.828-2.828L16 13.172l5.086-5.086 2.828 2.828L18.828 16l5.086 5.086z"/>',yixin:'<path d="M45.364 58.38c4.124 2.52 10.26 2.797 10.26 2.797C44.55 65 36.34 63.943 30.866 61.9 13.807 61.83 0 48.003 0 30.953 0 13.858 13.88 0 31 0s31 13.858 31 30.952c0 11.917-6.75 22.255-16.636 27.428zM31 14.977c-8.837 0-16 7.153-16 15.975 0 5.364 2.656 10.098 6.718 12.996-3.185 4.404-11.86 5.58-11.86 5.58 19.676 4.766 29.433-4.09 31.788-6.673C44.924 39.93 47 35.688 47 30.952c0-8.823-7.163-15.975-16-15.975z"/>',zhifubao:'<path d="M63.02 50L36.95 36.957c-10.738 11.987-22.814 10.87-22.814 10.87C-.98 47.827.014 35.87.014 35.87-.088 22.84 15.222 25 15.222 25c8.56.11 18.468 3.26 18.468 3.26 3.55-4.163 4.345-9.782 4.345-9.782H10.877v-2.174h13.036V10.87H7.618V8.696h16.295V0h8.69v8.696H48.9v2.174H32.603v5.435h14.122c.153 3.882-5.432 15.217-5.432 15.217l21.727 6.522V50zM14.137 28.26s-11.95-2.294-11.95 7.61c0 0-1.54 7.61 10.863 7.61 0 0 11.463.27 17.38-9.784 0 0-7.428-5.435-16.294-5.435z"/>'}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return new Promise((function(t){e.complete&&t(),e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))}var m=["id","class","style","width","height","src","type","placeholder","value"];function v(e){return new Promise((function(t){return setTimeout(t,e)}))}function g(e){for(var t=[],n=0;n<e.length;n++){var r=e.item(n);t.push("".concat(r,": ").concat(e[r]))}return t.join(";")}var y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.fontFacesObj=null,this.imagesObj=null,this.options=null,this.nodeStyleMap=new Map,this.env=l({isIOS:!1},t),this.error="",this.noSetStyle=n.noSetStyle}var t,i,a,s,u,p,y,b;return t=e,i=[{key:"destory",value:function(){this._isDestory=!0}},{key:"isDestory",get:function(){return this._isDestory||!1}},{key:"handlerCancel",value:function(){if(this.isDestory)throw new Error("dom2Canvas cancel")}},{key:"dom2canvas",value:(b=c(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=this,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]?s[2]:{},console.log("开始绘图"),e.next=5,this.genHtml(t,n,r);case 5:return o=e.sent,this.handlerCancel(),i=this.svg2canvas(o).catch((function(e){return a.error+=e.message})),t.classList.remove("dom2CanvasBox"),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"toSvg",value:(y=c(regeneratorRuntime.mark((function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.genHtml(t,n,r);case 4:return o=e.sent,e.abrupt("return",this.htmlToSvg(o));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"genHtml",value:(p=c(regeneratorRuntime.mark((function e(t,n,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fontFacesObj={iconfonts:"http://lib.eqh5.com/iconfonts/4.0.8/iconfonts/iconfonts.woff?gj9y5y"},this.noSetStyle||t.classList.add("dom2CanvasBox"),this.imagesObj={},this.options=Object.assign({backgroundColor:"#fff",scale:1,borderWidth:0},n),this.fontMap=r,this.coastTime=16,o=window.performance.now(),t.style.backgroundColor=this.options.backgroundColor,e.next=10,this.loopNode(t).catch(console.error);case 10:return e.next=12,Promise.all([this.font2Base64(),this.img2Base64()]);case 12:return e.next=14,this.html2string(t);case 14:return i=e.sent,this.coastTime=window.performance.now()-o,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return p.apply(this,arguments)})},{key:"loopNode",value:(u=c(regeneratorRuntime.mark((function e(t){var r,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],t.insertAdjacentHTML("afterbegin","<style>".concat(n(253),"</style>")),i=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,s,c,u,l,p,f,d,v,y,b,x,w,S,k,O,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("IMG"!==t.tagName||t.complete){e.next=3;break}return e.next=3,h(t);case 3:n=getComputedStyle(t),c=(s=n).fontFamily,u=s.backgroundImage,l=s.background,p=s.webkitMaskBoxImageSource,f=s.borderWidth,d=s.borderImageSource,String(f).includes(".")&&(t.style.borderWidth=f.replace(parseFloat(f),parseInt(f)),n=getComputedStyle(t)),v=u||l,y=t.getAttribute("xlink:href")||t.getAttribute("src"),a.nodeStyleMap.set(t,g(n)),Array.from(t.attributes).forEach((function(e){m.includes(e.name)||t.removeAttribute(e.name)})),c&&"iconfonts"!==c&&(a.fontFacesObj[c]=a.fontMap[c]||!0),p&&"none"!==p&&p.search(-1!==a.getUrlReg())&&-1===p.search(a.getBase64Reg())&&(b=p.match(a.getUrlReg())[0],a.imagesObj[b]=null),v&&-1!==v.search(a.getUrlReg())&&-1===v.search(a.getBase64Reg())&&(x=u.match(a.getUrlReg())[0],a.imagesObj[x]=null),d&&-1!==d.search(a.getUrlReg())&&-1===d.search(a.getBase64Reg())&&(w=d.match(a.getUrlReg())[0],a.imagesObj[w]=null),y&&(y.startsWith("http")||y.startsWith("//"))&&(S=(y.match(a.getUrlReg())||[y])[0],a.imagesObj[S]=null),"CANVAS"===t.tagName&&r.push(a.loadImage(t.toDataURL()).then((function(e){e.style.cssText=t.style.cssText,t.parentElement.insertBefore(e,t),t.parentElement.removeChild(t)}))),k=o(t.children),e.prev=17,k.s();case 19:if((O=k.n()).done){e.next=26;break}return E=O.value,a.handlerCancel(),e.next=24,i(E);case 24:e.next=19;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(17),k.e(e.t0);case 31:return e.prev=31,k.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[17,28,31,34]])})));return function(t){return e.apply(this,arguments)}}(),e.next=5,i(t);case 5:return this.handlerCancel(),function e(t){var n=a.nodeStyleMap.get(t);n&&(t.style.cssText=n,t.style.setProperty("-webkit-text-fill-color",n.color)),Array.from(t.children).forEach((function(t){return e.call(a,t)}))}(t),e.abrupt("return",Promise.all(r));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"setFontFace",value:function(){var e=this,t=[];return Array.from(document.styleSheets).forEach((function(e){"STYLE"===e.ownerNode.tagName&&t.push.apply(t,r(Array.from(e.cssRules)))})),t.forEach((function(t){if(t.type===CSSRule.FONT_FACE_RULE){var n=t.style.getPropertyValue("font-family").replace(/"/g,"");e.fontFacesObj[n]&&(e.fontFacesObj[n]=t.style.getPropertyValue("src").match(e.getUrlReg())[0])}})),Promise.resolve()}},{key:"getUrlReg",value:function(){return/http[^"]*/}},{key:"getBase64Reg",value:function(){return'^url\\("data:image/(png|jpeg|gif|svg+xmlsvg-xml);base64,(\\w|\\/|\\+|=)*"\\)$'}},{key:"font2Base64",value:function(){var e=this,t=[];for(var n in this.fontFacesObj)!0!==this.fontFacesObj[n]&&function(n){t.push(e.ajax2Blob(e.fontFacesObj[n]).then((function(t){return e.blob2base64(t)})).then((function(t){e.fontFacesObj[n]=t})).catch((function(t){return console.log(t),e.fontFacesObj[n]=n})))}(n);return Promise.all(t)}},{key:"img2Base64",value:function(){var e=this,t=[];for(var n in this.imagesObj)null===this.imagesObj[n]&&function(n){t.push(e.ajax2Blob(n.replace("/webp","/png")).then((function(t){return e.handlerCancel(),e.blob2base64(t)})).then((function(r){e.handlerCancel(),r.then?(r.then((function(t){e.imagesObj[n]=t})),t.push(r)):e.imagesObj[n]=r})).catch((function(t){e.error+="img2Base64:".concat(n,";"),console.error(t),e.imagesObj[n]="data:image/png;base64,iV",Promise.resolve()})))}(n);return Promise.all(t)}},{key:"ajax2Blob",value:function(e){var t=this;return new Promise((function(n,r){var o=new XMLHttpRequest;t.handlerCancel(),o.open("get",String(e).replace(/(https|http):\/\//,"//"),!0),o.responseType="blob",o.onload=function(){t.handlerCancel(),o.status>=200&&o.status<300||304===o.status?n(o.response):o.status>=400&&(console.log(o.status),n(e))},o.onerror=function(n){t.error+="xhr:".concat(e,";"),console.log(n),r()};try{var i;null===(i=o.send())||void 0===i||i.catch((function(e){console.error(e),r()}))}catch(n){t.error+="ajax2Blob:".concat(e,";"),r()}}))}},{key:"html2string",value:function(e){var t=parseFloat(e.style.width)+2*this.options.borderWidth,r=parseFloat(e.style.height)+2*this.options.borderWidth,o=[],i=(new XMLSerializer).serializeToString(e);for(var a in i=i.replace(/\sbackground-clip/g," -webkit-background-clip"),this.imagesObj){var s=a.replace("?","\\?");s=(s=s.replace(new RegExp("\\|","g"),"\\|")).replace(new RegExp(">","g"),"&gt;"),i=(i=(i=i.replace(new RegExp("&quot;".concat(s,"&quot;"),"g"),"'".concat(this.imagesObj[a],"'"))).replace(new RegExp("'".concat(s,"'"),"g"),"'".concat(this.imagesObj[a],"'"))).replace(new RegExp('"'.concat(s,'"'),"g"),'"'.concat(this.imagesObj[a],'"'))}for(var c in this.fontFacesObj)"string"==typeof this.fontFacesObj[c]&&o.push("@font-face {font-family: ".concat(c,"; src: url(").concat(this.fontFacesObj[c],");}"));return this.noSetStyle||(i="<style >".concat(o.join(""),"<style>").concat(n(253),"</style></style>").concat(i)),i=i.replace(/[\r\n\f\v\t]/g,""),Promise.resolve({html:i,width:t,height:r})}},{key:"htmlToSvg",value:function(e){var t=e.html,n=e.width,r=e.height;return"data:image/svg+xml;charset=utf-8,"+'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(n,'" height="').concat(r,'"><foreignObject width="100%" height="100%">').concat(t,"</foreignObject></svg>")}},{key:"svg2canvas",value:(s=c(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.html,r=t.width,o=t.height,i='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(r,'" height="').concat(o,'"><foreignObject width="100%" height="100%">').concat(n,"</foreignObject></svg>"),a=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),e.next=5,this.blob2base64(a);case 5:return s=e.sent,this.handlerCancel(),e.next=9,this.loadImage(s);case 9:return c=e.sent,this.handlerCancel(),e.next=13,v(300);case 13:return this.handlerCancel(),u=document.createElement("canvas"),l=u.getContext("2d"),p=c.height*this.options.scale,f=c.width*this.options.scale,u.height=p,u.width=f,l.drawImage(c,0,0,f,p),this.destoryImg(c),e.next=24,v(300);case 24:return this.handlerCancel(),e.abrupt("return",u);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"destoryImg",value:function(e){var t;this.env.isIOS&&(null==e||null===(t=e.parentNode)||void 0===t||t.removeChild(e)),e.src=null,e.onload=null,e.onerror=null}},{key:"loadImage",value:function(e){var t=this;return new Promise((function(n,r){t.handlerCancel();var o=new Image;o.onload=function(){t.env.isIOS?setTimeout((function(){return n(o)}),t.coastTime):n(o)},o.onerror=function(n,i){console.log(e),console.error(n),t.error+=n.message,r(o)},t.env.isIOS&&(o.style.position="fixed",o.style.top=0,o.style.transform="scale(0.1)",document.body.appendChild(o)),o.src=e}))}},{key:"blob2base64",value:function(e){var t=this;return new Promise((function(n,r){var o=new FileReader;t.handlerCancel(),o.onload=function(e){t.handlerCancel(),n(e.target.result)},o.onerror=function(){r()},o.readAsDataURL(e)}))}}],a=[{key:"videoToImg",value:function(e){e.find("video").each((function(e,t){var n=t.getAttribute("poster");if(n){var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.backgroundColor="#000",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",r.style.backgroundImage="url(".concat(n,")"),t.parentNode.replaceChild(r,t)}}))}}],i&&d(t.prototype,i),a&&d(t,a),e}();e.exports=y},function(e,t,n){"use strict";e.exports='\n.dom2CanvasBox .comp_button {\n    width: 240px;\n    height: 36px;\n    min-width: 50px;\n    white-space: nowrap;\n    border: 0;\n    background: transparent;\n    font-size: 16px;\n    color: #999;\n    padding: 0px 8px;\n}\n\n.dom2CanvasBox .element-box .element-box-contents .element.comp_button {\n    font-size: inherit;\n    min-height: 36px;\n}\n.dom2CanvasBox .element {\n    min-width: 1px;\n    min-height: 1px;\n    color: inherit;\n}\n.dom2CanvasBox ul,\n.dom2CanvasBox ol,\n.dom2CanvasBox li {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n.dom2CanvasBox ul.vote-statistic-container{\n    padding: 10px 16px 8px 16px;\n}\n.dom2CanvasBox .iScrollLoneScrollbar{\n    display: none !important\n}\n.dom2CanvasBox li {\n    line-height: 1;\n    background: none;\n    list-style: none ;\n    margin: 0;\n    padding: 0;\n    min-height: 1px;\n    min-width: 1px;\n    width: 100%;\n    box-sizing: border-box;\n}\n.dom2CanvasBox li *{\n    box-sizing: border-box;\n}\n.dom2CanvasBox .comp_radio .options .option-group .option-label .otherOptionBlank.hide{\n    display: none !important;\n}\n.dom2CanvasBox .comp_radio .options .option-group{\n    position: relative;\n    padding: 7px 9px;\n    line-height: 20px;\n    border-bottom: 1px solid #ccd5db;\n}\n.dom2CanvasBox .comp_radio .options .option-group .option-label{\n    font-size: 14px;\n    color: inherit;\n    margin-bottom: 0;\n    display: inline-block;\n    word-break: break-all;\n    word-wrap: break-word;\n    width: 100%;\n}\n.dom2CanvasBox .comp_radio .options .option-group .option-label input{\n    vertical-align: middle;\n    margin-right: 5px;\n}\n.dom2CanvasBox input[type=\'checkbox\']:not([disabled]){\n    position: relative;\n    overflow: initial;\n    transform: scale(0.1);\n    -moz-transform: scale(1);\n}\n.dom2CanvasBox input[type=\'checkbox\']:not([disabled])::after{\n    content: \'\';\n    position: absolute;\n    left: -1px;\n    top: -2px;\n    height: 14px;\n    width: 14px;\n    background: #fff;\n    border: 1px solid #ccd5db;\n    border-radius: 3px;\n    cursor: pointer;\n    transform: scale(10);\n}\n.dom2CanvasBox input[type=\'radio\']:not([disabled]) {\n    position: relative;\n    overflow: initial;\n    transform: scale(0.1);\n    -moz-transform: scale(1);\n}\n.dom2CanvasBox input[type=\'radio\']:not([disabled])::after {\n    content: \'\';\n    position: absolute;\n    top: -3px;\n    left: -2px;\n    height: 16px;\n    width: 16px;\n    background: #fff;\n    border: 1px solid #ccd5db;\n    border-radius: 50%;\n    box-sizing: border-box;\n    transform: scale(10);\n    -moz-transform: scale(1);\n}\n.dom2CanvasBox input[type=\'radio\']:not([disabled]):checked::after {\n    border: 5px solid #1261ff;\n}\n.dom2CanvasBox .form-title-box.require::before{\n    content: \'*\';\n    display: inline-block;\n    color: #f00 !important;\n    width: 0.5em;\n    float: left;\n    position: relative;\n    top: 3px;\n}\n.dom2CanvasBox .comp_radio .options .option-group .option-label .otherOptionBlank.hide{\n    display:none !important\n}\n.dom2CanvasBox .form-comp-score .rating-icons i.eqf-score-scale{\n    width: 20px;\n    height: 20px;\n    color: #333333;\n    font-size: 12px;\n    text-align: center;\n    line-height: 1.8;\n    border: solid 1px #CCD5DB;\n}\n.dom2CanvasBox table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    width: 100%;\n}\n@font-face{font-family:iconfonts;src:url(https://lib.eqh5.com/iconfonts/4.0.8/iconfonts/iconfonts.woff?gj9y5y);font-weight:400;font-style:normal}[class*=" eqf-"],[class^=eqf-]{font-family:iconfonts!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.eqf-eqxiuboy:before{content:"\\eae6"}.eqf-scorebox:before{content:"\\eae7"}.eqf-scoremore:before{content:"\\eae8"}.eqf-scoreNPS:before{content:"\\eae9"}.eqf-scoresingle:before{content:"\\eaea"}.eqf-singlecheck:before{content:"\\eaeb"}.eqf-ruler:before{content:"\\eae5"}.eqf-recognition:before{content:"\\eae4"}.eqf-copyright:before{content:"\\eae3"}.eqf-timeline:before{content:"\\eae2"}.eqf-xiutui:before{content:"\\eae1"}.eqf-greetingcard-f:before{content:"\\eadf"}.eqf-greetingcard-l:before{content:"\\eae0"}.eqf-airdesign:before{content:"\\eade"}.eqf-colorpicker-f:before{content:"\\eadc"}.eqf-colorpicker-l:before{content:"\\eadd"}.eqf-loadingroll:before{content:"\\eadb"}.eqf-fontbig:before{content:"\\ead9"}.eqf-fontsmall:before{content:"\\eada"}.eqf-vipuser-f:before{content:"\\ead7"}.eqf-vipuser-l:before{content:"\\ead8"}.eqf-checkright:before{content:"\\ead6"}.eqf-bulb-f:before{content:"\\ead0"}.eqf-bulb-l:before{content:"\\ead1"}.eqf-loud-f:before{content:"\\ead2"}.eqf-loud-l:before{content:"\\ead3"}.eqf-phonebook-f:before{content:"\\ead4"}.eqf-phonebook-l:before{content:"\\ead5"}.eqf-arrow-bigger:before{content:"\\e907"}.eqf-arrow-smaller:before{content:"\\e908"}.eqf-eqxiuapp:before{content:"\\e9a9"}.eqf-eqxiulogo:before{content:"\\e9aa"}.eqf-eqxiulogoorgin:before{content:"\\e9ab"}.eqf-flipchuizhi:before{content:"\\e9b6"}.eqf-flipshuiping:before{content:"\\eacf"}.eqf-dingding:before{content:"\\e91b"}.eqf-fileopen-f:before{content:"\\eaca"}.eqf-fileopen-l:before{content:"\\eacd"}.eqf-template-l:before{content:"\\eace"}.eqf-tieba:before{content:"\\ea77"}.eqf-t-new:before{content:"\\eac9"}.eqf-flower-line:before{content:"\\eac1"}.eqf-flower2:before{content:"\\eac2"}.eqf-good:before{content:"\\eac3"}.eqf-love-line:before{content:"\\eac4"}.eqf-love:before{content:"\\eac5"}.eqf-roll-line:before{content:"\\eac6"}.eqf-roll:before{content:"\\eac7"}.eqf-vote:before{content:"\\eac8"}.eqf-star-line:before{content:"\\eacb"}.eqf-star:before{content:"\\eacc"}.eqf-filenone-f:before{content:"\\eabf"}.eqf-filenone-l:before{content:"\\eac0"}.eqf-u:before{content:"\\ea8b"}.eqf-gift-f:before{content:"\\e9c5"}.eqf-gift-l:before{content:"\\e9c6"}.eqf-counter:before{content:"\\e900"}.eqf-formcheck:before{content:"\\e901"}.eqf-time-ccw:before{content:"\\e902"}.eqf-time-cw:before{content:"\\e903"}.eqf-hours:before{content:"\\e904"}.eqf-activity-f:before{content:"\\e905"}.eqf-activity-l:before{content:"\\e906"}.eqf-buildcase-f:before{content:"\\e909"}.eqf-buildcase-l:before{content:"\\e90a"}.eqf-clover:before{content:"\\e90b"}.eqf-compare:before{content:"\\e90c"}.eqf-console:before{content:"\\e90d"}.eqf-contacts:before{content:"\\e90e"}.eqf-dice:before{content:"\\e90f"}.eqf-form-f:before{content:"\\e910"}.eqf-form-l:before{content:"\\e911"}.eqf-game:before{content:"\\e912"}.eqf-press:before{content:"\\e913"}.eqf-presslong:before{content:"\\e914"}.eqf-pressmove:before{content:"\\e915"}.eqf-s:before{content:"\\e916"}.eqf-setting-f:before{content:"\\e917"}.eqf-setting-l:before{content:"\\e918"}.eqf-skin-f:before{content:"\\e919"}.eqf-skin-l:before{content:"\\e91a"}.eqf-template-f:before{content:"\\e91c"}.eqf-userface-sf:before{content:"\\e91d"}.eqf-align-mid:before{content:"\\e91e"}.eqf-align-stick:before{content:"\\e91f"}.eqf-align-top:before{content:"\\e920"}.eqf-align-under:before{content:"\\e921"}.eqf-fonthigh:before{content:"\\e922"}.eqf-fontshort:before{content:"\\e923"}.eqf-mall-l:before{content:"\\e924"}.eqf-album-f:before{content:"\\e925"}.eqf-album-l:before{content:"\\e926"}.eqf-bag-l:before{content:"\\e927"}.eqf-bank:before{content:"\\e928"}.eqf-color-fill:before{content:"\\e929"}.eqf-customer:before{content:"\\e92a"}.eqf-down:before{content:"\\e92b"}.eqf-external-link:before{content:"\\e92c"}.eqf-eye-f:before{content:"\\e92d"}.eqf-eye-l:before{content:"\\e92e"}.eqf-filter-f:before{content:"\\e92f"}.eqf-filter-l:before{content:"\\e930"}.eqf-flask-f:before{content:"\\e931"}.eqf-flask-l:before{content:"\\e932"}.eqf-fontmall:before{content:"\\e933"}.eqf-human-female:before{content:"\\e934"}.eqf-human-male:before{content:"\\e935"}.eqf-image-f:before{content:"\\e936"}.eqf-image-l:before{content:"\\e937"}.eqf-key:before{content:"\\e938"}.eqf-left:before{content:"\\e939"}.eqf-linkline:before{content:"\\e93a"}.eqf-menu-down:before{content:"\\e93b"}.eqf-menu-left:before{content:"\\e93c"}.eqf-menu-right:before{content:"\\e93d"}.eqf-menu-up:before{content:"\\e93e"}.eqf-messagecheck:before{content:"\\e93f"}.eqf-movieend:before{content:"\\e940"}.eqf-picinpic:before{content:"\\e941"}.eqf-right:before{content:"\\e942"}.eqf-sale-f:before{content:"\\e943"}.eqf-sale-l:before{content:"\\e944"}.eqf-tencentexp:before{content:"\\e945"}.eqf-tiphot:before{content:"\\e946"}.eqf-tipnew:before{content:"\\e947"}.eqf-tipvip:before{content:"\\e948"}.eqf-up:before{content:"\\e949"}.eqf-userface-sl:before{content:"\\e94a"}.eqf-a:before{content:"\\e94b"}.eqf-address-f:before{content:"\\e94c"}.eqf-address-l:before{content:"\\e94d"}.eqf-alert-f:before{content:"\\e94e"}.eqf-alert-l:before{content:"\\e94f"}.eqf-align-center:before{content:"\\e950"}.eqf-align-justify:before{content:"\\e951"}.eqf-align-left:before{content:"\\e952"}.eqf-align-right:before{content:"\\e953"}.eqf-allsence:before{content:"\\e954"}.eqf-altimeter:before{content:"\\e955"}.eqf-android:before{content:"\\e956"}.eqf-animebefore:before{content:"\\e957"}.eqf-animedone:before{content:"\\e958"}.eqf-animework:before{content:"\\e959"}.eqf-apple:before{content:"\\e95a"}.eqf-apply-f:before{content:"\\e95b"}.eqf-apply-l:before{content:"\\e95c"}.eqf-AR:before{content:"\\e95d"}.eqf-arrow-down:before{content:"\\e95e"}.eqf-arrow-left:before{content:"\\e95f"}.eqf-arrow-right:before{content:"\\e960"}.eqf-arrow-up:before{content:"\\e961"}.eqf-assembly-f:before{content:"\\e962"}.eqf-assembly-l:before{content:"\\e963"}.eqf-b:before{content:"\\e964"}.eqf-back:before{content:"\\e965"}.eqf-background-f:before{content:"\\e966"}.eqf-background-l:before{content:"\\e967"}.eqf-bag-f:before{content:"\\e968"}.eqf-bankcard-f:before{content:"\\e969"}.eqf-bankcard-l:before{content:"\\e96a"}.eqf-barrage-f:before{content:"\\e96b"}.eqf-barrage-l:before{content:"\\e96c"}.eqf-bell-f:before{content:"\\e96d"}.eqf-bell-l:before{content:"\\e96e"}.eqf-bigger:before{content:"\\e96f"}.eqf-bookmark-f:before{content:"\\e970"}.eqf-bookmark-l:before{content:"\\e971"}.eqf-box-f:before{content:"\\e972"}.eqf-box-l:before{content:"\\e973"}.eqf-briefcase-f:before{content:"\\e974"}.eqf-briefcase-l:before{content:"\\e975"}.eqf-brush:before{content:"\\e976"}.eqf-cai-f:before{content:"\\e977"}.eqf-cai-l:before{content:"\\e978"}.eqf-cake:before{content:"\\e979"}.eqf-calendar-f:before{content:"\\e97a"}.eqf-calendar-l:before{content:"\\e97b"}.eqf-camera-f:before{content:"\\e97c"}.eqf-camera-l:before{content:"\\e97d"}.eqf-chart-areaspline:before{content:"\\e97e"}.eqf-chart-bar:before{content:"\\e97f"}.eqf-chart-line:before{content:"\\e980"}.eqf-chart-waveline:before{content:"\\e981"}.eqf-check-f:before{content:"\\e982"}.eqf-check-l:before{content:"\\e983"}.eqf-checkbox-f:before{content:"\\e984"}.eqf-checkbox-l:before{content:"\\e985"}.eqf-chuizhijunfen:before{content:"\\e986"}.eqf-clear-f:before{content:"\\e987"}.eqf-clear-l:before{content:"\\e988"}.eqf-clock-f:before{content:"\\e989"}.eqf-clock-l:before{content:"\\e98a"}.eqf-cloud-f:before{content:"\\e98b"}.eqf-cloud-l:before{content:"\\e98c"}.eqf-clouddownload-f:before{content:"\\e98d"}.eqf-clouddownload-l:before{content:"\\e98e"}.eqf-cloudupload-f:before{content:"\\e98f"}.eqf-cloudupload-l:before{content:"\\e990"}.eqf-coding:before{content:"\\e991"}.eqf-comment-f:before{content:"\\e992"}.eqf-comment-l:before{content:"\\e993"}.eqf-copy-f:before{content:"\\e994"}.eqf-copy-l:before{content:"\\e995"}.eqf-coupon-f:before{content:"\\e996"}.eqf-coupon-l:before{content:"\\e997"}.eqf-crown:before{content:"\\e998"}.eqf-cut:before{content:"\\e999"}.eqf-cutpic:before{content:"\\e99a"}.eqf-data-f:before{content:"\\e99b"}.eqf-data-l:before{content:"\\e99c"}.eqf-delete-f:before{content:"\\e99d"}.eqf-delete-l:before{content:"\\e99e"}.eqf-diamond-f:before{content:"\\e99f"}.eqf-diamond-l:before{content:"\\e9a0"}.eqf-down-f:before{content:"\\e9a1"}.eqf-down-l:before{content:"\\e9a2"}.eqf-download:before{content:"\\e9a3"}.eqf-dynamic-f:before{content:"\\e9a4"}.eqf-dynamic-l:before{content:"\\e9a5"}.eqf-earth:before{content:"\\e9a6"}.eqf-empty-f:before{content:"\\e9a7"}.eqf-empty-l:before{content:"\\e9a8"}.eqf-eraser-f:before{content:"\\e9ac"}.eqf-eraser-l:before{content:"\\e9ad"}.eqf-external-r:before{content:"\\e9ae"}.eqf-feedback-f:before{content:"\\e9af"}.eqf-feedback-l:before{content:"\\e9b0"}.eqf-female:before{content:"\\e9b1"}.eqf-festival-f:before{content:"\\e9b2"}.eqf-festival-l:before{content:"\\e9b3"}.eqf-file-f:before{content:"\\e9b4"}.eqf-file-l:before{content:"\\e9b5"}.eqf-financial-f:before{content:"\\e9b7"}.eqf-financial-l:before{content:"\\e9b8"}.eqf-fingermap:before{content:"\\e9b9"}.eqf-flag-f:before{content:"\\e9ba"}.eqf-flag-l:before{content:"\\e9bb"}.eqf-flip:before{content:"\\e9bc"}.eqf-flower:before{content:"\\e9bd"}.eqf-follow-f:before{content:"\\e9be"}.eqf-follow-l:before{content:"\\e9bf"}.eqf-fontway:before{content:"\\e9c0"}.eqf-form:before{content:"\\e9c1"}.eqf-friend:before{content:"\\e9c2"}.eqf-functioncase-f:before{content:"\\e9c3"}.eqf-functioncase-l:before{content:"\\e9c4"}.eqf-goodsnew-f:before{content:"\\e9c7"}.eqf-goodsnew-l:before{content:"\\e9c8"}.eqf-happy-f:before{content:"\\e9c9"}.eqf-happy-l:before{content:"\\e9ca"}.eqf-heart-f:before{content:"\\e9cb"}.eqf-heart-l:before{content:"\\e9cc"}.eqf-hidden-f:before{content:"\\e9cd"}.eqf-hidden-l:before{content:"\\e9ce"}.eqf-home-f:before{content:"\\e9cf"}.eqf-home-l:before{content:"\\e9d0"}.eqf-hot-f:before{content:"\\e9d1"}.eqf-hot-l:before{content:"\\e9d2"}.eqf-html5:before{content:"\\e9d3"}.eqf-i:before{content:"\\e9d4"}.eqf-idcard-l:before{content:"\\e9d5"}.eqf-idcrad-f:before{content:"\\e9d6"}.eqf-info-f:before{content:"\\e9d7"}.eqf-info-l:before{content:"\\e9d8"}.eqf-integral-f:before{content:"\\e9d9"}.eqf-integral-l:before{content:"\\e9da"}.eqf-interactive-f:before{content:"\\e9db"}.eqf-interactive-l:before{content:"\\e9dc"}.eqf-keybroad:before{content:"\\e9dd"}.eqf-layers-f:before{content:"\\e9de"}.eqf-layers-l:before{content:"\\e9df"}.eqf-layout-f:before{content:"\\e9e0"}.eqf-layout-l:before{content:"\\e9e1"}.eqf-left-f:before{content:"\\e9e2"}.eqf-left-l:before{content:"\\e9e3"}.eqf-linehigh:before{content:"\\e9e4"}.eqf-lineshort:before{content:"\\e9e5"}.eqf-link:before{content:"\\e9e6"}.eqf-linkoff:before{content:"\\e9e7"}.eqf-live-f:before{content:"\\e9e8"}.eqf-live-l:before{content:"\\e9e9"}.eqf-loading:before{content:"\\e9ea"}.eqf-lock-f:before{content:"\\e9eb"}.eqf-lock-l:before{content:"\\e9ec"}.eqf-magic:before{content:"\\e9ed"}.eqf-mail-f:before{content:"\\e9ee"}.eqf-mail-l:before{content:"\\e9ef"}.eqf-mall-f:before{content:"\\e9f0"}.eqf-man:before{content:"\\e9f1"}.eqf-map-f:before{content:"\\e9f2"}.eqf-map-l:before{content:"\\e9f3"}.eqf-mark:before{content:"\\e9f4"}.eqf-menu-l:before{content:"\\e9f5"}.eqf-menu-p:before{content:"\\e9f6"}.eqf-menu-pl:before{content:"\\e9f7"}.eqf-mic-f:before{content:"\\e9f8"}.eqf-mic-l:before{content:"\\e9f9"}.eqf-minus-f:before{content:"\\e9fa"}.eqf-minus-l:before{content:"\\e9fb"}.eqf-minus-sf:before{content:"\\e9fc"}.eqf-minus-sl:before{content:"\\e9fd"}.eqf-minus:before{content:"\\e9fe"}.eqf-moon-f:before{content:"\\e9ff"}.eqf-moon-l:before{content:"\\ea00"}.eqf-moreform:before{content:"\\ea01"}.eqf-music-f:before{content:"\\ea02"}.eqf-music-l:before{content:"\\ea03"}.eqf-net:before{content:"\\ea04"}.eqf-new-f:before{content:"\\ea05"}.eqf-new-l:before{content:"\\ea06"}.eqf-news:before{content:"\\ea07"}.eqf-no-f:before{content:"\\ea08"}.eqf-no-l:before{content:"\\ea09"}.eqf-no-sf:before{content:"\\ea0a"}.eqf-no-sl:before{content:"\\ea0b"}.eqf-no:before{content:"\\ea0c"}.eqf-normal-f:before{content:"\\ea0d"}.eqf-normal-l:before{content:"\\ea0e"}.eqf-onground:before{content:"\\ea0f"}.eqf-ontop:before{content:"\\ea10"}.eqf-pad-f:before{content:"\\ea11"}.eqf-pad-l:before{content:"\\ea12"}.eqf-palette-f:before{content:"\\ea13"}.eqf-palette-l:before{content:"\\ea14"}.eqf-part-f:before{content:"\\ea15"}.eqf-part-l:before{content:"\\ea16"}.eqf-pause-f:before{content:"\\ea17"}.eqf-pause-l:before{content:"\\ea18"}.eqf-pause:before{content:"\\ea19"}.eqf-pay:before{content:"\\ea1a"}.eqf-pc-f:before{content:"\\ea1b"}.eqf-pc-l:before{content:"\\ea1c"}.eqf-pen-f:before{content:"\\ea1d"}.eqf-pen-l:before{content:"\\ea1e"}.eqf-phone-f:before{content:"\\ea1f"}.eqf-phone-l:before{content:"\\ea20"}.eqf-photowall-f:before{content:"\\ea21"}.eqf-photowall-l:before{content:"\\ea22"}.eqf-pie-f:before{content:"\\ea23"}.eqf-pie-l:before{content:"\\ea24"}.eqf-play-f:before{content:"\\ea25"}.eqf-play-l:before{content:"\\ea26"}.eqf-play:before{content:"\\ea27"}.eqf-playbefore:before{content:"\\ea28"}.eqf-playdone:before{content:"\\ea29"}.eqf-playing:before{content:"\\ea2a"}.eqf-plus-f:before{content:"\\ea2b"}.eqf-plus-l:before{content:"\\ea2c"}.eqf-plus-sf:before{content:"\\ea2d"}.eqf-plus-sl:before{content:"\\ea2e"}.eqf-plus:before{content:"\\ea2f"}.eqf-pocket-f:before{content:"\\ea30"}.eqf-pocket-l:before{content:"\\ea31"}.eqf-power-f:before{content:"\\ea32"}.eqf-power-l:before{content:"\\ea33"}.eqf-ppt-f:before{content:"\\ea34"}.eqf-ppt-l:before{content:"\\ea35"}.eqf-print-f:before{content:"\\ea36"}.eqf-print-l:before{content:"\\ea37"}.eqf-printer-f:before{content:"\\ea38"}.eqf-printer-l:before{content:"\\ea39"}.eqf-ps-f:before{content:"\\ea3a"}.eqf-ps-l:before{content:"\\ea3b"}.eqf-ps:before{content:"\\ea3c"}.eqf-putcenter:before{content:"\\ea3d"}.eqf-putdown:before{content:"\\ea3e"}.eqf-putleft:before{content:"\\ea3f"}.eqf-putmiddle:before{content:"\\ea40"}.eqf-putright:before{content:"\\ea41"}.eqf-puttop:before{content:"\\ea42"}.eqf-putunder:before{content:"\\ea43"}.eqf-putup:before{content:"\\ea44"}.eqf-QQ:before{content:"\\ea45"}.eqf-QQzone:before{content:"\\ea46"}.eqf-QRcode:before{content:"\\ea47"}.eqf-recycle-f:before{content:"\\ea48"}.eqf-recycle-l:before{content:"\\ea49"}.eqf-redpacket-f:before{content:"\\ea4a"}.eqf-redpacket-l:before{content:"\\ea4b"}.eqf-refresh-ccw:before{content:"\\ea4c"}.eqf-refresh-cw:before{content:"\\ea4d"}.eqf-responsive:before{content:"\\ea4e"}.eqf-rework:before{content:"\\ea4f"}.eqf-right-f:before{content:"\\ea50"}.eqf-right-l:before{content:"\\ea51"}.eqf-rotate-ccw:before{content:"\\ea52"}.eqf-rotate-cw:before{content:"\\ea53"}.eqf-sad-f:before{content:"\\ea54"}.eqf-sad-l:before{content:"\\ea55"}.eqf-safe-f:before{content:"\\ea56"}.eqf-safe-l:before{content:"\\ea57"}.eqf-safemoney-f:before{content:"\\ea58"}.eqf-safemoney-l:before{content:"\\ea59"}.eqf-save-f:before{content:"\\ea5a"}.eqf-save-l:before{content:"\\ea5b"}.eqf-school:before{content:"\\ea5c"}.eqf-search-f:before{content:"\\ea5d"}.eqf-search-l:before{content:"\\ea5e"}.eqf-send-f:before{content:"\\ea5f"}.eqf-send-l:before{content:"\\ea60"}.eqf-shank:before{content:"\\ea61"}.eqf-shape-f:before{content:"\\ea62"}.eqf-shape-l:before{content:"\\ea63"}.eqf-share-f:before{content:"\\ea64"}.eqf-share-l:before{content:"\\ea65"}.eqf-shopping-f:before{content:"\\ea66"}.eqf-shopping-l:before{content:"\\ea67"}.eqf-shuipingjunfen:before{content:"\\ea68"}.eqf-slash-f:before{content:"\\ea69"}.eqf-slash-l:before{content:"\\ea6a"}.eqf-smaller:before{content:"\\ea6b"}.eqf-specialsence-f:before{content:"\\ea6c"}.eqf-specialsence-l:before{content:"\\ea6d"}.eqf-sponsor-f:before{content:"\\ea6e"}.eqf-sponsor-l:before{content:"\\ea6f"}.eqf-star-f:before{content:"\\ea70"}.eqf-star-l:before{content:"\\ea71"}.eqf-stop-f:before{content:"\\ea72"}.eqf-stop-l:before{content:"\\ea73"}.eqf-stop:before{content:"\\ea74"}.eqf-sun-f:before{content:"\\ea75"}.eqf-sun-l:before{content:"\\ea76"}.eqf-t:before{content:"\\ea78"}.eqf-tag-f:before{content:"\\ea79"}.eqf-tag-l:before{content:"\\ea7a"}.eqf-talkvideo-f:before{content:"\\ea7b"}.eqf-talkvideo-l:before{content:"\\ea7c"}.eqf-tea-f:before{content:"\\ea7d"}.eqf-tea-l:before{content:"\\ea7e"}.eqf-telephone-f:before{content:"\\ea7f"}.eqf-telephone-l:before{content:"\\ea80"}.eqf-tie:before{content:"\\ea81"}.eqf-timer-f:before{content:"\\ea82"}.eqf-timer-l:before{content:"\\ea83"}.eqf-tipshot:before{content:"\\ea84"}.eqf-tipsnew:before{content:"\\ea85"}.eqf-tipsvip:before{content:"\\ea86"}.eqf-touch-f:before{content:"\\ea87"}.eqf-touch-l:before{content:"\\ea88"}.eqf-tune-vertical:before{content:"\\ea89"}.eqf-tune:before{content:"\\ea8a"}.eqf-unlock-f:before{content:"\\ea8c"}.eqf-unlock-l:before{content:"\\ea8d"}.eqf-up-f:before{content:"\\ea8e"}.eqf-up-l:before{content:"\\ea8f"}.eqf-upload:before{content:"\\ea90"}.eqf-user-f:before{content:"\\ea91"}.eqf-user-l:before{content:"\\ea92"}.eqf-userface-f:before{content:"\\ea93"}.eqf-userface-l:before{content:"\\ea94"}.eqf-vector-point:before{content:"\\ea95"}.eqf-video-f:before{content:"\\ea96"}.eqf-video-l:before{content:"\\ea97"}.eqf-videocorder-f:before{content:"\\ea98"}.eqf-videocorder-l:before{content:"\\ea99"}.eqf-vip-f:before{content:"\\ea9a"}.eqf-vip-l:before{content:"\\ea9b"}.eqf-vipdiamond-f:before{content:"\\ea9c"}.eqf-vipdiamond-l:before{content:"\\ea9d"}.eqf-volume-high:before{content:"\\ea9e"}.eqf-volume-low:before{content:"\\ea9f"}.eqf-volume-medium:before{content:"\\eaa0"}.eqf-volume-off:before{content:"\\eaa1"}.eqf-vote-f:before{content:"\\eaa2"}.eqf-vote-l:before{content:"\\eaa3"}.eqf-VR:before{content:"\\eaa4"}.eqf-wallet-f:before{content:"\\eaa5"}.eqf-wallet-l:before{content:"\\eaa6"}.eqf-wechat:before{content:"\\eaa7"}.eqf-weibo:before{content:"\\eaa8"}.eqf-why-l:before{content:"\\eaa9"}.eqf-why-l:before{content:"\\eaaa"}.eqf-widgets-f:before{content:"\\eaab"}.eqf-widgets-l:before{content:"\\eaac"}.eqf-wifi:before{content:"\\eaad"}.eqf-writerin-f:before{content:"\\eaae"}.eqf-writerin-l:before{content:"\\eaaf"}.eqf-xiudian-f:before{content:"\\eab0"}.eqf-xiudian-l:before{content:"\\eab1"}.eqf-xiuke:before{content:"\\eab2"}.eqf-yes-f:before{content:"\\eab3"}.eqf-yes-l:before{content:"\\eab4"}.eqf-yes-sf:before{content:"\\eab5"}.eqf-yes-sl:before{content:"\\eab6"}.eqf-yes:before{content:"\\eab7"}.eqf-zan-f:before{content:"\\eab8"}.eqf-zan-l:before{content:"\\eab9"}.eqf-zap-f:before{content:"\\eaba"}.eqf-zap-l:before{content:"\\eabb"}.eqf-zhifubao:before{content:"\\eabc"}.eqf-zoom-in:before{content:"\\eabd"}.eqf-zoom-out:before{content:"\\eabe"}\n'.replace(/[\n\r\f\t\v]/g,"")},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(){var e={id:0,name:"未分组"},t={name:"全部"},n=function(){function n(e){var t,o,i,a,s,c,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.compJson=e,null!=e&&null!==(t=e.properties)&&void 0!==t&&null!==(o=t.formRelevant)&&void 0!==o&&null!==(i=o.voteSettings)&&void 0!==i&&i.groupsList||(e.properties.formRelevant.voteSettings.groupsList=[]),null!=e&&null!==(a=e.properties)&&void 0!==a&&null!==(s=a.formRelevant)&&void 0!==s&&null!==(c=s.voteSettings)&&void 0!==c&&c.groupSerialNo||(e.properties.formRelevant.voteSettings.groupSerialNo=0),u=e.properties.formRelevant.voteSettings.groupSerialNo,this.list=e.properties.formRelevant.voteSettings.groupsList,this.showList=r(this.list),this.showRankList=r(this.list),this.showOptionList=[],this.optionList=e.properties.formRelevant.voteSettings.list,this.checkUnGroup(),this.ifShowRankAll(e.properties.formRelevant.voteSettings.rankShowAll),this.ifShowAll(e.properties.formRelevant.voteSettings.showAll),this.current=this.showList.length?this.showList[0].id:void 0,this.serialNo=Math.max.apply(Math,r(this.list.map((function(e){return e.id}))).concat([u])),this.list.forEach((function(e){e.name=e.name.replace(/\&lt;/g,"<").replace(/\&gt;/g,">")}))}var o,a,s;return o=n,(a=[{key:"updateGroupSerialNo",value:function(e){this.compJson.properties.formRelevant.voteSettings.groupSerialNo=e}},{key:"updateShowList",value:function(){var e;this.showList.splice(0),(e=this.showList).push.apply(e,r(this.list)),this.checkUnGroup(),this.ifShowAll(this.compJson.properties.formRelevant.voteSettings.showAll)}},{key:"saveShowListChange",value:function(){var e,t=this.showList.filter((function(e){return!!e.id}));this.list.splice(0),(e=this.list).push.apply(e,r(t))}},{key:"addGroup",value:function(e){var t=this.list.filter((function(e){return e.id})).length,n=!this.showList.length;if(e&&!(t>=50)){var r={name:e,id:++this.serialNo};return this.updateGroupSerialNo(this.serialNo),this.list.push(r),this.showList.push(r),this.checkUnGroup(),void 0===this.current&&n&&this.select(this.showList[0].id),r}}},{key:"modifyGroupName",value:function(e,t){var n=this.list.findIndex((function(t){return t.id===e})),r=this.showList.findIndex((function(t){return t.id===e}));-1!==n&&(this.list[n].name=t,this.showList[r].name=t)}},{key:"delGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.list.findIndex((function(t){return t.id===e})),r=this.showList.findIndex((function(t){return t.id===e}));if(-1!==n&&(this.list.splice(n,1),this.showList.splice(r,1),e!=this.current||this.showList.length?e==this.current&&this.showList[n]?this.current=this.showList[n].id:e==this.current&&this.showList[n-1]&&(this.current=this.showList[n-1].id):this.current=void 0,this.optionList&&this.optionList.length)){for(var o=this.optionList.length-1;o>=0;o--)this.optionList[o].groupId===e&&(-1==t?this.optionList.splice(o,1):this.optionList[o].groupId=t);this.checkUnGroup(),this.checkAllGroup()}}},{key:"isEmpty",value:function(e){return!this.optionList.find((function(t){return t.groupId==e}))}},{key:"select",value:function(e){this.current=e}},{key:"ifShowAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.showList.length&&this.showList.find((function(e){return e.id===t.id}));e&&!n?this.showList.unshift(t):n&&!e&&this.showList.shift(),void 0===this.current&&(this.current=this.showList.length?this.showList[0].id:void 0)}},{key:"ifShowRankAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.showRankList.length&&this.showRankList.find((function(e){return e.id===t.id}));e&&!n?this.showRankList.unshift(t):n&&!e&&this.showRankList.shift()}},{key:"checkUnGroup",value:function(){var n=!this.showList.find((function(t){return t.id===e.id})),r=this.showList.length&&this.showList.find((function(e){return e.id===t.id})),o=this.hasGroups(),i=this.hasNoGroupOption();if(o&&i&&n)r?(this.showList.splice(1,0,e),this.showRankList.splice(1,0,e)):(this.showList.unshift(e),this.showRankList.unshift(e));else if(!(o&&i||n)){var a=this.showList.findIndex((function(t){return t.id===e.id}));this.showList.splice(a,1),this.current===e.id&&this.select(this.showList[0]?this.showList[0].id:void 0)}}},{key:"checkAllGroup",value:function(){1===this.showList.length&&this.showList.find((function(e){return e.id===t.id}))&&this.ifShowAll(!1)}},{key:"checkRankUnGroup",value:function(){var n=!this.showRankList.find((function(t){return t.id===e.id})),r=this.showRankList.length&&this.showRankList.find((function(e){return e.id===t.id})),o=this.hasGroups(),i=this.hasNoGroupOption();if(o&&i&&n)r?this.showRankList.splice(1,0,e):this.showRankList.unshift(e);else if(!(o&&i||n)){var a=this.showRankList.findIndex((function(t){return t.id===e.id}));this.showRankList.splice(a,1)}}},{key:"hasNoGroupOption",value:function(){return!!this.optionList.find((function(e){return!e.groupId}))}},{key:"hasGroups",value:function(){return!!this.list.length}},{key:"getCurrentList",value:function(){var e,t,n=this;return this.showOptionList.splice(0),t=this.current||0===this.current?0===this.current?this.optionList.filter((function(e){return!e.groupId})):this.optionList.filter((function(e){return e.groupId===n.current})):r(this.optionList),(e=this.showOptionList).push.apply(e,r(t)),t}},{key:"hasGroup",value:function(e){return!!this.showList.find((function(t){return t.id===e}))}},{key:"isEmptyGroup",value:function(e){return!this.optionList.filter((function(t){return t.groupId===e})).length}}])&&i(o.prototype,a),s&&i(o,s),n}();return{createListManager:function(e){return new n(e)}}}},function(e,t,n){"use strict";e.exports=function(){var e=document.createElement("span");return e.style.opacity=0,document.body.appendChild(e),{wordsLengthCalc:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"12px";e.style.fontSize=o,e.style.position="absolute",e.style.top="0",e.style.left="0",e.textContent=t;var i=parseFloat(window.getComputedStyle(e).width);return i<n?n:i>r?r:i}}}},function(e,t,n){"use strict";var r=n(588);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(132),a=n(133),s=(n(134),n(100).FtEditableProps),c=n(589),u=(n(34).t,function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxLayer=null,this.parent=null,this.group=null,this.eventMap={},this.FtEditableProps=s,this.innerNotHeight=!1}var t,n,u;return t=e,u=[{key:"findTopItems",value:function(e){var t=[];return e.forEach((function(e){var n=e.findTopGroup();t.includes(n)||t.push(n)})),t}},{key:"calItemsBoundingRect",value:function(e){for(var t=e[0],n=t.getBoundingRect(),r=n.width,o=n.height,i=n.left,a=n.top,s=1;s<e.length;s++){var c=(t=e[s]).getBoundingRect();c.left<i&&(r+=i-c.left,i=c.left),c.top<a&&(o+=a-c.top,a=c.top),r=Math.max(c.left+c.width-i,r),o=Math.max(c.height+c.top-a,o)}return{width:r,height:o,left:i,top:a}}}],(n=[{key:"isOrphan",value:function(){return!this.eqxLayer||!this.eqxLayer.eqxItems.includes(this)}},{key:"ft",get:function(){return this._ft||(this._ft=new c(this)),this._ft}},{key:"triggerManager",get:function(){return this.eqxLayer.eqxPage.triggerManager}},{key:"ftManager",get:function(){return this.eqxLayer.eqxPage.ftManager}},{key:"isEditLocked",get:function(){},set:function(e){}},{key:"isBaseLayerElement",get:function(){return void 0===this._isBaseLayerElement&&this.isBaseLayerElements(),this._isBaseLayerElement}},{key:"isEditable",get:function(){return!0}},{key:"innerNotHeight",get:function(){return this._innerNotHeight},set:function(e){if(this._innerNotHeight=e,!this.$li||!this.$li.find(".element-box"))return e;var t=this.$li.find(".element-box");if(e){var n=this.compJson.css,r=n.height,o=n.paddingTop,i=void 0===o?0:o,a=n.paddingBottom,s=void 0===a?0:a;t.css({height:parseFloat(r)-parseFloat(s)-parseFloat(i)})}else t.css({height:"100%"})}},{key:"updateFromInnerHeight",value:function(){this.updatePageHeight()}},{key:"updatePageHeight",value:function(){this.findTopGroup()==this&&this.isBaseLayerElement&&this.eqxPage.EqxDragManager?this.eqxPage.reSetHeight():this.eqxPage.EqxFormRulesTrigger&&this.eqxPage.EqxFormRulesTrigger.updatePage()}},{key:"destroy",value:function(){this.eqxLayer=null,this.parent=null,this.group=null}},{key:"isDirectItem",value:function(){return this.eqxLayer.getDirectItems().includes(this)}},{key:"isEqxLayer",value:function(){return!1}},{key:"updateTop",value:function(e){this.updateCss({top:this.css.top+e}),this.autoSize()}},{key:"getFtEditableProps",value:function(){return[]}},{key:"getFtValue",value:function(e){return 0}},{key:"filterEditableProps",value:function(e){var t=this;return(e||this.getFtEditableProps()).filter((function(e){return t.isPropCanEdit(e)}))}},{key:"isPropCanEdit",value:function(){return!1}},{key:"toJson",value:function(){}},{key:"isFunTemplate",value:function(){return!1}},{key:"hasFtRules",value:function(){return this.eqxPage.ftManager.getEqxItemRelativeFtRules(this).length>0}},{key:"updateSize",value:function(){}},{key:"getRotate",value:function(){var e=this.getTransform();return i.parseTransform(e).rotate}},{key:"getTransform",value:function(){}},{key:"updateTransform",value:function(e){}},{key:"autoZIndex",value:function(){return this.$item&&this.$item.css({zIndex:this.getZIndex()}),this}},{key:"getZIndex",value:function(){}},{key:"onResizeStart",value:function(){return this.oldAbsolutePosition=this.getAbsolutePos(),this.oldAbsolutePosition}},{key:"onResize",value:function(){}},{key:"onResizeEnd",value:function(){this.oldAbsolutePosition=null}},{key:"onRotateStart",value:function(){return this.oldTransform=this.getTransform(),this.oldTransform}},{key:"onRotate",value:function(e,t){isNaN(e)||(e="rotateZ(".concat(e,"deg)")),this.oldTransform||this.onRotateStart(),this.updateTransform(e),this.autoSize(t)}},{key:"onRotateEnd",value:function(){this.oldTransform=null}},{key:"updateLeftTop",value:function(e,t){var n=this.oldPos,r={left:n.left+e,top:n.top+t};return this.isAbsolute||!this.isBaseLayerElement||this.group||(r={top:t}),this.updateCss(r),r}},{key:"onMoveBefore",value:function(){this.oldPos=JSON.parse(JSON.stringify(this.getAbsolutePos(!0)))}},{key:"isBaseLayerElements",value:function(){this._isBaseLayerElement=!this.compJson.properties.isOverlayElement}},{key:"canMove",value:function(){return!this.isEditLocked}},{key:"onMove",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if(this.canMove())if(this.oldPos||this.onMoveBefore(),this.isBaseLayerElement&&!r){e=0;var o=this.updateLeftTop(e,t);n&&this.autoSize(void 0,o)}else{var i=this.updateLeftTop(e,t);n&&this.autoSize(void 0,i)}}},{key:"onMoveEnd",value:function(e){if(this.oldPos=null,!e)for(var t=this.group;t;)!t.isAbsolute&&t.isBaseLayerElement||t.adjustPosition(),t=t.group}},{key:"moveToX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.moveTo(e,void 0,t)}},{key:"moveToY",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.moveTo(void 0,e,t)}},{key:"moveTo",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={};void 0!==e&&(r.left=e),void 0!==t&&(r.top=t),this.updateCss(r),n&&this.autoSize(r)}},{key:"instantMove",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;this.onMoveBefore(),this.onMove(e,t,n,r),this.onMoveEnd()}},{key:"instantRotate",value:function(e){this.onResizeStart(),this.onRotate(e),this.onRotateEnd()}},{key:"update$item",value:function(e){this.updateCss(e),this._updateSize(e)}},{key:"updateCss",value:function(){}},{key:"isSubItemOf",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.some((function(t){for(var n=e;n.group;){if(n.group===t)return!0;n=n.group}return!1}))}},{key:"findTopGroup",value:function(){for(var e=this;e.group;){if(e.id===e.group.id)return e;e=e.group}return e}},{key:"findFirstTopGroup",value:function(){return this.group}},{key:"autoSizeTopDown",value:function(e,t){this._updateSize(t),this.fire("autoSizeTopDown.after")}},{key:"_updateSize",value:function(e){var t=this;return this.$item?(e||this.isAbsolute||!this.isBaseLayerElement||this.group?e||((e=this.getAbsolutePos(!0)).bottom=void 0):((e=this.getAbsolutePos(!0)).top=0,e.bottom=void 0),this.isAbsolute||!this.isBaseLayerElement||this.isGroupItem()||delete e.height,this.$item.css(e),this.resizeBox&&setTimeout((function(){t.resizeBox&&t.resizeBox.autoSize()}),100),this):null}},{key:"getRelativePos",value:function(){var e=this.getAbsolutePos(!0),t=e.width,n=e.height,r=e.top,o=e.left,s=e.transform,c=this.group;if(c){var u=c.getAbsolutePos(),l=u.left,p=u.top,f=u.width,d=u.height,h=u.transform,m=i.parseTransform(h).rotate,v=i.parseTransform(s).rotate;if(m){var g=new a(l,p,f,d).center(),y=new a(o,r,t,n),b=y.center(),x=b.pointRotate2Point(g,-m),w=x.x-b.x,S=x.y-b.y;y.move(w,S),o=y.p1.x,r=y.p1.y}o-=l,r-=p,s="rotate(".concat(v,"deg)")}return!this.isBaseLayerElement||this.group||this.isAbsolute||(this._moving?r-=this._moving:void 0===this._moving&&(r=0,this.isGroupItem()||(n="auto"))),{width:t,height:n,top:r,left:o,transform:s}}},{key:"updateMarker",value:function(){if(!this.$marker){var e=-25,t=-20;this.isGroupItem()&&(e=-40,t=-30),this.$marker=$('<div class="item-marker"></div>').css({width:70,fontSize:11,position:"absolute",top:t,left:e,background:"yellow"}),this.$item.append(this.$marker)}var n=this.getAbsolutePos(),r=(/\d+/.exec(this.getTransform())||[])[0]||0;this.$marker.html("(".concat(parseInt(n.left),",").concat(parseInt(n.top),") ").concat(r,"°<br>w").concat(parseInt(n.width)," h").concat(parseInt(n.height)))}},{key:"getBoundingRect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getAbsolutePos(!0),r=n.width,o=n.height,s=n.top,c=n.left,u=n.transform;e&&this.$li&&(t||0==this.$li.parents(":hidden").length)&&this.$li.parents("body").length&&this.$li.outerHeight()&&(o=this.$li.outerHeight(),r=this.$li.outerWidth(),this.eqxLayer.$ul&&(s=this.$li.offset().top-this.eqxLayer.$ul.offset().top));var l=i.parseTransform(u).rotate,p=!this.isGroupItem()&&this.compJson.properties.tempScale||1;return new a(c,s,r*p,o*p).rotate(l).getBoundingRect()}},{key:"autoSize",value:function(e,t){this._updateSize(t)}},{key:"on",value:function(e,t){return this.eventMap[e]?this.eventMap[e].push(t):this.eventMap[e]=[t],this}},{key:"off",value:function(e){if("string"==typeof e)this.eventMap[e].length=[];else for(var t=Object.values(this.eventMap),n=0;n<t.length;n++){var r=t[n],o=r.indexOf(e);o>-1&&r.splice(o,1)}return this}},{key:"fire",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.eventMap[e]||[]).forEach((function(e){return e.apply(void 0,n)}))}},{key:"isSiblingOf",value:function(e){return this.parent&&e.parent&&this.parent===e.parent}},{key:"sameLayer",value:function(e){return this.eqxLayer===e.eqxLayer}},{key:"containsPoint",value:function(e,t){var n=this.getRealPos(),o=this.getFullRotate(),i={top:n.top,left:n.left},a=this.getAbsolutePos(!0),s=a.width,c=a.height,u=(0,r.getVectors)(s,c,i,o);return(0,r.inside)([e,t],u)}},{key:"getFullRotate",value:function(){for(var e=this.getRotate(),t=this.group;t;)e+=t.getRotate(),t=t.group;return e}},{key:"centerInRect",value:function(e){var t=this.getAbsolutePos(!1),n=t.left+t.width/2,r=t.top+t.height/2,o=e.p1;return n>o.x&&n<o.x+e.width&&r>o.y&&r<o.y+e.height}},{key:"getRealPos",value:function(){}},{key:"getAbsolutePos",value:function(){}},{key:"isGroupItem",value:function(){}},{key:"scrollIntoView",value:function(){var e=this.$li&&this.$li[0];e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView&&e.scrollIntoView())}},{key:"setTopIndex",value:function(){}},{key:"addMoveClass",value:function(){this.$li&&this.$li.addClass("autoMove")}},{key:"addCurClass",value:function(){this.$li&&this.$li.addClass("cur")}},{key:"removeDragClass",value:function(){this.$li&&this.$li.removeClass("cur")}},{key:"removeAutoClass",value:function(){this.$li&&this.$li.removeClass("autoMove")}},{key:"getArrIndex",value:function(){var e=this.compJson.arrIndex;return void 0===e&&this.isBaseLayerElement&&(e=this.css.top),e||this.getZIndex()}},{key:"setArrIndex",value:function(e){this.compJson.arrIndex=e,this.$li&&this.$li.data("arrIndex",e)}},{key:"findRelativedItem",value:function(){if(this.compJson.properties.lock)this.compJson.properties.relativeItem&&delete this.compJson.properties.relativeItem;else{for(var e,t=this.eqxLayer._getCompsFromTree(this.eqxPage.baseElementQueue,!0),n=this.getBoundingRect(),r=n.center(),o=t.length,i=0;i<=o-1;){var a=t[i],s=a.getBoundingRect(),c=s.center();if(Math.abs(c.y-r.y)<(s.height+n.height)/2&&Math.abs(c.x-r.x)<(s.width+n.width)/2){e=!0;var u=a.compJson.css,l=u.top,p=u.height,f=(parseFloat(this.compJson.css.top)-parseFloat(l))/parseFloat(p);return void(this.compJson.properties.relativeItem={id:a.id,diff:f,type:"percent"})}i++}!e&&delete this.compJson.properties.relativeItem}}},{key:"getRotateDiff",value:function(){var e=this.getAbsolutePos(),t=e.top,n=e.left,r=e.width,o=e.transform,s=e.height,c=i.parseTransform(o).rotate,u=new a(n,t,r,s).rotate(c);return u.minY=Math.min(u.p1.y,u.p2.y),t-u.minY}},{key:"isOuterPageRect",value:function(){if("pc"!=this.eqxPage.editMode){var e=this.getBoundingRect(),t=e.bottom,n=(e.height,this.eqxPage.pageJson.properties.longPage);if(t>n){var r=t-n;this.compJson.properties.extraHeight=r}else delete this.compJson.properties.extraHeight}}},{key:"getExtraHeight",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null!==(e=t&&this.totalDiffHeight)&&void 0!==e?e:0;return Math.max(this.compJson.properties.extraHeight+n,0)||0}},{key:"getArrangeOpt",value:function(){var e=this.compJson,t=e.css,n=e.properties.arrangeOpts;return n||(e.properties.arrangeOpts=n={}),{css:t,arrangeOpt:n,scale:this.compJson.properties.arrangeImageScale||100}}},{key:"isHasTrigger",value:function(){return this.triggerManager.isHasEqxTrigger(this)}},{key:"isVoteSignUp",value:function(){var e=!1;try{e=this.compJson.properties.onVotingSignUp}catch(e){console.log(e)}return e}},{key:"addTriggerTag",value:function(){if(!this.$tagContainer){var e=this.getZIndex();this.$tagContainer=$('\n            <div style="position: absolute;top:0;right: 0;z-index: '.concat(e,'" class="item-trigger-tag-container">\n                <div style="width: 20px;height: 20px;background-color: #1261ff;text-align: center;line-height: 20px;font-size:12px;" class="item-trigger-tag-wraper">\n                    <em style="font-size: 12px;color: #FFFFFF" class="eqf-link"></em>\n                </div>\n            </div>\n        ')),(this.$li||this.$group).append(this.$tagContainer)}}},{key:"removeTriggerTag",value:function(){this.$tagContainer&&(this.$tagContainer.remove(),this.$tagContainer=null)}},{key:"updateItemSizeByPage",value:function(e,t){var n=this.compJson.css,r=this.olutePos(),o=t/e,i={};this.$ability.freezeAttrs&&this.$ability.freezeAttrs.forEach((function(e){delete r[e]})),delete r.transform;var a=this.compJson.css,s=a.paddingLeft,c=a.paddingRight;if(r.paddingLeft=s,r.paddingRight=c,Object.keys(r).forEach((function(e){n[e]&&(i[e]=parseFloat(r[e])*o)})),!this.isBaseLayerElement){var u=this.compJson.properties.relativeItem;if(u){var l=this.eqxPage.getEqxCompById(u.id);if(l){var p=l.compJson.css,f=p.top,d=p.height,h=u.diff,m=0;m=u.type?d*h+f:f+h*o,i.top=m}}}this.findTopGroup()===this?this.update$li(i):this.updateCss(i)}}])&&o(t.prototype,n),u&&o(t,u),e}());e.exports=u},function(e,t,n){"use strict";var r=n(186).toInt,o=n(101).arc2deg,i=n(101).deg2arc,a=/rgba\([^)]*\)/,s={direction:"",size:"",blur:"",color:""};e.exports={parseBoxShadow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px 0px 0px rgba(0,0,0,0.5)",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i="",c=(e=e.replace(a,(function(e){return i=e,""}))).trim().split(" "),u=parseFloat(c[0]),l=parseFloat(c[1]),p=o(Math.atan(l/u))||0;return u<0&&(p+=180),u>0&&l<0&&(p=360+p),p=(p+270)%360,n&&(p=n),s.direction=r(p),s.size=r(t||Math.hypot(u,l)),s.blur=r(c[2]),s.color=i,s},getBoxShadowStr:function(e){var t=(e.direction+90)%360,n=r(e.size*Math.cos(i(t))),o=r(e.size*Math.sin(i(t)));return"".concat(n,"px ").concat(o,"px ").concat(e.blur,"px ").concat(e.color)}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1),i={stretch:0,round:1,repeat:2},a={leftTop:0,rightTop:1,rightBottom:2,leftBottom:3},s=function(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})},c=new Map;var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.css={border:"none",borderImage:"none"},t||(t={}),this.props=t,this.$ImgWarp=$("<div></div>"),this.$background=$('<div  class="border-background"></div>'),t&&(this.css=e.convert(t))}var t,n,u;return t=e,u=[{key:"convert",value:function(e){if(c.has(e))return c.get(e);var t=e.borderSource,n=e.borderSlice,r=e.borderWidth,a=e.borderRepeat,u=e.lowerColor;if(!t||!n||!r)return"";s(i);var l=a,p=r.map(parseFloat),f={borderWidth:"".concat(p.join("px "),"px"),borderStyle:"solid",borderColor:u,borderImage:"url(".concat(o.FILE+t,") ").concat(n.map(parseFloat).join("% "),"% / ").concat(p.join("px "),"px / 0 ").concat(l.join(" ")),borderImageWidth:"".concat(p.join("px "),"px")},d=document.createElement("div");Object.keys(f).forEach((function(e){d.style[e]=f[e],"borderImage"===e&&(d.style.webkitBorderImage=f[e])}));var h="borderImage-".concat(Math.random().toString(36).slice(-6));return function(e){var t=document.querySelector("style#borderImage"),n=null;t||((t=document.createElement("style")).id="borderImage",n=document.head||document.getElementsByTagName("head")[0],t.type="text/css",n.appendChild(t));var r=document.createTextNode(e);t.appendChild(r)}(".".concat(h,"{").concat(d.style.cssText,"}\n        .").concat(h," + .").concat(h," {\n            //  border-image-width: ").concat(p.map((function(e,t){return t?e:0})).join("px "),"px !important;\n        }\n        .").concat(h,">.border-imgs-warper{\n            width: calc(100% + ").concat(p[1]+p[3],"px);\n            height: calc(100% + ").concat(p[0]+p[2],"px);\n            top: -").concat(p[0],"px;\n            left: -").concat(p[3],"px;\n        }\n        .").concat(h," .border-background{\n            content: '';\n            background-color: ").concat(u,";\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            top: 0;\n            z-index: -1;\n        }\n        ")),c.set(e,h),h}}],(n=[{key:"create$ImgWarper",value:function(){var e=$('<div class="border-imgs-warper" ></div>'),t=this.props.cornerImgs,n=void 0===t?[]:t,r=s(a);return n.forEach((function(t,n){if(t){var i=t.src,a=t.width,s=t.height,c=new Image(a/2,s/2);c.src=o.FILE+i,c.classList.add("".concat(r[n])),e.append($(c))}})),this.$ImgWarp=e,e}},{key:"create$background",value:function(){return this.$background||(this.$background=$('<div class="border-background"></div>')),this.$background}},{key:"update",value:function(t){var n,r;return null===(n=this.$ImgWarp)||void 0===n||n.remove(),null===(r=this.$background)||void 0===r||r.remove(),t!==this.props?(this.props=t,this.css=e.convert(t)):(c.delete(t),this.css=e.convert(t)),this.css}}])&&r(t.prototype,n),u&&r(t,u),e}();e.exports={hashBackendToFont:function(e){var t={},n=["borderSlice","borderWidth","repeatMode"],r=["cornerImgs"],o={sourceUrl:"borderSource",repeatMode:"borderRepeat"};function i(e){return o[e]||e}return Object.keys(e).forEach((function(o){if(n.includes(o))t[i(o)]=String(e[o]).split(",");else if(r.includes(o))try{t[i(o)]=JSON.parse(e[o])}catch(t){console.log("边框数据错误=>",e[o])}else t[i(o)]=e[o]})),t},BorderImageHandler:u}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(5),p=n(3).parse,f=(n(605)().getScrollWidth,n(0).isAndroidPhone,n(0).mobilecheck),d=(n(0).isPc,n(29).preFixCss),h=n(606),m=n(607),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n}return t=l,(n=[{key:"create$context",value:function(){this.lpTable=this.compJson.properties.lpTable;var e=this.compJson,t="lpFormTable"==e.type?h:m,n=e.id,r=e.type,o=this.lpTable.title.content,i=this.lpTable.title.css,a=i.height,s=$(p(t,{id:n,type:r,title:o,titleH:a}));return this.$tableTitle=s.find(".table-title"),this.$table=s.find("table"),this.$tableWraper=s.find(".eqx-table-wraper"),this.$tableWraper.css("borderColor",this.lpTable.headerCss.borderColor),this.$tableTitle.css(i),"view"==this.eqxScene.config.mode&&d(this.$table.get(0),"Transition","transform 800ms linear"),this.initTable(),s}},{key:"initTable",value:function(){var e=this,t=this;this.lpTable.content.data.forEach((function(n,r){var o=e.$table[0].insertRow(r);0==r?$(o).addClass("tableH").css(e.lpTable.headerCss):$(o).addClass("tableContent").css(e.lpTable.content.css),n.forEach((function(t,n){var i=o.insertCell(n);$(i).text(t||""),0!=r?0==n&&"lpFormTable"==e.type?$(i).addClass("rowH tableH").css(e.lpTable.headerCss):$(i).addClass("tShow"):$(i).addClass("colH")})),function(e,n){n%2==0&&0!=n&&e.addClass("evenRow").css(t.lpTable.content.evenCss)}($(o),r)})),this.$tableH=this.$table.find(".tableH"),this.$evenRow=this.$table.find(".evenRow"),this.$tableContent=this.$table.find(".tableContent")}},{key:"renderTable",value:function(){this.$table.children().remove(),this.initTable()}},{key:"updateTitleContent",value:function(e){this.$tableTitle.children().text(e),this.updateTitleHeight()}},{key:"updateTitleHeight",value:function(){var e=parseInt(this.lpTable.title.css.height),t=this.$tableTitle.children().height()+7,n=t-e;if(n){var r=parseInt(this.$li.css("height"))+n;this.update$li({height:r}),this.$tableTitle.css({height:t}),this.lpTable.title.css.height="".concat(t,"px"),this.$tableWraper.css("height","calc(100% - ".concat(t,"px)")),this.isBaseLayerElement||this.autoSizeTopDown()}}},{key:"updateTableCompHeight",value:function(){this.$tableWraper.find(".table-outer-wraper").css("height","");var e=this.$table.height()+this.$tableTitle.height()+26+(this.$table.width()>this.$tableWraper.width()?7:0);this.update$li({height:e}),this.$table.css("height","100%")}},{key:"updateTitleCss",value:function(e){var t=this;e&&(this.$tableTitle.css(e),Object.keys(e).forEach((function(n){"fontSize"===n&&t.$tableTitle.css({"font-size":parseInt(e[n])+"px"})})),this.updateTitleHeight())}},{key:"updateHeadCss",value:function(e){var t=this;e&&(this.$tableH.css(e),Object.keys(e).forEach((function(n){"fontSize"===n&&(t.$table.css("height","auto"),t.$tableH.css({"font-size":parseInt(e[n])+"px"}),t.updateTableCompHeight())})))}},{key:"updateAreaCss",value:function(e){var t=this;if(e){this.$tableContent.css(e);var n=this.lpTable.content.evenCss;this.$evenRow.css(n),Object.keys(e).forEach((function(n){"fontSize"===n&&(t.$table.css("height","auto"),t.$tableContent.css({"font-size":parseInt(e[n])+"px"}),t.updateTableCompHeight())}))}}},{key:"updateBorderCss",value:function(e){e&&(this.$tableContent.css(e),this.$tableH.css(e),this.$tableWraper.css(e))}},{key:"updateEvenAreaCss",value:function(e){e&&this.$evenRow.css(e)}},{key:"render",value:function(){var e=i(u(l.prototype),"render",this).call(this);return this.eqxScene.config.disableCompEvent&&this.addEventListeners(),this.updateTableCompHeight(),this.updatePageHeight(),e}},{key:"bindAfterRenderEvent",value:function(e){var t=this;this.$tableWraper.css("pointer-events","auto").on("DOMMouseScroll mousewheel",(function(e){var n=t.getMaxScrollDistance(),r=e.originalEvent;if(!t.getScrollDirection(e.originalEvent)){var o=t.$tableWraper.find("div").scrollLeft(),i=r.wheelDeltaX&&r.wheelDeltaX>0||r.detail&&r.detail<0;i&&0==o||!i&&o>=n||r.stopPropagation()}}))}},{key:"getScrollDirection",value:function(e){return 2==e.axis||Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)}},{key:"getMaxScrollDistance",value:function(){return this.$table.width()-this.$tableWraper.width()}},{key:"eleShow",value:function(){var e=this;if(i(u(l.prototype),"eleShow",this).call(this),!this.tableRun&&"view"==this.eqxScene.config.mode){var t=this.compJson.properties.anim,n=0,r=!1;if((void 0===t?[]:t).forEach((function(e){e.count&&(r=!0),n+=1e3*(e.delay+e.duration*e.countNum)})),r)return;var o=this.$table[0];setTimeout((function(){d(o,"TransitionDelay","".concat(n,"ms"));var t=Math.min(e.getMaxScrollDistance(),50);t>0&&f()&&(d(o,"Transform","translate(-".concat(t,"px, 0px)")),e.$table.one("transitionend webkitTransitionEnd mozTransitionEnd oTransitionEnd",(function(){d(o,"TransitionDelay","0ms"),d(o,"Transform","translate(0px, 0px)")})),e.tableRun=!0)}),0)}}},{key:"afterAppendToPage",value:function(){var e=f(),t=this.$li.css("display");"none"==t&&this.$li.show().css("visibility","hidden");var n=this.$table,r=n.width(),o=this.$tableWraper.width(),i=this.$tableWraper.find(".scroll-rect");if(this.eqxPage.EqxFormRulesTrigger&&this.eqxPage.EqxFormRulesTrigger.updatePage(),r<=o)return i.hide(),void this.$tableWraper.find(".table-outer-wraper").css({height:"100%"});if(e)this.$tableWraper.find(".table-outer-wraper").css({overflow:"hidden",overflowX:"scroll",height:"100%"}),this.$tableWraper.find(".scroll-rect").remove();else{this.myScroll&&this.myScroll.destroy(),this.$tableWraper.css("overflow","hidden");var a=this.$tableWraper.get(0),s=this.eqxScene.config.mode;this.$tableWraper.find(".table-outer-wraper").css({height:"100%",paddingBottom:"7px"}),i.css("border-width","1px 0px").show(),"edit"==s?(a=i.find(".scroll-wraper").get(0),$(a).children().css("width",r+"px")):this.$tableWraper.find(".table-outer-wraper").css("width",r+"px"),this.myScroll=new IScroll(a,{preventDefault:!1,mouseWheel:!1,scrollbars:!0,click:!1,tap:!0,bounce:!1,interactiveScrollbars:!0,scrollX:!0,scrollY:!1,probeType:3}),"edit"==s&&this.myScroll.on("scroll",(function(){n.css("transform","translate(".concat(this.x,"px ,0px)"))}))}this.$li.css({visibility:"visible",display:t})}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=v},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(657);var u=n(5),l=n(1),p=n(658),f=n(660),d=n(50).random,h=n(9).qiniuZoom,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).randomIndex=-1,n.busy=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties.pics;return this.randomMax=r.length,function(e){var t=e.id,n=e.type,r=e.pics.map((function(e){return t=e.path,'<img src="'.concat(h(l.FILE+t),'" style="width: 100%; height: 100%; display: none;">');var t})).join("");return $('\n<div id="'.concat(t,'" class="random-event element comp_image editable-image" ctype="').concat(n,'"\n     style="width: 100%; height: 100%;">\n     ').concat(r,"\n</div>"))}({id:t,type:n,pics:r})}},{key:"addTriggerEvent",value:function(){var e=this.compJson.trigger,t=this.eqxScene.eventManager;e&&(e.sends&&(this.triggerEventAgent=new p(this,e,t)),e.receives&&(this.receiveEventAgent=new f(this,e,t)))}},{key:"showRandomImg",value:function(){var e=this.$context.find("img");e.css("display","none");var t=this.randomIndex;if(1!=this.randomMax)do{t=d(this.randomMax)}while(t==this.randomIndex);else t=0;$(e[t]).css("display","block"),this.randomIndex=t}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=m},function(e,t,n){"use strict";var r=n(22).RAW_EVENT,o=n(22).EQX_EVENT;e.exports={hasShakeEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some((function(e){return e.type===r.shake}))},getHash:function(e,t){return"sender-".concat(e,"-type-").concat(t,"-").concat(o[t])}}},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$postCount:function(e){var t=o.LONG_PAGE_PREVIEW+"lp/count";return r({type:"POST",url:t,data:e})},$getCountValues:function(e){var t=e.pageId,n=e.fieldIds;return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"lp/counter/values?pageId=".concat(t,"&fieldIds=").concat(n)})}}},function(e,t,n){"use strict";n(266);n(0).mobilecheck;var r=n(0).isPc,o=n(1);function i(e){e.layout,e.hasLink;var t=e.src,n=e.text,r=(e.link,e.icon),i=e.modalParam,a=i.popUpPic?"".concat(o.FILE).concat(i.popUpPic):t,s=i.adLink,c=$('<div class="moadl-content"></div>');c.prepend('<img src="'.concat(a,'"/>'));var u=$('<div class="moadl-btn"><img src="'.concat(r,'"><span>').concat(n,"</span></div>")),l=$('<div class="moadl-close"><span class="eqf-no-l submit-close" style="font-size: 24px;color: #fff;"></span></div>');return s&&c.on("click",(function(){location.href=s})),$('<div class="moadl-box">').append($('<div class="moadl-form">').append(c,u,l))}e.exports={$img:function(e){var t=e.id,n=e.type,r=e.src,o=(e.css,e.padding),i='<div style="height:100%"><button style="display: block;width: 100%;height: 100%; padding: '.concat(o,';" data-event="11201"\n                        id="').concat(t,'" ctype="').concat(n,'" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="').concat(r,'" />\n                </button></div>');return $(i)},$btn:function(e){var t=e.id,n=e.type,r=e.title,o=e.css,i=r?r.replace(/ /g,"&nbsp;"):"";"地域限制"===i&&(i="所在地区不能提交");var a='<div style="height:100%"><button style="display: block;width: 100%;height: 100%;background-color:'.concat(o.backgroundColor,";opacity:").concat(o.opacity,'" \n                        id="').concat(t,'" ctype="').concat(n,'" data-event="11201"\n                        class="element comp_button editable-text" >').concat(i,"</button></div>");return $(a)},modal:function(e,t,n,o,i,a,s,c){var u=function(e){var t=e.layout,n=e.hasLink,r=e.src,o=e.text,i=e.link,a=$('<div class="feedback-content"><span>'.concat(o,"</span></div>")),s=$('<div class="feedback-btn"></div>');r&&("rating-m"===t?a.prepend('<img class="up" src="'.concat(r,'"/>')):"rating-s"===t?a.append('<img class="down" src="'.concat(r,'"/>')):"rating-l"===t&&a.prepend('<img class="up ico" src="'.concat(r,'"/>')));n?s.append('<a class="feedback-close left">关闭</a><a class="right" href="'.concat(i,'">查看详情</a>')).addClass("line"):s.append('<a class="feedback-close">关闭</a>');return $('<div class="feedback-box">').append($('<div class="feedback-form">').append(a,s))}({layout:t,hasLink:n,src:o,text:i,link:a}),l=$(e).parents(".nr");u.appendTo(l);var p=u.find(".feedback-form"),f=u.find(".feedback-close");(!r()||c&&"pc"==c.previewMode)&&p.css({position:"fixed"});f.on("click",(function(){u.animate({opacity:0},{duration:300,complete:function(e){return u.remove()}})}))},$submitDetail:function(e){return $('<div style="height:30px;line-height:30px;color:#000;font-size:10px;\n                    position:relative;text-align:center;display: flex;flex-wrap: nowrap;justify-content: space-between;bottom:3px">\n                        <div class="left-border" style="height:1px;flex-grow: 0.5;background-color:#000;margin-top: 15px;"></div>\n                        <p class="p-desc" style="font-size:10px;position:relative;z-index:2;padding:0px 5px;display:inline-block;overflow: hidden">目前已经有<span class="submit-number" style="color:#f00;font-size:16px"></span><span class="submit-content">人提交表单</span></p>\n                        <div class="right-border" style="height:1px;flex-grow: 0.5;background-color:#000;margin-top: 15px;"></div>\n                </div>')},newWrapper:i,newModal:function(e,t,n,o,a,s,c,u,l,p){var f=i({layout:t,hasLink:n,src:o,text:a,link:s,icon:l,modalParam:p}),d=$(e).parents(".nr");f.appendTo(d);var h=f.find(".moadl-form"),m=f.find(".submit-close");(!r()||u&&"pc"==u.previewMode)&&h.css({position:"fixed"});m.on("click",(function(){f.animate({opacity:0},{duration:300,complete:function(e){return f.remove()}})}))},$privacyVerify:function(){return $('<div class="privacy-verify">\n                    <input type="checkbox" />\n                    <div>已知晓<span class="agreement">《隐私协议》</span>并授权该表单收集我的信息</div>\n                    <span class="msg">请知晓隐私协议</span>\n                </div>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(268),p=n(104).formatTime,f=n(188).getServiceTime,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"getFtValue",value:function(e){return e===this.FtEditableProps.time.time?this.getProp("endTime"):i(u(l.prototype),"getFtValue",this).call(this,e)}},{key:"renderTime",value:function(e,t,n,r){var o=this,i=((new Date).getTime(),this.compJson.properties),a=i.endTime,s=i.arriveTips,c=i.arriveTipsContent;f().then((function(e){return e.obj}),(function(){return(new Date).getTime()})).then((function(i){var u=setInterval((function(){i+=1e3,o.$li||clearInterval(u),i>=a?(s?e.html(c||l.defaultArriveTipsContent):e.html(p(i,i,t,n,r)),clearInterval(u)):e.html(p(a,i,t,n,r))}),1e3)}))}}])&&o(t.prototype,n),r&&o(t,r),l}(l);d.defaultArriveTipsContent="开始啦!",e.exports=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontFamily:!1,fontSize:!0,fontColor:!0,bgColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(l.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.time.time])}},{key:"create$context",value:function(){var e=document.createElement("div");e.id=this.compJson.id,e.setAttribute("ctype",this.compJson.type),e.setAttribute("class","element comp_paragraph editable-text");var t=this.compJson.css.fontSize,n=this.compJson.css.fontFamily;return t&&(e.style.fontSize=t),n&&(e.style.fontFamily=n),this.renderTime($(e),this.compJson.properties.order,this.compJson.properties.split,this.compJson.properties.mode),$(e)}},{key:"renderTime",value:function(e,t){return null}}])&&o(t.prototype,n),r&&o(t,r),l}(n(5));e.exports=l},function(e,t,n){"use strict";var r=n(686);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(57).BG_CROP_TYPE,p=n(0).mobilecheck,f=n(687),d=n(688),h=n(689),m=n(3).parse,v=n(9).qiniuZoom,g=n(9).loadImg,y=n(58).ANIMATION_TYPE;n(258);var b={css:{opacity:null},properties:{bgColor:"rgba(255, 255, 255, 1)",isImage:!1,imgSrc:null,gradientColor:["rgba(0,0,0,0)","rgba(255,255,255,0)"],gradientAngle:270,isGradient:!1,veinCss:{backgroundSize:20,opacity:100,backgroundImage:null,backgroundPositionX:50,stretch:"cover"}},type:3,effect:{type:-1}},x=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.compJson=t,this.eqxPage=n,this.eqxScene=n.eqxScene,this.compJson.properties=(null===(r=this.compJson)||void 0===r?void 0:r.properties)||{};var a=(null===(o=this.compJson)||void 0===o?void 0:o.properties).veinCss;Object.keys(b.properties).forEach((function(e){var t;("gradientColor"!==e||Array.isArray(i.compJson.properties[e])||(i.compJson.properties[e]=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"]),void 0===i.compJson.properties[e])&&("isImage"!==e||null!==(t=i.compJson.properties.veinCss)&&void 0!==t&&t.backgroundImage?i.compJson.properties[e]=b.properties[e]:i.compJson.properties[e]=!0)})),a&&String(a.backgroundSize).includes("%")&&(a.backgroundSize=parseFloat(a.backgroundSize)),a&&void 0===a.stretch&&(a.stretch="cover")}var t,n,i;return t=e,(n=[{key:"updateBgHeight",value:function(e){}},{key:"updateBgOpacity",value:function(e){this.$bgEle&&this.$bgEle.css({opacity:e})}},{key:"updateBgFilter",value:function(e){this.$bgEle&&this.$bgEle.css({filter:e})}},{key:"updateVeinCss",value:function(e){if(this.$bgEle&&this.$bgEle.find(".eqx-bg-vein").length>0){var t,n,r=s({},e);null!==(t=this.compJson)&&void 0!==t&&null!==(n=t.properties)&&void 0!==n&&n.isImage?(delete r.backgroundSize,void 0!==r.backgroundPositionX&&(r.backgroundPositionX+="%")):delete r.backgroundPositionX,this.$bgEle.find(".eqx-bg-vein").css(r)}e.backgroundSize&&(e.backgroundSize=parseFloat(e.backgroundSize)),this.compJson.properties.veinCss=s(s({},this.compJson.properties.veinCss),e)}},{key:"create$bg",value:function(e,t,n){var i=this;this.$container=e;var a=this.compJson,s=a.id,c=a.css,u=c.opacity,y=c.filter,b=a.properties,x=b.bgColor,w=b.croptype,S=b.pageLength,k=b.isGradient,O=(b.isImage,b.gradientColor),E=b.gradientAngle,C=b.imgSrc,_=b.veinCss,I=((_=void 0===_?{}:_).backgroundSize,_.backgroundImage),P=void 0===I?null:I,T=(_.stretch,this.eqxPage.pageJson.properties.longPage+"px");if(x&&!(0,r.isTransparent)(x)||P||(x="rgba(255,255,255,1)"),!O&&(O=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"]),x||O){S&&(T=(S<10?486*S:S)-486+(p()?$(document).height():486)+"px");var R="none";k&&O&&(R=" linear-gradient(".concat(E,"deg, ").concat(o(O).reverse().join(", "),");"));var A=$(m(d,{id:s,bgColor:k?"transparent":x,height:T,gradientColor:R}));this.$bgEle=A,this.$context=A.find(".eqx-bg-img"),this.updateBgOpacity(u),this.$container.prepend(A)}if(this.compJson.properties.veinCss&&this.createe$vein(),C){var q=C;if(w===l["全屏背景模式"]?(T=(S<10?486*S:S)-486+(p()?$(document).height():486)+"px",q=v(q,320,T)):(T=p()?"100%":"486px",q=v(q,320,486)),/\.gif/.test(C))var j=g(q).then((function(e){var r,o={};if(t=p()?document.documentElement.clientWidth||document.body.clientWidth:t||i.eqxPage.getPageWidth(),n=p()?document.documentElement.clientHeight||document.body.clientHeight:n||i.eqxPage.getPageHeight(),w===l["全屏背景模式"]){var a=parseInt(T);e.width/e.height>=t/a?(o.width=e.width*(a/e.height),o.height=a,o.marginLeft=-(o.width-t)/2):(o.width=t,o.height=e.height*(t/e.width),o.marginTop=-(o.height-a)/2)}else e.width/e.height>=t/n?(o.width=e.width*(n/e.height),o.height=n,o.marginLeft=-(o.width-t)/2):(o.width=t,o.height=e.height*(t/e.width),o.marginTop=-(o.height-n)/2);return(r=$(m(h,{id:s,src:q,height:T}))).css(o),r}));else j=Promise.resolve($(m(f,{id:s,src:q,height:T})));j.then((function(e){i.$bgEle&&i.$bgEle.remove(),i.$bgEle=e,i.animate(),i.updateBgOpacity(u),y&&i.updateBgFilter(y),i.$container.prepend(i.$bgEle),!/\.gif/.test(C)&&!p()&&i.updateBgHeight(i.eqxPage.getPageHeight())}))}}},{key:"eleShow",value:function(){var e=this.compJson.properties.imgSrc;if(e&&/.gif/.test(e)&&this.$bgEle){var t=this.$bgEle.find("img")[0];if(t){var n=t.src;setTimeout((function(){t.src=n}),200)}}}},{key:"animate",value:function(){var e=this.compJson.effect,t=(e=void 0===e?{}:e).type;if(this.$bgEle&&(t||0==t)&&-1!=t){var n=this.$bgEle.find(".eqx-bg");n.css({animation:"none"}),setTimeout((function(){if("scaleUp"===t)n.css({animation:"scaleUp 7s ease 1s","animation-fill-mode":"both"});else if("scaleDown"===t)n.css({animation:"scaleDown 7s ease 1s","animation-fill-mode":"both"});else{var e=y[t];n.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),n.css({"animation-name":e[0],"animation-duration":"1s","animation-timing-function":"liner","animation-delay":"1s","animation-iteration-count":1,"animation-direction":"both","animation-fill-mode":"both","animation-play-state":"initial"})}}),0)}}},{key:"delete$bg",value:function(){this.$bgEle&&this.$bgEle.remove()}},{key:"createe$vein",value:function(){var e=this.compJson.properties,t=e.pageLength,n=e.isImage,r=e.veinCss,o=r.backgroundSize,i=r.opacity,a=r.backgroundImage,s=r.stretch,c=r.backgroundPositionX,u=this.eqxPage.pageJson.properties.longPage+"px";if(n&&a){t&&(u=(t<10?486*t:t)-486+(p()?$(document).height():486)+"px");var l=v(a),f=s,d='<div class="eqx-bg eqx-bg-vein"\n                             style="width: 100%; height: 100%;\n                             background-image: url(\''.concat(l,"');\n                             background-size: ").concat(f,"; \n                             background-position-x: ").concat(c,"%;\n                             background-position-y: 0%;\n                             background-origin: content-box;\n                             opacity: ").concat(i,';\n                             position: absolute">\n                          </div>');this.$bgEle.prepend(d)}else if(!n&&a){t&&(u=(t<10?486*t:t)-486+(p()?$(document).height():486)+"px");var h=v(a,320,u),m='<div class="eqx-bg eqx-bg-vein"\n                             style="width: 100%; height: 100%;\n                             background-image: url(\''.concat(h,"');\n                             background-size: ").concat(o+"%","; \n                             background-position: center top;\n                             background-origin: content-box;\n                             opacity: ").concat(i,';\n                             position: absolute">\n                          </div>');this.$bgEle.prepend(m)}}}])&&u(t.prototype,n),i&&u(t,i),e}();e.exports=x},function(e,t,n){"use strict";var r=n(1),o=n(8).ajax;e.exports={$robRedPacket:function(e,t,n){return o({type:"GET",url:r.SERVER_1+"eqs/wx/robRedPacket",data:{sceneId:e,componentId:t,openid:n}})},deleteRedPacket:function(e){return o({type:"GET",url:r.LONG_TEMP_SERVER+"pack/setting/delete?sceneId=".concat(e,"&sceneType=4")})},getRedPacket:function(e){return o({type:"POST",url:r.LONG_TEMP_SERVER+"redpack/handle-data",data:e})},getRedPacketSettingConfig:function(e){return o({type:"GET",url:"".concat(r.LONG_TEMP_SERVER,"pack/setting/confs?sceneId=").concat(e,"&sceneType=4")})}}},function(e,t,n){e.exports=n.p+"images/jubao_03-7d80ec.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(273),m=n(140),v=n(4).getUrlParam,g=n(0),y=g.mobilecheck,b=g.iphoneCheck,x=(v("sourceType"),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{self:!0,backgroundColor:!0},commonStyle:{self:!0},advanceStyle:{self:!0,required:!0},compFont:{fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.formManager.add(f(n)),n}return t=a,(n=[{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.$select.find("option:selected").text(),t=this.compJson.properties.required,n=this.ruleHide?"（跳过）":Number(this.$select.val());n||(e="");var r={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id,origin:this.$select.val()};return t&&!n&&(r.success=!1,r.message="该项为必选项"),r}},{key:"create$li",value:function(){c(d(a.prototype),"create$li",this).call(this);var e=this.eqxPage.getFormStyle();return this.$formComp.css(i(i({},e.input),e.border)).find("select").css({color:"inherit"}),this.$li}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.formRelevant,a=void 0===i?{}:i,s=o.required,c=e.css,u=c.borderWidth,l=c.backgroundColor,p=a.title.content,f=a.des.content;u||(e.css.borderWidth=0,e.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),l||(e.css.backgroundColor="#ffffff");var d=(e.choices||{}).options||[];this.name="eq[f_".concat(t,"]"),this.required=s,this.pageId=n;var m=h.$compDiv({id:t,type:r,required:s,title:p,des:f}),v=this.$select=m.find("select"),g=d.map((function(e){return h.$option({selected:e.selected,value:e.value,label:e.label})}));return v.append(g),v.css({color:"inherit","font-weight":"normal"}),m}},{key:"updateContentCss",value:function(e){this.$context.find("select").css("color","inherit")}},{key:"getValue",value:function(){return this.$select.val()}},{key:"changeOption",value:function(){var e=(this.compJson.choices.options||[]).map((function(e){return h.$option({selected:e.selected,value:e.value,label:e.label})}));this.$select.empty(),this.$select.append(e)}},{key:"bindAfterRenderEvent",value:function(){var e=this;if(c(d(a.prototype),"bindAfterRenderEvent",this).call(this),y()&&b()){var t=this.$li.find("select");t.on("click",(function(){t.data("scroll",document.body.scrollTop||document.documentElement.scrollTop)})).on("blur",(function(){setTimeout((function(){var n=document.activeElement.tagName.toLowerCase();if("input"!=n&&"textarea"!=n){var r=t.data("scroll");window.scrollTo(0,r),e.eqxPage.EqxMsgManager&&e.eqxPage.EqxMsgManager.post({type:"blur",compType:e.type,value:""})}t.data("scroll",null)}),100)}))}return!0}},{key:"getOptionArray",value:function(){var e=[];return this.compJson.choices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e.push(n)})),e}},{key:"getValueInfo",value:function(){var e=c(d(a.prototype),"getValueInfo",this).call(this),t=this.getOptionArray().find((function(t){return~~t.value==~~e.value}));return t?(e.label=t.label,e):e}},{key:"getOptionHash",value:function(){var e={};return this.compJson.choices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e[t.value]=n})),e}},{key:"getOptionList",value:function(){var e=[];return this.compJson.choices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));Object.assign(n,{id:t.value}),e.push(n)})),e}},{key:"getTextDetail",value:function(e){var t=this.getTipTitle(),n=[],r=this.getOptionHash();return e.forEach((function(e){r[e]&&n.push(r[e].label)})),{title:t,options:n}}},{key:"handleOptions",value:function(e){var t=this,n=this.getValue(),r=this.compJson.choices.options.filter((function(e){return-1==t.optionsHided.indexOf(e.value)})).map((function(e){return h.$option({selected:e.selected,value:e.value,label:e.label})}));this.$select.empty(),this.$select.append(r),this.optionsHided.find((function(e){return e==n}))||this.$select.val(n)}},{key:"autoFill",value:function(e,t){var n=this;String(e).includes("（跳过）")||(["z"].includes(this.compJson.type)?((this.compJson.choices.options||[]).forEach((function(t){t.label!=e&&t.value!=e||n.$select.val(t.value)})),"showLast"===t&&this.$li.css("pointer-events","none")):c(d(a.prototype),"autoFill",this).call(this,e,t))}}])&&s(t.prototype,n),r&&s(t,r),a}(m));e.exports=x},function(e,t,n){"use strict";var r=n(750);n(751);var o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.required,a=void 0===i?null:i,s=e.title,c=e.des,u=$(o(r,{id:t,type:n,title:s,des:c}));return u.find("#".concat(t)).attr("required",a),u},$option:function(e){var t=e.selected,n=void 0===t?null:t,r=e.value,o=e.label;return $('<option option-id="'.concat(r,'"  class="comp_select_option" value="').concat(r,'">').concat(o,"</option>")).attr("selected",n)}}},function(e,t,n){"use strict";var r=n(4).getUrlParam,o=n(8).ajax,i=n(1);e.exports={checkRepeat:function(e,t){var n=window.scene||{},a=n.id,s=n.formLastData,c=(s=void 0===s?{}:s).id;t=encodeURIComponent(t);var u="".concat(i.LONG_PAGE_PREVIEW,"lp/validate/duplicationCheck");return"updateLast"===r("sourceType")?o({type:"get",url:"".concat(u,"?elementId=").concat(e,"&content=").concat(t,"&dataId=").concat(c,"&pageId=").concat(a)}):o({type:"get",url:"".concat(u,"?elementId=").concat(e,"&content=").concat(t,"&pageId=").concat(a)})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(762),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,c=s(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1},advanceStyle:{required:!0}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.formManager.add(u(n)),n}return t=f,(n=[{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.$score.val(),t=(this.getTipTitle(),{success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id});return this.required&&!e&&(t.success=!1,t.message="该项为必填项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=o.icon,s=o.size,c=o.color,u=o.formRelevant,l=void 0===u?{}:u,f=l.title.content,d=l.des.content,h=p.$compDiv({id:t,type:r,required:i,formTitle:f,formDes:d});this.required=i,this.title=f,this.name="eq[f_".concat(t,"]"),this.pageId=n;var m=[1,2,3,4,5].map((function(){return p.icon({icon:a,size:s})}));return h.find(".rating-icons").append(m).css({color:c}),this.$score=h.find('input[type="hidden"]'),this.$titleDiv=h.find(".rating-title"),h}},{key:"update$iconColor",value:function(e){this.$context.find(".rating-icons").css({color:e}),this.updateProp("color",e)}},{key:"update$titleDiv",value:function(e){this.$titleDiv.text(e)}},{key:"updateAttrRequire",value:function(e){this.$context.attr("required",e)}},{key:"update$icon",value:function(e,t){this.$context.find("i").removeClass().addClass(e+" "+t)}},{key:"bindAfterRenderEvent",value:function(e,t){i(l(f.prototype),"bindAfterRenderEvent",this).call(this,e,t);var n=$(e),r=n.find("i"),o=n.find("input"),a=t.properties.icon.split("-"),s=a[0]+"-"+a[1];function c(e){r.each((function(t,n){$(n).removeClass(s+"-f").addClass(s+"-l"),t<=e&&$(n).removeClass(s+"-l").addClass(s+"-f")}))}return r.each((function(e,t){$(t).attr("data-event","11211"),$(t).bind("click",(function(){c(e),o.val(e+1)})).bind("mouseenter",(function(){return c(e)}))})),n.find(".rating-icons").bind("mouseleave",(function(){return c(~~o.val()-1)})).bind("touchstart mousedown",(function(e){e.stopPropagation()})),!0}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("i");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.each((function(e,n){$(n).bind("click",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.$score.val())}))}))}},{key:"getRealValueForTrigger",value:function(){return this.$score.val()}},{key:"autoFill",value:function(e,t){this.$li.find('[name="'.concat(this.name,'"]')).val(e.split(",")),"showLast"===t&&this.$li.css("pointer-events","none")}}])&&o(t.prototype,n),r&&o(t,r),f}(n(35));e.exports=f},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports={copyProperties:function(e,t){var n,o=Reflect.ownKeys(Object.getPrototypeOf(e)),i=r(Reflect.ownKeys(t));try{var a=function(){var r=n.value;if("constructor"!==r&&"prototype"!==r&&"name"!==r&&!o.find((function(e){return e===r}))){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i)}};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(785);var r=n(786),o=r.wraperRendered,i=(r.optionsRendered,n(10).EVALUATE_COMPS),a=n(0),s=n(23).filterTags,c=n(88).isCardScene,u=n(3).parse,l=n(184).buttonBox,p=n(0).isMobile,f=c();function d(e){var t=e&&e.evaluate||{};return(e&&e.compJson&&e.compJson.properties&&e.compJson.properties.formRelevant||{}).showScoreAndAnswer||t.showScoreAndAnswer||null==t.showScoreAndAnswer}function h(e){return e?s(e).replace(/(\r)*\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""}e.exports={render:function(e){var t=$('<div class="view-answer-wraper"><div class="view-answer-content"><h1 class="view-answer-title">答案解析</h1></div></div>'),n=e.$section.parent(),r=n.outerHeight(),c=e.getEqxComps().filter((function(e){return i.find((function(t){return t==e.type}))||e.isOpenScore&&e.isOpenScore()})),m=null;if(n.append(t),c.length)if(c.sort((function(e,t){return e.compJson.css.top-t.compJson.css.top})),c.forEach((function(e,n){var r=$('<div class="view-answer-list"></div>');r.append(function(e,t,n){var r=d(n);return'\n        <div class="eva-answer-header clearfix">\n            <div class="question-number">第'.concat(e,"题</div>\n            ").concat(r?'<div class="question-score">得分：<span>'+t+"</span></div>":"","\n        </div>\n    ")}(n+1,e.calcScore(e.getValue()),e)),r.append(function(e){var t=function(e){var t=e.getFormRelavent(),n=t.title.content,r=t.des.content;return o(h(n),h(r))}(e),n=t.find(".comp-answer-wrap");return e.answerRendered(n),t}(e)),r.append(function(e){var t=e.evaluate.answerKeys;if(!t||!d(e))return"";return'\n        <div class="eva-answer-detail">\n            <div class="eva-answer-wraper">\n                <div class="eva-answer-tag">答案解析</div>\n                <div class="eva-answer-content">'.concat(s(t),"</div>\n            </div>            \n        </div>   \n    ")}(e)),t.find(".view-answer-content").append(r)})),a.mobilecheck())$(".view-answer-wraper").css({overflowY:"scroll"});else{var v=t[0];if("pcRender"==e.renderMode){v=document.body||document.documentElement;var g=$(".view-answer-wraper").children().height()+60;if(0==$("#iscrollDomForPc").length){var y=$('<div id="iscrollDomForPc" style="width:1px;z-index:-100;position:absolute;top:0px;left:0px;height:'.concat(g,'px"><div></div></div>'));$("body").prepend(y)}$(".pc-preview, #iscrollDomForPc").css("height",g+"px")}a.isPc()&&"pcRender"==e.renderMode&&n.parent().css("top",0),v&&(m=new IScroll(v,{preventDefault:!0,mouseWheel:!0,scrollbars:!0,probeType:3,click:!1,bounce:!1,interactiveScrollbars:!0}),"pcRender"==e.renderMode&&m.on("scroll",(function(){$(".pc-preview").css("top",this.y)})))}else!function(e){e.find(".view-answer-content").remove();var t='<div class="emptyBox"><img src="'.concat("https://lib.eqh5.com/@eqxiu-res/form/images/submitPage/answerEmpty.png",'" /><p>无答案解析</p></div>');e.append($(t))}(t);if(n.find(".form-submit-box").css({display:"none"}),f){$(".view-answer-wraper").css("height","calc(100% - 2.5rem)");var b=$('\n            <div class="answer-show-btn-wraper">\n                <div class="answer-return-btn">返回表单</div>\n            </div>\n        ');n.append(b),n.find(".answer-return-btn").on("click",(function(){t.remove(),b.show(),e.$section.show();var n=e.calActualHeight().tHeight;e.EqxMsgManager.post({type:"heightChange",value:n})}))}else{var x;!function(e,t,n,r){var o,i=$(u(l,{btnBackgroundColor:"transparent",btnColor:"none",opacity:0,btnTxt:"",shareBtnTxt:""})),a=p(),s="pcRender"===t.renderMode;s?i.addClass("pcRender"):a&&(i.addClass("fixed"),e.css({position:"fixed"}));i.find(">div:not(:first-child)").hide(),a&&(o=document.scrollingElement.scrollTop,t.eqxScene.$ele.parent().addClass("noHeight"));i.find(".back").on("click",(function(){e.remove(),r&&r.destroy(),s&&t.changeMoveToIscroll(n,"pcRender"),a?(t.eqxScene.$ele.parent().removeClass("noHeight"),document.scrollingElement.scrollTop=o):$(".pc-preview, #iscrollDomForPc").css("height",n+"px"),$(".form-submit-box").css({display:"block"})})),e.append(i)}(t,null==e||null===(x=e.eqxScene)||void 0===x?void 0:x.currentPage,r,m)}}}},function(e,t,n){"use strict";var r=n(4).getUrlParam,o=JSON.parse(decodeURI(r("env"))),i=n(1),a=n(8).ajax;function s(){return o&&"xt"==o.from}function c(){if(o&&o.prop)return o.prop.staffId}function u(){if(o&&o.prop)return o.prop.customerId}function l(){if(o&&o.prop)return o.prop.type}e.exports={isXiuTui:s,getNickname:function(){if(o&&o.prop)return o.prop.nk},getOpenId:function(){if(o&&o.prop)return o.prop.od},getCoverImg:function(){if(o&&o.prop)return o.prop.img},getInfos:function(){var e={};return o&&o.prop&&(o.prop.nk&&(e.nickname=o.prop.nk),o.prop.od&&(e.openid=o.prop.od),o.prop.img&&(e.headimgurl=o.prop.img)),e},xtPostForm:function(e,t){var n=function(){if(o&&o.post)return o.post}(),r=i.XUTTUI+"tui/mini/form/save",s={staffId:c(),customerId:u(),sceneId:e,formId:t,type:l()};return n&&!$.isEmptyObject(n)&&n.need&&(r=n.url,(s=n.param).sceneId=e,s.formId=t),a({type:"POST",url:r,data:s})},isEqxWxMini:function(){return s()||o&&"eqx_wx_min"==o.from}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(1),a=n(8).ajax,s=n(24).getItem,c=n(8).$ajax,u=n(4).getUrlParam,l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxPage=t,this.parentNode=n,this.callback=r,this.bodyNode=document.querySelector("body"),this.$wx_sub=null,this.$submitNode=null,this.templateIds=[],this.type="pros"}var t,n,l;return t=e,(n=[{key:"eqxScene",get:function(){return this.eqxPage.eqxScene}},{key:"addWxSubDom",value:function(){this.parentNode.css("position","relative"),this.parentNode.find(".privacy-verify").length?this.$wx_sub.removeClass("autoHeight"):this.$wx_sub.addClass("autoHeight"),this.parentNode.append(this.$wx_sub)}},{key:"isMatchTheScene",value:function(){if(!u("appletPreview")&&102===window.scene.bizType&&s("wxOpenid"))return!0}},{key:"isUserSetUse",value:function(){var e=this.eqxScene.getPageConfig("voteInvite"),t=this.eqxScene.getPageConfig("voteResultNotice");if("test"===this.type&&(e=!0,t=!0),e||t)return e&&this.templateIds.push(i.WX_VOTE_INVITE_TEMPLATE_ID),t&&this.templateIds.push(i.WX_VOTE_RESULT_NOTICE_TEMPLATE_ID),!0}},{key:"template",value:function(e){return $('<wx-open-subscribe class="wx_subcrile" style="opacity:0;filter:alpha(opacity=0);" template="'.concat(e.join(","),'">\n                  <script type="text/wxtag-template" slot="style">\n                    <style>\n                      .subscribe-btn {\n                        color: #fff;\n                        width: 100%;\n                        height: 100%;\n                        position: absolute;\n                        left: 0;\n                        right: 0;\n                        bottom: 0;\n                        top:0;\n                        background-color: #07c160;\n                      }\n                    </style>\n                  <\/script>\n                  <script type="text/wxtag-template">\n                    <button class="subscribe-btn">\n                      一次性模版消息订阅              \n                    </button>\n                  <\/script>\n              </wx-open-subscribe>'))}},{key:"dispatchSubmit",value:function(){this._haveSub_=!0,this.$wx_sub.remove(),this.callback&&this.callback()}},{key:"postInfoToServe",value:function(e){var t,n=this;console.log("返回结果1",e);try{t=JSON.parse(e.detail.subscribeDetails)}catch(n){console.error("wx-open-subscribe",n);try{t=JSON.parse(e.detail.subscribeDetails)}catch(e){console.error("wx-open-subscribe",e)}}var r=[];for(var o in t)String(t[o]).includes("accept")&&r.push(o);r.length>0?a({type:"POST",url:"".concat(i.LONG_PAGE_PREVIEW,"lp/invite/insert?ssid=").concat(s("wxOpenid")),headers:{"Content-Type":"application/json; charset=UTF-8"},data:JSON.stringify({formId:window.scene.id,templateIds:r})}).then((function(){n.dispatchSubmit()})):this.dispatchSubmit()}},{key:"wxSubaction",value:function(){var e=this,t=this.$wx_sub.get(0);t&&!this.bindEventFlag&&(console.log("开放标签-订阅消息添加事件subscribeBtn"),this.bindEventFlag=!0,t.addEventListener("success",(function(t){e.postInfoToServe(t)})),t.addEventListener("error",(function(t){e.postInfoToServe(t)})))}},{key:"requestServeAboutSub",value:function(){return c({type:"GET",url:"".concat(i.LONG_PAGE_PREVIEW,"lp/invite/checkAuthorization/").concat(window.scene.id),data:{ssid:s("wxOpenid"),templateIds:this.templateIds.join(",")}})}},{key:"initWxSub",value:function(e){this.$wx_sub=this.template(e),this.addWxSubDom(),this.wxSubaction()}},{key:"isNeedSub",value:function(e){var t=[];for(var n in e.obj)e.obj[n]&&t.push(n);if(0!==t.length)return t}},{key:"renderWxSubcrible",value:function(){var e=this;try{if(!this.isMatchTheScene())return;if(!this.isUserSetUse())return;this.requestServeAboutSub().then(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=e.isNeedSub(n))&&e.initWxSub(r);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}())}catch(e){console.err("微信一次性订阅错误",e)}}}])&&o(t.prototype,n),l&&o(t,l),e}();e.exports={WxSub:l}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(816),f=n(818),d=n(83),h=n(1),m=n(819),v=n(143).uploadLimitSize,g=n(140);n(820);var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(g,e);var t,n,r,c=s(g);function g(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.formManager.add(u(n)),n}return t=g,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=(o.title,o.formRelevant),a=void 0===i?{}:i,s=o.required,c=this.eqxScene.config.mode,u=a.title.content,l=a.des.content,f=this.compJson.properties.uploadNote||"";return this.pageId=n,this.uploadImage={},this.name="eq[f_".concat(t,"]"),this.btnTitle=this.getBtnTitle(),this.uploadTitle=u,this.$context=p.$compDiv(t,r,u,c,l,f,this.btnTitle),this.$button=this.$context.find("button"),this.required=s,"view"!==c||this.uploader||this.initUplad(),this.$context}},{key:"eleShow",value:function(){var e=this;i(l(g.prototype),"eleShow",this).call(this),setTimeout((function(){var t,n;e.$li&&((null==e||null===(t=e.compJson)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.uploadLimit)>5?e.$context.find(".new-upload-outer-wraper").addClass("muiltBox"):e.$context.find(".new-upload-outer-wraper").removeClass("muiltBox"))}),300)}},{key:"initUplad",value:function(){var e=this,t={tokenType:"image",maxFileSize:m.uploadSizeLimits.image,uploadButton:this.$button.attr("id"),filesAdded:function(n,r){-1!=Object.keys(m.errorExtension).indexOf(t.tokenType)&&-1==m.errorExtension[t.tokenType].indexOf(r.type)&&(e.showFormErrMsg("文件类型不正确，请重新上传"),n.removeFile(r),n.stop())},beforeUpload:function(t,n){if(n.size){var r=n.size/1024/1024,o=v[e.compJson.properties.uploadType]||10;r>o?(e.showFormErrMsg("文件大小不得超过".concat(o,"M，请重新上传")),t.stop()):e.updateTitle("上传中...")}else e.showFormErrMsg("当前文件为空，无法上传"),t.removeFile(n),t.stop()},finishUpload:function(t,n,r){e.updateTitle(n.name),e.uploadImage.file=n,e.uploadImage.info=r=JSON.parse(r),e.variablesValues={key:r.key,w:r.w,h:r.h},(e.variables||[]).forEach((function(e){"4"===e.compJson.type.toString()&&e.updateImageSrc(r.key,r.w,r.h)}))},Error:function(t,n,r){-1!=Object.keys(m.errorDesc).indexOf(n.message)?f.modal(m.errorDesc[n.message],e.$li,e.eqxPage):e.updateTitle("上传失败！")}};if("video"==this.compJson.properties.uploadType){var n={tokenType:"video",maxFileSize:v.video};t=Object.assign({},t,n)}if("file"==this.compJson.properties.uploadType){var r={tokenType:"application",maxFileSize:m.uploadSizeLimits.application};t=Object.assign({},t,r)}this.initQiniuUpload(t)}},{key:"initQiniuUpload",value:function(e){var t=this;d.$initQiniuUpload(e).then((function(e){var n,r;t.uploader=e,null==t||null===(n=t.compJson)||void 0===n||null===(r=n.properties)||void 0===r||r.uploadLimit}))}},{key:"check",value:function(){var e=this.getValue(),t=null;this.ruleHide&&(e={upKey:this.uploadImage.info&&h.QINIUVIDEO+this.uploadImage.info.key,upName:"（跳过）"},e=JSON.stringify(e),"image"==this.compJson.properties.uploadType&&(e="（跳过）")),"image"==this.compJson.properties.uploadType&&(t={upKey:e,upName:this.uploadImage.info&&this.uploadImage.info.name}).upKey&&t.upName&&(t.upType="image");var n={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id,origin:t};return!this.required||e&&"{}"!=e||(n.success=!1,n.message="该项为必填项"),n}},{key:"getValue",value:function(){var e="";return e="video"==this.compJson.properties.uploadType?{upKey:this.uploadImage.info&&h.QINIUVIDEO+this.uploadImage.info.key,upName:this.uploadImage.info&&this.uploadImage.info.name}:"file"==this.compJson.properties.uploadType?{upKey:this.uploadImage.info&&h.QINIUFILE+this.uploadImage.info.key,upName:this.uploadImage.info&&this.uploadImage.info.name}:this.uploadImage.info&&h.FILE+this.uploadImage.info.key,"image"!==this.compJson.properties.uploadType&&(e.upKey&&e.upName&&(e.upType=this.compJson.properties.uploadType),e=JSON.stringify(e)),e}},{key:"autoFill",value:function(e,t){if(!String(e).includes("（跳过）")){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.log(e)}var n,r=this.compJson.properties.uploadType;if(e&&0!=Object.keys(e).length&&e.upKey&&e.upName&&(!e.upType||r==e.upType)){switch(r){case"video":n=new RegExp("(https?://)?".concat(h.QINIUVIDEO)),this.uploadImage={info:{key:e.upKey.replace(n,""),name:e.upName}},this.updateTitle(e.upName);break;case"file":n=new RegExp("(https?://)?".concat(h.QINIUFILE)),this.uploadImage={info:{key:e.upKey.replace(n,""),name:e.upName}},this.updateTitle(e.upName);break;default:n=new RegExp("(https?://)?".concat(h.FILE)),this.uploadImage={info:{key:e.upKey.replace(n,""),name:e.upName}},this.updateTitle(e.upName)}"showLast"===t&&this.$li.css("pointer-events","none")}}}},{key:"getBtnTitle",value:function(){return{image:"上传图片",video:"上传视频",file:"上传文档"}[this.compJson.properties.uploadType||"image"]}},{key:"updateTitle",value:function(e){this.$context.find("button").text(e)}},{key:"updateUploadNote",value:function(e){this.$boxContentDiv.find(".form-note-box").text(e),this.updateFormHeight()}},{key:"updateFormHeight",value:function(){var e,t,n,r,o=this.compJson;o.properties.formRelevant=o.properties.formRelevant?o.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}};var i=o.properties.formRelevant,a=i.title,s=void 0===a?{}:a,c=i.des,u=void 0===c?{}:c,l=(s.css,u.css,this.compJson.properties.uploadNote),p=parseInt(this.$formComp.css("height")),f=this.$boxContentDiv.find(".form-note-box"),d=parseInt(this.compJson.css.paddingTop)+parseInt(this.compJson.css.paddingBottom),h=f.innerHeight();l?(h=38,f.css("display","block")):(h=0,f.css("display","none")),"uploadNew"==this.type&&(h=0);var m=parseInt(this.getFormTitleHeight()||0)+parseInt(this.getFormDesHeight()||0)+parseInt(h||0);(null==this||null===(e=this.compJson)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.uploadLimit)>5?this.$li.find(".new-upload-outer-wraper").addClass("muiltBox"):this.$li.find(".new-upload-outer-wraper").removeClass("muiltBox"),null===(n=this.$li)||void 0===n||n.css({height:"auto"}),this.update$li({height:(null===(r=this.$li)||void 0===r?void 0:r.outerHeight())||parseInt(m+p+d)}),this.$formComp.css("height","calc(100% - ".concat(m,"px)")),this.updateFromInnerHeight(),this.autoSizeTopDown(),this.updatePageHeight()}}])&&o(t.prototype,n),r&&o(t,r),g}(g);e.exports=y},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var o=Object.create(t.prototype);r.__proto__=o}if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var o={},i=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,s=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,u=o.ENTITY_REFERENCE_NODE=5,l=o.ENTITY_NODE=6,p=o.PROCESSING_INSTRUCTION_NODE=7,f=o.COMMENT_NODE=8,d=o.DOCUMENT_NODE=9,h=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,v=o.NOTATION_NODE=12,g={},y={},b=(g.INDEX_SIZE_ERR=(y[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),x=(g.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),g.NOT_FOUND_ERR=(y[8]="Not found",8)),w=(g.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));g.INVALID_STATE_ERR=(y[11]="Invalid state",11),g.SYNTAX_ERR=(y[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),g.NAMESPACE_ERR=(y[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function S(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,S);return n.code=e,t&&(this.message=this.message+": "+t),n}function k(){}function O(e,t){this._node=e,this._refresh=t,E(this)}function E(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function C(){}function _(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function I(e,t,n,r){if(r?t[_(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&j(o,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function P(e,t,n){var r=_(t,n);if(!(r>=0))throw S(x,new Error(e.tagName+"@"+n));for(var o=t.length-1;r<o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&(j(i,e,n),n.ownerElement=null)}}function T(e){if(this._features={},e)for(var t in e)this._features=e[t]}function R(){}function $(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function A(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(A(e,t))return!0}while(e=e.nextSibling)}function q(){}function j(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i}}}function M(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function D(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,i.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;do{o.parentNode=e}while(o!==i&&(o=o.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function B(){this._nsMap={}}function F(){}function N(){}function H(){}function z(){}function J(){}function V(){}function U(){}function W(){}function G(){}function K(){}function X(){}function Q(){}function Y(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,o=r.prefix,i=r.namespaceURI;if(i&&null==o&&null==(o=r.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return ee(this,n,e,t,a),n.join("")}function Z(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!r&&!o)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=n.length;i--;){var a=n[i];if(a.prefix==r)return a.namespace!=o}return!0}function ee(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case i:o||(o=[]);o.length;var l=e.attributes,v=l.length,g=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var b=0;b<v;b++){"xmlns"==(x=l.item(b)).prefix?o.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&o.push({prefix:"",namespace:x.value})}for(b=0;b<v;b++){var x;if(Z(x=l.item(b),0,o)){var w=x.prefix||"",S=x.namespaceURI,k=w?" xmlns:"+w:" xmlns";t.push(k,'="',S,'"'),o.push({prefix:w,namespace:S})}ee(x,t,n,r,o)}if(Z(e,0,o)){w=e.prefix||"",S=e.namespaceURI,k=w?" xmlns:"+w:" xmlns";t.push(k,'="',S,'"'),o.push({prefix:w,namespace:S})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;g;)g.data?t.push(g.data):ee(g,t,n,r,o),g=g.nextSibling;else for(;g;)ee(g,t,n,r,o),g=g.nextSibling;t.push("</",y,">")}else t.push("/>");return;case d:case m:for(g=e.firstChild;g;)ee(g,t,n,r,o),g=g.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,$),'"');case s:return t.push(e.data.replace(/[<&]/g,$));case c:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case h:var O=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(' PUBLIC "',O),E&&"."!=E&&t.push('" "',E),t.push('">');else if(E&&"."!=E)t.push(' SYSTEM "',E,'">');else{var C=e.internalSubset;C&&t.push(" [",C,"]"),t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}S.prototype=Error.prototype,n(g,S),k.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},O.prototype.item=function(e){return E(this),this[e]},r(O,k),C.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new S(w);var n=this.getNamedItem(e.nodeName);return I(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new S(w);return t=this.getNamedItemNS(e.namespaceURI,e.localName),I(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return P(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return P(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},T.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new q;if(r.implementation=this,r.childNodes=new k,r.doctype=n,n&&r.appendChild(n),t){var o=r.createElementNS(e,t);r.appendChild(o)}return r},createDocumentType:function(e,t,n){var r=new V;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},R.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return D(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o=new n.constructor;for(var s in n){var c=n[s];"object"!=typeof c&&c!=o[s]&&(o[s]=c)}n.childNodes&&(o.childNodes=new k);switch(o.ownerDocument=t,o.nodeType){case i:var u=n.attributes,l=o.attributes=new C,p=u.length;l._ownerElement=o;for(var f=0;f<p;f++)o.setAttributeNode(e(t,u.item(f),!0));break;case a:r=!0}if(r)for(var d=n.firstChild;d;)o.appendChild(e(t,d,r)),d=d.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(o,R),n(o,R.prototype),q.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==i&&(this.documentElement=e),D(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case i:(o=n.cloneNode(!1)).ownerDocument=t;case m:break;case a:r=!0}o||(o=n.cloneNode(!1));if(o.ownerDocument=t,o.parentNode=null,r)for(var s=n.firstChild;s;)o.appendChild(e(t,s,r)),s=s.nextSibling;return o}(this,e,t)},getElementById:function(e){var t=null;return A(this.documentElement,(function(n){if(n.nodeType==i&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new B;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new k,(t.attributes=new C)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new J;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new X;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new F;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new B,r=t.split(":"),o=n.attributes=new C;return n.childNodes=new k,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new F,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(q,R),B.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var n=[];return A(t,(function(r){r===t||r.nodeType!=i||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(n){var r=[];return A(n,(function(o){o===n||o.nodeType!==i||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},q.prototype.getElementsByTagName=B.prototype.getElementsByTagName,q.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,r(B,R),F.prototype.nodeType=a,r(F,R),N.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(N,R),H.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(H,N),z.prototype={nodeName:"#comment",nodeType:f},r(z,N),J.prototype={nodeName:"#cdata-section",nodeType:c},r(J,N),V.prototype.nodeType=h,r(V,R),U.prototype.nodeType=v,r(U,R),W.prototype.nodeType=l,r(W,R),G.prototype.nodeType=u,r(G,R),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=m,r(K,R),X.prototype.nodeType=p,r(X,R),Q.prototype.serializeToString=function(e,t,n){return Y.call(e,t,n)},R.prototype.toString=Y;try{if(Object.defineProperty){Object.defineProperty(O.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(R.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case i:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case i:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=T,t.XMLSerializer=Q},function(e,t){var n=function(e){var t={},n=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){"task-list-update"===e&&console.warn('warning: Event "'+e+'" has been deprecated. Please use "list-update" instead.'),n(e).push(t)},e.off=function(e,t){for(var r=n(e),o=r.length-1;o>=0;o--)t===r[o]&&r.splice(o,1)},e.emit=function(e,t){for(var r=n(e).map((function(e){return e})),o=0;o<r.length;o++)r[o](t)}};e.exports.init=n,e.exports.EventProxy=function(){n(this)}},function(e,t,n){var r,o,i=n(106),a=function(){try{var e=JSON.parse(localStorage.getItem("cos_sdk_upload_cache"))}catch(e){}e||(e=[]),r=e},s=function(){try{localStorage.setItem("cos_sdk_upload_cache",JSON.stringify(r))}catch(e){}},c=function(){if(!r){a.call(this);for(var e=!1,t=Math.round(Date.now()/1e3),n=r.length-1;n>=0;n--){var o=r[n][2];(!o||o+2592e3<t)&&(r.splice(n,1),e=!0)}e&&s()}},u=function(){o||(o=setTimeout((function(){s(),o=null}),400))},l={using:{},setUsing:function(e){l.using[e]=!0},removeUsing:function(e){delete l.using[e]},getFileId:function(e,t,n,r){return e.name&&e.size&&e.lastModifiedDate&&t?i.md5([e.name,e.size,e.lastModifiedDate,t,n,r].join("::")):null},getUploadIdList:function(e){if(!e)return null;c.call(this);for(var t=[],n=0;n<r.length;n++)r[n][0]===e&&t.push(r[n][1]);return t.length?t:null},saveUploadId:function(e,t,n){if(c.call(this),e){for(var o=r.length-1;o>=0;o--){var i=r[o];i[0]===e&&i[1]===t&&r.splice(o,1)}r.unshift([e,t,Math.round(Date.now()/1e3)]),r.length>n&&r.splice(n),u()}},removeUploadId:function(e){c.call(this),delete l.using[e];for(var t=r.length-1;t>=0;t--)r[t][1]===e&&r.splice(t,1);u()}};e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(193),h=n(856),m=n(3).parse,v=n(857);n(858);var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i=o.call(this,e,t),$.extend(!0,i.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"});var s=null!==(n=null===(r=i.evaluate)||void 0===r?void 0:r.answers)&&void 0!==n?n:[];return e.choices&&e.choices.options.forEach((function(e){s.find((function(t){return t.id==e.id}))||s.push({id:e.id,answer:""})})),i.defaultEvaluate={type:"3",matchType:"5",score:10,answers:s,answerKeys:""},i.defaultScoreOfPerOption=1,i.optionLimit=100,i.resultScoreArr=[],i}return t=a,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=(e.css,e.properties),i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,p=l.title.content,f=l.des.content;this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t;var d=this.getFormRelavent(),v=d.size,g=d.styleType,y=$(m(h,{id:t,type:r,placeholder:c,required:a,title:p,des:f,sizeType:v,styleType:g}));return this.$options=y.find(".options"),this.create$options(),y}},{key:"create$li",value:function(){var e,t=c(f(a.prototype),"create$li",this).call(this);this.$formComp.css({"border-width":"0px","background-color":"transparent","border-radius":"0px"}),this.updateInputCss(this.compJson.css),this.updateContent$DomCss(this.getFormRelavent().content&&this.getFormRelavent().content.css);var n=this.eqxPage.pageJson.properties.formStyle;return t.find(".text-des").css({color:null==n||null===(e=n.title)||void 0===e?void 0:e.color,fontWeight:"normal"}),this.$formComp.find(".textarea-wraper").css({borderWidth:n.border.borderWidth,borderColor:n.border.borderColor,borderStyle:n.border.borderStyle,backgroundColor:n.input.backgroundColor,color:n.input.color}),t}},{key:"setInputTitle",value:function(e){this.$context.find("textarea").attr("placeholder",e)}},{key:"updateFillStyle",value:function(e){var t="fill"==e?"addClass":"removeClass";this.$formComp[t]("fill")}},{key:"check",value:function(){var e=this,t=this,n=this.ruleHide?"（跳过）":this.getValue(),r=this.compJson.properties,o=r.formCheck;this.ruleHide&&(n=[{id:"-99",content:"（跳过）"}]);var i=JSON.parse(JSON.stringify(n)),a=0;r.formRelevant.showScoreAndAnswer&&(a=this.calcScore(n),this.ruleHide||(i=i.map((function(t,n){return e.resultScoreArr.length>0&&t.id==e.resultScoreArr[n].id&&-1==t.content.indexOf("（".concat(e.resultScoreArr[n].score,"分）"))&&(t.content+="（".concat(e.resultScoreArr[n].score,"分）"),t.score=e.resultScoreArr[n].score),t}))));var s={list:i,score:a};r.formRelevant.showScoreAndAnswer&&(s.totalScore=a);var c={success:!0,pageId:this.pageId,key:this.name,value:JSON.stringify(s),setValue:JSON.stringify({list:n,score:a}),elementId:this.id,type:this.type,score:a};if(!this.ruleHide){var u=!0,l=0;n.forEach((function(e){e.content?function(e){var n,r,i,a;if(o&&!t.ruleHide)null!==(n=o.min)&&void 0!==n&&n.checked&&null!==(r=o.min)&&void 0!==r&&r.limit&&e.length<o.min.limit?(c.success=!1,c.message="".concat("该项","最少填").concat(o.min.limit,"个字")):null!==(i=o.max)&&void 0!==i&&i.checked&&null!==(a=o.max)&&void 0!==a&&a.limit&&e.length>o.max.limit&&(c.success=!1,c.message="".concat("该项","最多填").concat(o.max.limit,"个字"))}(e.content):(u=!1,l++)})),l===n.length&&(c.value="",c.setValue=""),this.required&&!u&&(c.success=!1,c.message="".concat("该项","为必填项"))}return c}},{key:"calcScore",value:function(e){var t=this,n=0;if(this.resultScoreArr=[],this.ruleHide)return 0;var r=this.evaluate,o=r.type,i=r.score,a=r.answers;o=parseInt(o);var s=this.compJson.choices.options;switch(o){case 3:var c={},u=!0;s.forEach((function(e){var t=e.id;c[t]=e.score})),a.forEach((function(r,o){var i=r.id,a=c[i];t.getTruthy(e[o].content,o)?(n+=a,t.resultScoreArr.push({id:i,score:a})):(u=!1,t.resultScoreArr.push({id:i,score:0}))})),c=null,u&&(n=i);break;case 4:var l=e.every((function(e,n){return t.getTruthy(e.content,n)}));n=l?i:0,this.resultScoreArr=[]}return isNaN(parseInt(n))?0:parseFloat(n)}},{key:"updateOptions",value:function(e){var t=this.create$options();this.$options.html(t),this.updateInputCss(this.compJson.css),this.updateFormHeight()}},{key:"create$options",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties.required,o=void 0===r?null:r,i=this.compJson.choices.options;this.$options.html(v.$option({list:i,id:t,type:n,required:o},this.tranSpaceAndEnter))}},{key:"getValue",value:function(){var e=this,t=[],n=this.id;return this.compJson.choices.options.forEach((function(r){t.push({id:r.id,value:r.label,content:e.$options.find("#".concat(n,"_").concat(r.id)).val()})})),t}},{key:"updateInputCss",value:function(e){var t;if(e){var n={},r=this.eqxPage.pageJson.properties.formStyle;["borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius","borderWidth","borderStyle","borderColor","backgroundColor","color"].forEach((function(t){n[t]=e[t]})),this.$formComp.find(".text-des").css("color",(null==r||null===(t=r.title)||void 0===t?void 0:t.color)||n.color),this.$formComp.find(".textarea-wraper").css(i(i({},n),r.input||{}))}}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("textarea");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.on("input",(function(){var e=t.getRealValueForTrigger();t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,e)}))}},{key:"getRealValueForTrigger",value:function(){var e=this.getValue();return e.find((function(e){return e.content}))?JSON.stringify(e):""}},{key:"updateLabelContent",value:function(e,t){this.$options.find(".text-des[pid=".concat(this.id,"_").concat(t,"]")).html(this.tranSpaceAndEnter(e)),this.updateFormHeight()}},{key:"autoFill",value:function(e,t){var n=this;String(e).includes("（跳过）")||("string"==typeof e&&(e=JSON.parse(e)),e.list&&(e=e.list),e.length&&(e.forEach((function(e){var t=e.content;t.indexOf("（".concat(e.score,"分）"))>-1&&e.hasOwnProperty("score")&&(t=t.replace("（".concat(e.score,"分）"),"")),n.$li.find('[name="eq[f_'.concat(n.id,"_").concat(e.id,']"]')).val(t)})),"showLast"===t&&this.$li.css("pointer-events","none")))}},{key:"answerRendered",value:function(e){var t=this;this.getValue().forEach((function(n,r){var o=t.getTruthy(n.content,r)?"correct":"error",i='<div class="comp-answer-item fill-blank '.concat(o,'">\n                            <div class="comp-answer-item-title">').concat(t.tranSpaceAndEnter(n.value),"</div>\n                            <span>").concat(n.content,"</span>\n                        </div>");e.append(i)}))}},{key:"afterAppendToPage",value:function(){this.eqxScene.isCardScene||"view"===this.eqxScene.config.mode&&"none"!==this.$li.css("display")&&(this.$li.css("height",""),this.update$li({height:this.$li.outerHeight()}))}},{key:"eleShow",value:function(){c(f(a.prototype),"eleShow",this).call(this),this.eqxScene.isCardScene||"view"===this.eqxScene.config.mode&&"none"!==this.$li.css("display")&&(this.$li.css("height",""),this.update$li({height:this.$li.innerHeight()}))}},{key:"updateContentCss",value:function(e){this.updateContent$DomCss(e),this.updateFormJson(e,"content")}},{key:"updateFormCompCss",value:function(e){this.updateContentCss(e),this.updateBorderStyle(e)}},{key:"updateBorderStyle",value:function(e){this.$formComp.find(".textarea-wraper").css({borderWidth:e.borderWidth+"px",borderStyle:e.borderStyle,borderColor:e.borderColor,backgroundColor:e.backgroundColor})}},{key:"updateTitleCss",value:function(e){c(f(a.prototype),"updateTitleCss",this).call(this,e),this.$options.find(".text-des").css("color",e.color)}},{key:"updateContent$DomCss",value:function(e){}},{key:"getOptionArray",value:function(){var e=[],t=this.compJson.choices;return"string"==typeof t&&(t=JSON.parse(t)),t.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e.push(n)})),e}}])&&s(t.prototype,n),r&&s(t,r),a}(d);e.exports=g},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="fill-blank form-comp-box #{sizeType} #{styleType}" style="width:100%;height:auto" ctype="#{type}">\n    <div class="options">\n        <div class="option-list">\n            <textarea id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" style="width: 100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto"></textarea>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={}},function(e,t,n){e.exports=n.p+"images/wexin_sound-31d6cf.mp3"},function(e,t,n){"use strict";n(879),e.exports={alertTpl:function(){return'<div class="vote-alert">\n              <span></span>\n            </div>'}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1),i=n(24).getItem;e.exports={getComments:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/list?id="+e;return t&&(n="".concat(n,"&ssid=").concat(t)),r({type:"GET",url:n})},giveLike:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/like/set";return t&&(n="".concat(n,"?ssid=").concat(t)),r({type:"POST",url:n,data:e})},getReplyLike:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/reply/like/set";return t&&(n="".concat(n,"?ssid=").concat(t)),r({type:"POST",url:n,data:e})},deleteMsg:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/delete";return t&&(n="".concat(n,"?ssid=").concat(t)),r({type:"POST",url:n,data:e})},commitMsg:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/save";return t&&(n="".concat(n,"?ssid=").concat(t)),r({type:"POST",url:n,data:e})},getMsgList:function(e){var t=i("wxOpenid"),n=o.LONG_PAGE_PREVIEW+"lp/msg/user/list";return t&&(n="".concat(n,"?ssid=").concat(t)),r({type:"GET",url:n,data:e})}}},function(e,t,n){e.exports=n.p+"images/jubao_03-7d80ec.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(191),f=n(913),d=n(0).mobilecheck,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=c.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1},advanceStyle:{required:!0}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.formManager.add(u(n)),n.optionLimit=20,n.titleLimit=20,n}return t=p,(n=[{key:"create$li",value:function(){var e=i(l(p.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle;return this.$formComp.css({"border-width":t.border.borderWidth,"background-color":this.scoreSettings.bgColor||t.input.backgroundColor,"border-radius":t.border.borderRadius}),e.find(".scoreMatrix-table").css("color",t.input.color),e}},{key:"create$context",value:function(){var e=this.compJson,t=this.eqxScene.config.mode,n=e.id,r=e.pageId,o=e.type,i=e.properties,a=i.required,s=i.formRelevant,c=void 0===s?{}:s,u=c.title&&c.title.content||"",l=c.des&&c.des.content||"";this.scoreSettings=this.getScoreSettings();var p=this.scoreSettings,d=p.minValue,h=p.maxValue,m=(p.scoreLevel,o=p.type,p.bgColor),v=f.$compDiv({id:n,type:o,required:a,formTitle:u,formDes:l,minValue:d,maxValue:h,mode:t,bgColor:m});return t=this.eqxScene.config.mode,this.required=a,this.title=u,this.name="eq[f_".concat(n,"]"),this.pageId=r,v.find("table").append(f.render(this.scoreSettings,t,n)),this.$table=v.find("table.scoreMatrix-table"),this.$tableWraper=v.find(".table-container-wraper"),this.$score=v.find('input[type="hidden"]'),this.$titleDiv=v.find(".rating-title"),v}},{key:"bindAfterRenderEvent",value:function(e){var t=this;i(l(p.prototype),"bindAfterRenderEvent",this).call(this,e,this.compJson),this.$tableWraper.css("pointer-events","auto").on("DOMMouseScroll mousewheel",(function(e){var n=e.originalEvent;t.getScrollDirection(e.originalEvent)||n.stopPropagation()}));var n=this.scoreSettings.type,r=this.compJson.id;if("radio"!=n){var o=n.replace(/^([a-z]*)-([a-z]*)-[a-z]*/,"$1-$2-"),a=o+"l",s=o+"f";this.$table.on("click",".star-item",(function(){var e=$(this).attr("list-id"),t=$(this).index()+1;$("input[name=scoreMartix_".concat(r,"_").concat(e,"]")).val(t),$(this).parent().children().find("i").removeClass(a).addClass(s),$(this).nextAll().find("i").removeClass(s).addClass(a)}))}}},{key:"getScrollDirection",value:function(e){return 2==e.axis||Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)}},{key:"afterAppendToPage",value:function(){if(this.$li){var e=d(),t=this.$li.css("display");"none"==t&&this.$li.show().css("visibility","hidden");var n=this.$table,r=n.width(),o=this.$tableWraper.width(),i=this.$tableWraper.find(".scroll-rect");if(0!==r)if(this.$li.css({visibility:"visible",display:t}),r+20<=o)i.hide();else if(r+=20,e)i.hide(),this.$tableWraper.find(".table-outer-wraper").css("width",r+"px");else{this.myScroll&&this.myScroll.destroy(),this.$tableWraper.css("overflow","hidden");var a=this.$tableWraper.get(0),s=this.eqxScene.config.mode;i.css("border-width","1px 0px").show(),"edit"==s?(a=i.find(".scroll-wraper").get(0),$(a).children().css("width",r+"px")):this.$tableWraper.find(".table-outer-wraper").css("width",r+"px"),this.myScroll=new IScroll(a,{preventDefault:!1,mouseWheel:!1,scrollbars:!0,click:!1,tap:!0,bounce:!1,interactiveScrollbars:!0,scrollX:!0,scrollY:!1,probeType:3}),"edit"==s&&this.myScroll.on("scroll",(function(){n.css("transform","translate(".concat(this.x,"px ,0px)"))}))}else setTimeout(this.afterAppendToPage.bind(this),500)}}},{key:"updateScoreMatrixHeight",value:function(){this.$li.css({height:""}),this.update$li({height:this.$li.outerHeight()}),this.autoSizeTopDown()}},{key:"updateContentTitle",value:function(){var e=this,t=this.$table.find(".title");this.scoreSettings.contentOption.list.forEach((function(n,r){$(t[r]).find("div").html(e.tranSpaceAndEnter(n.content))}))}},{key:"updateOption",value:function(){var e=this,t=this.$table.find(".opt-content");this.scoreSettings.contentOption.optionsList.forEach((function(n,r){$(t[r]).html(e.tranSpaceAndEnter(n.content))}))}},{key:"updateColor",value:function(e){"eqf-score-scale"==this.scoreSettings.type?this.$table.find(".star-item").children().css({backgroundColor:e,borderColor:e}):this.$table.find(".star-item").children().css("color",e)}},{key:"updateBgColor",value:function(e){this.$boxContentDiv.find(".form-comp-box").css("background-color",e)}},{key:"updateBorderStyle",value:function(e){this.$formComp.css({"border-width":e.borderWidth+"px"})}},{key:"updateFormCompCss",value:function(e,t){if(e){var n=JSON.parse(JSON.stringify(e));if(0!=Object.keys(n).length){var r=JSON.parse(JSON.stringify(n));r.borderRadius&&(this.$boxContentDiv.find(".table-outer-wraper").css("border-radius",r.borderRadius),delete r.borderRadius),this.$formComp.css(r),"themeApply"==t&&(this.updateColor("#FFB243"),this.$boxContentDiv.find(".table-outer-wraper").css("color",e.color),this.$boxContentDiv.find(".scoreMatrix-table").css("color",e.color)),this.updateCss(n),this.updateFormRelevantJson(e,t),this.autoSizeTopDown(),this.updateFormHeight()}}}},{key:"updateFormRelevantJson",value:function(e,t){var n=this.eqxPage.pageJson.properties.formStyle,r=this.compJson.properties.formRelevant.scoreSettings;Object.assign(r,{bgColor:e.backgroundColor?e.backgroundColor:n.input.backgroundColor,color:"themeApply"==t?"#FFB243":r.color})}},{key:"check",value:function(){var e=this,t=[],n=0,r=this.getValue(),o=this.getSelectedItems(r),i=this.compJson.properties.formRelevant.showScore,a=this.scoreSettings,s=a.baseNum,c=a.type,u=a.contentOption,l=u.list,p=u.optionsList;if(this.ruleHide)t=[{id:"-99",content:"（跳过）"}];else{var f=this.calcScore(r);Object.keys(r).forEach((function(o){var a="",u="radio"==c&&r[o]?e.getItemById(p,r[o]).content:r[o],d=u&&(i&&"radio"==c||"radio"!==c&&0!=s)?"（".concat(f[o],"分）"):"";a+="".concat(e.getItemById(l,o).content,"：").concat(u+d),r[o]&&t.push({id:o,value:r[o],score:f[o],content:a}),n+=isNaN(parseInt(f[o]))?0:parseInt(f[o])}))}("radio"==c&&!i||0===s)&&(n=""),this.getTipTitle();var d={success:!0,pageId:this.pageId,key:this.name,score:n,value:JSON.stringify(t),elementId:this.id};return 0===o&&delete d.value,!this.required||o||this.ruleHide||(d.success=!1,d.message="该项为必填项"),d}},{key:"getSelectedItems",value:function(e){e=e||this.getValue();var t=0;for(var n in e){if(!e[n])return!1;t++}return t}},{key:"getValue",value:function(){var e=this,t={},n=this.scoreSettings.type;return this.scoreSettings.contentOption.list.forEach((function(r){var o="radio"===n?e.$table.find("input[name=scoreMartix_".concat(e.id,"_").concat(r.id,"]:checked")):e.$table.find("input[name=scoreMartix_".concat(e.id,"_").concat(r.id,"]"));t[r.id]=o.val()||""})),t}},{key:"getRealValueForTrigger",value:function(){var e=this,t={},n=this.scoreSettings.type,r=!1;if(this.scoreSettings.contentOption.list.forEach((function(o){var i="radio"===n?e.$table.find("input[name=scoreMartix_".concat(e.id,"_").concat(o.id,"]:checked")):e.$table.find("input[name=scoreMartix_".concat(e.id,"_").concat(o.id,"]"));t[o.id]=i.val()||"",i.val()&&(r=!0)})),r)return t}},{key:"calcScore",value:function(e){var t=this,n=this.scoreSettings,r=n.type,o=n.baseNum,i=n.contentOption.optionsList,a={};return Object.keys(e).forEach((function(n){var s=e[n];if("radio"===r)if(s){var c=t.getItemById(i,s);a[n]=c?isNaN(c.score)?0:c.score:0}else a[n]=0;else{var u=s*o;a[n]=isNaN(u)?0:u}})),a}},{key:"getItemById",value:function(e,t){return e.find((function(e){return e.id==t}))}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e);var n=this.ruleIds,r=".star-item",o=this;"radio"==this.scoreSettings.type&&(r=".matrix-radio-item"),this.$table.on("click",r,(function(){o.eqxPage.EqxFormRulesTrigger.listen(n,o.id,t.getRealValueForTrigger())}))}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=JSON.parse(e),o=this.id,i=this.scoreSettings.type;r.forEach((function(e){"radio"!=i?(setTimeout((function(){n.$table.find('.star-item[list-id="'.concat(e.id,'"]')).eq(e.value-1).trigger("click")})),n.$table.find('input[name="scoreMartix_'.concat(o,"_").concat(e.id,'"]')).val(e.value)):n.$table.find('input[name="scoreMartix_'.concat(o,"_").concat(e.id,'"]')).val(e.value.split(","))})),"showLast"===t&&this.$table.css("pointer-events","none")}}},{key:"updateItemSizeByPage",value:function(e,t){i(l(p.prototype),"updateItemSizeByPage",this).call(this,e,t),this.afterAppendToPage()}},{key:"compJsonToStr",value:function(){return i(l(p.prototype),"compJsonToStr",this).call(this)}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=h},function(e,t,n){"use strict";e.exports='<div class="vote-sign-up-box" id="voteSignUpBox">\n    <div class="content">\n        <div id="voteSignUpFrom">\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n(1);var r=n(16).getRatio,o=n(198).voteBtnTpl,i=n(109),a=i.getVoteIconShow,s=i.getVoteIconType,c=n(9).qiniuZoom;function u(e,t){var n,i="edit"===t.eqxScene.config.mode,u=t.isCanDirectVote,l=t.voteSettings,p=l.showResult,f=l.chooseModal,d=t.id,h=t.voteOptionsService,m=t.eqxPage,v=t.compJson,g=t.rankResultCache,y=m.getFormStyle("border"),b=v.css,x=b.borderWidth,w=b.borderStyle,S=b.borderColor,k=(b.borderRadius,b.backgroundColor,y.borderWidth),O=void 0===k?x:k,E=y.borderStyle,C=void 0===E?w:E,_=y.borderColor,I=void 0===_?S:_;y.borderRadius;console.log(I),n={border:"".concat(Math.min(O,1)||0,"px ").concat(C," ").concat(I)};var P=p?"block":"none",T=i?"none !important":"block",R=Math.floor(1e8*Math.random()),$=function(e,t){var n=r();return c(e,{single:560,list:560,multiple:320}[t]*n,null,!0)}(e.cover||e.src,f),A="multiple"===f?"checkbox":"radio",q=a(e),j=g["vote_".concat(d,"_").concat(e.id)]?g["vote_".concat(d,"_").concat(e.id)].num:0,L=g["vote_".concat(d,"_").concat(e.id)]?g["vote_".concat(d,"_").concat(e.id)].percent:"0%";return'\n            <li class="image-vote-item image-vote-item-'.concat(e.id," vote_").concat(d,"_").concat(e.id,'" \n            option-id="').concat(e.id,'" data-index="').concat(e.index,'" style="border:').concat(n.border,';">\n                    <div class="item-box">\n                        <img src="').concat(c($),'" data="').concat(e.id,'" class="image-vote-item-img">\n                        <div class="vote-result" style="display: ').concat(P,'">\n                            <span>').concat(j,"票  ").concat(L,'</span>\n                        </div>\n                    </div>\n                    <label for="vote_').concat(d,"_").concat(e.id,"_").concat(R,'">\n                        <div class="item-option">\n                            <div>\n                                <div class="vote-select-mode item-option-select ').concat(A,"_vote ").concat(h.isSelected(e.id)?"active":"",'" style="').concat(u?"display: none;":"",'">\n                                    <i class="eqf-yes"></i>\n                                    ').concat(h.isSelected(e.id)?'<input class="radioOrCheckbox" checked="true" style="display: '.concat(T,'" type="').concat(A,'" name="eq[f_').concat(d,']" value="').concat(e.id,'" id="vote_').concat(d,"_").concat(e.id,"_").concat(R,'">'):'<input class="radioOrCheckbox" style="display: '.concat(T,'" type="').concat(A,'" name="eq[f_').concat(d,']" value="').concat(e.id,'" id="vote_').concat(d,"_").concat(e.id,"_").concat(R,'">'),'\n                                </div>\n                                <span class="item-option-').concat(e.id,'">').concat(t.tranSpaceAndEnter(e.content),'</span>\n                                <div class="item-option-info info-').concat(e.id,'" data="').concat(e.id,'" style="display: ').concat(q,'">\n                                    <em class="').concat(s(e),'"></em>\n                                </div>\n                            </div>\n                        </div>\n                    </label>\n                    ').concat(u&&o||"","\n            </li>\n        ")}e.exports={getImageVoteDom:function(e,t,n){var r=e.voteSettings.list,o="";return n&&(r=n),r.forEach((function(e){o+=u(e,t)})),r.length||(o+='<div class="no-option" ng-show="!vm.list.length">            <div class="empty-img"></div>            <span>还没有选项</span>        </div>'),o},getOptionDom:u,voteBtnTpl:o,getEmptyDom:function(){return'\n    <div class="no-option" ng-show="!vm.list.length">\n        <div class="empty-img"></div>\n        <span>还没有选项</span>\n    </div>\n    '}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).manager=t,n.compJson=n.master.compJson,n.type=10,n.playIndex=0,n.videos=[],n.register(),n}return t=c,(n=[{key:"addEventListeners",value:function(){var e=this,t=this.master.$li;this.videos=t.find("video"),this.videos.on("ended",(function(){e.isPlay()||e.end()}))}},{key:"update",value:function(e){switch(e.type){case"stop":this.end();break;case"play":this.play()}}},{key:"play",value:function(e){isNaN(e)||(this.playIndex=e),this.videos[this.playIndex]&&this.videos[this.playIndex].play(),this.manager.onPlay(this)}},{key:"end",value:function(){this.manager.onEnd(this)}},{key:"isPlay",value:function(){return!1}}])&&o(t.prototype,n),r&&o(t,r),c}(n(98));e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,r=t.choices;"string"==typeof r&&(r=JSON.parse(r));var o=$("<div>"),i=(r.options.length,"5206"==this.compJson.type);return r.options.forEach((function(t,a){var s=i?t.id==r.default:t.default,c=Math.floor(1e8*Math.random()),u=e.$option({compId:n,index:a,optionId:t.id,optionLabel:t.label,inputType:i?"radio":"checkbox",checked:s,ranId:c});o.append(u)})),o.html()}}])&&o(t.prototype,n),r&&o(t,r),c}(n(89));e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(272),p=n(273),f=n(300).jobList,d=n(300).professionData,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).innerNotHeight=!1,n}return t=l,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.formRelevant,a=void 0===i?{}:i,s=o.required,c=e.css,u=c.borderWidth,l=c.backgroundColor,h=e.choices.options,m=void 0===h?[]:h,v=a.title.content,g=a.des.content;u||(e.css.borderWidth=0,e.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),l||(e.css.backgroundColor="#ffffff");var y={options:[]},b="5207"==e.type?f:d,x=JSON.parse(JSON.stringify(b.dataOptions));x.unshift(m[0]);var w=y.options=this.jobOptions=x;this.jobChoices=y,this.name="eq[f_".concat(t,"]"),this.required=s,this.pageId=n;var S=p.$compDiv({id:t,type:r,required:s,title:v,des:g}),k=this.$select=S.find("select"),O=w.map((function(e){return p.$option({selected:e.selected,value:e.value,label:e.label})}));return k.append(O),k.css("color",e.css.color),S}},{key:"updateFormCompCss",value:function(e){i(u(l.prototype),"updateFormCompCss",this).call(this,e),this.$select.css({color:e.color})}},{key:"changeOption",value:function(){var e=(this.jobOptions||[]).map((function(e){return p.$option({selected:e.selected,value:e.value,label:e.label})}));this.$select.empty(),this.$select.append(e)}},{key:"getOptionList",value:function(){var e=[];return this.jobChoices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));Object.assign(n,{id:t.value}),e.push(n)})),e}},{key:"getOptionHash",value:function(){var e={};return this.jobChoices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e[t.value]=n})),e}},{key:"getOptionArray",value:function(){var e=[];return this.jobChoices.options.forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.default&&(n.default=!1),e.push(n)})),e}},{key:"autoFill",value:function(e,t){var n=this;String(e).includes("（跳过）")||((this.jobOptions||[]).forEach((function(t){t.label!=e&&t.value!=e||n.$select.val(t.value)})),"showLast"===t&&this.$li.css("pointer-events","none"))}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=h},function(e,t,n){"use strict";e.exports={jobList:{dataOptions:[{value:1,label:"全日制学生",selected:!1},{value:2,label:"生产人员",selected:!1},{value:3,label:"销售人员",selected:!1},{value:4,label:"市场/公关人员",selected:!1},{value:5,label:"客服人员",selected:!1},{value:6,label:"行政/后勤人员",selected:!1},{value:7,label:"人力资源",selected:!1},{value:8,label:"财务/审计人员",selected:!1},{value:9,label:"文职/办事人员",selected:!1},{value:10,label:"技术/研发人员",selected:!1},{value:11,label:"管理人员",selected:!1},{value:12,label:"教师",selected:!1},{value:13,label:"顾问/咨询",selected:!1},{value:14,label:"专业人士(如会计师、律师、建筑师、医护人员、记者等)",selected:!1},{value:15,label:"其他",selected:!1}]},professionData:{dataOptions:[{value:1,label:"IT/软硬件服务/电子商务/因特网运营",selected:!1},{value:2,label:"快速消费品(食品/饮料/化妆品)",selected:!1},{value:3,label:"批发/零售",selected:!1},{value:4,label:"服装/纺织/皮革",selected:!1},{value:5,label:"家具/工艺品/玩具",selected:!1},{value:6,label:"教育/培训/科研/院校",selected:!1},{value:7,label:"家电",selected:!1},{value:8,label:"通信/电信运营/网络设备/增值服务",selected:!1},{value:9,label:"制造业",selected:!1},{value:10,label:"汽车及零配件",selected:!1},{value:11,label:"餐饮/娱乐/旅游/酒店/生活服务",selected:!1},{value:12,label:"办公用品及设备",selected:!1},{value:13,label:"会计/审计",selected:!1},{value:14,label:"法律",selected:!1},{value:15,label:"银行/保险/证券/投资银行/风险基金",selected:!1},{value:16,label:"电子技术/半导体/集成电路",selected:!1},{value:17,label:"仪器仪表/工业自动化",selected:!1},{value:18,label:"贸易/进出口",selected:!1},{value:19,label:"机械/设备/重工",selected:!1},{value:20,label:"制药/生物工程/医疗设备/器械",selected:!1},{value:21,label:"医疗/护理/保健/卫生",selected:!1},{value:22,label:"广告/公关/媒体/艺术",selected:!1},{value:23,label:"出版/印刷/包装",selected:!1},{value:24,label:"房地产开发/建筑工程/装潢/设计",selected:!1},{value:25,label:"物业管理/商业中心",selected:!1},{value:26,label:"中介/咨询/猎头/认证",selected:!1},{value:27,label:"交通/运输/物流",selected:!1},{value:28,label:"航天/航空/能源/化工",selected:!1},{value:29,label:"农业/渔业/林业",selected:!1},{value:30,label:"其他行业",selected:!1}]}}},function(e,t,n){"use strict";n(955);var r=n(956),o=n(3).parse;function i(e){var t=e.selected,n=void 0===t?null:t,r=e.val,o=e.label;return $('<option  class="comp_select_option" value="'.concat(r,'">').concat(o,"</option>")).attr("selected",n)}e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.required,a=void 0===i?null:i,s=e.title,c=e.des,u=$(o(r,{id:t,type:n,title:s,des:c}));return u.find("#".concat(t)).attr("required",a),u},$option:i,createTimeOption:function(e,t){var n=new Array("hours"==t?25:61).fill(1),r=e.value;return n.map((function(t,n){var o=null;return n==r&&(o=!0),i({selected:o,val:0==n?"":n,label:0==n?e.content:n<11?"0".concat(n-1):n-1})}))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(965);var l=n(196),p=n(966),f=n(3).parse,d=n(1),h=n(9).qiniuZoom,m=n(0).isWeixin,v=n(16).getRatio,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"create$li",value:function(){i(u(l.prototype),"create$li",this).call(this),this.$formComp.css({"border-width":"0px","background-color":"transparent","border-radius":"0px","font-size":"14px"}),this.$formComp.find(".options").css({"border-radius":"0px"});var e=this.eqxPage.getFormStyle("border");return this.updateFormCompCss(e),this.$li}},{key:"_updateSize",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=i(u(l.prototype),"_updateSize",this)).call.apply(e,[this].concat(n)),this.$li.css("height","auto"),this.update$li({height:this.$li.outerHeight()})}},{key:"$option",value:function(e){var t=e.compId,n=e.index,r=e.optionId,o=e.optionLabel,i=e.inputType,a=void 0===i?"radio":i,s=e.checked,c=e.isAnswer,u=(e.evaluate,e.ranId),l=e.isOtherOption,m=e.src;if(m=h("".concat(d.FILE).concat(m)),"view"==this.eqxScene.config.mode){var g=this.getFormRelavent(),y="single"==g.arrayType?560:"multiple"==g.arrayType?260:200,b="single"==g.arrayType?316:"multiple"==g.arrayType?260:200;m=h(m,y*v(),b*v())}var x="".concat(t).concat(n);o=this.tranSpaceAndEnter(o);var w=$(f(p,{id:x,inputType:a,compId:t,optionId:r,optionLabel:o,isAnswer:c,ranId:u,src:m}));return"edit"==this.eqxScene.config.mode&&w.find(".option-item").find("label").append('\n                <div class="m-isAnswer eqf-yes" style="display: '.concat(c,';">\n                </div>\n            ')),l||w.find(".otherOptionBlank").addClass("hide"),"view"==this.eqxScene.config.mode&&s&&w.find("input").attr("checked",!0),w}},{key:"updateScoreImage",value:function(e,t){this.$context.find(e).find("img").attr("src",h(t))}},{key:"updateImageScoreHeight",value:function(){this.$li.css({height:""}),this.update$li({height:this.$li.outerHeight()})}},{key:"updateFormHeight",value:function(e){var t=this.compJson;t.properties.formRelevant=t.properties.formRelevant?t.properties.formRelevant:{title:{content:"",css:{}},des:{content:"",css:{}}},this.$li.css("height","");var n=this.calcTitleAndDesHeight();this.$li.outerHeight()&&this.update$li({height:this.$li.outerHeight()}),this.$formComp.css("height","calc(100% - ".concat(n,"px)")),this.autoSizeTopDown(),this.updatePageHeight()}},{key:"updateFormCompCss",value:function(e){if(e){var t=JSON.parse(JSON.stringify(e));if(0!=Object.keys(t).length){var n=JSON.parse(JSON.stringify(t)),r=this.compJson.css,o=(r.borderWidth,r.borderStyle,r.borderColor,r.borderRadius,r.backgroundColor,r.color,n.borderWidth,n.borderStyle,n.borderColor,n.borderRadius,n.backgroundColor,this.eqxPage.getFormStyle("input")||{});this.updateOptionGroupCss(o),this.updateCss(t),this.autoSizeTopDown(),this.updateFormHeight()}}}},{key:"check",value:function(){return i(u(l.prototype),"check",this).call(this)}},{key:"calcTitleAndDesHeight",value:function(){if(this.$formTitle&&"none"!=this.$formTitle.css("display"))e=this.getFormTitleHeight();else var e=0;if(this.$formDes&&"none"!=this.$formDes.css("display"))t=this.getFormDesHeight();else var t=0;return parseFloat(e)+parseFloat(t)}},{key:"updateOptionGroupCss",value:function(e){if(e){var t=this.compJson.css,n=(t.borderStyle,t.borderColor,t.borderRadius),r=t.color,o=(e.borderWidth,e.borderStyle,e.borderColor,this.eqxPage.getFormStyle("input").color);this.$formComp.css("background-color","transparent"),this.$formComp.find(".image-score-option-group").css({borderRadius:n,color:o||r||(null==e?void 0:e.color)}).find(".option-item").css({backgroundColor:e.backgroundColor||"#fff",color:o||r||"#000"})}}},{key:"bindAfterRenderEvent",value:function(e,t){i(u(l.prototype),"bindAfterRenderEvent",this).call(this,e,t),this.$li.on("click",".image-item",(function(e){var t=e.currentTarget,n=t;if(m()&&wx){"IMG"!==t.tagName&&(n=t.querySelector("img"));var r=n.getAttribute("src");wx.previewImage({current:r,urls:[r]})}}))}},{key:"adaptFormHeight",value:function(){var e=this.getFormRelavent().arrayType;if("pc"===this.eqxPage.previewMode){if("multiple"===e){var t=this.$li.find("ul").find("li").not(":hidden"),n=t.length,r=n%4;t.each((function(e,t){var o={marginRight:"50px"};(e-3)%4==0?o.marginRight="0px":e%4==0&&(o.clear="left"),e>=n-r&&(o.paddingBottom="0px",o.marginBottom="0px"),$(t).css(o)}))}}else this.updateImageRender();return this.$formComp.css("height",""),this.$li.css({height:""}),this.$li.innerHeight()}},{key:"afterAppendToPage",value:function(){this.updateImageRender()}},{key:"updateImageRender",value:function(){var e=this.getFormRelavent().arrayType,t=this.compJson.css,n=t.paddingLeft,r=t.paddingRight,o=t.width;if("multiple"===e){var i=20*v(),a=16*v(),s=parseInt(o)-parseInt(n)-parseInt(r),c=Math.floor((s+i)/(130*v()+i)),u=this.$li.find(".options").find(".image-score-option-group").not(":hidden"),l=u.length,p=Math.floor(l/c);p=0==l-p*c?p-1:p,u.each((function(e,t){var n={marginRight:"".concat(i,"px"),marginBottom:"".concat(a,"px"),clear:"none"};n.marginRight="".concat(i,"px"),(e+1)%c==0?n.marginRight="0px":e%c==0&&(n.clear="left"),e+1>p*c&&(n.paddingBottom="0px",n.marginBottom="0px"),$(t).css(n)}))}this.updateFormHeight()}},{key:"bindRuleEvent",value:function(e){i(u(l.prototype),"bindRuleEvent",this).call(this,e)}},{key:"autoFill",value:function(e,t){i(u(l.prototype),"autoFill",this).call(this,e,t)}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=g},function(e,t,n){"use strict";e.exports={1:"表单",101:"问卷",102:"投票",103:"表单",104:"测评"}},function(e,t,n){"use strict";function r(e,t,n){if(void 0===e&&void 0===t&&void 0===n){var r=new Date;e=r.getFullYear(),t=r.getMonth()+1,n=r.getDate()}var i=o(e,t),a=function(e,t){return 1===t?{days:o(e-1,12),year:e-1,month:12}:{days:o(e,t-1),year:e,month:t-1}}(e,t),s=function(e,t){return 12===t?{days:o(e+1,1),year:e+1,month:1}:{days:o(e,t+1),year:e,month:t+1}}(e,t),c=function(e,t){return new Date(e,t,1).getDay()}(e,t-1);0===c&&(c=7);var u=a.days.slice(-1*c),l=s.days.slice(0,42-i.length-c);return{preDate:{day:u,year:a.year,month:a.month},currentDate:{day:i,year:e,month:t},nextDate:{day:l,year:s.year,month:s.month},currentDay:{year:e,month:t,day:n}}}function o(e,t){var n=[31,null,31,30,31,30,31,31,30,31,30,31][t-1]||(function(e){return e%400==0||e%100!=0&&e%4==0}(e)?29:28);return Array.from(new Array(n),(function(e,t){return t+1}))}e.exports={getCalendarDays:r,preMonth:function(e,t,n){return r(e,t,n)},nextMonth:function(e,t,n){return r(e,t,n)},weekArr:["日","一","二","三","四","五","六"],getDateDetail:function(e){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}}},function(e,t,n){"use strict";var r=n(104),o=r.getDayBeginTimesTamp,i=r.dateStrToTimesTamp;function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";return"day"===n?o(t)<=i(e):new Date(e).getTime()-60*t*60*1e3>Date.now()}window.isAdvanceTime=a,e.exports={isAdvanceTime:a,isOutAfterDay:function(e,t){return o(0)+60*t*24*60*1e3<=i(e)}}},function(e,t,n){"use strict";var r=n(46).getItem,o=n(4).removeUrlParam,i=n(0).isWeixin;e.exports={showDetail:function(e){var t=e.eqxPage.id,n=r("formLastdataRecords"),a="无";if(i()){var s=n[t];if(!s)return a;Object.keys(s).forEach((function(t){var n=s[t],r=!String(n).includes("[");if(t==e.id&&"（跳过）"!=n&&""!=n){if(r&&1==e.options[0].dateStyle.type)n=[{title:"",data:[(n=n.split(","))[0]+" "+n[1]]}];else if(r)n=[{title:"",data:[n]}];else{var o=JSON.parse(n).map((function(e){var t=e.title,n=e.periods,r=e.type;return{id:e.id,title:t,data:n.map((function(e){return 1==~~r?"".concat(e.date," ").concat(e.scope):"".concat(e.date)}))}})).sort((function(t,n){var r=e.options,o=void 0===r?[]:r;return o.findIndex((function(e){return~~e.id==~~t.id}))-o.findIndex((function(e){return~~e.id==~~n.id}))}));1===e.options.length&&(o[0].title=""),n=o}a=n}}))}else window.location.href=o("sourceType");return Array.isArray(a)?"<div>".concat(a.map((function(e){var t=e.title,n=void 0===t?"":t,r=e.data;return"<div>\n            ".concat(n&&'<div class="optionTitle">\n                '.concat(n,"\n            </div>"),'\n            <div class="select-date">\n            <div class="checkTitle">已预约时间：</div><div>').concat(r.join("<br/>"),"\n            </div></div></div>\n        </div>")})).join(""),"</div>"):'<div class="optionTitle">\n                    '.concat(a,"\n                </div>")},getIdByOneValue:function(e){return String(e.id).includes("|")?e.id:[e.id,e.date].filter((function(e){return e})).join("|")}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u(this,e),this.fns=t}return p(e,[{key:"addFns",value:function(e){var t=this;return e.forEach((function(e){return t.addFn(e)})),this}},{key:"addFn",value:function(e){return this.fns.includes(e)||this.fns.push(e),this}},{key:"removeFn",value:function(e){var t=this.fns.indexOf(e);return t>-1&&this.fns.splice(t,1),this}},{key:"clearFns",value:function(){return this.fns.length=0,this}},{key:"start",value:function(){return this}}]),e}(),d=function(e){o(n,e);var t=a(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(this,n),(r=t.call(this,o)).data=e,r}return p(n,[{key:"start",value:function(e){var t=this;return this.fns.forEach((function(n){return n.call(null,t.data,e)})),this}}]),n}(f),h=function(e){o(n,e);var t=a(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(this,n),r=t.call(this,o),Array.isArray(e)||(_DEBUG_&&console.error("Invalid Array"),e=[]),r.list=e,r}return p(n,[{key:"start",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.fns.forEach((function(t){return e.list.forEach((function(e){return t.call.apply(t,[null,e].concat(n))}))})),this}}]),n}(f);e.exports={ObjAdaptor:d,ListAdaptor:h}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(295),l=(n(1006),n(33)),p=l.beforeAdaptorData,f=l.perfectComp,d=n(1007),h=n(6),m=h.popUpModal,v=h.loadingShadow,g=(n(1008).findKey,n(75)),y=g.$postVoteSignUp,b=g.getVoteHistoty,x=g.checkVoteSign,w=n(0).isMobile,S=n(1009),k=n(1011),O=n(1012),E=n(126).dateFormat,C=n(1013),_=n(34),I=n(4).getUrlParam,P=n(7).getLocation,T=n(1014).ErrorWarpTpl,R=(n(3).parse,n(6).linkRiskIframeModal),A=n(4).openUrl,q=n(143).uploadLimitSize,j=n(23).filterTags;n(1015);var L=0;function M(e){var t,n,r,o,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=null==e||null===(t=e.compJson)||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.formRelevant)||void 0===r||null===(o=r.title)||void 0===o?void 0:o.content;return!a&&i&&(a=_[e.type]),a}function D(e){e.stopPropagation()}function B(e){D(e),e.preventDefault()}var F="name",N="url",H="desc",z="phone",J="descUrl",V=50,U={r:S().getDefaultJson("r",1,147),c:S().getDefaultJson("c",1,147),5210:k().getDefaultJson(!0),5214:O().getDefaultJson(!0)},W=["imageVote","videoVote","textVote"],G=new Map,K={},X=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.currentIndex=0,this.selectIds=[];var n=t.getEqxItems(),r=this.voteList=n.filter((function(e){return e.isVoteSignUp()}));if(!r||!r.length)throw new Error("没有可以报名的组件")}var t,r,i,a,l,h,g,S;return t=e,r=[{key:"getCompType",value:function(e){var t=this.voteList[0].id;return this.selectIds[e]&&(t=this.selectIds[e].element.id),t}},{key:"getGroupList",value:function(e){return e.compJson.properties.formRelevant.voteSettings.groupsList||[]}},{key:"createUploadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?"参赛视频":"参赛图片",r=this.offsetTop,o={content:"",css:{display:t?"none":"block",color:"#333",width:320,height:93,top:80+r,borderWidth:1,borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:3,textAlign:"center",fontSize:"12px",lineHeight:1.5,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px",zIndex:5,backgroundColor:"#fff",opacity:1,transform:"rotateZ(0deg)",borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0,left:0},id:N,num:7,pageId:220284,properties:{title:"上传"+n,initType:1,anim:[],formRelevant:{title:{content:n,css:{height:27,paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14",lineHeight:1.4,fontWeight:"bold",display:t?"none":"block"}},des:{content:"",css:{height:0,display:"none",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:14,lineHeight:1.4,fontWeight:"normal"}}},uploadType:e?"video":"image",uploadNote:"最多1个，每个".concat(e?q.video:q.image,"MB以内，")+(e?"mp4格式":"jpg/png/gif格式"),uploadLimit:1,zoom:11,formCheck:{min:{checked:!1,limit:null},max:{checked:!1,limit:null}},required:!t,symmetrySp:!0},sceneId:220284,title:"上传"+n,type:"uploadNew",name:"上传文件1",arrIndex:3};return o}},{key:"createUploadData_Des",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.offsetTop,r={content:"",css:{display:e?"none":"block",color:"#333",width:320,height:93,top:10+n,borderWidth:1,borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:3,textAlign:"center",fontSize:"12px",lineHeight:1.5,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px",zIndex:5,backgroundColor:"#fff",opacity:1,transform:"rotateZ(0deg)",borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0,left:0},id:J,num:7,pageId:220284,properties:{title:"",initType:1,anim:[],formRelevant:{title:{content:"",css:{height:27,paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14",lineHeight:1.4,fontWeight:"bold",display:e?"none":"block"}},des:{content:"",css:{height:0,display:"none",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:14,lineHeight:1.4,fontWeight:"normal"}}},uploadType:"image",uploadNote:"最多10个，每个".concat(q.image,"MB以内，jpg/png/gif格式"),uploadLimit:10,zoom:11,formCheck:{min:{checked:!1,limit:null},max:{checked:!1,limit:null}},required:!e&&t,symmetrySp:!0},sceneId:220284,title:"",type:"uploadNew",name:"说明图片",arrIndex:3};return r}},{key:"createInputData",value:function(e){return{content:"",css:{color:"#333",width:320,height:80,left:0,top:0+e,borderWidth:1,borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:3,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomRightRadius:3,borderBottomLeftRadius:3,backgroundColor:"#fff",textAlign:"left",fontSize:"14px",lineHeight:1.5,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px",zIndex:4,opacity:1,transform:"rotateZ(0deg)",borderRadiusPerc:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0},id:F,num:5,pageId:220284,properties:{placeholder:"请输入名称...",initType:1,anim:[],formRelevant:{title:{content:"名称",css:{height:27,paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14",lineHeight:1.4,fontWeight:"bold",display:"block"}},des:{content:"",css:{height:0,display:"none",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:14,lineHeight:1.4,fontWeight:"normal"}},validateType:{isOpen:!1}},zoom:11,formVersion:11901,formCheck:{min:{checked:!1,limit:null},max:{checked:!0,limit:300}},required:!0,symmetrySp:!1},isInput:1,sceneId:220284,title:"请输入名称...",type:"5210",name:"输入框1",arrIndex:2}}},{key:"createDesData",value:function(e){return{content:"",css:{color:"#333",width:320,height:106,left:0,top:173+e,borderWidth:1,borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:3,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomRightRadius:3,borderBottomLeftRadius:3,backgroundColor:"#fff",textAlign:"left",fontSize:"14px",lineHeight:1.5,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px",zIndex:6,opacity:1,transform:"rotateZ(0deg)",borderRadiusPerc:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0},id:H,num:8,pageId:220284,properties:{placeholder:"请输入...",initType:1,anim:[],formRelevant:{title:{content:"说明",css:{height:27,paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14",lineHeight:1.4,fontWeight:"bold",display:"block"}},des:{content:"",css:{height:0,display:"none",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:14,lineHeight:1.4,fontWeight:"normal"}}},zoom:11,formVersion:11901,formCheck:{min:{checked:!1,limit:null},max:{checked:!0,limit:2e3}},required:!1,symmetrySp:!0},isInput:1,sceneId:220284,title:"请输入...",type:"5214",name:"输入框2",arrIndex:4}}},{key:"createPhoneData",value:function(e){return{content:"",css:{color:"#333",width:320,height:80,left:0,top:279+e,borderWidth:1,borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:3,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomRightRadius:3,borderBottomLeftRadius:3,backgroundColor:"#fff",textAlign:"left",fontSize:"14px",lineHeight:1.5,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px",zIndex:7,opacity:1,transform:"rotateZ(0deg)",borderRadiusPerc:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0},id:z,num:9,pageId:220284,properties:{placeholder:"请输入手机号...",initType:1,anim:[],formRelevant:{title:{content:"联系手机号",css:{height:27,paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14",lineHeight:1.4,fontWeight:"bold",display:"block"}},des:{content:"",css:{height:0,display:"none",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:14,lineHeight:1.4,fontWeight:"normal"}},validateType:{value:"mobile",isOpen:!0}},zoom:11,formVersion:11901,formCheck:{min:{checked:!0,limit:11},max:{checked:!0,limit:11}},required:!0,symmetrySp:!1},isInput:1,sceneId:220284,title:"请输入联系手机号...",type:"502",name:"输入框3",arrIndex:5}}},{key:"handlerEvent",value:function(e){var t=e.target,n=e.type;if("change"===n){if(t===document.querySelector("#voteSignUpBox select")){if(this.currentIndex===t.selectedIndex)return;this.changeCurrent(t)}}else if("click"===n){if("cancelBtn"===t.id)return e.stopPropagation(),this.destroy(),!1;"6"===t.getAttribute("ctype")&&(e.stopPropagation(),this.submit())}}},{key:"changeCurrent",value:function(e){var t=this,n=this.voteList.find((function(e){return e.id===t.getCompType(t.currentIndex)}));this.currentIndex=e.selectedIndex;var r=this.voteList.find((function(e){return e.id===t.getCompType(t.currentIndex)}));if(n.type!==r.type){var o=String(r.type).includes("video"),i=String(r.type).includes("text"),a=this.eqxPage,s=a.getEqxItem(N);if(s&&s.deleteUploadFiles(),i)s.compJson.css.display="none",s.compJson.properties.formRelevant.title.css.display="none",s.compJson.properties.required=!1,s.updateDisplay("none"),s.updateRequired(!1),s.hideFormErrMsg(),s.$li.css("padding","0");else{s.compJson.properties.uploadType=o?"video":"image",s.$newUploadBtn=null;var c=o?"参赛视频":"参赛图片";this.customUploadTitle&&(c=this.customUploadTitle,c=o?c.replace(/图片/g,"视频"):c.replace(/视频/g,"图片")),s.updateFormTitle(c);var u=s.getBtnTitle();s.btnTitle=u,s.compJson.properties.title=u,s.updateTitle(s.getBtnTitle());var l="最多1个，每个".concat(o?q.video:q.image,"MB以内，").concat(o?"mp4格式":"jpg/png/gif格式");s.compJson.properties.uploadNote=l,s.updateUploadNote(l),s.compJson.css.display="block",s.compJson.properties.formRelevant.title.css.display="block",s.compJson.properties.required=!0;var p=s.compJson.css,f=p.paddingTop,d=p.paddingRight,h=p.paddingBottom,m=p.paddingLeft;s.$li.css("padding","".concat(f," ").concat(d,"px ").concat(h," ").concat(m,"px")),s.updateDisplay("block"),s.updateRequired(!0),s.initUplad()}var v=a.getEqxItem(J),g=this.props.getProp("checkVotingSignUp").options.elements;i?(v.deleteUploadFiles(),v.compJson.css.display="none",v.updateDisplay("none"),v.compJson.properties.required=!1,setTimeout((function(){document.querySelector("#inside_descUrl").click()}),0)):(v.initUplad(),g.forEach((function(e){["desc"].includes(e.id)&&(v.compJson.properties.required=e.isRequire)})),v.compJson.css.display="block",v.updateDisplay("block"))}}},{key:"submit",value:(S=s(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c,u,l,p,f,d,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.submiting){e.next=2;break}return e.abrupt("return");case 2:if(this.submiting=!0,t=this.sceneHandler.formManager.check(),e.prev=4,!t||!t.success){e.next=44;break}if(!this.props.eqxScene.config.disableSubmit){e.next=8;break}throw new Error("请发布后提交！");case 8:if(n=this.voteList.find((function(e){return e.id===h.getCompType(h.currentIndex)})),r=n.id,o=this.props.id){e.next=13;break}throw new Error("请先发布该作品");case 13:return i=this.eqxPage.getEqxComps(),a={},c=this.eqxPage.getEqxItem(J),i.forEach((function(e){if(e.id===J&&"none"!==c.compJson.css.display){var t=e.getValueInfo().value;a[e.id]={title:"参赛说明",content:t.map((function(e){return e.upKey})).join(",")}}if(e.id!==J&&e.getValueInfo&&50!=e.id){var r=e.getValueInfo(),o=r.title,i=r.value,s=r.label,u=Array.isArray(i)?i[0]:i,l=u||"";["r","c"].includes(e.type)&&(l=JSON.stringify({value:u,label:s})),["imageVote","videoVote"].includes(n.type)&&"uploadNew"===e.type&&(l=u.upKey),a[e.id]={title:o,content:j(l)}}})),u={elementId:r,pid:o,type:n.type,values:a},s=this.selectIds.length&&this.selectIds[this.currentIndex].groupId,u.groupId=s?Number(s):null,e.prev=21,e.next=24,y(u);case 24:if(!(l=e.sent).success){e.next=34;break}return e.next=28,b({pid:scene.id}).finally((function(){h.submiting=!1}));case 28:p=e.sent,f=this.props.pageJson.properties,d=f.voteTimes,this.renderSuccess(0===d||p.obj<d,p.list),e.next=36;break;case 34:m(l.msg,this.props),this.submiting=!1;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(21),m(e.t0.msg||"网络异常",this.props),this.submiting=!1;case 42:e.next=49;break;case 44:this.eqxPage.getEqxCompById(t.elementId).showFormErrMsg(t.message),this.isPc||this.scrollById(t.elementId),this.submiting=!1;case 49:e.next=55;break;case 51:e.prev=51,e.t1=e.catch(4),m(e.t1.message,this.props),this.submiting=!1;case 55:case"end":return e.stop()}}),e,this,[[4,51],[21,38]])}))),function(){return S.apply(this,arguments)})},{key:"scrollById",value:function(e){var t=this.eqxPage.getEqxCompById(e).compJson.css.top;w()?document.getElementById("voteSignUpFrom").querySelector("#edit_area").scrollTop=t:this.isPc?$(".pc-preview").css("top",-t):this.eqxPage.moveByCompId(e)}},{key:"boxNode",get:function(){return document.querySelector("#voteSignUpBox")}},{key:"eqxPage",get:function(){return this.sceneHandler.eqxPageList[0]}},{key:"renderSuccess",value:(g=s(regeneratorRuntime.mark((function t(n,r){var o,i,a,s,c,u,l,p,f,d,h,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.pageJson.config,o=this.props.pageJson.properties,i=o.checkVotingSignUp.options,a=i.afterLink,s=i.sucessInfo,c=void 0===o.wxNotice||o.wxNotice,o.voteTimes,o.onVotingSignUp,!n){t.next=11;break}return t.next=9,this.checkeCanSgin();case 9:!1!==t.sent&&(n=!1);case 11:this.sceneDestroy(),u="",r.forEach((function(e){var t=e.createTime,n=e.values.name,r=e.status,o="";o=0===r?"<span class='circle-waitting'></span>待审核":1===r?"<span class='circle-success'></span>审核通过":"<span class='circle-fail'></span>审核不通过",u+="\n                <tr>\n                    <td>".concat(E(new Date(t),"yyyy-MM-dd"),"</td>\n                    <td>").concat(n.content,"</td>\n                    <td>").concat(o,"</td>\n                </tr>")})),l="",n&&a.opened?l="\n            <div class='vote-qrcode-reset vote-btn-group'>\n                <div class='vote-reset-btn'>再次报名</div>\n                <div class=\"vote-custom-btn\">".concat(a.title,"</div>\n            </div>"):n&&!a.opened?l="\n            <div class='vote-qrcode-reset'>\n                <div class='vote-reset-btn'>再次报名</div>\n            </div>":!n&&a.opened&&(l="\n            <div class='vote-qrcode-reset'>\n                <div class=\"vote-custom-btn\">".concat(a.title,"</div>\n            </div>")),p="".concat(I("appletPreview")?"保存图片并识别":"识别下方二维码","关注后，可接收审核结果"),f="\n            <div class='vote-success-qrcode'>\n                <div class='vote-qrcode-tip'>\n                    ".concat(p,"\n                </div>\n                <div class='vote-qrcode-img'>\n                </div>\n            </div>\n        "),d="\n            <div class='successBox'>\n                <div class='vote-success-header'>\n                    <div class='vote-success-title'>\n                        <em class='eqf-yes-f'></em>\n                    </div>\n                    <div class='vote-success-tip'>\n                        ".concat(0===s.length?"您的报名已提交，请等待主办方审核":s,"\n                    </div>\n                </div>\n                ").concat(c?f:"","\n                ").concat(l,"\n                <div class='vote-history-box'>\n                    <div class='vote-history-title'>历史报名记录</div>\n                    <table class='vote-history-panel'>\n                        <tr>\n                            <th>报名时间</th>\n                            <th>名称</th>\n                            <th>报名状态</th>\n                        </tr>\n                        ").concat(u,"\n                    </table>\n                </div>\n                <div class='vote-success-back'>\n                    <div class='vote-back-btn'>\n                        <em class='eqf-left'></em>\n                    </div>\n                </div>\n            </div>\n        "),$("#voteSignUpFrom").append($(d)),(h=new Image).src=C,$(".vote-qrcode-img").html(h),$(".vote-reset-btn").on("click",(function(t){t.stopPropagation(),G.delete(m.props),$("#voteSignUpBox").remove(),e.renderVoteSignUpBySinger(m.props,"pcRender"===m.props.renderMode)})),$(".vote-back-btn").on("click",(function(e){e.stopPropagation(),m.destroy()})),$(".vote-custom-btn").on("click",(function(){var e=a.href;/(http|https):\/\/([\w.]+\/?)\S*/.test(e)||(e="https://"+e),m.props.eqxScene.formManager.checkGcVerifyCode(e).then((function(e){var t=e.risk,n=e.link;t?R(n,m.props.eqxScene):A(n)}))}));case 26:case"end":return t.stop()}}),t,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"sceneDestroy",value:function(){this.sceneHandler&&this.sceneHandler.destroy(),this.sceneHandler=null}},{key:"destroy",value:function(){var e=this.boxNode;this.sceneDestroy(),e&&(e.classList.add("closeing"),this.addEventListener(!0),setTimeout((function(){return e.parentNode.removeChild(e)}),600),this.handlerNoScroll(!0)),G.delete(this.props)}},{key:"render",value:(h=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkeCanSgin();case 2:if(!1===(n=e.sent)){e.next=6;break}return this.renderErroePage(n),e.abrupt("return");case 6:if(r=!!t&&"pcCompute",this.isPc=r,!this.isRenderOver){e.next=10;break}return e.abrupt("return",!0);case 10:w()&&document.addEventListener("touchmove",B),this.renderWarpper(),this.isRenderOver=!0,this.addEventListener(),this.renderFrom(r),w()&&setTimeout((function(){document.removeEventListener("touchmove",B)}),20);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"checkeCanSgin",value:(l=s(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c,u,l,p,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===K[this.props.id]){e.next=2;break}return e.abrupt("return",K[this.props.id]);case 2:if(void 0===this.hasError){e.next=4;break}return e.abrupt("return",this.hasError);case 4:if(t=this.props.eqxScene.getPageConfig("voteEnrollmentSetting"),n=t.startTime,r=t.endTime,o=t.openRegionCheck,n||r||o){e.next=7;break}return e.abrupt("return",!1);case 7:if(!(n&&r&&(n>Date.now()||r<Date.now()))){e.next=10;break}return this.hasError={type:"time"},e.abrupt("return",this.hasError);case 10:if(i=v("icon",this.props.eqxScene),a=0,s=0,!o){e.next=21;break}return e.next=16,P("gcj02",{timeout:3e3}).catch((function(){return i(),m("地址未授权无法报名",f.props),{}}));case 16:if(c=e.sent,a=c.latitude,s=c.longitude,void 0!==a){e.next=21;break}return e.abrupt("return",{type:"location"});case 21:return e.next=23,x({id:this.props.id,lat:a,lng:s}).catch((function(e){return e}));case 23:if(u=e.sent,l=u.code,u.success,p={500006:{type:"time"},500007:{type:"location"}}[l],i(),p){e.next=33;break}return this.hasError=!1,K[this.props.id]=this.hasError,e.abrupt("return",!1);case 33:return this.hasError=p,K[this.props.id]=this.hasError,e.abrupt("return",this.hasError);case 36:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"renderErroePage",value:function(e){var t=this,n=e.type;this.renderWarpper(),this.addEventListener();var r=$("#voteSignUpFrom"),o=$(T),i={src:"",info:""};if("time"===n){var a=this.props.eqxScene.getPageConfig("voteEnrollmentSetting"),s=a.startTime;if(a.endTime,s>Date.now()){var c=E(new Date(s),"yyyy.MM.dd hh:mm");i.src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/voteErrorClock_v1.png",i.info="报名将于".concat(c,"开始")}else i.src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/voteErrorClockEnd_v1.png",i.info="报名已结束，感谢您的关注"}else i.src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/voteErrorLocal_v1.png",i.info="您不在可允许报名的地区范围内，感谢您的关注";o.find("img").attr("src",i.src),o.find(".info").text(i.info),r.append(o),$(".vote-back-btn").on("click",(function(e){e.stopPropagation(),t.destroy()}))}},{key:"renderVoteSuccess",value:(a=s(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!!t&&"pcCompute",this.isPc=o,!this.isRenderOver){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.checkeCanSgin();case 6:!1!==e.sent&&(n=!1),w()&&document.addEventListener("touchmove",B),this.renderWarpper(),this.isRenderOver=!0,this.addEventListener(),this.renderSuccess(n,r),w()&&setTimeout((function(){document.removeEventListener("touchmove",B)}),20);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"renderFromBack",value:function(e){var t=this;e.append("<div class='vote-success-back'>\n            <div class='vote-back-btn'>\n                <em class='eqf-left'></em>\n            </div>\n        </div>"),e.find(".vote-back-btn").on("click",(function(e){e.stopPropagation(),t.destroy()}))}},{key:"renderFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view",r=n(110),o=this.createData(e),i=new r(o,{mode:t,renderMode:this.props.eqxScene.config.renderMode,disableSubmit:!0,disableReport:!0,isPc:e,noAd:!0,disablePv:!0,disableGetVoteData:!1,offVoteDetail:!0});this.sceneHandler=i,i.renderScene($("#voteSignUpFrom")),this.renderFromBack($("#voteSignUpFrom")),1!==this.voteList.length||this.getGroupList(this.voteList[0]).length||this.boxNode.querySelector("select")&&this.boxNode.querySelector("select").setAttribute("disabled",!0);var a=i.eqxPageList[0];w()||e?e||($("#voteSignUpFrom #edit_area").css("overflow-y","auto"),$("#voteSignUpFrom").on("touchmove",D),$("#voteSignUpFrom").on("wheel",D)):a.changeMoveToIscroll(this.contentHeight+60,t)}},{key:"renderWarpper",value:function(){this.props.eqxScene.eqxSectionCover.append($(u)),this.handlerNoScroll()}},{key:"handlerNoScroll",value:function(e){var t,n,r,o,i=this,a=this.props;if(w()||"pcRender"===a.renderMode){var s,c,u,l,p,f,d,h,m,v;if(!e&&null!==(t=a.eqxScene)&&void 0!==t&&null!==(n=t.currentPage)&&void 0!==n&&n.myScroll&&"pcRender"==a.renderMode)null===(s=a.eqxScene)||void 0===s||null===(c=s.currentPage)||void 0===c||null===(u=c.myScroll)||void 0===u?void 0:u.y,L=(null===(l=a.eqxScene)||void 0===l||null===(p=l.currentPage)||void 0===p||null===(f=p.myScroll)||void 0===f?void 0:f.scrollerHeight)||0;else if(!e){var g=this.oldScrollTop=document.scrollingElement.scrollTop;setTimeout((function(){document.scrollingElement.scrollTop=-g,document.body.classList.add("disableScorll")}),1e3)}e&&null!==(r=a.eqxScene)&&void 0!==r&&null!==(o=r.currentPage)&&void 0!==o&&o.myScroll&&"pcRender"==a.renderMode?(null===(d=a.eqxScene)||void 0===d||null===(h=d.currentPage)||void 0===h||h.changeMoveToIscroll(L,"pcRender"),null===(m=a.eqxScene)||void 0===m||null===(v=m.currentPage)||void 0===v||v.restorePostion()):e&&(document.body.classList.remove("disableScorll"),document.scrollingElement.scrollTop=this.oldScrollTop,setTimeout((function(){document.scrollingElement.scrollTop=i.oldScrollTop+1}),300))}}},{key:"addEventListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"removeEventListener":"addEventListener";this.boxNode[t]("click",this.handlerEvent.bind(this),{capture:!0}),this.boxNode[t]("change",this.handlerEvent.bind(this)),this.boxNode[t]("touchmove",D),this.boxNode[t]("wheel",D)}},{key:"createData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=0;this.contentHeight=640;var r=null,i=!1,a=this.props.getEqxItems().filter((function(e){return W.includes(e.type)})),s=this.voteList.map((function(e){return e.compJson.properties.formRelevant.voteSettings.groupsList||[]}));if(a.length>1||s.length>0){var c=this.voteList.length;if(1===c?s[0].length&&1!==s[0].length?r=d().getDefaultJson():i=!0:r=d().getDefaultJson(),n+=r&&parseInt(r.css.height)||80,this.contentHeight+=n,r&&(r.properties.required=!0),r&&(r.properties.formRelevant.title.content="报名组别"),r&&(r.id=V),!i)if(1===c&&s[0].length)r.choices.options=s[0].map((function(t,n){return e.selectIds.push({element:e.voteList[0],groupId:t.id}),{label:t.name,value:n+1,selected:n+1===e.currentIndex}}));else{var u=[];this.voteList.forEach((function(t,n){var r=e.getGroupList(t);r.length?r.forEach((function(n,r){var o=M(t,!1),i=o?o+"-"+n.name:n.name,a=r+1;u.push({label:i,value:a,selected:a===e.currentIndex}),e.selectIds.push({element:t,groupId:n.id})})):(u.push({label:M(t),value:n+1,selected:n+1===e.currentIndex}),e.selectIds.push({element:t,groupId:null}))})),r.choices.options=u}}var l=this.voteList.find((function(t){return t.id===e.getCompType(e.currentIndex)})),h=String(l.type).includes("video"),m=String(l.type).includes("text");this.offsetTop=n,this.contentHeight+=n;var v=this.props.getProp("checkVotingSignUp"),g=v.options.elements,y=[],b=!1;g.forEach((function(t){if(!["name","url","desc","phone"].includes(t.id)){var n=JSON.parse(JSON.stringify(U[t.type]));n.properties.required=t.isRequire,n.id=t.id,n.properties.formRelevant.title.content=t.title,["r","c"].includes(t.type)&&(n.choices.options=k(t.optionStr)),y.push(o({},n))}["url"].includes(t.id)&&"参赛图片/视频"!==t.title&&(e.customUploadTitle=t.title),["desc"].includes(t.id)&&(b=t.isRequire)}));var x=[r,this.createInputData(n),this.createUploadData(h,m),this.createDesData(n),this.createUploadData_Des(m,!m&&b),this.createPhoneData()].concat(y,[{content:"",css:{width:320,height:48,top:370+n,left:0,color:"#fff",borderRadius:21,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomRightRadius:3,borderBottomLeftRadius:3,backgroundColor:"#1261ff",fontSize:"14px",lineHeight:1,paddingTop:"7px",paddingBottom:5,paddingLeft:"20px",paddingRight:"20px",zIndex:3,opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadiusPerc:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0},num:5,properties:{text:"谢谢您的参与！",link:"",src:"",layout:"rating-l",title:"提交报名",clickFarmer:!1,clickInterval:1440,initType:1,anim:[],zoom:11,symmetrySp:!1},title:null,type:6,id:2,pageId:230467,sceneId:230467,name:"提交按钮1",arrIndex:6},{content:"报名经主办方审核通过后，将展示在投票选项中",css:{top:472+n,left:0,width:320,height:28,writingMode:"horizontal-tb",textAlign:"center",lineHeight:1.5,fontSize:"12px",paddingTop:"0px",paddingBottom:"30px",paddingLeft:"20px",paddingRight:"20px",color:"rgba(153,153,153,1)",fontWeight:"normal",zIndex:4,backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:315,boxShadowSize:0,textDecoration:"none"},properties:{initType:1,anim:[],zoom:11,isReplace:!1,symmetrySp:!0},title:null,type:"7",id:8784098012,pageId:230467,sceneId:230467,num:7,name:"新文本1",arrIndex:9},{css:{opacity:null,top:0,left:0,zIndex:-1},properties:{bgColor:"rgba(0, 0, 0, 0)",imgSrc:null,veinCss:{backgroundSize:20,opacity:0,backgroundImage:null,isImage:!0,backgroundPositionX:"50%",stretch:"cover",veinSettingImg:null},gradientColor:"",anim:[],initType:1,zoom:11},type:3,effect:{type:-1},id:3956270120,pageId:220284,sceneId:220284,num:1,name:"背景1"}]).filter((function(e){return e}));x=x.map((function(e,t){return g.forEach((function(t){if(e.id===t.id){if("参赛图片/视频"!==t.title){var n=t.title;"url"===t.id&&(n=h?n.replace(/图片/g,"视频"):n.replace(/视频/g,"图片")),e.properties.formRelevant.title.content=n}m&&"url"===t.id?e.properties.required=!1:e.properties.required=t.isRequire}})),o(o({},e),{},{arrIndex:t+1})}));var w={meta:{id:220284,code:"sUNqzWOg",title:"未命名问卷",cover:"group1/M00/00/07/wKj5LVanYxmAaEE3AAAdI0Feqt0949.jpg",description:null,thumbnails:"FraitHxKKuNfPn6lFUxK2kJz1faC",bizType:103,channel:0,status:1,checkStatus:2,bgColor:"rgba(0, 0, 0, 0)",bgAudio:null,createUser:"b630517599fc42d5af7c382d24427769",createTime:1596421055e3,updateTime:1597142022e3,publishTime:1597030793e3,showCount:null,dataCount:null,userType:null,memberType:null,price:null,applyTemplate:null,isTpl:0,sourceId:217366,property:{openMsg:!1,formPush:!1,shareDes:{},upSlide:0,wxAuth:!1},longPageElement:null,hasForm:0,shareCount:null,uvCount:null,form:!0,ext:{},openMsg:!1,formPush:!1},map:{config:{wxOnly:!1,clientType:0,clearCycle:0,oldClearCycle:0,clientCount:0,autoFill:!1,timeLimitStart:null,timeLimitEnd:null,timeLimitInDay:"",limit:1,recordWxInfo:null,showAfterSubmit:3,defaultSetting:{btnName:null,btnHref:null},scoreShow:!0,shareAsPhoto:!1,scoreShowType:1,scoreTexts:[],optionSettings:[],showText:null,forwardLink:"",showLastSubmitContent:!1,showLastSubmitContentTime:null,editorLastSubmitContent:!1,editorLastSubmitContentTime:null,disableWxShare:!1}},list:[{id:220284,properties:{longPage:this.contentHeight,triggerGroup:[],formRules:[],pageScroll:{},checkVotingRanking:{isAllow:!0,color:"rgba(255,202,40,1)"},formStyle:{title:{fontSize:"14",fontWeight:"bold",color:"#333"},border:{borderWidth:1,borderColor:"#CCD5DB",borderStyle:"solid",borderRadius:3},input:{color:"#333",backgroundColor:"#fff"},content:{color:"#000",fontSize:14,fontWeight:"normal"},message:{color:"#333",fontSize:14,fontWeight:"normal"},button:{color:"#fff",backgroundColor:"#1261ff"}},groupSettings:[],checkVotingSignUp:{isAllow:!0,color:"rgba(113,113,239,1)"}},elements:x,groups:[],config:{wxOnly:!1,clientType:0,clearCycle:0,oldClearCycle:0,clientCount:0,autoFill:!1,timeLimitStart:null,timeLimitEnd:null,timeLimitInDay:"",limit:1,recordWxInfo:null,exam:{examTime:1,randomSelItems:[],disorderItems:[],showAnswer:!1},showAfterSubmit:3,defaultSetting:{btnName:null,btnHref:null},scoreShow:!0,shareAsPhoto:!1,scoreShowType:1,scoreTexts:[],optionSettings:[],showText:null,forwardLink:"",showLastSubmitContent:!1,showLastSubmitContentTime:null,editorLastSubmitContent:!1,editorLastSubmitContentTime:null,disableWxShare:!1},extend:{screens:[{compIds:[50,10,20,30,40,2,"cancelBtn",8784098012,3956270120],id:"layer:5648726176"}]},forms:null,num:1,sceneId:220284,name:"第1页"}],globalFormSetting:{wxOnly:!1,clientType:0,clearCycle:0,oldClearCycle:0,clientCount:0,autoFill:!1,timeLimitStart:null,timeLimitEnd:null,timeLimitInDay:"",limit:1,recordWxInfo:null,showAfterSubmit:3,defaultSetting:{btnName:null,btnHref:null},scoreShow:!0,shareAsPhoto:!1,scoreShowType:1,scoreTexts:[],optionSettings:[],showText:null,forwardLink:"",showLastSubmitContent:!1,showLastSubmitContentTime:null,editorLastSubmitContent:!1,editorLastSubmitContentTime:null,disableWxShare:!1},obj:{id:220284,code:"sUNqzWOg",title:"未命名问卷",cover:"group1/M00/00/07/wKj5LVanYxmAaEE3AAAdI0Feqt0949.jpg",description:null,thumbnails:"FraitHxKKuNfPn6lFUxK2kJz1faC",bizType:103,channel:0,status:1,checkStatus:2,bgColor:"rgba(0, 0, 0, 0)",bgAudio:null,createUser:"b630517599fc42d5af7c382d24427769",createTime:1596421055e3,updateTime:1597142022e3,publishTime:1597030793e3,showCount:null,dataCount:null,userType:null,memberType:null,price:null,applyTemplate:null,isTpl:0,sourceId:217366,property:{openMsg:!1,formPush:!1,shareDes:{},upSlide:0,wxAuth:!1},longPageElement:null,hasForm:0,shareCount:null,uvCount:null,form:!0,ext:{},openMsg:!1,formPush:!1,configure:{pc:{label:{browser:{adPic:"",bizType:"common,easyForm",popUpPic:"",backLink:"",domains:"1,7,6",label:"易企秀-表单提供技术支持",coverLink:"",adLink:"http://www.baidu.com",scenes:"mini,browser",shareCover:"",id:27,clickType:1}}}}}};function S(e,t){var n=JSON.parse(JSON.stringify(e));return n.list[0].elements.forEach((function(e){t?(p(e,n.list[0],n.list[0],t),e.css.visibility="visible"):f(e,n,n.list[0],"view")})),n}function k(e){if(e)return(e=e.replace(/\n/g,"")).split("；").filter((function(e){return e})).map((function(e,t){return{id:t+1,label:e,default:!1}}))}return S(w,t)}}],i=[{key:"renderVoteSignUpBySinger",value:function(t,n){if(G.has(t))return G.get(t);var r=new e(t);return G.set(t,r),r.render(n),r}},{key:"renderVoteSuccessBySinger",value:function(t,n,r,o){if(G.has(t))return G.get(t);var i=new e(t);return G.set(t,i),i.renderVoteSuccess(n,r,o),i}}],r&&c(t.prototype,r),i&&c(t,i),e}();e.exports=X},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return(i=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=n(184),v=m.warpTpl,g=m.rankTpl,y=m.videoCoverTpl,b=m.imgCoverTpl,x=m.noobTpl,w=n(127).tagsEncode,S=n(9),k=S.qiniuZoom,O=S.reSetVideoSrc,E=n(0),C=E.isMobile,_=E.isWeixin,I=(E.isPc,E.isIOS),P=(n(34).t,n(4)),T=P.addUrlParam,R=P.replaceLocationHref,A=P.removeUrlParam,q=P.getUrlParam,j=n(73).initWeChartShare,L=n(6),M=n(3).parse,D=(n(183),n(6).popMsgModal),B=n(7),F=B.changeWxLocationUrl,N=B.initWeChat,H=n(24),z=(n(297),n(245),n(185)),J=n(1),V=n(131),U=n(280).WxSub,W=n(7).getWxJSSDK;function G(e){!function(e){e.stopPropagation()}(e),e.preventDefault()}var K=function(){function e(){d(this,e),this.reload.apply(this,arguments),this.eventStore={handlerClickEvent:this.handlerClickEvent.bind(this),handlerScrollEvent:this.handlerScrollEvent.bind(this)}}var t,n,o,a,s;return t=e,n=[{key:"addEventListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"removeEventListener":"addEventListener";this.$warper[0][t]("click",this.eventStore.handlerClickEvent),C()||this.$warper[0][t]("scroll",this.eventStore.handlerScrollEvent)}},{key:"afterRender",value:function(){var e=this;this.eqxPage.isDisabledShare&&_()&&this.$warper.find(".share").hide();var t=this.eqxPage.getAllFormComps(!1).some((function(t){return t!==e.element&&t.getRequired()})),n=this.element.getFormCheck().min,r=q("sourceType");r&&["showLast"].includes(r)&&this.$warper.find(".vote").hide(),(t||"multiple"===this.element.getVoteSettings().chooseModal&&n.checked&&n.limit>1)&&(this.$warper.find(".vote").hide(),this.$warper[0].addEventListener("animationend",(function(){e.handlerNoob()}),{once:!0})),this.handlerUrl(),this.isPcRender?this.$warper.find(".buttonBox").addClass("pcRender"):C()&&(this.$warper.css("position","fixed"),this.$warper.find(".buttonBox").addClass("fixed")),this.autoPlay&&"function"==typeof this.$cover[0].play&&(this.$cover[0].play(),this.$warper[0].addEventListener("animationend",(function(){var t=e.$warper[0].getBoundingClientRect().top,n=e.$cover[0].getBoundingClientRect().top;e.$warper[0].scrollTop=n-t}),{once:!0}))}},{key:"destroy",value:function(){var e=this,t=new Promise((function(t){e.addEventListeners(!0),e.$warper?(e.$bg&&(e.$bg.removeClass("fade-in"),e.$bg.addClass("fade-out")),document.querySelector("#oneShareTip")||e.handlerUrl(!0),e.$warper[0].addEventListener("animationend",(function(){e.handlerNoScroll(!0),e.$warper.remove(),e.$bg&&e.$bg.remove(),t()}),{once:!0}),e.$warper[0].classList.add("closeing")):t()}),(function(){return null}));return this.destroyed=!0,t}},{key:"$outBox",get:function(){return this.eqxPage.eqxSectionCover}},{key:"isPcRender",get:function(){return"pcRender"===this.eqxPage.renderMode}},{key:"optionId",get:function(){return this.option&&this.option.id}},{key:"handlerUrl",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.eqxPage.eqxScene.config,r=n.isInnerView,o=n.disableSubmit;if(r&&o||this.eqxPage.isDisabledShare)return!1;var i=this.element.id,a=t?A:T,s=a("VDP",t?void 0:"".concat(i,"-").concat(this.optionId));if(R(s),_())if(t){var c=location.href.split("#")[0];N({obj:this.eqxPage.eqxScene.meta},c)}else{var u=function(){F(s),j(e.title,e.cover),"function"==typeof e.$cover.play&&e.autoPlay&&I()&&wx.ready((function(){e.$cover.play().catch(alert)}))};this.enter?setTimeout(u,300):u()}}},{key:"handlerScrollEvent",value:function(e){var t=e.target.scrollTop;this.isPcRender||this.$warper.find(".buttonBox").css("transform","translate3d(0px, ".concat(t,"px, 0px)"))}},{key:"handlerVidoPlay",value:function(){var e=this.element.videoVoteAgent;if(e){var t=this.element;this.$cover.on("play",(function(){t.videoPlaying=!0,e.play(),window.EQX.pauseBgm()})).on("pause",(function(){e.isPlay()||e.end()}))}}},{key:"handlerNoScroll",value:function(e){var t=this;if(!C())return this.handlerPcScroll(e);if(!e){var n=this.oldScrollTop=document.scrollingElement.scrollTop;document.scrollingElement.scrollTop=-n,document.body.classList.add("disableScorll")}e&&(document.body.classList.remove("disableScorll"),void 0!==this.oldScrollTop&&(document.scrollingElement.scrollTop=this.oldScrollTop,this.$warper.get(0).addEventListener("animationend",(function(){setTimeout((function(){document.scrollingElement.scrollTop=t.oldScrollTop+1}),100)}),{onece:!0})),this.$warper.css({top:this.oldScrollTop}),this.$bg&&this.$bg.css({top:this.oldScrollTop}))}},{key:"handlerPcScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.eqxPage.$section.parent(".nr");if(e){var n=this.oldScrollTop;t.css("overflow-y","auto"),t.css("overflow-y","overlay"),t.scrollTop(n)}else this.oldScrollTop=t.scrollTop(),t.scrollTop(0),t.css("overflow-y","hidden")}},{key:"handlerNoob",value:function(){if(!H.getItem("FROM-VOTE-DETAIL-NOOB")){var e=$(x),t=this.$warper.find(".back")[0];if(t){var n=t.getBoundingClientRect(),r=n.width,o=5.9*r,i=n.top-o/418*344+r+13,a=n.left-12;if(this.eqxPage.eqxScene.config.isInnerView){e.addClass("innerView");var s=this.$warper[0].getBoundingClientRect();i-=s.top,a-=s.left}e.find("img").css({width:o,top:i,left:a}),e.appendTo(this.$warper),e[0].addEventListener("click",(function(){e.addClass("fade-out"),e[0].addEventListener("animationend",(function(){return e.remove()}),{once:!0}),H.setItem("FROM-VOTE-DETAIL-NOOB",!0)}),{once:!0})}}}},{key:"handlerClickEvent",value:function(e){var t=e.target;if(!t)return!0;var n=t.classList;if("VIDEO"===t.tagName&&t.paused)return t.play(),G(e),!1;if(n.contains("openBtn"))return this.$warper[0].querySelector(".title").classList.add("opened"),t.style.display="none",G(e),!1;if(n.contains("back")||n.contains("eqf-left"))return this.destroy(),G(e),!1;if(n.contains("share")){if(this.eqxPage.eqxScene.config.isInnerView)return L.popUpModal("预览模式不用帮忙拉票哦~",this.eqxPage),G(e),!1;var r=this.option.cover.indexOf("//")>-1?this.option.cover:"".concat(J.FILE).concat(this.option.cover);return z.renderPoster(this.eqxPage,p(p({},this.option),{},{cover:k(w(r),2*(this.$outBox.innerWidth()||320),null,!0),optionid:this.option.id,elementid:this.element.id})),G(e),!1}if(n.contains("vote")||n.contains("wx_subcrile_alert")){var o=this.element.getVoteSettings(),i=this.element.getFormCheck().max,a=null;if(!(this.eqxPage.eqxScene.sceneJson.validateData||{}).disableSubmit&&"single"!==o.chooseModal&&(!i.checked||i.limit>1)){if("true"===q("fromHot"))return void L.popUpModal("热门活动内预览不支持投票",this.eqxPage);a=D("该投票可支持多选,<br>您确定只投当前选项吗？","",this.eqxPage)}return a?a.then(this.submit.bind(this)):this.submit()}if("IMG"===t.tagName&&_()&&wx){var s=Array.from(this.$warper.find(".imgBox")[0].querySelectorAll("img")).map((function(e){return e.getAttribute("src")}));wx.previewImage({current:t.getAttribute("src"),urls:s}),G(e)}}},{key:"reload",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)throw new Error("Option Error");if(!t)throw new Error("element Error");if(!n)throw new Error("eqxPage Error");this.option=e,this.element=t,this.eqxPage=n,this.renderMode=n.renderMode,this.rankPromise=t.getResultData(!1),this.autoPlay=r,this.formStyle=Object.assign({button:{backgroundColor:"#1261ff",color:"#fff"}},n.pageJson.properties.formStyle),q("VDP")&&(this.enter=!0)}},{key:"render",value:(s=u(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c,u,l,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.title=w(this.option.content),n=w(this.option.des).replace(/(\r\n)|(\n)/g,"<br>"),r=this.formStyle.button,o=r.backgroundColor,i=r.color,a=this.renderBtnTxt(),s=a.btnTxt,c=a.opacity,this.renderBg(),this.enter&&this.eqxPage.moveByCompId(this.element.id),this.handlerNoScroll(),this.$warper=$(M(v,{title:t,des:n,btnBackgroundColor:w(o),btnColor:w(i),btnTxt:s,opacity:c,shareBtnTxt:"帮忙拉票"})),this.renderRank(),e.next=11,this.renderCover();case 11:this.renderImgs(),this.afterRender(),this.$warper.appendTo(this.$outBox),this.addEventListeners(),u=function(){p.$warper.find(".vote").click()},l=new U(this.eqxPage,this.$warper.find(".vote"),u),setTimeout((function(){W().then((function(){l.renderWxSubcrible()}))}),0);case 18:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"renderBtnTxt",value:function(){var e=this.eqxPage.eqxScene.sceneJson.validateData||{},t=e.disableSubmit,n=e.msg,r="投票",o=1;return t&&n&&(r="地域限制"===n?"所在地区不能提交":n,o="0.5"),{btnTxt:r,opacity:o}}},{key:"renderBg",value:function(){this.$bg=this.eqxPage.$section.find(".bg-color-comp").clone(),this.$bg.css({height:"100%",width:"100%",zIndex:100,top:0,"background-color":"#fff"}),C()&&this.$bg.css("position","fixed"),this.$bg.appendTo(this.$outBox)}},{key:"getCoverWidth",value:function(e){var t=k(e);return t.includes("?imageMogr2")||(t+="?imageMogr2"),t+="|imageInfo",new Promise((function(e){window.fetch(t).then((function(e){return e.json()})).then((function(t){return e(t.width)})).catch((function(){return e(320)}))}))}},{key:"renderCover",value:(a=u(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.option.cover,n=this.$outBox.innerWidth()||320,r=2*n,o=this.cover=k(w(t),r,null,!0),i=w(this.option.src),(a="videoVote"===this.element.type)&&(i=O(i)),s=a?y:b,this.$cover=$(M(s,{cover:o,src:i})),this.$cover[0].classList.add("cover"),a&&this.autoPlay&&this.$cover.attr("autoplay",!0),a&&this.handlerVidoPlay(),this.$cover.appendTo(this.$warper.find(".coverBox")),a||((c=$(V.render())).css({position:"absolute",top:"130px",left:"calc(50% - 13px)"}),c.appendTo(this.$warper.find(".coverBox")),this.$cover.on("load",(function(){c.remove()})));case 14:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"renderImgs",value:function(){var e=this;Array.isArray(this.option.imgs)&&this.option.imgs.forEach((function(t){var n=k(w(t),2*(e.$outBox.innerWidth()||320),null,!0);$(M(b,{cover:n})).appendTo(e.$warper.find(".imgBox"))}))}},{key:"renderRank",value:function(){var t=this;this.$rank=null,this.rankPromise&&this.rankPromise.then((function(){var n=t.element,r=n.voteResult,o=n.voteSettings,i=o.hasInitValue,a=o.initValue,s=o.showResult,c=e.createRankInfo(t.optionId,r,s,i,a),u=c.rank,l=c.score,p=c.distence,f=1===u?"超过后一名票数":"距离前一名票数";t.$rank=M(g,{rank:u,score:l,distence:p,disInfo:f}),t.$warper.find(".rankBox").replaceWith(t.$rank)}))}},{key:"submit",value:function(){var e=this;if((this.eqxPage.eqxScene.sceneJson.validateData||{}).disableSubmit)return!1;this.element.setValue([this.optionId]),this.eqxPage.submitForm().then((function(t){e.oldScrollTop=0,e.destroy()})).catch((function(t){var n=t.eleIdForError,r=t.code;e.destroy().then((function(t){n&&e.eqxPage.moveByCompId(n),600001===r&&e.eqxPage.moveByCompId(e.eqxPage.getSubmitButton().id)}))}))}}],o=[{key:"createBySinger",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=i(e,n);return o}},{key:"createRankInfo",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t){var a=t[e]||0;o&&!n&&(a+=i);var s=r(Object.values(t));s.sort((function(e,t){return t-e}));var c=s.findIndex((function(e){return o&&!n?e+i===a:e===a}))+1,u=0;if(1===c){var l=a;o&&!n&&(l=a-i),u=l-s.find((function(e){return o&&!n?e+i!==a:e!==a}))||"― ―"}else u=o&&!n?s[c-2]+i-a:s[c-2]-a;var p={rank:c,score:a,distence:u};return p}}}],n&&h(t.prototype,n),o&&h(t,o),e}();e.exports=K},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(10),c=s.COMP_TYPE,u=s.FORM_COMPS,l=s.FORM_VOTE_COMPS,p=s.FORM_SCORE_COMPS,f=s.FORM_MAY_HAVE_SCORE_COMPS,d=s.FORM_VALUE_TARGET_COMPS,h=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.compJsonList=n,this.compNumMap={},Object.keys(c).forEach((function(e){t.compNumMap[e]=0}))}var t,n,o;return t=e,(n=[{key:"iterate",value:function(){var e=this;this.compJsonList.forEach((function(t){e.compNumMap[t.type]+=1}))}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"hasComp",value:function(e){return!!this.compNumMap[e]}},{key:"hasRedPacketComp",value:function(){return this.hasComp(9)}},{key:"hasMapComp",value:function(){return this.hasComp("m")}},{key:"hasChartComp",value:function(){return this.hasComp("t")}},{key:"hasCommentComp",value:function(){return this.hasComp("b")}},{key:"hasSubmitButtonComp",value:function(){return this.hasComp(6)||this.hasComp(601)}},{key:"hasScoreComps",value:function(){return!!this.countScoreComps()}},{key:"countScoreComps",value:function(){var e=0;return this.compJsonList.filter((function(e){return p.includes(e.type)})).forEach((function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.formRelevant,o=null==r?void 0:r.scoreSettings;("scoreMatrix"===t.type&&"radio"===o.type&&r.showScore||("scoreMatrix"===t.type&&"radio"!==o.type||"scoreMatrix"!==t.type)&&parseFloat(o.baseNum))&&e++})),this.compJsonList.filter((function(e){return f.includes(e.type)})).forEach((function(t){try{var n,r;(t.properties.formRelevant.showScoreAndAnswer||m(null===(n=t.properties)||void 0===n||null===(r=n.formRelevant)||void 0===r?void 0:r.evaluate).showScoreAndAnswer)&&e++}catch(e){console.log(e)}})),e}},{key:"countTotalScore",value:function(){var e=0;return this.compJsonList.filter((function(e){return p.includes(e.type)})).forEach((function(t){try{var n,o,i,a,s=null===(n=t.properties)||void 0===n?void 0:n.formRelevant,c=null==s?void 0:s.scoreSettings,u=(null==c||null===(o=c.contentOption)||void 0===o||null===(i=o.list)||void 0===i?void 0:i.length)||1;"scoreMatrix"===t.type&&"radio"===c.type&&s.showScore?e+=Math.max.apply(Math,r(null==c||null===(a=c.contentOption)||void 0===a?void 0:a.optionsList.map((function(e){return parseFloat(e.score)})).filter((function(e){return!isNaN(e)}))))*u:("scoreMatrix"===t.type&&"radio"!==c.type||"scoreMatrix"!==t.type)&&(e+=parseFloat(c.baseNum)*parseFloat(c.scoreLevel)*u),e=parseFloat(e.toFixed(1))}catch(e){console.log(e)}})),this.compJsonList.filter((function(e){return f.includes(e.type)})).forEach((function(t){try{var n,o;if(t.properties.formRelevant.showScoreAndAnswer||m(null===(n=t.properties)||void 0===n||null===(o=n.formRelevant)||void 0===o?void 0:o.evaluate).showScoreAndAnswer){var i,a,s=m(null===(i=t.properties)||void 0===i||null===(a=i.formRelevant)||void 0===a?void 0:a.evaluate);1!=s.type||"scoreRadio"!==t.type&&"scoreImageRadio"!==t.type?1!=s.type||"scoreCheckbox"!==t.type&&"scoreImageCheckbox"!==t.type?e+=parseFloat((null==s?void 0:s.score)||0):t.choices.options.forEach((function(t){return e+=parseFloat(t.score)})):e+=Math.max.apply(Math,r(t.choices.options.map((function(e){return parseFloat(e.score)}))))}e=parseFloat(e.toFixed(1))}catch(e){console.log(e)}})),parseInt(e)==e&&(e=parseInt(e)),e}},{key:"hasShowScoreAndAnswer",value:function(){return!!this.compJsonList.length&&!this.compJsonList.filter((function(e){return f.includes(e.type)})).some((function(e){return!!e.properties.formRelevant.showScoreAndAnswer}))}},{key:"hasAllHeadComps",value:function(){return!!this.compJsonList.length&&4===this.compJsonList.filter((function(e){return["lpHeadFormDes","lpHeadFormTitle","lpHeadFigure","sponsor"].includes(e.type)})).length}},{key:"hasHeadFormDes",value:function(){return this.hasComp("lpHeadFormDes")}},{key:"hasHeadFormTitle",value:function(){return this.hasComp("lpHeadFormTitle")}},{key:"hasHeadFigture",value:function(){return!!this.compJsonList.length&&this.compJsonList.find((function(e){return"lpHeadFigure"===e.type}))}},{key:"hasSponsor",value:function(){return!!this.compJsonList.length&&this.compJsonList.find((function(e){return"sponsor"===e.type}))}},{key:"getHeadFigtureIndex",value:function(){var e=0;return this.compJsonList.find((function(t,n){if("lpHeadFigure"===t.type)return e=n,!0})),e}},{key:"getHeadFormTitleIndex",value:function(){var e=0;return this.compJsonList.find((function(t,n){if("lpHeadFormTitle"===t.type)return e=n,!0})),e}},{key:"getHeadFormDesIndex",value:function(){var e=0;return this.compJsonList.find((function(t,n){if("lpHeadFormDes"===t.type)return e=n,!0})),e}},{key:"getSponsorIndex",value:function(){var e=0;return this.compJsonList.find((function(t,n){if("sponsor"===t.type)return e=n,!0})),e}},{key:"hasVoteComps",value:function(){var e=this,t=0;return l.forEach((function(n){t+=e.compNumMap[n]})),!!t}},{key:"hasFormValueTargetComps",value:function(){var e=this;return d.some((function(t){return e.compNumMap[t]}))}},{key:"hasFormComp",value:function(){var e=this,t=0;return u.forEach((function(n){t+=e.compNumMap[n]})),!!t}},{key:"hasHeadFigure",value:function(){return this.hasComp("lpHeadFigure")}},{key:"hasSubPageSelectComp",value:function(){if(!this.compJsonList.length)return!1;var e=["c","r","scoreCheckbox","scoreRadio","scoreImageCheckbox","scoreImageRadio"];return!this.compJsonList.some((function(t){return e.includes(t.type)}))}},{key:"hasVoteAllowRegister",value:function(){return!!this.compJsonList.length&&!!this.compJsonList.find((function(e){return l.includes(e.type)&&e.properties.onVotingSignUp}))}},{key:"includesComp",value:function(e){return!!this.compJsonList.find((function(t){return t.id===e}))}}])&&a(t.prototype,n),o&&a(t,o),e}();function m(e){if("string"==typeof e)try{e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)?JSON.parse(window.decodeURIComponent(window.atob(e))):JSON.parse(e)}catch(e){console.log(e),console.log("evaluate 格式异常")}return e}e.exports=h},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(201),s=n(5),c=n(247),u=n(10).COMP_TYPE,l=console.log.bind(console,"[EqxLayer]"),p=n(0).isPc,f=n(15).$loadParallax,d=n(9).qiniuZoom,h=(n(58).ANIMATION_TYPE,n(4).getUrlParam,n(1),n(24).getItem,n(8).$ajax,n(8).ajax,function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxPage=n,this.eqxItems=[],this.$layer=null,this.$layerBox=null,this.layerBg=null,this.$ul=null,this.lock=!1,this.allowOperate=!0,this.json=t,this.name=t.name,this.items=t.items,this.id=t.id,this._lastHash=t.hash}var t,n,o;return t=e,(n=[{key:"displayed",get:function(){var e=this.json.displayed;return void 0===e||e},set:function(e){this.json.displayed=e}},{key:"zIndex",get:function(){return this.json.zIndex},set:function(e){this.json.zIndex=e}},{key:"width",get:function(){return this.eqxPage.width}},{key:"height",get:function(){return this.eqxPage.height}},{key:"eqxScene",get:function(){return this.eqxPage.eqxScene}},{key:"thumbnail",get:function(){return this.json.thumbnail},set:function(e){this.json.thumbnail=e}},{key:"area",get:function(){return this.json.area},set:function(e){this.json.area=e}},{key:"getEqxComps",value:function(){return this.eqxItems.filter((function(e){return!e.isGroupItem()}))}},{key:"removeEqxItem",value:function(e){e.group&&e.group.removeEqxItem(e);var t=this.eqxItems.findIndex((function(t){return t===e}));t>-1&&this.eqxItems.splice(t,1),e.destroy()}},{key:"setAllowOperate",value:function(e){return this.allowOperate=e,this.allowOperate}},{key:"_getCompsAndGroups",value:function(){for(var e=[],t=[],n=0;n<this.items.length;n++){var r=this.items[n];/group/.test(r.id)?t.push(r):e.push(r)}return{comps:e,groups:t}}},{key:"_initEqxGroup",value:function(e){return new a(e,this)}},{key:"_initEqxComp",value:function(e){var t=c[e.type],n=this.eqxPage.id||"";if(t&&t.prototype instanceof s)return new t(e,this);console.error("In Valid Type: ".concat(e.type," @Page").concat(n),e)}},{key:"init",value:function(){return this}},{key:"initEqxItems",value:function(e,t){var n=this;if(!e){var o=this._getCompsAndGroups();e=o.comps,t=o.groups}var i=[];return e.map((function(e){return e.name=n.eqxPage.getCompName(e),e})).filter((function(e){var t=e.type;return"EqxBackground"!==u[t]&&"EqxGravity"!==u[t]})).sort((function(e,t){return e.css.zIndex-t.css.zIndex})).map((function(e,t){return e.num=t+1,e.css.zIndex=t+1,e})).forEach((function(e){var t=n._initEqxComp(e);t&&n.eqxItems.push(t),i.push(t)})),i.push.apply(i,r(t.map((function(e){var t=n._initEqxGroup(e);return n.eqxItems.push(t),t.itemIds.forEach((function(e){return t.addEqxItem(n.getEqxItem(e))})),t})))),i}},{key:"initEqxItem",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=this;return e.isGroupItem()?(n>-1?o.eqxItems.splice(n,0,e):o.eqxItems.push(e),e.addEqxItems.apply(e,r(e.itemIds.map((function(e){return o.getEqxItem(e)}))))):n>-1?o.eqxItems.splice(n,0,e):o.eqxItems.push(e),this.eqxPage.isCover&&setTimeout((function(){t.$layer&&t.topStartBtn()}),300),this}},{key:"renderEqxItems",value:function(){var e=[];this.fixedComps=[];for(var t=this.eqxItems.filter((function(e){return!e.group})).sort((function(e,t){return e.getArrIndex()-t.getArrIndex()})),n=t.length,r=0;r<n;r++){var o=t[r];if(!o.rendered){var i=o.render();e.push(i)}}return this.$ul.append(e),this}},{key:"renderEqxItem",value:function(e,t){t&&e.rendered&&(e.rendered=!1,e.destroy());var n=e.group?e.group.$ul:this.$ul;return e.rendered||n.append(e.render()),this}},{key:"toJson",value:function(){var e=[],t=[],n=this.flash||{},r=n.duration,o=void 0===r?null:r,i=n.durationType,s=void 0===i?0:i,c=this.json,u=c.thumbnail,l=c.area,p=c.id,f=c.displayed,d=c.screenBg;this.eqxItems.sort((function(e,t){return e.zIndex-t.zIndex}));for(var h=0;h<this.eqxItems.length;h++){var m=this.eqxItems[h];m instanceof a?t.push(m.toJson()):e.push(m.toJson())}if(null!==o&&null!==s)var v={duration:o,durationType:s};return{id:p,area:l,flash:v,elems:e,groups:t,displayed:f,thumbnail:u,screenBg:d,name:this.name,hash:this._lastHash,compIds:this.eqxItems.map((function(e){return e.id}))}}},{key:"updateEqxLayerIndex",value:function(e){this.$layer&&(this.zIndex=e,this.$layer&&this.$layer.css({zIndex:e}))}},{key:"isEqxLayer",value:function(){return!0}},{key:"render",value:function(){var e=this.eqxPage.getPageMinHeight()+"px",t=this.eqxPage.pageJson,n=(void 0===t?{}:t).properties.longPage,r=void 0===n?null:n;return r&&"".concat(r,"px"),this.$layer=$('<section class="layer" id="'.concat(this.id,'" style="position: relative;width: 100%;min-height: ').concat(e,';">\n                <div class="layer-box">\n                    <ul id="edit_area" class="layer-items edit_area weebly-content-area weebly-area-active"></ul>\n                </div>\n            </section>')),this.$layerBox=this.$layer.find(".layer-box"),this.$ul=this.$layerBox.find("ul"),this.$layer.css({zIndex:this.zIndex}),this.initEqxItems(),this.renderEqxItems(),p()||(window.top,window),this.renderBg(this.addBgJson(this.json.screenBg)),this.display(),this.initElementsParallax(),this.$layer}},{key:"initElementsParallax",value:function(){var e=this;this.items.some((function(e){var t=(e.properties||{}).GSensor;return(void 0===t?{}:t).isUsed}))&&f().then((function(){var t=window.Parallax;e.parallax=new t(e.$ul.get(0)),console.log("初始化组件重力感应",e)}))}},{key:"display",value:function(){this.displayed?(this.$layer.show(),this.allowOperate=!0):(this.$layer.hide(),this.allowOperate=!1)}},{key:"hide",value:function(){this.$layer&&this.$layer.hide()}},{key:"show",value:function(){this.$layer&&(this.$layer.show(),this.findSpecAnimItem(1))}},{key:"findSpecAnimItem",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.getEqxComps().forEach((function(e){for(var n=e.compJson.properties.anim,r=void 0===n?[]:n,o=0;o<r.length;o++){var i=r[o];if(t.indexOf(i.animClassify)>-1){e.eleShow();break}}}))}},{key:"getEqxItem",value:function(e){return this.eqxItems.find((function(t){return t.id===e}))}},{key:"hasGroupsInLayer",value:function(){return this.items.some((function(e){return/group/.test(e.id)}))}},{key:"getLayerTreeStructure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getDirectItems();return n(t);function n(t){return t.forEach((function(e){return e.isGroupItem()&&n(e.eqxItems)})),t.sort((function(t,n){var r=t.getZIndex(),o=n.getZIndex();return e?r-o:o-r})),t}}},{key:"updateItemsIndexBySplit",value:function(e,t){var n=this.getLayerTreeStructure(!0),o=t.length,i=n.indexOf(t[0]),a=n.indexOf(t[o-1]);if(e.startsWith("+")){var s=(/\+(\d+|\+)/.exec(e)||[])[1]||1;s=Math.min(s,n.length-a),n.splice.apply(n,[i+s,0].concat(r(n.splice(i,o))))}else{if(!e.startsWith("-"))throw new TypeError("invalid action: "+e);var c=(/-(\d+|\+)/.exec(e)||[])[1]||1;c=Math.min(c,i),n.splice.apply(n,[i-c,0].concat(r(n.splice(i,o))))}var u=this._getCompsFromTree(n,!0);this.updateCompsIndex(u,!0)}},{key:"updateItemIndex",value:function(e,t){if(e&&t){var n=this.eqxPage,r=t.getZIndex(),o=n.overlayElementQueue,i=t.group?t.group.eqxItems:o,a=i.indexOf(t);if("++"===e)i.push(i.splice(a,1)[0]);else if("--"===e)i.unshift(i.splice(a,1)[0]);else if(e.startsWith("+")){var s=(/\+(\d+|\+)/.exec(e)||[])[1]||1;s=Math.min(s,i.length-a),i.splice(a+s,0,i.splice(a,1)[0])}else{if(!e.startsWith("-"))throw new TypeError("invalid action: "+e);var c=(/-(\d+|\+)/.exec(e)||[])[1]||1;c=Math.min(c,a),i.splice(a-c,0,i.splice(a,1)[0])}this.updateCompsIndex(this._getCompsFromTree(i,!0),!0),n.combineEqxItems();var u=t.getZIndex();l("updateItemIndex",r,"--\x3e",e,"--\x3e",u,t),n.isCover&&"startBtn"!==t.type&&this.topStartBtn()}}},{key:"topStartBtn",value:function(){var e=this.eqxPage;if(e.isCover){var t=e.getEqxItems().find((function(e){return"startBtn"===e.type}));t&&this.updateItemIndex("++",t)}}},{key:"_getCompsFromTree",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];function i(e,t){var r=e.getZIndex()-t.getZIndex();return n?r:-r}return e.forEach((function(e){return e.isGroupItem()?o.push.apply(o,r(t._getCompsFromTree(e.eqxItems).sort(i))):o.push(e)})),o}},{key:"updateCompsIndex",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length,o=r-1;o>=0;o--){var i=e[o],a=t?o+1:r-o;n&&(a+=n),i.updateCss({zIndex:a})}this.autoZIndex()}},{key:"autoZIndex",value:function(){this.getDirectItems().forEach((function(e){return e.autoZIndex()}))}},{key:"getDirectItems",value:function(){return this.eqxItems.filter((function(e){return!e.group}))}},{key:"deleteEqxItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;e.isGroupItem()&&e.eqxItems.forEach((function(e){return n.deleteEqxItem(e)}));var r=n.eqxItems.findIndex((function(t){return t===e}));r>-1&&n.eqxItems.splice(r,1),e.group&&(r=e.group.eqxItems.findIndex((function(t){return t===e})))>-1&&e.group.eqxItems.splice(r,1),t&&e.destroy()}},{key:"addEqxItems",value:function(e){var t,n=this;(t=n.eqxItems).push.apply(t,r(e)),e.forEach((function(e){e.eqxLayer.deleteEqxItem(e,!1),e.eqxLayer=n,n.$ul.append(e.$item)}))}},{key:"destroy",value:function(){this.eqxItems.forEach((function(e){return e.destroy&&e.destroy()})),this.$layer&&this.$layer.remove(),this.$layer=null,this.$layerBox=null,this.$ul=null,this.fixedComps.forEach((function(e){return e.remove()}))}},{key:"setUlTopAndLeft",value:function(){var e;this.eqxScene.config.disableSetUlTopAndLeft||(this.width/this.height>=320/486?e=(this.width/(this.height/486)-320)/2:(this.height,this.width),e&&this.$ul.css({marginLeft:e}))}},{key:"setIframeUlTopAndLeft",value:function(){var e="scale("+this.width/320+")";this.$ul.css({transform:e,"transform-origin":"0% 0%","-webkit-transform-origin":"0% 0%"})}},{key:"initEqxBgByJson",value:function(e){if(e){var t=e.properties.bgColor,n=e.properties.imgSrc;if(t&&!n)var r='<div class="layer-bg" style="width: 100%; height: 100%; background-color: '.concat(e.properties.bgColor,';"></div>');else r='<div class="layer-bg" style="width: 100%; height: 100%;background-image: url(\''.concat(d(n,320,486),"');\n                        background-size: cover; background-position: 50% 50%;\n                        background-origin: content-box;\"></div>");return this.layerBg=$('<div style="width: 100%; height: 100%; overflow: hidden;position: absolute;z-index: -1;opacity: '.concat(e.css.opacity,'">\n                ').concat(r,"\n            </div>")),this.layerBg}}},{key:"renderBg",value:function(e){this.$layer.find(".layer-bg")?this.$layer.append(e):console.error("background already rendered")}},{key:"addBgJson",value:function(e){return this.deleteBg(),this.json.screenBg=e,this.initEqxBgByJson(e)}},{key:"deleteBg",value:function(){this.layerBg&&this.layerBg.remove()}},{key:"updateBgOpacity",value:function(e){this.layerBg.css({opacity:e})}}])&&i(t.prototype,n),o&&i(t,o),e}());e.exports=h},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(100),i=o.getEditPropName,a=o.FtRuleType,s=o.FtEditableProps,c=n(257),u=n(10).FORM_COMPS,l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.prop=t.prop,this.ftRule=n,this.eqxItem=this.ftRule.ftManager.eqxPage.getEqxItem(this.id),this.name=i(this.getFullPropKey())}var t,n,o;return t=e,(n=[{key:"getEqxItemFtValue",value:function(){return this.eqxItem&&this.eqxItem.getFtValue(this.getFullPropKey())}},{key:"getFullPropKey",value:function(){return this.ftRule.type+"."+this.prop}},{key:"isValid",value:function(){return this.eqxItem&&!this.eqxItem.isOrphan()&&this.eqxItem.isPropCanEdit(this.getFullPropKey())}},{key:"apply",value:function(){switch(this.ftRule.type){case a.color:return this._applyColor.apply(this,arguments);case a.image:return this._applyImage.apply(this,arguments);case a.content:return this._applyContent.apply(this,arguments);case a.link:return this._applyLink.apply(this,arguments);case a.internalLink:return this._applyInternalLink.apply(this,arguments);case a.telephone:return this._applyPhone.apply(this,arguments);case a.sound:return this._applySound.apply(this,arguments);case a.time:return this._applyTime.apply(this,arguments);case a.code:return this._applyCode.apply(this,arguments);case a.video:return this._applyVideo.apply(this,arguments);case a.input:return this._applyInput.apply(this,arguments);case a.tRandom:return this._applyTRandom.apply(this,arguments);case a.iRandom:return this._applyIRandom.apply(this,arguments)}}},{key:"_applyIRandom",value:function(e){var t=this.eqxItem;return t.compJson.properties.imgs=e,t.updateImg(e[0].src),t}},{key:"_applyTRandom",value:function(e){var t=this.eqxItem;return t.compJson.properties.texts=e,t.updateContent(e[0]),t}},{key:"_applyInput",value:function(e){var t={501:"姓名",502:"电话",503:"邮箱",504:"文本"},n=this.eqxItem;return n.compJson.properties.placeholder=t[e],n.compJson.title=t[e],n.compJson.type=e,n.setInputTitle(t[e]),n}},{key:"_applyVideo",value:function(e,t){var n=this.eqxItem,r=n.compJson;return r.src=e,n.updateJson(r),n.eqxPage.renderEqxComp(n,!0),t&&"string"==typeof t&&(t.indexOf("vframe/jpg/offset/0")>-1||t.indexOf("/tencent/")>-1)&&n.updatePosterImg({coverImg:t}),n}},{key:"_applyCode",value:function(e){var t=this.eqxItem;return t.compJson.content=e,t}},{key:"_applyTime",value:function(e){var t=new Date(e).getTime(),n=this.eqxItem;return"e"===n.type?n.updateProp("endTime",t):n.updateProp("startTime",t),n.updateJson(n.compJson),n.eqxPage.renderEqxComp(n,!0),n}},{key:"_updateTrigger",value:function(e,t,n){var r=this.eqxItem,o=r.triggerManager.findEqxItemTriggerItem(r,e,t);if(!o)throw new Error("no trigger");return o.targetContent=n,r}},{key:"_applySound",value:function(e){var t=this.eqxItem;return t.compJson.sound={id:e.id,name:e.name,src:e.src},t.updateJson(t.compJson),t.eqxPage.renderEqxComp(t,!0),t}},{key:"_applyPhone",value:function(e){return this._updateTrigger("click","phone",e)}},{key:"_applyInternalLink",value:function(e){return this._updateTrigger("click","page",e)}},{key:"_applyLink",value:function(e){return this._updateTrigger("click","link",this.eqxItem.getLinkUrl(e))}},{key:"_applyContent",value:function(e){return this.eqxItem.updateContent(e)}},{key:"_applyImage",value:function(e,t){return this.eqxItem.editImage(e,t)}},{key:"_applyColor",value:function(e){var t=s,n=this.eqxItem,r=this.ftRule.type+"."+this.prop;if(0===r.indexOf(t.color.fill)){var o=+r.split("-")[1];return n.updateFillColor(o,e),n}switch(r){case t.color.backgroundColor:-1!=u.indexOf(n.type)?n.updateFormCompCss({backgroundColor:e}):n.update$boxDiv({backgroundColor:e});break;case t.color.boxShadowColor:var i=c.parseBoxShadow(n.compJson.css.boxShadow);i.color=e;var a=c.getBoxShadowStr(i);n.update$boxDiv({boxShadow:a});break;case t.color.borderColor:-1!=u.indexOf(n.type)?n.updateFormCompCss({borderColor:e}):n.update$boxDiv({borderColor:e});break;case t.color.color:-1!=u.indexOf(n.type)?n.updateFormCompCss({color:e}):n.update$boxDiv({color:e});break;case t.color.counterColor:n.update$iconColor(e)}return n}},{key:"deleteSelf",value:function(e){this.ftRule.deleteFtTerm(this,e)}},{key:"canApplyTo",value:function(e,t){return this.eqxItem===e&&this.prop===t}},{key:"parse",value:function(){}},{key:"toFtRuleJson",value:function(){var e=this.ftRule.toJson();return e.comps=[this.toJson()],e}},{key:"toJson",value:function(){return{id:this.id,properties:[this.prop]}}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=l},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t}var t,n,o;return t=e,(n=[{key:"init",value:function(){}},{key:"updateRules",value:function(){}},{key:"listen",value:function(){}},{key:"validateRule",value:function(){}},{key:"triggerEvent",value:function(){}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";var r=n(1),o=n(8).ajax;e.exports={$getCommentList:function(e){var t=e.sceneId,n=e.size,i=e.time,a=r.SERVER_1+"scene/msg/list?sceneId="+t;return n&&(a+="&size="+n),i&&(a+="&lastTime="+i),a+="&date="+(new Date).getTime(),o({type:"GET",url:a})},$postComment:function(e){return o({type:"POST",url:r.SERVER_1+"scene/send/msg",data:e})}}},function(e,t,n){var r,o,i;o=[e,t,n(149)],void 0===(i="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,i){if(t===i||!(0,n.isObject)(t)||!(0,n.isObject)(i))return{};var a=(0,n.properObject)(t),s=(0,n.properObject)(i);return Object.keys(s).reduce((function(t,i){if(a.hasOwnProperty(i)){var c=e(a[i],s[i]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?t:o({},t,r({},i,c))}return o({},t,r({},i,s[i]))}),{})},e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[e,t,n(149)],void 0===(i="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,i){if(t===i||!(0,n.isObject)(t)||!(0,n.isObject)(i))return{};var a=(0,n.properObject)(t),s=(0,n.properObject)(i);return Object.keys(a).reduce((function(t,i){if(s.hasOwnProperty(i)){var c=e(a[i],s[i]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?t:o({},t,r({},i,c))}return o({},t,r({},i,void 0))}),{})},e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[e,t,n(149)],void 0===(i="function"==typeof(r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,o){if(t===o)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(o))return o;var i=(0,n.properObject)(t),a=(0,n.properObject)(o);return(0,n.isDate)(i)||(0,n.isDate)(a)?i.valueOf()==a.valueOf()?{}:a:Object.keys(a).reduce((function(t,o){if(i.hasOwnProperty(o)){var s=e(i[o],a[o]);return(0,n.isObject)(s)&&(0,n.isEmpty)(s)&&!(0,n.isDate)(s)?t:r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,s))}return t}),{})},e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){n(319),e.exports=n(505)},function(e,t,n){"use strict";n(320);var r,o=(r=n(492))&&r.__esModule?r:{default:r};o.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),o.default._babelPolyfill=!0},function(e,t,n){"use strict";n(321),n(464),n(466),n(469),n(471),n(473),n(475),n(477),n(479),n(481),n(483),n(485),n(487),n(491)},function(e,t,n){n(322),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(403),n(404),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(170),n(427),n(222),n(428),n(223),n(429),n(430),n(431),n(432),n(224),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),e.exports=n(19)},function(e,t,n){"use strict";var r=n(11),o=n(30),i=n(20),a=n(2),s=n(26),c=n(55).KEY,u=n(12),l=n(111),p=n(77),f=n(63),d=n(17),h=n(151),m=n(203),v=n(324),g=n(114),y=n(13),b=n(14),x=n(25),w=n(32),S=n(54),k=n(62),O=n(67),E=n(206),C=n(42),_=n(113),I=n(21),P=n(65),T=C.f,R=I.f,$=E.f,A=r.Symbol,q=r.JSON,j=q&&q.stringify,L=d("_hidden"),M=d("toPrimitive"),D={}.propertyIsEnumerable,B=l("symbol-registry"),F=l("symbols"),N=l("op-symbols"),H=Object.prototype,z="function"==typeof A&&!!_.f,J=r.QObject,V=!J||!J.prototype||!J.prototype.findChild,U=i&&u((function(){return 7!=O(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(H,t);r&&delete H[t],R(e,t,n),r&&e!==H&&R(H,t,r)}:R,W=function(e){var t=F[e]=O(A.prototype);return t._k=e,t},G=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,n){return e===H&&K(N,t,n),y(e),t=S(t,!0),y(n),o(F,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=O(n,{enumerable:k(0,!1)})):(o(e,L)||R(e,L,k(1,{})),e[L][t]=!0),U(e,t,n)):R(e,t,n)},X=function(e,t){y(e);for(var n,r=v(t=w(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},Q=function(e){var t=D.call(this,e=S(e,!0));return!(this===H&&o(F,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},Y=function(e,t){if(e=w(e),t=S(t,!0),e!==H||!o(F,t)||o(N,t)){var n=T(e,t);return!n||!o(F,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=$(w(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==L||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=$(n?N:w(e)),i=[],a=0;r.length>a;)!o(F,t=r[a++])||n&&!o(H,t)||i.push(F[t]);return i};z||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(N,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),U(this,e,k(1,n))};return i&&V&&U(H,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),C.f=Y,I.f=K,n(68).f=E.f=Z,n(91).f=Q,_.f=ee,i&&!n(64)&&s(H,"propertyIsEnumerable",Q,!0),h.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!z,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=P(d.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return o(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?O(e):X(O(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=u((function(){_.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return _.f(x(e))}}),q&&a(a.S+a.F*(!z||u((function(){var e=A();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!G(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,j.apply(q,r)}}),A.prototype[M]||n(31)(A.prototype,M,A.prototype.valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){e.exports=n(111)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(65),o=n(113),i=n(91);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(2);r(r.S,"Object",{create:n(67)})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(20),"Object",{defineProperty:n(21).f})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(20),"Object",{defineProperties:n(205)})},function(e,t,n){var r=n(32),o=n(42).f;n(43)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},function(e,t,n){var r=n(25),o=n(69);n(43)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(25),o=n(65);n(43)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){n(43)("getOwnPropertyNames",(function(){return n(206).f}))},function(e,t,n){var r=n(14),o=n(55).onFreeze;n(43)("freeze",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(14),o=n(55).onFreeze;n(43)("seal",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(14),o=n(55).onFreeze;n(43)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(14);n(43)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(14);n(43)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(14);n(43)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(207)})},function(e,t,n){var r=n(2);r(r.S,"Object",{is:n(208)})},function(e,t,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(155).set})},function(e,t,n){"use strict";var r=n(92),o={};o[n(17)("toStringTag")]="z",o+""!="[object z]"&&n(26)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(2);r(r.P,"Function",{bind:n(209)})},function(e,t,n){var r=n(21).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(20)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(14),o=n(69),i=n(17)("hasInstance"),a=Function.prototype;i in a||n(21).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(2),o=n(211);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(2),o=n(212);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){"use strict";var r=n(11),o=n(30),i=n(47),a=n(157),s=n(54),c=n(12),u=n(68).f,l=n(42).f,p=n(21).f,f=n(78).trim,d=r.Number,h=d,m=d.prototype,v="Number"==i(n(67)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?c((function(){m.valueOf.call(n)})):"Number"!=i(n))?a(new h(y(t)),n,d):y(t)};for(var b,x=n(20)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)o(h,b=x[w])&&!o(d,b)&&p(d,b,l(h,b));d.prototype=m,m.constructor=d,n(26)(r,"Number",d)}},function(e,t,n){"use strict";var r=n(2),o=n(41),i=n(213),a=n(158),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",p=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(12)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,c=i(this,l),u=o(e),m="",v="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*h(2,69,1))-69)<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(p(0,n),r=u;r>=7;)p(1e7,0),r-=7;for(p(h(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),p(1,1),f(2),v=d()}else p(0,n),p(1<<-t,0),v=d()+a.call("0",u);return v=u>0?m+((s=v.length)<=u?"0."+a.call("0",u-s)+v:v.slice(0,s-u)+"."+v.slice(s-u)):m+v}})},function(e,t,n){"use strict";var r=n(2),o=n(12),i=n(213),a=1..toPrecision;r(r.P+r.F*(o((function(){return"1"!==a.call(1,void 0)}))||!o((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(2),o=n(11).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{isInteger:n(214)})},function(e,t,n){var r=n(2);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(2),o=n(214),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(2),o=n(212);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(2),o=n(211);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(2),o=n(215),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(2),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(2),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(2),o=n(159);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(2),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(2),o=n(160);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(2);r(r.S,"Math",{fround:n(367)})},function(e,t,n){var r=n(159),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),c=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),u=r(e);return o<c?u*(o/c/a+1/i-1/i)*c*a:(n=(t=(1+a/i)*o)-(t-o))>s||n!=n?u*(1/0):u*n}},function(e,t,n){var r=n(2),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,n){var r=n(2),o=Math.imul;r(r.S+r.F*n(12)((function(){return-5!=o(4294967295,5)||2!=o.length})),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log1p:n(215)})},function(e,t,n){var r=n(2);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{sign:n(159)})},function(e,t,n){var r=n(2),o=n(160),i=Math.exp;r(r.S+r.F*n(12)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(2),o=n(160),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(2),o=n(66),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(2),o=n(32),i=n(18);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(78)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){"use strict";var r=n(161)(!0);n(162)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(2),o=n(161)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(2),o=n(18),i=n(163),a="".endsWith;r(r.P+r.F*n(165)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){"use strict";var r=n(2),o=n(163);r(r.P+r.F*n(165)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(2);r(r.P,"String",{repeat:n(158)})},function(e,t,n){"use strict";var r=n(2),o=n(18),i=n(163),a="".startsWith;r(r.P+r.F*n(165)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(27)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(27)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){"use strict";n(27)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){"use strict";n(27)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){"use strict";n(27)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){"use strict";n(27)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){"use strict";n(27)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){"use strict";n(27)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){"use strict";n(27)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";n(27)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){"use strict";n(27)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){"use strict";n(27)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){"use strict";n(27)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(2),o=n(25),i=n(54);r(r.P+r.F*n(12)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(2),o=n(402);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){"use strict";var r=n(12),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!r((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(26)(r,"toString",(function(){var e=i.call(this);return e==e?o.call(this):"Invalid Date"}))},function(e,t,n){var r=n(17)("toPrimitive"),o=Date.prototype;r in o||n(31)(o,r,n(405))},function(e,t,n){"use strict";var r=n(13),o=n(54);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(114)})},function(e,t,n){"use strict";var r=n(39),o=n(2),i=n(25),a=n(217),s=n(166),c=n(18),u=n(167),l=n(168);o(o.S+o.F*!n(115)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,p,f=i(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(f);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(t=c(f.length));t>g;g++)u(n,g,v?m(f[g],g):f[g]);else for(p=y.call(f),n=new d;!(o=p.next()).done;g++)u(n,g,v?a(p,m,[o.value,g],!0):o.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(2),o=n(167);r(r.S+r.F*n(12)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(2),o=n(32),i=[].join;r(r.P+r.F*(n(90)!=Object||!n(36)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(2),o=n(154),i=n(47),a=n(66),s=n(18),c=[].slice;r(r.P+r.F*n(12)((function(){o&&c.call(o)})),"Array",{slice:function(e,t){var n=s(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var o=a(e,n),u=a(t,n),l=s(u-o),p=new Array(l),f=0;f<l;f++)p[f]="String"==r?this.charAt(o+f):this[o+f];return p}})},function(e,t,n){"use strict";var r=n(2),o=n(40),i=n(25),a=n(12),s=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(36)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},function(e,t,n){"use strict";var r=n(2),o=n(44)(0),i=n(36)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(14),o=n(114),i=n(17)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(2),o=n(44)(1);r(r.P+r.F*!n(36)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(44)(2);r(r.P+r.F*!n(36)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(44)(3);r(r.P+r.F*!n(36)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(44)(4);r(r.P+r.F*!n(36)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(219);r(r.P+r.F*!n(36)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(2),o=n(219);r(r.P+r.F*!n(36)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(2),o=n(112)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(36)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(32),i=n(41),a=n(18),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(36)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(2);r(r.P,"Array",{copyWithin:n(220)}),n(70)("copyWithin")},function(e,t,n){var r=n(2);r(r.P,"Array",{fill:n(169)}),n(70)("fill")},function(e,t,n){"use strict";var r=n(2),o=n(44)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(70)("find")},function(e,t,n){"use strict";var r=n(2),o=n(44)(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(70)(i)},function(e,t,n){n(80)("Array")},function(e,t,n){var r=n(11),o=n(157),i=n(21).f,a=n(68).f,s=n(164),c=n(116),u=r.RegExp,l=u,p=u.prototype,f=/a/g,d=/a/g,h=new u(f)!==f;if(n(20)&&(!h||n(12)((function(){return d[n(17)("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:p,u)};for(var m=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)m(v[g++]);p.constructor=u,u.prototype=p,n(26)(r,"RegExp",u)}n(80)("RegExp")},function(e,t,n){"use strict";n(223);var r=n(13),o=n(116),i=n(20),a=/./.toString,s=function(e){n(26)(RegExp.prototype,"toString",e,!0)};n(12)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){"use strict";var r=n(13),o=n(18),i=n(172),a=n(117);n(118)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),u=String(this);if(!c.global)return a(c,u);var l=c.unicode;c.lastIndex=0;for(var p,f=[],d=0;null!==(p=a(c,u));){var h=String(p[0]);f[d]=h,""===h&&(c.lastIndex=i(u,o(c.lastIndex),l)),d++}return 0===d?null:f}]}))},function(e,t,n){"use strict";var r=n(13),o=n(25),i=n(18),a=n(41),s=n(172),c=n(117),u=Math.max,l=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(118)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var p=r(e),f=String(this),d="function"==typeof t;d||(t=String(t));var v=p.global;if(v){var g=p.unicode;p.lastIndex=0}for(var y=[];;){var b=c(p,f);if(null===b)break;if(y.push(b),!v)break;""===String(b[0])&&(p.lastIndex=s(f,i(p.lastIndex),g))}for(var x,w="",S=0,k=0;k<y.length;k++){b=y[k];for(var O=String(b[0]),E=u(l(a(b.index),f.length),0),C=[],_=1;_<b.length;_++)C.push(void 0===(x=b[_])?x:String(x));var I=b.groups;if(d){var P=[O].concat(C,E,f);void 0!==I&&P.push(I);var T=String(t.apply(void 0,P))}else T=m(O,f,E,C,I,t);E>=S&&(w+=f.slice(S,E)+T,S=E+O.length)}return w+f.slice(S)}];function m(e,t,r,i,a,s){var c=r+e.length,u=i.length,l=d;return void 0!==a&&(a=o(a),l=f),n.call(s,l,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>u){var f=p(l/10);return 0===f?n:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):n}s=i[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";var r=n(13),o=n(208),i=n(117);n(118)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var l=i(s,c);return o(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},function(e,t,n){"use strict";var r=n(164),o=n(13),i=n(93),a=n(172),s=n(18),c=n(117),u=n(171),l=n(12),p=Math.min,f=[].push,d="length",h=!l((function(){RegExp(4294967295,"y")}));n(118)("split",2,(function(e,t,n,l){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,l+"g");(i=u.call(m,o))&&!((a=m.lastIndex)>p&&(c.push(o.slice(p,i.index)),i[d]>1&&i.index<o[d]&&f.apply(c,i.slice(1)),s=i[0][d],p=a,c[d]>=h));)m.lastIndex===i.index&&m.lastIndex++;return p===o[d]?!s&&m.test("")||c.push(""):c.push(o.slice(p)),c[d]>h?c.slice(0,h):c}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):m.call(String(o),n,r)},function(e,t){var r=l(m,e,this,t,m!==n);if(r.done)return r.value;var u=o(e),f=String(this),d=i(u,RegExp),v=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new d(h?u:"^(?:"+u.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var x=0,w=0,S=[];w<f.length;){y.lastIndex=h?w:0;var k,O=c(y,h?f:f.slice(w));if(null===O||(k=p(s(y.lastIndex+(h?0:w)),f.length))===x)w=a(f,w,v);else{if(S.push(f.slice(x,w)),S.length===b)return S;for(var E=1;E<=O.length-1;E++)if(S.push(O[E]),S.length===b)return S;w=x=k}}return S.push(f.slice(x)),S}]}))},function(e,t,n){var r=n(11),o=n(173).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(47)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var p=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(227),o=n(71);e.exports=n(121)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(227),o=n(71);e.exports=n(121)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(11),i=n(44)(0),a=n(26),s=n(55),c=n(207),u=n(228),l=n(14),p=n(71),f=n(71),d=!o.ActiveXObject&&"ActiveXObject"in o,h=s.getWeak,m=Object.isExtensible,v=u.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=h(e);return!0===t?v(p(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(p(this,"WeakMap"),e,t)}},b=e.exports=n(121)("WeakMap",g,y,u,!0,!0);f&&d&&(c((r=u.getConstructor(g,"WeakMap")).prototype,y),s.NEED=!0,i(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,o){if(l(t)&&!m(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)}))})))},function(e,t,n){"use strict";var r=n(228),o=n(71);n(121)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(2),o=n(122),i=n(174),a=n(13),s=n(66),c=n(18),u=n(14),l=n(11).ArrayBuffer,p=n(93),f=i.ArrayBuffer,d=i.DataView,h=o.ABV&&l.isView,m=f.prototype.slice,v=o.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||u(e)&&v in e}}),r(r.P+r.U+r.F*n(12)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),o=s(void 0===t?n:t,n),i=new(p(this,f))(c(o-r)),u=new d(this),l=new d(i),h=0;r<o;)l.setUint8(h++,u.getUint8(r++));return i}}),n(80)("ArrayBuffer")},function(e,t,n){var r=n(2);r(r.G+r.W+r.F*!n(122).ABV,{DataView:n(174).DataView})},function(e,t,n){n(49)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(49)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(49)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(2),o=n(40),i=n(13),a=(n(11).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(12)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=o(e),c=i(n);return a?a(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(2),o=n(67),i=n(40),a=n(13),s=n(14),c=n(12),u=n(209),l=(n(11).Reflect||{}).construct,p=c((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),f=!c((function(){l((function(){}))}));r(r.S+r.F*(p||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!p)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,d=o(s(c)?c:Object.prototype),h=Function.apply.call(e,d,t);return s(h)?h:d}})},function(e,t,n){var r=n(21),o=n(2),i=n(13),a=n(54);o(o.S+o.F*n(12)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(2),o=n(42).f,i=n(13);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(2),o=n(13),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(216)(i,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){var r=n(42),o=n(69),i=n(30),a=n(2),s=n(14),c=n(13);a(a.S,"Reflect",{get:function e(t,n){var a,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[n]:(a=r.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(u=o(t))?e(u,n,l):void 0}})},function(e,t,n){var r=n(42),o=n(2),i=n(13);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(2),o=n(69),i=n(13);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(2),o=n(13),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(230)})},function(e,t,n){var r=n(2),o=n(13),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(21),o=n(42),i=n(69),a=n(30),s=n(2),c=n(62),u=n(13),l=n(14);s(s.S,"Reflect",{set:function e(t,n,s){var p,f,d=arguments.length<4?t:arguments[3],h=o.f(u(t),n);if(!h){if(l(f=i(t)))return e(f,n,s,d);h=c(0)}if(a(h,"value")){if(!1===h.writable||!l(d))return!1;if(p=o.f(d,n)){if(p.get||p.set||!1===p.writable)return!1;p.value=s,r.f(d,n,p)}else r.f(d,n,c(0,s));return!0}return void 0!==h.set&&(h.set.call(d,s),!0)}})},function(e,t,n){var r=n(2),o=n(155);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(465),e.exports=n(19).Array.includes},function(e,t,n){"use strict";var r=n(2),o=n(112)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(70)("includes")},function(e,t,n){n(467),e.exports=n(19).Array.flatMap},function(e,t,n){"use strict";var r=n(2),o=n(468),i=n(25),a=n(18),s=n(40),c=n(218);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=a(r.length),n=c(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(70)("flatMap")},function(e,t,n){"use strict";var r=n(114),o=n(14),i=n(18),a=n(39),s=n(17)("isConcatSpreadable");e.exports=function e(t,n,c,u,l,p,f,d){for(var h,m,v=l,g=0,y=!!f&&a(f,d,3);g<u;){if(g in c){if(h=y?y(c[g],g,n):c[g],m=!1,o(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&p>0)v=e(t,n,h,i(h.length),v,p-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}g++}return v}},function(e,t,n){n(470),e.exports=n(19).String.padStart},function(e,t,n){"use strict";var r=n(2),o=n(231),i=n(120),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(472),e.exports=n(19).String.padEnd},function(e,t,n){"use strict";var r=n(2),o=n(231),i=n(120),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(474),e.exports=n(19).String.trimLeft},function(e,t,n){"use strict";n(78)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){n(476),e.exports=n(19).String.trimRight},function(e,t,n){"use strict";n(78)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){n(478),e.exports=n(151).f("asyncIterator")},function(e,t,n){n(203)("asyncIterator")},function(e,t,n){n(480),e.exports=n(19).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(2),o=n(230),i=n(32),a=n(42),s=n(167);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),c=a.f,u=o(r),l={},p=0;u.length>p;)void 0!==(n=c(r,t=u[p++]))&&s(l,t,n);return l}})},function(e,t,n){n(482),e.exports=n(19).Object.values},function(e,t,n){var r=n(2),o=n(232)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){n(484),e.exports=n(19).Object.entries},function(e,t,n){var r=n(2),o=n(232)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";n(224),n(486),e.exports=n(19).Promise.finally},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(11),a=n(93),s=n(226);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){n(488),n(489),n(490),e.exports=n(19)},function(e,t,n){var r=n(11),o=n(2),i=n(120),a=[].slice,s=/MSIE .\./.test(i),c=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){var r=n(2),o=n(173);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(170),o=n(65),i=n(26),a=n(11),s=n(31),c=n(79),u=n(17),l=u("iterator"),p=u("toStringTag"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),m=0;m<h.length;m++){var v,g=h[m],y=d[g],b=a[g],x=b&&b.prototype;if(x&&(x[l]||s(x,l,f),x[p]||s(x,p,g),c[g]=f,y))for(v in r)x[v]||i(x,v,r[v],!0)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function p(){}function f(){}function d(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(O([])));v&&v!==t&&n.call(v,o)&&(h=v);var g=d.prototype=p.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=d,s(g,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){n(493),e.exports=n(233).global},function(e,t,n){var r=n(494);r(r.G,{global:n(175)})},function(e,t,n){var r=n(175),o=n(233),i=n(495),a=n(497),s=n(504),c=function(e,t,n){var u,l,p,f=e&c.F,d=e&c.G,h=e&c.S,m=e&c.P,v=e&c.B,g=e&c.W,y=d?o:o[t]||(o[t]={}),b=y.prototype,x=d?r:h?r[t]:(r[t]||{}).prototype;for(u in d&&(n=t),n)(l=!f&&x&&void 0!==x[u])&&s(y,u)||(p=l?x[u]:n[u],y[u]=d&&"function"!=typeof x[u]?n[u]:v&&l?i(p,r):g&&x[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):m&&"function"==typeof p?i(Function.call,p):p,m&&((y.virtual||(y.virtual={}))[u]=p,e&c.R&&b&&!b[u]&&a(b,u,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(496);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(498),o=n(503);e.exports=n(177)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(499),o=n(500),i=n(502),a=Object.defineProperty;t.f=n(177)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(176);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(177)&&!n(234)((function(){return 7!=Object.defineProperty(n(501)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(176),o=n(175).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(176);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(235);function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}n(506),n(507),n(520),n(521),n(523);var a=n(95),s=n(9).qiniuZoom;n(96).disableWxFontSize(),window._DEBUG_=a.DEBUG,n(529),n(530);var c=n(531),u=n(178),l=n(1),p=n(1075).sceneLoadEnd,f=n(84).isEqxHost,d=n(37).$getSceneMetaData,h=n(1076).getPerfectSceneData,m=document.createElement("link");m.rel="stylesheet",m.href="//lib.eqh5.com/iconfonts/4.0.8/iconfonts.min.css",document.head.appendChild(m),c.setUp();var v=n(0).isWeixin,g=n(28).$getUserWxInfo,y=n(129).sessionDestroy,b=n(129).sessionRefresh,x=n(4),w=x.getUrlParam,S=x.removeUrlParam,k=n(7),O=n(110),E=n(178).stopLoading,C=n(146),_=n(1081).wxAdaptor,I=n(86).perfectPage,P=n(86).adjustPcMode,T=n(33).perfectComp,R=n(33).perfectCssForPcRender,A=n(4),q=n(85).customLoadPage,j=n(96).domainParam,L=n(0),M=L.isPc,D=L.isAndroid,B=n(1082).getSceneStatus,F=n(279),N=F.isEqxWxMini,H=F.getInfos,z=(0,n(16).getRem)(),J=n(15).$loadJWeixin,V=n(88),U=V.isCardScene,W=V.isAppletScene,G=n(1084).addLoadingLogo,K=n(192),X=n(24),Q=X.setItem,Y=X.getItem,Z=n(87).getTemplateParam,ee=n(6),te=ee.subscribeWechatMpModal,ne=ee.formAccessPasswordModal,re=n(28).$frontCallWxAuth,oe=n(259).hashBackendToFont;w("appletPreview")&&$("body").addClass("applet-hide-scrollbar"),(0,r.init)(),window.addEventListener("pageshow",(function(e){"true"===sessionStorage.getItem("disableWxShare")&&setTimeout((function(){de()}),0)}));var ie,ae,se,ce,ue,le=w("f_b_video");if(le&&!M()){$("body").append('<div id="form_back_video" style="position: fixed;top: 9px;left: 16px;width: 70px;height: 40px;color: #333;z-index: 9999999;padding-left: 8px;background: #FFF;font-size:24px;display: flex;align-items:center;box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.16);border-radius: 20px;"><span style="display: inline-block;width: 24px;margin-top: 1px" class="eqf-left"></span><span style="font-size: 16px;font-weight:400;display: inline-block;width: 32px;">视频</span></div>'),$("#form_back_video").on("click",(function(e){window.location.href=le}))}try{ie=window.serverParams||{},ae=ie.wxThird_unionid,se=ie.wxThird_appid,ce=ie.wxThird_openid,ue={wx_appid:se,wx_openid:ce,wx_unionid:ae},(se||ce||ae)&&Object.keys(ue).forEach((function(e){var t=ue[e];t&&window.sessionStorage.setItem(e,t)}))}catch(e){console.warn("开放平台埋点错误",e)}function pe(){var e;if(null!==(e=window.scene)&&void 0!==e&&e.cover){var t=document.createElement("img");t.id="shareImage",t.style.display="none",t.src=s(scene.cover),document.body.appendChild(t)}$("html").css("font-size",z+"px"),d().then((function(e){if(G(e),e.property=e.property||{},e.config=e.config||{},window.scene=Object.assign({},window.scene,e),"string"==typeof window.scene.ext)try{window.scene.ext=JSON.parse(window.scene.ext)}catch(e){}if(1===(e.redPacketActiveStatus||(e.map||{}).redPacketActiveStatus)&&v()&&!JSON.parse(window.sessionStorage.getItem("FORM_VIEW_REDPACKET_AUTH")))return window.sessionStorage.setItem("FORM_VIEW_REDPACKET_AUTH",!0),void K.wxSlientAuth();!function(e){f(location.host)?e.ext&&("string"==typeof e.ext&&(e.ext=JSON.parse(e.ext)),$.isEmptyObject(e.ext.yqc)||(l.FILE=l.VIP_USER_FILE)):(l.SOURCE=l.BIND_USER_SOURCE,l.FILE=l.BIND_USER_FILE);j(location.host)&&(l.FILE=l.VIP_USER_FILE)}(e),u.setUp(e);var t=Promise.resolve(null),r=location.href.split("#")[0];v()||U()?t=Z("thirdWxSubscribeQr")?(te(),y(),new Promise((function(e){return e({})}))):Z("mustWxAuth")?g(e.userId).then(function(){var t=i(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.obj&&n.obj.openid&&(o=/(^\?|&)platform=1($|&)/,window._tracker_&&!o.test(location.search)&&window._tracker_.push(["wx_user_info",{openid:n.obj.openid,nickname:n.obj.nickname,sex:n.obj.sex,province:n.obj.province,city:n.obj.city,country:n.obj.country,headimgurl:n.obj.headimgurl,privilege:n.obj.privilege,unionid:n.obj.unionid}]),k.setWeChatUser(n.obj),k.initWeChat({obj:e},r)),t.abrupt("return",n.obj);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e.property&&e.property.wxAuth&&("miniprogram"!==window.__wxjs_environment&&!N()||"form"===A.getUrlParam("applet")||A.getUrlParam("appletPreview")||U())?g(e.userId).then(function(){var t=i(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.obj&&n.obj.nickname&&(o=/(^\?|&)platform=1($|&)/,window._tracker_&&!o.test(location.search)&&window._tracker_.push(["wx_user_info",{openid:n.obj.openid,nickname:n.obj.nickname,sex:n.obj.sex,province:n.obj.province,city:n.obj.city,country:n.obj.country,headimgurl:n.obj.headimgurl,privilege:n.obj.privilege,unionid:n.obj.unionid}]),k.setWeChatUser(n.obj)),k.initWeChat({obj:e},r),t.abrupt("return",n.obj);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)})):N()?(k.setWeChatUser(H()),Promise.resolve(k.initWeChat({obj:e},r)).then((function(){return H()}))):Promise.resolve(k.initWeChat({obj:e},r)):"form"==w("applet")&&(t=J()),t.then((function(t){!function e(){Y("wxOpenid")&&b().then((function(){setTimeout((function(){e()}),12e4)}))}(),q(e).then((function(){B(e).then((function(r){fe&&(r={}),h(e).then((function(o){if(window._tj.sceneDataLoadTime=window._tj.now(),o.list.length){if(o.map.wxComponent&&k.setWxCompData(o.map.wxComponent),o.globalFormSetting=e&&e.config||{},new C(o,"view").addPageFn(I).addEleFn(_(o,t)).addEleFn(T).start(),function(e,t){var r=window.location.href,o=A.getUrlParam("toPage"),i=window.top!=window,a=A.getUrlParam("pcRenderView"),s=!a;r.indexOf("toPage")>-1&&A.replaceLocationHref(A.removeUrlParam("toPage"));var c=".p-index .nr",u=e,l=M()&&!i&&!s||i&&a;t&&(u.validateData=t);l&&(c=".pc-preview .nr",u=JSON.parse(JSON.stringify(u)),new C(u).addPageFn(P).addEleFn(R).start(),a&&!i&&$(".long-page-panel.pc-preview").show().siblings().hide());var p=JSON.parse(JSON.stringify(e));M()&&!i&&s&&(c=".mobile-preview .nr");!function(e){(window.scene.config||{}).openCover&&e.list.some((function(e){return"cover"===e.id}))}(u);var f=M()?l?"pcRender":"pcMobileRender":"mobileRender";fe&&(f="mobileRender");var d=!!w("sourceType")||!!w("appletPreview")&&!!w("tpl")||!!w("fromHot"),h={param:r.split("?")[1],selector:c,mode:"view",isPc:l,skipCover:d,renderMode:f};fe&&(u.meta.property.isRemoveLabel=!0,Object.assign(h,{mode:"view",disableSubmit:!0,disableReport:!0,disableGetVoteData:!1,isPc:!1,isInnerView:!0,updateOuterBox:!0}));var m=new O(u,h);m.remRender=z,window.app=m,window.app.originSceneJson=p,setTimeout((function(){E()})),window.uploadTjStat=y,m.renderScene(),m.currentPage.dealAppend(f),fe&&n.e(1).then(n.t.bind(null,1086,7)).then((function(e){new(0,e.default)({scene:m})}));w("canChangeBorder")&&window.top!==window&&window.addEventListener("message",(function(e){var t=e.data,n=void 0===t?{}:t;console.log(n),"changeCompBorder"===n.type&&m.currentPage.updateCompBorderImage(oe(n.obj))}));if(l){var v=m.eqxPageList[0];window.pcScene=m,v.updateCompPosition("ruleChange"),m.currentPage.dealAppend(f)}else window.mobileScene=m;a&&!i&&($(".pc-preview").find(".bgm-btn-wraper").appendTo($("body")).addClass("outer-bgm-btn-wraper"),$(".preview-style[type=pc-preview]").trigger("click"));if(D()){var g=Y("Form_Adapter_Android_Records");m.formManager.autoFillAdapterAndroid(m.eqxPageList[0],g)}function y(){var t=window._tj,n=t.startTime;Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=parseInt(t[e]-n))})),console.log("[tj]",window._tj);for(var r=e.list.length,o=0,i=0,a=0;a<r;a++){var s=e.list[a].elements.length;a===h.toPageIndex&&(o=s),i+=s}t.firstPageEleCnt=o,t.sceneEleCnt=i,t.pageCnt=r,t.code=e.meta.code;var c=window.performance.timing;try{t.redirect=c.redirectEnd-c.redirectStart,t.dns=c.domainLookupEnd-c.domainLookupStart,t.tcp=c.connectEnd-c.connectStart,t.html=c.responseEnd-c.requestStart,t.parseDOM=c.domComplete-c.domLoading,t.loadEvent=c.loadEventEnd-c.loadEventStart,t.startApp=t.redirect+t.dns+t.tcp+t.html+t.parseDOM+t.loadEvent}catch(e){console.log("window.performance")}var u=["redirect","dns","tcp","html","parseDOM","loadEvent","startApp","code","pageCnt","sceneEleCnt","firstPageEleCnt","firstPageShowTime","renderSceneTime","sceneDataLoadTime","ua","ios"].map((function(e){return e+"="+encodeURIComponent(window._tj[e])})),l=window._tj.img=new Image;l.onload=l.onabort=l.onerror=function(){window._tj.img=null};var p="https://wmi.eqxiu.com/cotest.gif?"+u.join("&");console.log("[tj]",u),console.log("[tj]",p),l.src=p}}(o,r),"showLast"!==w("sourceType")&&!W()&&Z("formAccessPassword")&&ne(window.app),function(){var e=!0;if(!window.app.bgm)return;e=window.app.bgm.soundAgent.$audio[0].paused;var t="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null;if(t){var n=t.replace(/hidden/i,"visibilitychange");document.addEventListener(n,(function(){document[t]?(e=window.app.bgm.soundAgent.$audio[0].paused)||window.app.bgm&&window.EQX.pauseBgm():e||window.app.bgm&&window.EQX.startBgm()}))}}(),scene.id==l.noVerify)try{$.getScript("//lib.eqh5.com/appeal4ebd/1.0.3/appeal.product.min.js")}catch(e){console.log(e)}sessionStorage.setItem("disableWxShare",o.globalFormSetting.disableWxShare),o.globalFormSetting.disableWxShare?de():v&&k.getWxJSSDK().then((function(){wx.ready((function(){wx.showAllNonBaseMenuItem&&wx.showAllNonBaseMenuItem(),wx.showOptionMenu&&wx.showOptionMenu()}))}))}else alert("此场景不存在!")}))}))}))}))}))}("miniprogram"===window.__wxjs_environment||w("appletPreview"))&&$("body").on("mousedown",'a[href^="/page"]',(function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.pathname,n="navigateTo";return["/page/mall/mall","/page/centre/centre","/page/create/create"].includes(t)&&(n="switchTab"),window.top===window?wx.miniProgram[n]({url:t}):window.parent.postMessage({type:"miniProgramJump",funtionName:n,url:t},"*"),!1})),$((function(){var e=window._tj={},t=navigator.userAgent;e.ua=t,e.ios=/ipad|iphone/i.test(navigator.userAgent),window.performance&&window.performance.now?(e.perf=!0,e.now=function(){return performance.now()}):(e.perf=!1,e.now=function(){return Date.now()}),e.startTime=e.now();try{["wxThird_appid","wxThird_openid","wxThird_unionid"].forEach((function(e){var t=Z(e);if(t){var n=e.replace("wxThird_","");window.sessionStorage.setItem(n,t)}}))}catch(e){console.error(e),console.log("开放平台埋点错误")}Z("ssid")&&Q("wxOpenid",Z("ssid"),288e5),de(),w("ssid")&&!Z("thirdWxSubscribeQr")?(Q("wxOpenid",w("ssid"),288e5),window.location.href=S("ssid")):(pe(),p());var n=Z("redirectUrl");if(n){!function e(){return setTimeout((function(){window.app?app.sceneRenderReady().then((function(){re().finally((function(){window.location.href=n}))})):e()}),1e3)}()}}));var fe=w("synergyComments");function de(){v&&k.getWxJSSDK().then((function(){wx.ready((function(){wx.hideAllNonBaseMenuItem&&wx.hideAllNonBaseMenuItem(),wx.hideOptionMenu&&wx.hideOptionMenu()}))}))}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(508),n(515),n(518),n(519)},function(e,t,n){n(509),n(510),n(511),n(512),n(513),n(514)},function(e,t){[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("replaceWith")||Object.defineProperty(e,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.parentNode.replaceChild(t,this)}})}))},function(e,t){Math.hypot=Math.hypot||function(){for(var e=0,t=arguments.length,n=0;n<t;n++){if(arguments[n]===1/0||arguments[n]===-1/0)return 1/0;e+=arguments[n]*arguments[n]}return Math.sqrt(e)}},function(e,t){"function"!=typeof Object.values&&(Object.values=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t})},function(e,t){Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)},Number.parseInt=parseInt,Number.parseFloat=parseFloat},function(e,t){String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t})},function(e,t){var n,r,o,i;Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,o,i=parseInt(arguments[1])||0;for(i>=0?r=i:(r=n+i)<0&&(r=0);r<n;){if(e===(o=t[r])||e!=e&&o!=o)return!0;r++}return!1}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return i;return-1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t}),Array.from||(Array.from=(n=Object.prototype.toString,r=function(e){return"function"==typeof e||"[object Function]"===n.call(e)},o=Math.pow(2,53)-1,i=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),o)},function(e){var t=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!r(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,c=i(n.length),u=r(t)?Object(new t(c)):new Array(c),l=0;l<c;)s=n[l],u[l]=a?void 0===o?a(s,l):a.call(o,s,l):s,l+=1;return u.length=c,u}))},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n){var r=setTimeout;function o(){}var i="function"==typeof e&&e||function(e){r(e,1)},a=function(e){console.warn("Possible Unhandled Promise Rejection:",e)};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function c(e){if("object"!==t(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void p(t.promise,e)}l(t.promise,r)}else(1===e._state?l:p)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===t(n)||"function"==typeof n)){var r=n.then;if(n instanceof c)return e._state=3,e._value=n,void f(e);if("function"==typeof r)return void h((o=r,i=n,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=n,f(e)}catch(t){p(e,t)}var o,i}function p(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&setTimeout((function(){e._handled||a(e._value)}),1);for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,p(t,e))}))}catch(e){if(n)return;n=!0,p(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new c(o);return u(this,new d(e,t,n)),n},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new c((function(n,r){if(0===e.length)return n([]);var o=e.length;function i(a,s){try{if(s&&("object"===t(s)||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,(function(e){i(a,e)}),r)}e[a]=s,0==--o&&n(e)}catch(e){r(e)}}for(var a=0;a<e.length;a++)i(a,e[a])}))},c.resolve=function(e){return e&&"object"===t(e)&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},c._setImmediateFn=function(e){i=e},c._setUnhandledRejectionFn=function(e){a=e},window.Promise?c=window.Promise:window.Promise=c,c.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}}()}).call(this,n(516).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(517),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(94))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,c=1,u={},l=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[c]=o,r(c),c++},f.clearImmediate=d}function d(e){delete u[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(94),n(123))},function(e,t){!function(e){"use strict";var t,n=e.URL;try{if(n){if("searchParams"in(t=new e.URL("http://example.com")))return;"href"in t||(t=void 0)}}catch(e){}function r(e){var t="",n=!0;return e.forEach((function(e){var r=encodeURIComponent(e.name),o=encodeURIComponent(e.value);n||(t+="&"),t+=r+"="+o,n=!1})),t.replace(/%20/g,"+")}function o(e,t){var n=e.split("&");t&&-1===n[0].indexOf("=")&&(n[0]="="+n[0]);var r=[];n.forEach((function(e){if(0!==e.length){var t=e.indexOf("=");if(-1!==t)var n=e.substring(0,t),o=e.substring(t+1);else n=e,o="";n=n.replace(/\+/g," "),o=o.replace(/\+/g," "),r.push({name:n,value:o})}}));var o=[];return r.forEach((function(e){o.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})})),o}function i(e){var t=this;this._list=[],null==e&&(e=""),Object(e)===e&&e instanceof i||(e=String(e)),"string"==typeof e&&"?"===e.substring(0,1)&&(e=e.substring(1)),this._list="string"==typeof e?o(e):e._list.slice(),this._url_object=null,this._setList=function(e){n||(t._list=e)};var n=!1;this._update_steps=function(){n||(n=!0,t._url_object&&("about:"===t._url_object.protocol&&-1!==t._url_object.pathname.indexOf("?")&&(t._url_object.pathname=t._url_object.pathname.split("?")[0]),t._url_object.search=r(t._list),n=!1))}}function a(r,a){if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");a&&(r=function(){if(t)return new n(r,a).href;var e;if(document.implementation&&document.implementation.createHTMLDocument?e=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?((e=document.implementation.createElement("http://www.w3.org/1999/xhtml","html",null)).documentElement.appendChild(e.createElement("head")),e.documentElement.appendChild(e.createElement("body"))):window.ActiveXObject&&((e=new window.ActiveXObject("htmlfile")).write("<head></head><body></body>"),e.close()),!e)throw Error("base not supported");var o=e.createElement("base");o.href=a,e.getElementsByTagName("head")[0].appendChild(o);var i=e.createElement("a");return i.href=r,i.href}());var s=function(e){if(t)return new n(e);var r=document.createElement("a");return r.href=e,r}(r||""),c=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}()?this:document.createElement("a"),u=new i(s.search?s.search.substring(1):null);function l(){var e=s.href.replace(/#$|\?$|\?(?=#)/g,"");s.href!==e&&(s.href=e)}function p(){u._setList(s.search?o(s.search.substring(1)):[]),u._update_steps()}return u._url_object=c,Object.defineProperties(c,{href:{get:function(){return s.href},set:function(e){s.href=e,l(),p()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in s?s.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return s.protocol},set:function(e){s.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return s.username},set:function(e){s.username=e},enumerable:!0,configurable:!0},password:{get:function(){return s.password},set:function(e){s.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[s.protocol];return e?s.host.replace(e,""):s.host},set:function(e){s.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return s.hostname},set:function(e){s.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return s.port},set:function(e){s.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==s.pathname.charAt(0)?"/"+s.pathname:s.pathname},set:function(e){s.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return s.search},set:function(e){s.search!==e&&(s.search=e,l(),p())},enumerable:!0,configurable:!0},searchParams:{get:function(){return u},enumerable:!0,configurable:!0},hash:{get:function(){return s.hash},set:function(e){s.hash=e,l()},enumerable:!0,configurable:!0},toString:{value:function(){return s.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return s.valueOf()},enumerable:!1,configurable:!0}}),c}if(Object.defineProperties(i.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:[n.name,n.value]}}}},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){var e=this,t=0;return{next:function(){return t>=e._list.length?{done:!0,value:void 0}:{done:!1,value:e._list[t++].name}}}},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){var e=this,t=0;return{next:function(){return t>=e._list.length?{done:!0,value:void 0}:{done:!1,value:e._list[t++].value}}}},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:void 0;this._list.forEach((function(n,r){e.call(t,n.name,n.value)}))},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return r(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in e&&"iterator"in e.Symbol&&Object.defineProperty(i.prototype,e.Symbol.iterator,{value:i.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),n)for(var s in n)n.hasOwnProperty(s)&&"function"==typeof n[s]&&(a[s]=n[s]);e.URL=a,e.URLSearchParams=i}(window)},function(e,t,n){"use strict";window.requestIdleCallback||(window.requestIdleCallback=window.requestAnimationFrame),window.cancelIdleCallback||(window.cancelIdleCallback=window.cancelAnimationFrame),Promise.allSettled||(Promise.allSettled=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})))})},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(522),0===location.hostname.indexOf("wap")&&$(document.body).addClass("wap-scene")},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={IMAGE_VOTE_SINGLE:"material/1624521649900-85s9bpj0dbn.svg",IMAGE_VOTE_MULTIPLE:"material/1624521586073-kg9zf191y7n.svg",VIDEO_VOTE_SINGLE:"material/1624521649900-85s9bpj0dbn.svg",VIDEO_VOTE_MULTIPLE:"material/1624521708483-v6tgiyc6on.svg",IMAGE_ONE:"material/1624521649900-85s9bpj0dbn.svg",IMAGE_TWO:"material/1624521586073-kg9zf191y7n.svg",IMAGE_THREE:"material/1624521586073-kg9zf191y7n.svg",GUIDE_RESULT:"o_1djqggbfc14061hi5a6n1nik1k2ho.gif",GUIDE_FILL_LIMIT:"o_1djqgg6n01sj61k2i17t62lv2e3j.gif",GUIDE_TEST:"o_1djqgg1jd1b362441mbhpce17fpe.gif",GUIDE_VOTE:"o_1djqgfqd21et31gu5g76f4vb19.gif",NOTICE_JS:"//lib.eqh5.com/eqx.sdk.ad/1.3.3/index.js",NOTICE_CSS:"//lib.eqh5.com/eqx.sdk.ad/1.3.3/index.css",AUTH_MODAL_JS:"//lib.eqh5.com/auth-modal/auth-modal.min.js",AUTH_MODAL_CSS:"//lib.eqh5.com/auth-modal/auth-modal.min.css",RED_PACK_JS:"//www.eqxiu.com/eqx-market/0.3.3/eqx-redpacket-setting.umd.min.js",RED_PACK_CSS:"//www.eqxiu.com/eqx-market/0.3.3/eqx-redpacket-setting.css",FONT_DIALOG_JS:"//www.eqxiu.com/eqx-market/0.3.3/eqx-font-dialog.umd.min.js",FONT_DIALOG_CSS:"//www.eqxiu.com/eqx-market/0.3.3/eqx-font-dialog.css",checkHelper:"//lib.eqh5.com/check-helper/1.0.0/check-helper.min.js"}},function(e,t,n){e.exports=n(72),n(236),n(124),n(526),n(237),n(527),n(528)},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72),n(124)],void 0===(i="function"==typeof(r=function(e){"fetch"in window&&"Request"in window&&(e.fetchBlob=function(t,n,r){if(e.hasMetaOption(r))return fetch(new Request(t,r)).then((function(e){return e.blob()})).then(n).catch((function(e){console.log(e),n()}));n()})})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72),n(237)],void 0===(i="function"==typeof(r=function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,r=e.map;for(t in n)n.hasOwnProperty(t)&&(r[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(72),n(236),n(124)],void 0===(i="function"==typeof(r=function(e){var t=e.hasCanvasOption,n=e.hasMetaOption,r=e.transformCoordinates,o=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){r.call(e,t,n);var o=t.getContext("2d"),i=t.width,a=t.height,s=t.style.width,c=t.style.height,u=n.orientation;if(u&&!(u>8))switch(u>4&&(t.width=a,t.height=i,t.style.width=c,t.style.height=s),u){case 2:o.translate(i,0),o.scale(-1,1);break;case 3:o.translate(i,a),o.rotate(Math.PI);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a);break;case 7:o.rotate(.5*Math.PI),o.translate(i,-a),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-i,0)}},e.getTransformedOptions=function(t,n,r){var i,a,s=o.call(e,t,n),c=s.orientation;if(!0===c&&r&&r.exif&&(c=r.exif.get("Orientation")),!c||c>8||1===c)return s;for(a in i={},s)s.hasOwnProperty(a)&&(i[a]=s[a]);switch(i.orientation=c,c){case 2:i.left=s.right,i.right=s.left;break;case 3:i.left=s.right,i.top=s.bottom,i.right=s.left,i.bottom=s.top;break;case 4:i.top=s.bottom,i.bottom=s.top;break;case 5:i.left=s.top,i.top=s.left,i.right=s.bottom,i.bottom=s.right;break;case 6:i.left=s.top,i.top=s.right,i.right=s.bottom,i.bottom=s.left;break;case 7:i.left=s.bottom,i.top=s.right,i.right=s.top,i.bottom=s.left;break;case 8:i.left=s.bottom,i.top=s.left,i.right=s.top,i.bottom=s.right}return i.orientation>4&&(i.maxWidth=s.maxHeight,i.maxHeight=s.maxWidth,i.minWidth=s.minHeight,i.minHeight=s.minWidth,i.sourceWidth=s.sourceHeight,i.sourceHeight=s.sourceWidth),i}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={setUp:function(){$.ajaxSetup({cache:!0}),$.support.cors=!0}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(537),n(538),n(539),n(540);var r=n(4).parseUrl,o=n(1),i=n(83).$getPcBgImg,a=n(15).$loadQRCode,s=n(84).getShareUrl,c=n(85).getDomainType,u=n(544);e.exports={addElementsToPc:function(e){var t=e.name,l=e.description,p=e.cover;$(".scene_title").text(t.length>13?t.substr(0,13)+"...":t),l||(l="易企秀表单 - 登录 www.eqxiu.com 快速制作，高效推广。");!function(e){var t=e.name,n=e.description,r=e.cover;n=n||"";var i=window.location.href.split("?")[0];$("#share_view .share-qq").attr("href","http://connect.qq.com/widget/shareqq/index.html?url=".concat(encodeURIComponent(i),"?from=sqq&title=").concat(t,"&site=易企秀http://eqxiu.com&summary=").concat(n,"&pics=").concat(o.FILE+r,"&desc=").concat(n,"&appkey=3508809852")),$("#share_view .share-qqZone").attr("href","http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=".concat(encodeURIComponent(i),"?from=qzone&title=").concat(t,"&site=易企秀http://eqxiu.com&summary=").concat(n,"&pics=").concat(o.FILE+r,"&desc=").concat(n,"&appkey=3508809852")),$("#share_view .share-weibo").attr("href","http://service.weibo.com/share/share.php?url=".concat(encodeURIComponent(i),"?from=sina_weibo&title=").concat(encodeURIComponent("#易企秀分享# 这是我用@易企秀 做的【".concat(t,"】，赶紧打开看看吧！")),"&pic=").concat(o.FILE+r,"&appkey=3508809852"))}({name:t,description:l,cover:p});var f=e.property,d=f.boughtLabel,h=f.removeLabel,m=f.removePcLabel,v=h||"";(d||m)&&(v=!0);v?(document.title=t,$("body").css("background-color","#F1EDE5")):(g=c(window.location.host),i(g).catch((function(){return n(547)})).then((function(e){$("body").css("backgroundImage","url("+e+")")})));var g;!function(e){a().then((function(){var t=r(s(e));t.searchParams.set("eqrcode",1),console.info("qrCodeUrl:",t.href),$("#downApp").click((function(){$("#downAppView").css("display","block")})),$("#close").click((function(){$("#downAppView").css("display","none")})),$("#downCode").qrcode({render:"canvas",size:192,text:"http://click.hm.baidu.com/app.gif?ap=62563&ch=43727"});var n=$("#codeImg").data("type");$("#codeImg").qrcode({render:"canvas",size:"fixed"==n?156:110,text:t.href}),$("#share_view .share-link").click((function(){!function(){var e,t=window.location.href,n=document.createElement("textarea");n.style.position="absolute",n.style.left="-9999px",n.style.bottom="0",document.body.appendChild(n),n.textContent=t,n.focus(),n.setSelectionRange(0,n.value.length);try{e=document.execCommand("copy")}catch(t){e=!1}document.body.removeChild(n),e&&new u({info:"correct",msg:"复制成功"}).createDialog()}()}))}))}(e)}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=(0,n(238).make)({1:"普通账号",2:"企业账号",21:"企业子账号",5:"公共账号",51:"公共子账号",3:"高级用户",4:"秀客",99:"运营人员"});e.exports={USER_ROLE:r}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={AD_POSITION_ID:{1:116954426,2:116954202,3:116954311,1060:116954514,1107:116954060,1129:116953857}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(545);var o=n(546),i=n(3).parse,a={error:"eqf-no-f",doubt:"eqf-why-l",warning:"eqf-alert-f",correct:"eqf-yes-f",message:"eqf-info-f"},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t}var t,n,s;return t=e,(n=[{key:"createDialog",value:function(){var e=this,t=this.data,n=t.info,r=t.msg,s=a[n];this.$content=$(i(o,{info:n,infoClass:s,msg:r})),$("body").append(this.$content),this.$content.find(".box").animate({marginTop:"80px",opacity:1},150).delay(3e3).animate({marginTop:"70px",opacity:0},50,(function(){e.$content.remove()}))}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="new-tip-dialog">\n    <div class="shade" ng-click="closeModal()"></div>\n    <div class="box">\n        <div class="msg-wrapper">\n            <em class="#{infoClass} #{info}"></em>\n            <div class="msg-container">\n                <span>#{msg}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){e.exports=n.p+"images/spring-fd3fc3.jpg"},function(e,t,n){"use strict";var r=n(180),o=n(1),i=n(56).getAd,a=o.STORE;a=o.STORE.replace("https://","http://");var s=o.VIEW_HOST,c=n(37).$getRecommendScenes,u=(n(37).$getPCAdvertisement,n(85).getDomainType),l=(n(549),n(550)),p=n(551),f=n(552),d=n(553),h=n(9).qiniuZoom;function m(){var e=r.nr();return'\n    <div class="long-page-panel mobile-preview">\n                <div class="p-index main phoneBox phone-new" id="con" style="display: none;">\n                    <div class="scene_title_baner">\n                        <h1 class="scene_title"></h1>\n                    </div>\n                    '.concat(e,'\n                    <div class="mobile-nr-cover" id="nrCover"></div>\n                </div>\n            </div>')}function v(){var e=r.nr();return'\n    <div class="long-page-panel pc-preview">\n                 '.concat(e,"\n            </div>")}e.exports={div:function(){var e=v(),t=m();return'<div class="preview-outer-wraper" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;">\n        <div class="pcPreview-btn-group-wrap">\n            <div class="btn-wraper">\n                <div class="preview-style active" type="mobile-preview"><span class="eqf-phone-l"></span></div>\n                <div class="preview-style" type="pc-preview"><span class="eqf-pc-l"></span></div>\n            </div>\n        </div>\n        <div class="preview-btn-wrap isMobile">\n            <div class="preview-make-panel" style="width: 150px;height: 337px;padding: 16px 15px 16px 15px;background-color: #fff;box-shadow: 0 0 8px rgba(0,0,0,.1);">\n                <div style="width: 122px;height: 179px;padding: 20px 13px 11px 13px;border: 1px solid #E5E5E5">\n                    <div class="qr-code" style="margin-left: 7px;">\n                        <div id="codeImg" style="width: 110px;height: 110px;"></div>\n                        <p style="line-height: 30px;font-size: 12px;text-align: center;color: #333333;">微信扫一扫预览</p>\n                    </div>\n                    <div class="shareBtn" id="share_view">\n                        <a class="share-qq" target="_blank">\n                            <span class="eqf-QQ share-icon"></span>\n                        </a>\n                        <a class="share-qqZone" target="_blank">\n                            <span class="eqf-QQzone share-icon"></span>\n                        </a>\n                        <a class="share-weibo" target="_blank">\n                            <span class="eqf-weibo share-icon"></span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div id="view_panel">\n            '.concat(e,"\n            ").concat(t,'\n            <div id="support">\n                <a target="_blank" href="http://www.eqxiu.com">\n                    <img src="https://lib.eqh5.com/@eqxiu-res/form/images/icon.svg"></img>\n                </a>\n            </div>\n        </div>\n    </div>')},addSample:function(e){$("#view_reg").after('<div id="sample_btn">使用该模板</div>'),$("#view_reg").addClass("view_reg"),$("body").on("click","#sample_btn",(function(){window.open("".concat(a,"redirect-").concat(e,".html"))}))},addRecommend:function(){var e=0,t=$(document.body),n=$('<div id="recomment_container"></div>'),r=$('<span id="recommend_btn">热点推荐</span>'),i=$('<div id="recommend_content"></div>'),a=$("<ul></ul>");n.append(i).append(r),t.append(n),r.click((function(){0===e?(i.hide(),$("#view_panel").css("margin","-300px 0 0 -326px"),e=1):(i.show(),$("#view_panel").css("margin","-300px 0 0 -198px"),e=0)}));var l=u(window.location.host);c(l).then((function(e){e.list.length?($("#view_panel").css("margin","-310px 0 0 -204px"),i.append(a),e.list.forEach((function(e){if(e.cover.indexOf("imageMogr2")>-1)var t=e.cover.slice(0,e.cover.indexOf("imageMogr2")-1);else t=e.cover;a.append('<li><a href="'.concat(s,"s/").concat(e.code,'" target="_blank"><img src="').concat(o.FILE).concat(t,'?imageMogr2/auto-orient/thumbnail/240x240>"> <span>').concat(e.name||"我用易企秀做了一个超酷炫的H5，快来看看吧。","</span></a></li>"))}))):$("#recomment_container").remove()})).catch((function(e){$("#recomment_container").remove()}))},addAdvertisement:function(){i(o.VIEW_CREATE_AD).then((function(e){var t=e.list;200===e.code&&t.length>0&&$(".preview-btn-wrap").find(".preview-make-panel").append('<div style="width: 150px;height: 63px;background-color:#2f6fad;margin-top: 16px;">\n                                <a rdt="3" cat="尾页组件" act="pc预览右侧图片广告" loc="表单预览" href="'.concat(t[0].linkUrl,'" target="_blank">\n                                    <img src="').concat(h(t[0].picSrc),'" style="width: 150px;height: 63px;">\n                                </a>\n                    </div>'))}))},longPagePanel:v,removePcAdsDiv:function(){var e=v(),t=m();return'\n    <div class="preview-outer-wraper" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;">\n        <div class="pcPreview-btn-group-wrap">\n            <div class="btn-wraper">\n                <div class="preview-style active" type="mobile-preview"><span class="eqf-phone-l"></span></div>\n                <div class="preview-style" type="pc-preview"><span class="eqf-pc-l"></span></div>\n            </div>\n        </div>\n        <div id="view_panel">\n            <div class="preview-btn-wrap-no-pcAds">\n                <div class="preview-qrcode" style="width:40px;height:40px;">\n                    <span class="eqf-QRcode"></span>\n                </div>\n                <div class="preview-make-panel fixed-qrcode-m">\n                    <p style="color:#666"><span>扫一扫，用手机浏览</span></p>\n                    <div class="qr-code" style="margin: 16px auto;">\n                        <div id="codeImg" data-type="fixed" style="width: 156px;height: 156px; margin:auto"></div>\n                    </div>\n                    <div class="shareBtn" id="share_view" style="margin-top:16px">\n                            <a class="share-weibo" target="_blank">\n                                <img src="'.concat(p,'" />\n                            </a>\n                            <a class="share-qq" target="_blank">\n                                <img src="').concat(l,'" />\n                            </a>\n                            <a class="share-qqZone" target="_blank">\n                            <img src="').concat(f,'" />\n                            </a>\n                            <a class="share-link" target="_blank">\n                                <img src="').concat(d,'" />\n                            </a>\n                    </div>\n                </div>\n            </div>\n            ').concat(e,"\n            ").concat(t,"\n            </div>\n    </div>\n    ")}}},function(e,t,n){e.exports=n.p+"images/view-fv-ad-0a0539.png"},function(e,t,n){e.exports=n.p+"images/icon-qq-c8b822.png"},function(e,t,n){e.exports=n.p+"images/icon-weibo-96c078.png"},function(e,t,n){e.exports=n.p+"images/icon-qzone-e3a20e.png"},function(e,t,n){e.exports=n.p+"images/icon-link-b101ae.png"},function(e,t,n){"use strict";var r=n(180);e.exports={div:function(){var e=r.nr();return'<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '.concat(e,'\n        <div class="bottom"></div>\n    </div>\n</div>')},phoneDiv:function(){var e=r.nr();return'\n        <div class="p-index main iframe-phone pc-preview" id="con" style="display: none; width: 320px;margin-right: 40px">\n        '.concat(e,'\n            <div id="iframePhoneCover" class="iframe-phone-nr-cover"></div>\n        </div>')},ctrlBtnDiv:function(){return'<div class = "iframe_panel" style="z-index:2;">\n        \x3c!--<div class="preview"><a id = "pre_page" type = "button" class = "scroll_btn"><span class="eqf-right" style="display: inline-block;transform: rotate(-90deg);font-size: 18px;"></span></a></div>--\x3e\n        \x3c!--<div class="next"><a id = "next_page" type = "button" class = "scroll_btn"><span class="eqf-left" style="display: inline-block;transform: rotate(-90deg);font-size: 18px;"></span></a></div>--\x3e\n    </div>'},ctrlBtnDiv2:function(){return'<div class="iframe_panel2">\n                    <ul>\n                        <li id="pre_page">上一页</li>\n                        <li id="next_page">下一页</li>\n                    </ul>\n                </div>'},pcRenderDiv:function(){var e=r.nr();return'\n    <div class="long-page-panel pc-preview" style="display:block;left:50%;margin-left:-384px;">                \n                 '.concat(e,"\n            </div>")}}},function(e,t,n){"use strict";var r=n(180);e.exports={div:function(){var e=r.nr();return'\n<div class="p-index main" id="con" style="display: none;">\n'.concat(e,"\n</div>\n")}}},function(e,t,n){"use strict";var r=n(22),o=r.RAW_EVENT,i=r.EQX_EVENT;e.exports=function(e,t,n){(e.triggerGroup||[]).forEach((function(e){e.eventType===o.click&&e.targetState===i.link&&e.targetContent&&(e.targetContent=e.targetContent.replace(/.*?eqs\/link\?id=\d+&url=/,""))}))}},function(e,t,n){"use strict";var r=n(245);e.exports={get:function(e){return r}}},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&c()}function s(){i(a)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=g(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=d(r,"left","right")+i),Math.round(c+a)!==n&&(c-=d(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(c-=h)}return g(o.left,o.top,s,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):h(e):p}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,c,l=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),c);u(this,{target:e,contentRect:l})},x=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var k=void 0!==o.ResizeObserver?o.ResizeObserver:S;t.default=k}.call(this,n(94))},function(e,t,n){"use strict";n(560),e.exports={section:function(){return'<section class="main-page" style="position: relative; overflow: hidden"></section>'},pageDiv:function(e){return'<div class="m-img" id="page'.concat(e,'"></div>')},editDiv:function(e){return'<div class="edit_wrapper" data-scene-id="'.concat(e,'" style="position: relative; z-index: 1"></div>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(562);var l=n(15).$loadChart,p=n(5),f=n(23).toGoodStr,d=n(23).isBadStr,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{advanceStyle:{border:!1,shadow:!1,paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),n.pieOptions={segmentShowStroke:!1,showTooltips:!1,scaleFontColor:"#000",legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx,t=this.segments;e.textAlign="start",e.textBaseline="middle";for(var n=0,r=0;r<t.length;r++)n+=parseFloat(t[r].value);e.fillText(n,e.width/2-20,e.height/2,100);for(r=0;r<t.length;r++){var o=t[r].startAngle+(t[r].endAngle-t[r].startAngle)/2,i=(t[r].outerRadius-t[r].innerRadius)/1.5+t[r].innerRadius,a=t[r].x+Math.cos(o)*i,s=t[r].y+Math.sin(o)*i;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.options.scaleFontColor,e.font="normal 12px Helvetica",e.fillText(t[r].value,a,s)}}},n.barOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.fillStyle=this.options.scaleFontColor,e.font="normal 12px Helvetica",e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach((function(t){t.bars.forEach((function(t){e.fillText(t.value,t.x,t.y)}))}))}},n.lineOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.font=this.scale.font,e.fillStyle=this.options.scaleFontColor,e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach((function(t){t.points.forEach((function(n,r){0===r?e.fillText(n.value,n.x+10,n.y-5):r===t.points.length-1?e.fillText(n.value,n.x-10,n.y-5):e.fillText(n.value,n.x,n.y-5)}))}))}},n}return t=p,(n=[{key:"create$context",value:function(){var e=this.compJson,t=$('<div class="create-chart" id="chart-'+e.id+'"></div>');this.perfectJson(e);var n=document.createElement("h5");n.setAttribute("class","chart-title"),t.append(n);var r=this.canvas=document.createElement("canvas");r.id=e.id,r.setAttribute("ctype",e.type),t.append(r);var o=document.createElement("div");o.id="legend-"+e.id,t.append(o);var i=this;return this.initedChart=new Promise((function(t){l().then((function(){i.initChart(o,r,n,e),t()})).catch((function(e){return console.error(e)}))})),t}},{key:"perfectJson",value:function(e){var t=e.properties;function n(e){r(e),function(e){e&&e.segments&&e.segments.length&&e.segments.forEach((function(e){d(e.label)&&(e.label=f(e.label))}))}(e),function(e){e&&e.lengends&&e.lengends.length&&e.lengends.forEach((function(t,n){d(t)&&(e.lengends[n]=f(t))}))}(e)}function r(e){e&&e.chartTitle&&(e.chartTitle=f(e.chartTitle))}r(t),n(t.pieChart),n(t.barChart),n(t.lineChart)}},{key:"initChart",value:function(e,t,n,r){var o,i=r.properties.chartType,a=t.getContext("2d"),s=parseFloat(r.css.width),c=parseFloat(r.css.height);$(t).css("width",s+"px"),$(t).css("height",c/2+"px"),t.width=parseInt(window.getComputedStyle(t).width),t.height=parseInt(window.getComputedStyle(t).height),"pie"===i?o=this.pieChart=this.createPieChart(a):"bar"===i?o=this.barChart=this.createBarChart(a):"line"!==i&&"curve"!==i||(o=this.lineChart=this.createLineChart(a,i)),r.properties.chartTitle&&(n.innerHTML=r.properties.chartTitle),"pie"===i&&r.properties.pieChart&&(o=this.pieChart=this.setPieChartView(r,a,o),$(t).data("pieChart",o)),"bar"===i&&r.properties.barChart&&(o=this.barChart=this.setBarChartView(r,a,o),$(t).data("barChart",o)),"line"!==i&&"curve"!==i||!r.properties.lineChart||(o=this.lineChart=this.setLineChartView(r,a,o),$(t).data("lineChart",o)),e.innerHTML=o.generateLegend();var u=r.properties.legPosition;"position-align"===u?$(e).addClass("position-align"):"position-right"===u?$(e).addClass("position-right"):"position-none"===u&&$(e).addClass("position-none")}},{key:"getChartValue",value:function(e){for(var t,n=[],r=[],o=[],i=[],a="",s="",c="",u="",l=0;l<e.segments.length;l++)t=e.segments[l],a=isNaN(t.value)||t.value<0?"":t.value,s=isNaN(t.value1)||t.value1<0?"":t.value1,c=isNaN(t.value2)||t.value2<0?"":t.value2,u=isNaN(t.value3)||t.value3<0?"":t.value3,(t.label||a||s||c||u)&&(i.push(t.label),s=a||s,n.push(s),r.push(c),o.push(u));return{data1:n,data2:r,data3:o,xLabels:i}}},{key:"setLineChartView",value:function(e,t,n){var r=e.properties.lineChart,o=this.getChartValue(r),i=[],a=[];n.datasets.forEach((function(e){i.push(e.strokeColor),a.push(e.fillColor)}));var s={labels:o.xLabels,datasets:[{label:r.lengends[0],fillColor:a[0],strokeColor:i[0],pointColor:i[0],pointStrokeColor:"#fff",data:o.data1},{label:r.lengends[1],fillColor:a[1],strokeColor:i[1],pointColor:i[1],pointStrokeColor:"#fff",data:o.data2},{label:r.lengends[2],fillColor:a[2],strokeColor:i[2],pointColor:i[2],pointStrokeColor:"#fff",data:o.data3}]},c=n.options;return r.options&&r.options.scaleFontColor&&(c.scaleFontColor=r.options.scaleFontColor),n.destroy(),(n=new Chart(t).Line(s,c)).datasets.forEach((function(e){var t=!0;e.points.forEach((function(e){e.value&&(t=!1)})),t?e.points.length=0:e.points.forEach((function(e){e.value||(e.value=0)}))})),n.update(),n}},{key:"setBarChartView",value:function(e,t,n){var r=n.options,o=e.properties.barChart,i=this.getChartValue(o),a={labels:i.xLabels,datasets:[{fillColor:o.fillColors[0],strokeColor:"rgba(0,0,0,0)",data:i.data1,label:o.lengends[0]},{fillColor:o.fillColors[1],strokeColor:"rgba(0,0,0,0)",data:i.data2,label:o.lengends[1]},{fillColor:o.fillColors[2],strokeColor:"rgba(0,0,0,0)",data:i.data3,label:o.lengends[2]}]};return o.options&&o.options.scaleFontColor&&(r.scaleFontColor=o.options.scaleFontColor),n.destroy(),new Chart(t).Bar(a,r)}},{key:"setPieChartView",value:function(e,t,n){var r=n.options,o="#000",i=e.properties.pieChart;i.options&&i.options.scaleFontColor&&(o=i.options.scaleFontColor),r.scaleFontColor=o;var a=this.getChartValue(i),s=a.data1.map((function(e,t){return{value:e,color:i.fillColors[t],label:a.xLabels[t]}}));return n.destroy(),new Chart(t).Pie(s,r)}},{key:"getPixelRatio",value:function(e){var t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}},{key:"createPieChart",value:function(e){return new Chart(e).Pie([{value:300,color:"#57c7d4",label:"1月"},{value:150,color:"#3aa99e",label:"2月"},{value:100,color:"#f2a654",label:"3月"},{value:140,color:"#f96868",label:"4月"},{value:120,color:"#926dde",label:"5月"}],this.pieOptions)}},{key:"createBarChart",value:function(e){return new Chart(e).Bar({labels:["1月","2月","3月","4月","5月"],datasets:[{fillColor:"#62a8ea",strokeColor:"rgba(0,0,0,0)",data:[60,70,80,56,40],label:"图例1"},{fillColor:"#926dde",strokeColor:"rgba(0,0,0,0)",data:[80,56,40,93,112],label:"图例2"},{fillColor:"#f2a654",strokeColor:"rgba(0,0,0,0)",data:[160,86,140,123,23],label:"图例3"}]},this.barOptions)}},{key:"createLineChart",value:function(e,t){var n=["rgba(146,109,222,1)","rgba(87,199,212,1)","rgba(242,166,84,1)"],r=n.map((function(e){return e.replace(/[^,]+(?=\))/,"0")}));this.lineOptions.bezierCurve=!1,"curve"===t&&(r=r.map((function(e){return e.replace(/[^,]+(?=\))/,"0.2")})),this.lineOptions.bezierCurve=!0);var o={labels:["1月","2月","3月","4月","5月"],datasets:[{label:"图例1",fillColor:r[0],strokeColor:n[0],pointColor:n[0],pointStrokeColor:"#fff",data:[28,24,40,19,27]},{label:"图例2",fillColor:r[1],strokeColor:n[1],pointColor:n[1],pointStrokeColor:"#fff",data:[123,132,146,118,189]},{label:"图例3",fillColor:r[2],strokeColor:n[2],pointColor:n[2],pointStrokeColor:"#fff",data:[201,232,256,215,278]}]};return new Chart(e).Line(o,this.lineOptions)}},{key:"updateSize",value:function(e,t){var n=parseFloat(t.width),r=parseFloat(t.height),o=this.canvas,a=o.getContext("2d"),s=this.compJson,c=s.properties.chartType,l=null;$(o).css("width",n+"px"),$(o).css("height",r/2+"px"),o.width=parseInt(window.getComputedStyle(o).width),o.height=parseInt(window.getComputedStyle(o).height),"pie"===c?l=this.pieChart=this.createPieChart(a):"bar"===c?l=this.barChart=this.createBarChart(a):"line"!==c&&"curve"!==c||(l=this.lineChart=this.createLineChart(a,c)),"pie"===c&&s.properties.pieChart&&(l=this.pieChart=this.setPieChartView(s,a,l),$(o).data("pieChart",l)),"bar"===c&&s.properties.barChart&&(l=this.barChart=this.setBarChartView(s,a,l),$(o).data("barChart",l)),"line"!==c&&"curve"!==c||!s.properties.lineChart||(l=this.lineChart=this.setLineChartView(s,a,l),$(o).data("lineChart",l)),i(u(p.prototype),"updateSize",this).call(this,e,t)}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=h},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(4).resolveUrl,l=n(1),p=n(98),f=n(0).mobilecheck,d=n(0).isWeixin,h=n(7).getWxJSSDK,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).manager=t,n.soundJson=n.master.compJson.sound,n.type=1,n.init(),n.register(),d()&&(n.wxJssdk=h()),n}return t=c,(n=[{key:"init",value:function(){this.audio=new window.Audio,this.audio.src=u(l.FILE,this.soundJson.src)}},{key:"update",value:function(e){switch(e.type){case"stop":case"hide":this.stopPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1;break;case"reset":this.audio.currentTime=0}}},{key:"addEventListeners",value:function(){var e=this,t=f()?"touchend":"click";this.master.$li.on(t,(function(){return e.audio.paused?e.startPlay():e.stopPlay()})),$(this.audio).on("ended",(function(){return e.manager.onEnd(e)}))}},{key:"startPlay",value:function(){if(this.audio.paused){var e=this;d()?this.wxJssdk.then((function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e.audio.play()}})})):this.audio.play(),this.manager.onPlay(this)}}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.manager.onEnd(this))}}])&&o(t.prototype,n),r&&o(t,r),c}(p);e.exports=m},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/pc-share-0c794c.svg"},function(e,t,n){e.exports=n.p+"images/pc-moble-share-e42c7f.svg"},function(e,t,n){e.exports=n.p+"images/wap-share-b7837f.svg"},function(e,t,n){e.exports=n.p+"images/icon-last-data-9a674a.png"},function(e,t,n){e.exports=n.p+"images/gift-20b63d.png"},function(e,t,n){e.exports=n.p+"images/mini-qrcode-7c5599.png"},function(e,t,n){e.exports=n.p+"images/mini-qrcodes-34fce4.png"},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1),i=n(24).getItem;e.exports={checkFormPassword:function(e,t){var n=i("wxOpenid"),a=o.LONG_PAGE_PREVIEW+"/lp/formAccessPassword/checkPassWord/".concat(e);return n&&(a="".concat(a,"?ssid=").concat(n)),r({type:"POST",url:a,data:{password:t}})}}},function(e,t){e.exports='<div class="lpAdvertise-wraper">\n    <div class="lpAdvertise-title">\n        <span>#{content}</span>\n    </div>\n</div>'},function(e,t,n){"use strict";e.exports={copyText:function(e){var t=document.createElement("input");if(t.style.transform="scale(0.1)",t.value=e,document.body.appendChild(t),t.select(),t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveStart("character",0),n.moveEnd("character",t.value.length),n.select()}else t.setSelectionRange(0,t.value.length),t.focus();document.execCommand("copy"),document.body.removeChild(t)}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="phone-share-box">\n    <div class="wrapper">\n        <div class="share-bar">\n            <div>取消</div>\n            <span>为他拉票</span>\n        </div>\n        <div class="share-btn" id="web-share-view">\n            <div>\n                <a class="share-wechat">\n                    <span class="eqf-wechat share-icon"></span>\n                </a>\n                <p>微信</p>\n            </div>\n            <div>\n                <a class="share-friend">\n                    <span class="eqf-friend share-icon"></span>\n                </a>\n                <p>朋友圈</p>\n            </div>\n            <div>\n                <a class="share-qq">\n                    <span class="eqf-QQ share-icon"></span>\n                </a>\n                <p>QQ</p>\n            </div>\n            <div>\n                <a class="share-weibo">\n                    <span class="eqf-weibo share-icon"></span>\n                </a>\n                <p>微博</p>\n            </div>\n\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";var r={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,i,a,s,c,u="",l=0;for(e=r._utf8_encode(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,a=(3&t)<<4|(n=e.charCodeAt(l++))>>4,s=(15&n)<<2|(o=e.charCodeAt(l++))>>6,c=63&o,isNaN(n)?s=c=64:isNaN(o)&&(c=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(c);return u},decode:function(e){var t,n,o,i,a,s,c="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=this._keyStr.indexOf(e.charAt(u++))<<2|(i=this._keyStr.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(a=this._keyStr.indexOf(e.charAt(u++)))>>2,o=(3&a)<<6|(s=this._keyStr.indexOf(e.charAt(u++))),c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(o));return c=r._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}};r={decode:function(e){return e},encode:function(e){return e}},e.exports={Base64:r}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/noob-5a1edc.png"},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(585);var r=n(8).$ajax,o=n(1),i=n(239).getSceneAdTpl;function a(e){var t,n;(t=e,n=(o.SERVER_1+"adview/scene/recommend?sceneId="+t).replace(/http:\/\//g,window.location.protocol+"//"),r({type:"GET",url:n})).then((function(e){if(e.success){var t=e.list[0];(function(e){var t=(o.SERVER_1+"adview/scenePage/find?sceneId="+e).replace(/http:\/\//g,window.location.protocol+"//");return r({type:"GET",url:t})})(118427790).then((function(e){if(e.success){var n=e.list[0].adCode;!function(e,t){var n=$('<div class="ad-share-modal">\n        <div class="ad-share-box ad-share-slideInDown">\n            <div class="ad-share-content">\n                <div class="ad-share-recommend">\n                    <a style="display: block;overflow: hidden;color: #000;" id="recommendSceneUrl" target="_blank">\n                        <img src="" width="100" height="100" class="recommend-cover" id="recommendSceneCover">\n                        <span class="recommend-title" id="recommendTitle"></span>\n                    </a>\n                </div>\n                <div class="ad-share-container" id="ad-share-container">\n                    <div id="share_modal_ad" style="width: 100%;height: 100%;">\n                    </div>\n                </div>\n                <div class="ad-share-more">\n                    <a class="share-more-btn" href="http://m.eqxiu.com/s/hV5SUm4u" target="_blank">查看更多</a>\n                </div>\n            </div>\n            <div class="ad-share-close-btn"></div>\n        </div>\n    </div>');$(".main-page.z-current").not(".editor-section").prepend(n),$("#recommendSceneCover")[0].src=o.FILE+e.cover,$("#recommendSceneUrl")[0].href=o.VIEW_HOST+"s/"+e.code,$("#recommendTitle").text(e.name),$("#ad-share-container").append(t),$(".ad-share-close-btn").on("click",(function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})}))}(t,n)}}))}}))}e.exports={adSharePop:a,popAdShareModal:function(e){i(e).then((function(t){t.success&&(1===t.list[0].adPositionId&&a(e))}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(98),l=n(4).resolveUrl,p=n(1),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=s.call(this,e,n)).manager=n,r.soundJson=t.sound,r.type=2,r.init(),r.addEventListeners(),r.register(),r}return t=c,(n=[{key:"init",value:function(){this.audio=new Audio,this.audio.src=l(p.FILE,this.soundJson.path),this.audio.loop=!0}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.audio.currentTime=0,this.manager.onEnd(this))}},{key:"addEventListeners",value:function(){var e=this;$(e.audio).on("AnimSound.start",(function(t,n){e.startPlay()})).on("AnimSound.end",(function(t,n){e.stopPlay()}))}},{key:"update",value:function(e){switch(e.type){case"stop":this.stopPlay();break;case"play":this.startPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1}}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).manager=t,n.compJson=n.master.compJson,n.type=5,n.addEventListeners(),n.register(),n}return t=c,(n=[{key:"addEventListeners",value:function(){var e=this;this.master.$context.on("ended",(function(){e.end()}))}},{key:"update",value:function(e){switch(e.type){case"stop":this.end();break;case"play":this.play()}}},{key:"play",value:function(){this.master.$context[0].play(),this.manager.onPlay(this)}},{key:"end",value:function(){this.master.$context[0].pause(),this.manager.onEnd(this)}}])&&o(t.prototype,n),r&&o(t,r),c}(n(98));e.exports=u},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){var r=o(e,2),i=r[0],a=r[1],s=o(t,2),c=s[0],u=s[1];return[i+(c-i)*Math.cos(n*Math.PI/180)-(u-a)*Math.sin(n*Math.PI/180),a+(c-i)*Math.sin(n*Math.PI/180)+(u-a)*Math.cos(n*Math.PI/180)]}e.exports={inside:function(e,t){for(var n=o(e,2),r=n[0],i=n[1],a=!1,s=0,c=t.length-1;s<t.length;c=s++){var u=o(t[s],2),l=u[0],p=u[1],f=o(t[c],2),d=f[0],h=f[1];p>i!=h>i&&r<(d-l)*(i-p)/(h-p)+l&&(a=!a)}return a},rotatePoint:s,getVectors:function(e,t,n,o){var i=[0,0],a=[s(i,[0,t],o),s(i,[e,t],o),s(i,[e,0],o),i],c=Math.min.apply(Math,r(a.map((function(e){return e[1]})))),u=Math.min.apply(Math,r(a.map((function(e){return e[0]})))),l=n.left-u,p=n.top-c;return a.forEach((function(e){e[0]=e[0]+l,e[1]=e[1]+p})),a}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(100).getEditPropName,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxItem=t,this.ftManager=t.eqxPage.ftManager;var n=t.getFtEditableProps();this.props=n.map((function(e){return{key:e,name:a(e),ftTerm:null,select:!1,show:!1}})),this.updatePropsState()}var t,n,o;return t=e,(n=[{key:"isPropSelect",value:function(e){var t=this.props.find((function(t){return t.key===e}));return t&&t.show&&t.select}},{key:"updatePropsState",value:function(){var e=this,t=this.ftManager,n=this.eqxItem;this.props.forEach((function(r){var o=t.findFtTerm(n,r.key);r.ftTerm=o,r.select=!!o,o&&(o.ftProp=r),r.show=e.eqxItem.isPropCanEdit(r.key)})),this.updateSelectAll()}},{key:"updateSelectAll",value:function(){var e=this.props.filter((function(e){return e.show}));this.selectAll=e.length&&e.every((function(e){return e.select}))}},{key:"toggleAllProps",value:function(){var e=this;this.selectAll?this.props.forEach((function(t){t.show&&!t.select&&e.selectProp(t)})):this.props.forEach((function(t){t.show&&t.select&&e.unSelectProp(t)}))}},{key:"selectProp",value:function(e){var t=this.ftManager,n=r(e.key.split("."),2),o=n[0],i=n[1],a=this.eqxItem.getFtValue(e.key);t.addFtRule({type:o,value:a,comps:[{id:this.eqxItem.id,properties:[i]}]}),this.updatePropsState()}},{key:"unSelectProp",value:function(e){var t=e.ftTerm;t?(t.deleteSelf(!0),this.updatePropsState()):console.error("toggle no ftTerm")}},{key:"toggleProp",value:function(e){e.select?this.selectProp(e):this.unSelectProp(e)}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(591),n(258);var o=n(58).ANIMATION_TYPE,i=n(592),a=i.animInstanceMap,s=i.AnimClassifyMap,c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxComp=t,this.config=n}var t,n,i;return t=e,(n=[{key:"startAnimation",value:function(e){var t=e.callback,n=e.maxCount,r=this.eqxComp.compJson.properties.anim||[];r&&!Array.isArray(r)&&(r=[r]);var i=this,s=-1;!function e(){if(++s>=r.length)t&&t();else{var c=r[s].type;if(!o[c])return e();var u=r[s].animClassify,l=void 0===u?"0":u,p=a.find((function(e){return e.key==l}));-1===p&&(p=a[0]),i[p.name].doAnimation(r[s],n,r.length,n).then((function(){e()}))}}()}},{key:"previewAnimation",value:function(e){var t=this,n=e.type;if(o[n]){var r=e.animClassify,i=void 0===r?"0":r,s=a.find((function(e){return e.key==i}));-1===s&&(s=a[0]),this[s.name].doAnimation(e).then((function(){t.stopAnimation()}))}}},{key:"stopAnimation",value:function(){var e=this.eqxComp,t=a.find((function(e){return 1===e.key}));if(this[t.name]&&this[t.name].stopAnimation(),e.$li.css({animation:""}),e.$contextCopy){var n=e.$contextCopy.data("typed");n&&n.reset()}}},{key:"addAnimClassify",value:function(){var e=this,t=String(this.eqxComp.type),n="2"===t||"7"===t;a.forEach((function(t){var r=t.key;(n||1!==r)&&(e[t.name]=e.getAnimClass(t.key))}))}},{key:"getAnimClass",value:function(e){var t=s[e];if(t)return new t(this.eqxComp,this.config);console.error("In Valid Anim Type")}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=c},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(593),o=n(595),i={COMPANIM:r,0:r,TEXTANIM:o,1:o};e.exports={animInstanceMap:[{key:0,name:"compAnim"},{key:1,name:"textAnim"}],AnimClassifyMap:i}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(58).ANIMATION_TYPE,i=n(15).$canvas,a=n(15).$loadTyped,s=n(594).Particles,c=n(1),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxComp=t,this.config=n}var t,n,u;return t=e,(n=[{key:"doAnimation",value:function(e,t,n,r){var u=this;return new Promise((function(l,p){var f=u.eqxComp,d=f.$li,h=f.$boxDiv,m=f.$context,v=f.compJson,g=e.type,y=e.direction,b=e.duration,x=void 0===b?.1:b,w=e.linear,S=e.count,k=e.countNum,O=void 0===k?1:k,E=e.delay,C=void 0===E?0:E,_=e.interval;0===x&&(x=.1),null==C&&(C=0);var I=w?"linear":"ease",P=o[g][y]||o[g][0],T=S?"infinite":O;if(t&&(T=1),h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),"typer"===P)m.css({opacity:0}),a().then((function(){if(!f.$contextCopy){var e=f.create$context(),t={position:"absolute","pointer-events":"none",width:m.outerWidth()};f.compJson.css.writingMode&&"vertical-rl"===f.compJson.css.writingMode?t.left="-30px":t.top="0px",e.attr("context-copy",1).css(t),m.after(e),f.$contextCopy=e;var n=function(){f.$contextCopy=null,setTimeout((function(){e.remove(),e=null,f.$contextCopy||m.css({opacity:1}),l()}),100)};e.typed({strings:[v.content],contentType:"html",showCursor:!1,typeSpeed:1e3*_||0,startDelay:1e3*C||0,onFirstTyped:function(){setTimeout((function(){e&&e.css({opacity:1})}),0)},callback:function(){clearInterval(e.data("typed").timeout),e.removeData("typed"),n()},resetCallback:function(){n()}})}}),(function(){m.css({opacity:1})}));else if("particles"===P){var R=function(){if("number"==typeof T){if(1==T)return void l();T>1&&$(),T--}else $()},$=function(){var e=Math.abs(parseInt(h.find("img").css("marginLeft"))),t=Math.abs(parseInt(h.find("img").css("marginTop")));h.css("opacity","0");var n=new s({type:f.compJson.type,top:e,left:t,$parEle:d,imgUrl:c.FILE+f.compJson.properties.src,startX:f.compJson.css.width,startY:f.compJson.css.height,imgX:0,imgY:0,delay:1e3*C,duration:1e3*x,interval:0,ease:"linear"},R);n.animate()};d.remove("canvas"),"h"==f.compJson.type?(h.css("opacity","0"),i().then((function(){$()}))):$()}else{var A={"animation-name":P,"animation-duration":x+"s","animation-timing-function":I,"animation-delay":C+"s","animation-iteration-count":T,"animation-direction":"normal","animation-fill-mode":"both"},q=Object.keys(A).map((function(e){return A[e]})).join(" ");d.css("animation",q),d.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){n<r-1&&h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),setTimeout((function(){l()}),0)}))}}))}}])&&r(t.prototype,n),u&&r(t,u),e}();e.exports=u},function(e,t,n){"use strict";var r;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(i(r={easeInOutBack:function(e,t,n,r,o){return null==o&&(o=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},linear:function(e,t,n,r){return n*e/r+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t}},"easeOutQuad",(function(e,t,n,r){return-n*(e/=r)*(e-2)+t})),i(r,"easeInCubic",(function(e,t,n,r){return n*(e/=r)*e*e+t})),i(r,"easeOutCubic",(function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t})),i(r,"easeInOutCubic",(function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t})),i(r,"easeInQuart",(function(e,t,n,r){return n*(e/=r)*e*e*e+t})),i(r,"easeOutQuart",(function(e,t,n,r){return e/=r,-n*(--e*e*e*e-1)+t})),i(r,"easeInOutQuart",(function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t})),i(r,"easeInQuint",(function(e,t,n,r){return n*(e/=r)*e*e*e*e+t})),i(r,"easeOutQuint",(function(e,t,n,r){return e/=r,n*(--e*e*e*e*e+1)+t})),i(r,"easeInOutQuint",(function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t})),i(r,"easeInSine",(function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t})),i(r,"easeOutSine",(function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t})),i(r,"easeInOutSine",(function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t})),i(r,"easeInExpo",(function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t})),i(r,"easeOutExpo",(function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))+t})),r),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colNumber=3,this.$parEle=t.$parEle,this.canvas={},this.image={},this.requestId=0,this.startTime=0,this.array=[],this.startX=t.startX,this.startY=t.startY,this.callBackFn=n,this.param=t,this.init()}var t,n,r;return t=e,(n=[{key:"randomX",value:function(){return parseInt(Math.random()*this.startX)}},{key:"randomY",value:function(){return parseInt(Math.random()*this.startY)}},{key:"init",value:function(){var e=this;if(this.$parEle.find("canvas").remove(),this.$canvas=$("<canvas></canvas>"),this.$parEle.prepend(this.$canvas),this.$canvas.css({position:"absolute",top:0,left:0}),this.canvas=this.$canvas[0],this.image.isLoaded=!1,this.canvas.width=this.$parEle.width(),this.canvas.height=this.$parEle.height(),this.canvas.width>300&&this.canvas.height>300&&(this.colNumber=4),this.canvas.ctx=this.canvas.getContext("2d"),"h"!==this.param.type){if(this.canvas&&this.canvas.getContext){var t=new Image;t.onload=function(){var n=e.$parEle.find("img").width(),r=e.$parEle.find("img").height(),o=t.height/r,i=t.width/n;e.canvas.width=e.$parEle.width(),e.canvas.height=e.$parEle.height(),e.canvas.ctx.drawImage(t,e.param.top*i,e.param.left*o,i*e.canvas.width,o*e.canvas.height,0,0,e.canvas.width,e.canvas.height),e.calCanvas()},t.crossOrigin="anonymous",t.src=this.param.imgUrl}}else setTimeout((function(){canvg(e.canvas,e.$parEle.find(".element-box-contents")[0],{ignoreMouse:!0,ignoreAnimation:!0}),e.calCanvas()}),10)}},{key:"draw",value:function(){this.image.isLoaded?this._draw():setTimeout(this.draw.bind(this))}},{key:"animate",value:function(){this.image.isLoaded?this._animate(this.param.delay):setTimeout(this.animate.bind(this))}},{key:"_calculate",value:function(e){for(var t=this.image.imgData.data,n=e.cols,r=e.rows,o=Math.round(this.canvas.width/n),i=Math.round(this.canvas.height/r),a=0,s={},c=0;c<n;c++)for(var u=0;u<r;u++)t[3+(a=4*(u*i*this.canvas.width+c*o))]>25&&((s={x0:this.randomX(),y0:this.randomY(),x1:this.param.imgX+c*o,y1:this.param.imgY+u*i,delay:u/20,currTime:0,count:0,duration:parseInt(e.duration/16.66)+1,interval:parseInt(10*Math.random()*e.interval),ease:e.ease,ratioX:e.ratioX,ratioY:e.ratioY}).fillStyle="rgba("+t[a]+", "+t[a+1]+", "+t[a+2]+","+t[a+3]+")",this.array.push(s))}},{key:"_draw",value:function(){this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=this.array.length,t=null,n=0;n<e;n++)t=this.array[n],this.canvas.ctx.fillStyle=t.fillStyle,this.canvas.ctx.fillRect(t.x1,t.y1,1,1)}},{key:"_render",value:function(){var e=this;this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t,n,r=this.array,o=r.length,i=null,s=0,c=0,u=0,l=1,p=1,f=0;f<o;f++)if((i=r[f]).count++>i.delay){if(this.canvas.ctx.fillStyle=i.fillStyle,s=i.currTime,c=i.duration,u=i.interval,1===i.ratioX||(l=i.ratioX+2*Math.random()),1===i.ratioY||(p=i.ratioY+2*Math.random()),r[o-1].duration+r[o-1].interval<.9*r[o-1].currTime)return this.canvas=null,cancelAnimationFrame(this.requestId),this.$parEle.find("canvas").remove(),this.$parEle.find(".element-box").css("opacity","1"),void setTimeout((function(){e.callBackFn()}),300);s<c+u?s>=u&&(t=a[i.ease]((s-u)*l,i.x0,(i.x1-i.x0)*l,c),n=a[i.ease]((s-u)*p,i.y0,(i.y1-i.y0)*p,c),this.canvas.ctx.fillRect(t,n,1,1)):this.canvas.ctx.fillRect(i.x1,i.y1,1,1),i.currTime+=Math.random()+.5}this.requestId=requestAnimationFrame(this._render.bind(this))}},{key:"_animate",value:function(e){var t=this;this.startTime+e<(new Date).getTime()?this.requestId=requestAnimationFrame(this._render.bind(this)):setTimeout((function(){t._animate(e)}))}},{key:"calCanvas",value:function(){var e=this.param;this.image.imgData=this.canvas.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._calculate({duration:e.duration||0,delay:e.delay||0,interval:e.interval||0,ease:e.ease,ratioX:1,ratioY:1,cols:Math.ceil(this.canvas.width/this.colNumber)||100,rows:Math.ceil(this.canvas.height/this.colNumber)||100}),this.image.isLoaded=!0,this.startTime=(new Date).getTime()}}])&&o(t.prototype,n),r&&o(t,r),e}();e.exports={Particles:s}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(596),s=n(58).ANIMATION_TYPE,c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxComp=t,this.config=n,this.currentAnim=r,this.$textNode=null,this.$parentNode=null,this.isPlaying=!1,this.playDelayToIdx=void 0,this.interIdx=void 0,this.playEndToIdx=void 0,this.infinity=!1}var t,n,o;return t=e,(n=[{key:"doAnimation",value:function(e,t){var n=this;return this.isPlaying&&this.stopAnimation(),new Promise((function(o,i){n.isPlaying=!0;var c,u=n.eqxComp;c="2"===String(u.type)?u.$context:u.$context.find("span"),n.$textNode=c;var l=c.clone(!0),p=n.$parentNode=c.parent();c.remove(),p.append(l);var f=[],d=e.type,h=e.direction,m=e.duration,v=e.delay,g=e.countNum,y=e.count,b=e.textInterval,x=e.order;v*=1e3,b*=1e3;for(var w,S="animation-duration: ".concat(m*=1e3,"ms;"),k=s[d][h||0],O=["access","emphasize","exit"],E=Object.keys(a),C=0;C<E.length;C++)if(a[C].includes(d)){w=O[C];break}var _=document,I="access"===w?"animTextCharPlace animHidden":"animTextCharPlace",P=function(e){var t=$(_.createDocumentFragment());return e.split("").forEach((function(e){var n;"\n"===e?n=_.createElement("br"):(32===e.charCodeAt(0)&&(e=String.fromCharCode(160)),(n=_.createElement("span")).innerText=e,n.className=I),f.push(n),t.append(n)})),t};!function e(t){var n=$(t),r=n.clone(!0).get(0).childNodes;t.innerHTML="";for(var o=0,i=r.length;o<i;o++){var a=r[o];if(3===a.nodeType)n.append(P(a.data));else if("BR"===a.tagName)n.append("<br>");else{if(a.children.length)e(a);else{var s=a.innerText;a.innerText="",$(a).append(P(s))}n.append(a),o--,i--}}}(l.get(0));var T=function e(t){var r=0,i=f.length;n.interIdx=setInterval((function(){if(r<i){var a=f[r++];a.className&&(a.className+=" animTextChar "+k,1e3!==m&&(a.style.cssText+=S))}else clearInterval(n.interIdx),n.playEndToIdx=setTimeout((function(){--t>0||n.infinity?(f.forEach((function(e){e.className="animTextCharPlace"})),e(t)):o()}),m)}),b)};!function(){if(2===x)f=f.reverse();else if(3===x){var e=f.length,t=r(f);for(f.length=0;e--;)f.push(t.splice(Math.floor(Math.random()*e),1)[0])}}(),n.playDelayToIdx=setTimeout((function(){T(t?1:y?1/0:g)}),v)}))}},{key:"stopAnimation",value:function(){if(this.isPlaying){this.infinity=!1,clearTimeout(this.playDelayToIdx),clearInterval(this.interIdx),clearTimeout(this.playEndToIdx);var e=this.$parentNode,t=this.$textNode;if(e&&t){var n=e[0];n.replaceChild(t[0],n.firstChild)}this.isPlaying=!1}}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=c},function(e,t,n){"use strict";e.exports={0:[0,1,20,2,24,12,3,13,4,26,27,31],1:[6,5,8,9,23,29,30,21,22],2:[10,17,19,11,14,18,15,25,16,28,32]}},function(e,t,n){"use strict";e.exports={compTitles:{12:"[手机验证题]",501:"[姓名填空题]",502:"[电话填空题]",503:"[邮箱填空题]",504:"[填空题]",505:"[QQ填空题]",506:"[微信填空题]",507:"[单行文本题]",508:"[多行文本题]",5201:"[省市区题]",5202:"[位置题]",5203:"[日期题]",5205:"[时间题]",5204:"[性别题]",5206:"[年龄单选题题]",5207:"[职业题]",5208:"[行业题]",5209:"[其他信息题]",5210:"[单行填空题]",5211:"[多行填空题]",5212:"[年龄多选题]",5213:"[横向填空题]",5214:"[简答题]",5215:"[学历题]",5216:"[地址题]",5217:"[院校题]",5218:"[专业题]",5219:"[评价题]",c:"[多选题]",imageVote:"[图片投票题]",r:"[单选题]",score:"[评分题]",a:"[旧版评分题]",scoreCheckbox:"[评分多选题]",scoreImageCheckbox:"[图片评分多选题]",scoreImageRadio:"[图片评分单选题]",scoreMatrix:"[评分矩阵题]",scoreMatrixNps:"[NPS矩阵题]",scoreRadio:"[评分单选题]",scoreScale:"[NPS量表题]",textVote:"[文字投票题]",upload:"[上传图片题]",uploadNew:"[上传文件题]",videoVote:"[视频投票题]",voteStatistic:"[投票统计]",z:"[下拉题]",musicRecord:"[录音]"},noOptionComps:["501","502","506","505","503","5201","5202","5207","5208","5217","5218","5203","5205","5216","5209","5210","5214","507","508","upload","uploadNew","12","musicRecord"],hasOptionComps:["5204","5206","5215","scoreRadio","scoreCheckbox","z","5211","5213","scoreImageCheckbox","scoreImageRadio","textVote","videoVote","imageVote","r","c"],scoreComps:["score","a","scoreMatrix","scoreMatrixNps","scoreScale","5219"],supportComps:["12","501","502","503","504","505","506","507","508","5201","5202","5203","5204","5205","5206","5207","5208","5209","5210","5211","5212","5213","5214","5215","5216","5217","5218","5219","r","c","scoreRadio","scoreCheckbox","z","imageVote","textVote","videoVote","upload","uploadNew","musicRecord","scoreImageCheckbox","scoreImageRadio"],compTypeNames:{5:"填空题",12:"填空题",501:"填空题",502:"填空题",503:"填空题",504:"填空题",505:"填空题",506:"填空题",507:"填空题",508:"填空题",5210:"填空题",5211:"填空题",5209:"填空题",5213:"填空题",5214:"简答题",a:"评分题",c:"多选题",r:"单选题",z:"选择题",upload:"上传图片","upload-image":"上传图片","upload-video":"上传视频",uploadNew:"上传图片",musicRecord:"录音","uploadNew-image":"上传图片","uploadNew-video":"上传视频","uploadNew-word":"上传word文档","uploadNew-ppt":"上传ppt","uploadNew-excel":"上传表格","uploadNew-pdf":"上传pdf",scoreMatrix:"评分矩阵",scoreMatrixNps:"NPS矩阵",scoreRadio:"单选题",scoreCheckbox:"多选题",score:"评分题",scoreScale:"NPS量表",imageVote:"图片投票",textVote:"文字投票",videoVote:"视频投票",5202:"位置",5204:"单选题",5206:"单选题",5212:"多选题",5207:"职业",5208:"行业",5201:"省市区",5205:"时间",5203:"日期",5215:"学历",5216:"地址",5217:"院校",5218:"专业",5219:"评价题",scoreImageRadio:"图片单选",scoreImageCheckbox:"图片多选",feReservation:"预约题"}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"isRadiusMoal",get:function(){return this.eChartsData.series.roseType}},{key:"isShowLabel",get:function(){return this.eChartsData.series.label.show}},{key:"isShowGuideLine",get:function(){return this.eChartsData.series.labelLine.show}},{key:"pieContentType",get:function(){switch(this.eChartsData.series.label.formatter){case"{b}":return"name";case"{d}%":return"percent";case"{c}":return"number";case"{b}: {d}%":return"namePercent";case"{b}: {c}":return"nameNumber";default:return"percent"}}},{key:"setPieModal",value:function(e){var t=this.eChartsData.series.radius[0],n="radius"==e&&(t?"radius":"area");this.eCharts.setOption({series:{roseType:n}}),this.eChartsData.series.roseType=n}},{key:"showPieTag",value:function(e){this.eCharts.setOption({series:{label:{show:e}}}),this.eChartsData.series.label.show=e}},{key:"initECharts",value:function(e){i(u(l.prototype),"initECharts",this).call(this,e),this.setPieContentType(this.pieContentType)}},{key:"showPieGuideLine",value:function(e){this.eCharts.setOption({series:{labelLine:{show:e}}}),this.eChartsData.series.labelLine.show=e}},{key:"setPieContentType",value:function(e){var t;switch(e){case"percent":t="{d}%";break;case"number":t="{c}";break;case"namePercent":t="{b}: {d}%";break;case"nameNumber":t="{b}: {c}";break;default:t="{b}"}if("{c}"==t)var n=function(e){return e.value[1]};else"{b}"==t?n=function(e){return e.value[0]}:"{b}: {c}"==t&&(n=function(e){return e.value[0]+": "+e.value[1]});this.eCharts.setOption({series:{label:{formatter:n||t}}}),this.eChartsData.series.label.formatter=t}}])&&o(t.prototype,n),r&&o(t,r),l}(n(135));e.exports=l},function(e,t){e.exports='<div style="height: 100%;" class="create-eChart" id="eChart-#{id}">\n    <div class="echart-title" style="line-height: 1.2"><div>#{title}</div></div>\n    <div class="echart-box" style="height: #{height}px"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"isBrokenLine",get:function(){return this.eChartsData.series[0].smooth}},{key:"isShowLineIcon",get:function(){return this.eChartsData.series[0].showSymbol}},{key:"showLineIcon",value:function(e){for(var t=[],n=this.eChartsData.series.length,r=0;r<n;r++)t.push({showSymbol:e});this.eCharts.setOption({series:t}),this.eChartsData.series.forEach((function(e,n){e.showSymbol=t[n].showSymbol}))}},{key:"setLineFormat",value:function(e){for(var t=[],n=this.eChartsData.series.length,r=0;r<n;r++)t.push({smooth:e});this.eCharts.setOption({series:t}),this.eChartsData.series.forEach((function(e,n){e.smooth=t[n].smooth}))}}])&&o(t.prototype,n),r&&o(t,r),c}(n(135));e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r)}return n}(n(135));e.exports=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r)}return n}(n(135));e.exports=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(604);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r)}return n}(n(260));e.exports=c},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports=function(){var e={};return{getScrollWidth:function(){if(e.scrollBarWidth)return e.scrollBarWidth;var t=document.createElement("div");t.className="el-scrollbar-wrap",t.style.width="100px",t.style.visibility="hidden",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var n=t.offsetWidth;t.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",t.appendChild(r);var o=r.offsetWidth;t.parentNode.removeChild(t);var i=n-o;return e.scrollBarWidth=i,e.scrollBarWidth}}}},function(e,t){e.exports='<div class="comp_form_table" id="#{id}" ctype="#{type}">\n    <div class="table-title"><div>#{title}</div></div>\n    <div style="height: calc(100% - #{titleH})" class="eqx-table-wraper">\n        <div class="table-outer-wraper">\n            <table></table>\n        </div>\n\n        <div class="scroll-rect" style="position:absolute;bottom:0px;left:0px;width:100%;height:0.350rem;background-color:transparent;">\n            <div class="scroll-wraper" style="position:absolute;bottom:0.100rem;top:0px;left:0px;width:100%;height:100%">\n                <div class="scroll-content" style="width:100%;height:100%;"></div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="comp_list_table" id="#{id}" ctype="#{type}">\n    <div class="table-title"><div>#{title}</div></div>\n    <div style="height: calc(100% - #{titleH})" class="eqx-table-wraper">\n        <div class="table-outer-wraper">\n            <table></table>\n        </div>\n\n        <div class="scroll-rect" style="position:absolute;bottom:0px;left:0px;width:100%;height:0.350rem;background-color:transparent;">\n            <div class="scroll-wraper" style="position:absolute;bottom:0.100rem;top:0px;left:0px;width:100%;height:100%">\n                <div class="scroll-content" style="width:100%;height:100%;"></div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(609);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,r)}return n}(n(260));e.exports=c},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_image editable-image">\n    <svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg">\n        <g>\n            <image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{src}" filter="url(##{filterId})" draggable="false"></image>\n            <defs>\n                <filter id="#{filterId}">\n                    <feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix" values="#{path}"></feColorMatrix>\n                </filter>\n            </defs>\n        </g>\n    </svg>\n</div>'},function(e,t,n){"use strict";e.exports=[{name:"圆形",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/circle.svg"},{name:"菱形",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/diamond.svg"},{name:"心形",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/heart.svg"},{name:"矩形2",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/rect2.svg"},{name:"矩形3",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/rect3.svg"},{name:"矩形4",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/rect4.svg"},{name:"星形1",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/star1.svg"},{name:"星形2",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/star2.svg"},{name:"星形3",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/star3.svg"},{name:"三角形",path:"https://lib.eqh5.com/@eqxiu-res/form/images/filterStyle/triangle.svg"}]},function(e,t,n){"use strict";var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.exports={stackBlurImage:function(e,t,n){var a=e.width,s=e.height;isNaN(t)||t<1||(n?function(e,t,n,a,s,c){if(isNaN(c)||c<1)return;c|=0;var u,l=e.getContext("2d");try{try{u=l.getImageData(t,n,a,s)}catch(e){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),u=l.getImageData(t,n,a,s)}catch(e){throw new Error("unable to access local image data: "+e)}}}catch(e){throw new Error("unable to access image data: "+e)}var p,f,d,h,m,v,g,y,b,x,w,S,k,O,E,C,_,I,P,T,R,$,A,q,j=u.data,L=c+c+1,M=a-1,D=s-1,B=c+1,F=B*(B+1)/2,N=new i,H=N;for(d=1;d<L;d++)if(H=H.next=new i,d==B)var z=H;H.next=N;var J=null,V=null;g=v=0;var U=r[c],W=o[c];for(f=0;f<s;f++){for(C=_=I=P=y=b=x=w=0,S=B*(T=j[v]),k=B*(R=j[v+1]),O=B*($=j[v+2]),E=B*(A=j[v+3]),y+=F*T,b+=F*R,x+=F*$,w+=F*A,H=N,d=0;d<B;d++)H.r=T,H.g=R,H.b=$,H.a=A,H=H.next;for(d=1;d<B;d++)h=v+((M<d?M:d)<<2),y+=(H.r=T=j[h])*(q=B-d),b+=(H.g=R=j[h+1])*q,x+=(H.b=$=j[h+2])*q,w+=(H.a=A=j[h+3])*q,C+=T,_+=R,I+=$,P+=A,H=H.next;for(J=N,V=z,p=0;p<a;p++)j[v+3]=A=w*U>>W,0!=A?(A=255/A,j[v]=(y*U>>W)*A,j[v+1]=(b*U>>W)*A,j[v+2]=(x*U>>W)*A):j[v]=j[v+1]=j[v+2]=0,y-=S,b-=k,x-=O,w-=E,S-=J.r,k-=J.g,O-=J.b,E-=J.a,h=g+((h=p+c+1)<M?h:M)<<2,C+=J.r=j[h],_+=J.g=j[h+1],I+=J.b=j[h+2],P+=J.a=j[h+3],y+=C,b+=_,x+=I,w+=P,J=J.next,S+=T=V.r,k+=R=V.g,O+=$=V.b,E+=A=V.a,C-=T,_-=R,I-=$,P-=A,V=V.next,v+=4;g+=a}for(p=0;p<a;p++){for(_=I=P=C=b=x=w=y=0,S=B*(T=j[v=p<<2]),k=B*(R=j[v+1]),O=B*($=j[v+2]),E=B*(A=j[v+3]),y+=F*T,b+=F*R,x+=F*$,w+=F*A,H=N,d=0;d<B;d++)H.r=T,H.g=R,H.b=$,H.a=A,H=H.next;for(m=a,d=1;d<=c;d++)v=m+p<<2,y+=(H.r=T=j[v])*(q=B-d),b+=(H.g=R=j[v+1])*q,x+=(H.b=$=j[v+2])*q,w+=(H.a=A=j[v+3])*q,C+=T,_+=R,I+=$,P+=A,H=H.next,d<D&&(m+=a);for(v=p,J=N,V=z,f=0;f<s;f++)j[(h=v<<2)+3]=A=w*U>>W,A>0?(A=255/A,j[h]=(y*U>>W)*A,j[h+1]=(b*U>>W)*A,j[h+2]=(x*U>>W)*A):j[h]=j[h+1]=j[h+2]=0,y-=S,b-=k,x-=O,w-=E,S-=J.r,k-=J.g,O-=J.b,E-=J.a,h=p+((h=f+B)<D?h:D)*a<<2,y+=C+=J.r=j[h],b+=_+=J.g=j[h+1],x+=I+=J.b=j[h+2],w+=P+=J.a=j[h+3],J=J.next,S+=T=V.r,k+=R=V.g,O+=$=V.b,E+=A=V.a,C-=T,_-=R,I-=$,P-=A,V=V.next,v+=a}l.putImageData(u,t,n)}(e,0,0,a,s,t):function(e,t,n,a,s,c){if(isNaN(c)||c<1)return;c|=0;var u,l=e.getContext("2d");try{try{u=l.getImageData(t,n,a,s)}catch(e){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),u=l.getImageData(t,n,a,s)}catch(e){throw alert("Cannot access local image"),new Error("unable to access local image data: "+e)}}}catch(e){throw alert("Cannot access image"),new Error("unable to access image data: "+e)}var p,f,d,h,m,v,g,y,b,x,w,S,k,O,E,C,_,I,P,T,R=u.data,$=c+c+1,A=a-1,q=s-1,j=c+1,L=j*(j+1)/2,M=new i,D=M;for(d=1;d<$;d++)if(D=D.next=new i,d==j)var B=D;D.next=M;var F=null,N=null;g=v=0;var H=r[c],z=o[c];for(f=0;f<s;f++){for(O=E=C=y=b=x=0,w=j*(_=R[v]),S=j*(I=R[v+1]),k=j*(P=R[v+2]),y+=L*_,b+=L*I,x+=L*P,D=M,d=0;d<j;d++)D.r=_,D.g=I,D.b=P,D=D.next;for(d=1;d<j;d++)h=v+((A<d?A:d)<<2),y+=(D.r=_=R[h])*(T=j-d),b+=(D.g=I=R[h+1])*T,x+=(D.b=P=R[h+2])*T,O+=_,E+=I,C+=P,D=D.next;for(F=M,N=B,p=0;p<a;p++)R[v]=y*H>>z,R[v+1]=b*H>>z,R[v+2]=x*H>>z,y-=w,b-=S,x-=k,w-=F.r,S-=F.g,k-=F.b,h=g+((h=p+c+1)<A?h:A)<<2,O+=F.r=R[h],E+=F.g=R[h+1],C+=F.b=R[h+2],y+=O,b+=E,x+=C,F=F.next,w+=_=N.r,S+=I=N.g,k+=P=N.b,O-=_,E-=I,C-=P,N=N.next,v+=4;g+=a}for(p=0;p<a;p++){for(E=C=O=b=x=y=0,w=j*(_=R[v=p<<2]),S=j*(I=R[v+1]),k=j*(P=R[v+2]),y+=L*_,b+=L*I,x+=L*P,D=M,d=0;d<j;d++)D.r=_,D.g=I,D.b=P,D=D.next;for(m=a,d=1;d<=c;d++)v=m+p<<2,y+=(D.r=_=R[v])*(T=j-d),b+=(D.g=I=R[v+1])*T,x+=(D.b=P=R[v+2])*T,O+=_,E+=I,C+=P,D=D.next,d<q&&(m+=a);for(v=p,F=M,N=B,f=0;f<s;f++)R[h=v<<2]=y*H>>z,R[h+1]=b*H>>z,R[h+2]=x*H>>z,y-=w,b-=S,x-=k,w-=F.r,S-=F.g,k-=F.b,h=p+((h=f+j)<q?h:q)*a<<2,y+=O+=F.r=R[h],b+=E+=F.g=R[h+1],x+=C+=F.b=R[h+2],F=F.next,w+=_=N.r,S+=I=N.g,k+=P=N.b,O-=_,E-=I,C-=P,N=N.next,v+=a}l.putImageData(u,t,n)}(e,0,0,a,s,t))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(615);var l=n(29).addSuffixPx,p=n(5),f=n(616),d=n(3).parse,h=(n(4).openUrl,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=p,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(p.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.link.url,t.internalLink.internalLink,t.telephone.number])}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.imgSrc,i=r.title,a=e.css,s=a.width,c=a.height;if(o){o=this.getImgSrc(o,{width:s,height:c});var u="0"}else u="0 8px";return this.$context=$(function(e){var t=e.id,n=e.type,r=e.title,o=void 0===r?"":r,i=e.imgSrc,a=void 0===i?"":i,s=e.width,c=void 0===s?0:s,u=e.height,p=void 0===u?0:u,h=e.padding;c=l(c),p=l(p);var m=o.replace(/ /g,"&nbsp;"),v=a?'<img style="width: 100%; height: 100%;" src="'.concat(a,'">'):m;return d(f,{id:t,type:n,width:c,height:p,content:v,padding:h})}({id:t,type:n,imgSrc:o,title:i,width:s,height:c,padding:u})),this.$context}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}])&&o(t.prototype,n),r&&o(t,r),p}(p));e.exports=h},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<span id="#{id}" ctype="#{type}" class="element eqx-link editable-text" style="cursor: default; width: 100%; height: 100%; display: flex;\n   justify-content: center; align-items:center; padding: #{padding};" data-event="1120601">\n    #{content}\n</span>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(618);var l=n(619),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0,width:!1,height:!1},compFont:{self:!0,fontFamily:!0,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1,flexLine:""}),n}return t=p,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.imgSrc,i=r.icon,a=r.showText,s=void 0===a?"":a,c=(r.size,r.style),u=void 0===c?"default":c,p=r.styleType,f="";return f="text"===(void 0===p?"icon":p)?l.textStr(decodeURIComponent(s)):"custom"===u&&o?l.img(o,32):l.iconStr(i),this.$context=$(l.$compDiv({id:t,type:n,i:f})),this.$context}},{key:"onMove",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return i(u(p.prototype),"onMove",this).call(this,0,t,n,r)}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"update$img",value:function(e){this.$context.find("img").attr("src",e)}},{key:"iconToImg",value:function(e){this.$context.find("i").remove().prepend(l.img(e))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"updateCssOpacity",value:function(){var e=this.compJson.css.opacity||0;this.$li.css("opacity",e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}])&&o(t.prototype,n),r&&o(t,r),p}(n(5));e.exports=p},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(1);var r=n(3).parse,o=n(9).qiniuZoom,i=n(620);e.exports={$compDiv:function(e){var t=e.id,n=e.type,o=e.i;return e.icon,e.imgSrc,e.text,$(r(i,{id:t,type:n,i:o}))},img:function(e,t){return t=Number.parseFloat(t),'<img class="anchor-elem anchor-img" src="'.concat(o(e,t,t),'" height="').concat(t,'">')},iconStr:function(e){return'<i class="anchor-elem anchor-icon '.concat(e,'"></i>')},textStr:function(e){return'<span class="anchor-elem anchor-span">'.concat(e.toString().substr(0,4),"</span>")}}},function(e,t){e.exports='<span class="element comp-anchor" id="#{id}" ctype="#{type}" name="eq[f_#{id}]">\n     #{i}\n</span>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(15).$loadAMap,l=n(15).$loadQQMap,p=n(5),f=n(3).parse;n(622);var d=n(623),h=n(0).isWeixin,m=n(7).getWxJSSDK,v=n(4).openUrl,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{advanceStyle:{shadow:!1,paddingTop:!1,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.type,o=t.content,i=t.css.width,a=t.properties,s=a.lat,c=void 0===s?39.916527:s,p=a.lng,h=void 0===p?116.397128:p,m=a.zoom,v=void 0===m?11:m,g=a.address,y=a.version,b=t.content||t.properties.address;if(1==y){var x="https://3gimg.qq.com/lightmap/v1/marker/index.html?marker=coord:".concat(c,",").concat(h,";title:").concat(o,";addr:").concat(g,"&referer=myapp"),w="";w="customer"===t.properties.layout?d.$customerHtml({contentDes:b}):d.$defalutHtml({url:x})}else w="customer"===t.properties.layout?d.$customerHtml({contentDes:b}):d.$htmlText({content:o,address:g,width:i});var S=$(f(w,{id:n,type:r})).css({width:"100%",height:"100%"}).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend",(function(e){e.stopPropagation()}));return 1==y&&"view"==this.eqxScene.config.mode?console.log("不加载高德地图"):"view"==this.eqxScene.config.mode?l().then((function(){1!=y&&"customer"!==t.properties.layout&&e.initQQMap({$context:S,content:o,lat:c,lng:h,zoom:v})})):u().then((function(){l().then((function(){1!=y&&"customer"!==t.properties.layout&&e.initQQMap({$context:S,content:o,lat:c,lng:h,zoom:v})}))})),this.updateOmit(),S}},{key:"updateContent",value:function(){this.$context.remove(),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"initQQMap",value:function(e){var t=e.$context,n=e.content,r=e.lat,o=e.lng,i=e.zoom,a=new qq.maps.LatLng(r,o),s={disableDefaultUI:!0,center:a,zoom:parseFloat(i)},c=this.map=new qq.maps.Map(t[0],s);n&&(this.label=new qq.maps.Label({position:a,map:c,content:n}));var u=new qq.maps.Marker({map:c,position:a});t.data("marker",u)}},{key:"updateOmit",value:function(){var e=this;setTimeout((function(){!function(){var t=e.$boxDiv.find(".navigation"),n=e.$boxDiv.find(".navigation_pad"),r=t.parent().height(),o=n.height();if(r-12<o){t.removeClass("omits"),t.removeClass("omit-height");var i=parseInt((r-12-30)/20)+1;t.addClass("omits"),t.css("-webkit-line-clamp","".concat(i))}else t.removeClass("omits"),t.addClass("omit-height")}()}),0)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=t.content,r=t.pageId,o=t.properties,i=o.lat,a=void 0===i?39.916527:i,s=o.lng,c=void 0===s?116.397128:s,u=o.address,l=o.layout,p=o.version,f="http://apis.map.qq.com/tools/routeplan/eword=".concat(u,"&epointx=").concat(c,"&epointy=").concat(a,"?referer=myapp&key=AE3BZ-IGLK4-AL2U2-XPMFK-WUJX7-77FNE");"customer"===l?$(e).click((function(){h()?m().then((function(){wx.openLocation({latitude:a,longitude:c,address:u,name:n})})):v(f,r)})):(0==p&&"default"==l||null==p)&&$(e).find(".map-nav-box .go-here").click((function(){h()?m().then((function(){wx.openLocation({latitude:a,longitude:c,address:u,name:n})})):v(f,r)}))}}])&&o(t.prototype,n),r&&o(t,r),c}(p);e.exports=g},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={$customerHtml:function(e){var t=e.contentDes,n='<div id="#{id}" ctype="#{type}" class="element">\n                                <span class="mapBtn_div navigation">\n                                     <i class="eqf-address-f address"></i>\n                                     <span class="style-btn default  navigation_pad">\n                                         导航至'.concat(t,"\n                                     </span>\n                                </span>\n                           </div>");return $(n)},$defalutHtml:function(e){var t=e.url,n='<div id="#{id}" ctype="#{type}" class="element"><iframe src='.concat(t,' width="100%" height="100%" class="map-iframe"></iframe></div>');return $(n)},$htmlText:function(e){var t=e.content,n=e.address,r=e.width,o='<div id="#{id}" ctype="#{type}" class="element">\n                        <div class="map-nav-box">\n                            <div class="address-name">\n                                <p style="max-width: '.concat(parseInt(r)-120,'px">').concat(t,'</p>\n                                <p style="max-width: ').concat(parseInt(r)-120,'px">').concat(n,'</p>\n                            </div>\n                            <div class="go-here">\n                                <i class="eqf-send-l"></i>\n                                <span>去这里</span>\n                            </div>\n                        </div>\n                    </div>');return $(o)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(625),n(626);var l=n(136).getEvent,p=n(16).getRatio,f=n(0).mobilecheck,d=n(5),h=[{value:1,desc:"轮播",name:"slide"},{value:2,desc:"下落",name:"bars"},{value:3,desc:"百页窗",name:"blinds"},{value:4,desc:"消隐",name:"blocks"},{value:5,desc:"渐变",name:"blocks2"},{value:9,desc:"梳理",name:"zip"},{value:11,desc:"翻转",name:"bars3d"},{value:13,desc:"立方体",name:"cube"},{value:14,desc:"棋盘",name:"tiles3d"},{value:16,desc:"飞出",name:"explode"}],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,c=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=c.call(this,e,t)).intervalObj={},$.extend(!0,n.$ability,{style:{self:!0,compStyle:{backgroundColor:!0}},anim:!0,trigger:{self:!1},sound:!1,link:!1}),n._viewStyle=e.properties.viewStyle,n}return t=d,(n=[{key:"getRatio",value:function(){return this.renderScale=1,"edit"===this.eqxScene.config.mode?"pc"==this.eqxPage.editMode&&(this.renderScale=this.eqxPage.editWidth/320):this.eqxScene.config.isPc?this.renderScale=2.4:this.renderScale=p(),this.renderScale}},{key:"updateSize",value:function(e,t){t.width&&t.height&&(1===this.compJson.properties.viewStyle?(this.flux.width=t.width,this.flux.height=t.height,this.$context.find(".fluxslider, .images, .image1, .image2").css({width:t.width,height:t.height})):(this.$context.empty(),this.createStyle2(this.$context),this.setTextHeight()),i(u(d.prototype),"updateSize",this).call(this,e,t))}},{key:"create$li",value:function(){i(u(d.prototype),"create$li",this).call(this);var e=this.compJson.css.height;return this.$li.css({height:e}),this.$li}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=(r=void 0===r?{}:r).viewStyle,i=void 0===o?1:o,a=$('<div id="'.concat(t,'" class="imageSlider element" ctype="').concat(n,'"></div>'));return a.css({backgroundColor:"none"}),1===i?this.createStyle1(a):this.createStyle2(a),a}},{key:"createStyle1",value:function(e,t){var n=this,r=this.compJson,o=r.id,i=r.properties,a=(i=void 0===i?{}:i).children,s=void 0===a?[]:a,c=r.css,u=c.width,l=c.height;if(t&&(l=this.getStyle1Height()),s.length){var p=s.map((function(e,t){var r=e.width,o=e.height,i=e.src,a=e.href,s=function(e){var t=e.imgW,n=e.imgH,r=e.containerW,o=e.containerH,i={},a=t/n;return a>r/o?(i.width=r,i.height=r/a):(i.height=o,i.width=o*a),i.margin=(o-n)/2+"px "+(r-t)/2+"px",i}({imgW:r,imgH:o,containerW:u,containerH:l});i=n.getImgSrc(i,{width:u,height:l});var c=$('<img src="'.concat(i,'" play-id="').concat(t,'">')).css(s);return n.isAllowHref()&&a&&c.attr("data-href",a),c}));e.append(p),this.deleteInterval(o),this.initFlux(e,t)}}},{key:"createStyle2",value:function(e){var t=this;e.removeClass("imageSlider").addClass("image-slider");var n=this.compJson,r=n.properties,o=n.css,i=r.viewStyle,a=r.children,s=r.imageText,c=r.bgColor,u=r.imageTitle,l=r.imageDetail,p=o.width;if(e[this.getRatio()>1.5&&!f()?"addClass":"removeClass"]("pc-render"),2===i){var d=this.style2Carriers=["image-slider-style2-current","image-slider-style2-right1","image-slider-style2-right2","image-slider-style2-alternate","image-slider-style2-left2","image-slider-style2-left1"],h=a[0],m=parseInt(p-60*this.getRatio()),v=parseInt(m*h.height/h.width),g=v+s.showHeight,y=this.$imgBases=d.map((function(e,t){return $('\n                    <div class="image-slider-style2 '.concat(d[t],'"\n                        style="width: ').concat(m,"px; height: ").concat(g,"px; background-color: ").concat(c,'">\n                        <a><img style="width: ').concat(m,"px; height: ").concat(v,'px" /></a>\n                        <div class="image-slider-img-title"\n                            style="\n                                font-size: ').concat(u.fontSize,"px;\n                                color: ").concat(u.color,"; \n                                display: ").concat("enable"===u.state?"block":"none",";\n                                font-weight: ").concat(u.weight&&"bold",';\n                                "\n                        >\n                        </div>\n                        <div class="image-slider-img-detail"\n                            style="\n                                font-size: ').concat(l.fontSize,"px; \n                                color: ").concat(l.color,";\n                                display: ").concat("enable"===l.state?"block":"none",';\n                                "\n                        >\n                        </div>\n                    </div>\n                '))})),b=a.length,x=a[0],w=a[1],S=a[2%b],k=a[b-1],O=a[b-2],E=a[(b-3+b)%b];(1==b?[x,x,x,x,x,x]:[x,w,S,E,O,k]).forEach((function(e,n){var o=y[n];o.data("childrenIndex",n).attr("list-id",n),t.isAllowHref()&&e.href?o.find("a").attr("href",e.href):o.find("a").removeAttr("href");var i=o.children();i.first().find("img").attr("src",decodeURI(t.getImgSrc(e.src)));var a=i.first().next();r.imageTitle&&"enable"===r.imageTitle.state&&(a=a.text(e.title)),a=a.next(),r.imageDetail&&"enable"===r.imageDetail.state&&a.text(e.detail)})),this.imgSrcState={pos:3,neg:-3,len:b,children:a},e.append(y),this.imgDomIndex=0,this.next=this.next2.bind(this)}if(3===i){var C=this.style3Carriers=["image-slider-style3-current","image-slider-style3-right","image-slider-style3-hide","image-slider-style3-left"],_=a[0],I=parseInt(p-60*this.getRatio()),P=parseInt(I*_.height/_.width),T=P+s.showHeight,R=this.$imgBases=C.map((function(e,t){return $('\n                    <div class="image-slider-style3 '.concat(C[t],'"\n                        style="width: ').concat(I,"px; height: ").concat(T,"px; background-color: ").concat(c,'">\n                        <a><img style="width: ').concat(I,"px; height: ").concat(P,'px" /></a>\n                        <div class="image-slider-img-title"\n                            style="font-size: ').concat(u.fontSize,"px; color: ").concat(u.color,"; font-weight: ").concat(u.weight&&"bold",";\n                            display: ").concat("enable"===u.state?"block":"none",'\n                            "\n                        >\n                        </div>\n                        <div class="image-slider-img-detail"\n                            style="font-size: ').concat(l.fontSize,"px; \n                            color: ").concat(l.color,";\n                            display: ").concat("enable"===l.state?"block":"none",'\n                            "\n                        >\n                        </div>\n                    </div> \n                '))})),A=a.length,q=a[0],j=[q,a[1],null,a[A-1]];1==A&&(j=[q,q,null,q]),R.forEach((function(e,n){if(2!==n){var o=n,i=j[n];e.data("childrenIndex",o).attr("list-id",n);var a=e.children().first();t.isAllowHref()&&i.href?e.find("a").attr("href",i.href):e.find("a").removeAttr("href"),a.find("img").attr("src",t.getImgSrc(i.src));var s=a.next();r.imageTitle&&"enable"===r.imageTitle.state&&(s=s.text(i.title)),s=s.next(),r.imageDetail&&"enable"===r.imageDetail.state&&s.text(i.detail)}})),this.imgSrcState={pos:2,neg:-2,len:A,children:a},e.append(R),this.imgDomIndex=0,this.next=this.next3.bind(this)}if(4===i){var L=this.style4List=["image-slider-style4-current","image-slider-style4-up1","image-slider-style4-up2","image-slider-style4-below3","image-slider-style4-below2","image-slider-style4-below1"],M=a[0],D=parseInt(p-40*this.getRatio()),B=parseInt(D*M.height/M.width),F=B+s.showHeight+10*this.getRatio();0===s.showHeight&&(F+=10*this.getRatio());var N=this.$imgBases=L.map((function(e,n){return $('\n                    <div class="image-slider-style4 '.concat(L[n],'"\n                        style="width: ').concat(D+20*t.getRatio(),"px; height: ").concat(F,"px; background-color: ").concat(c,';">\n                        <div style="height: ').concat(s.showHeight,'px">\n                            <div class="image-slider-img-title"\n                                style="font-size: ').concat(u.fontSize,"px; color: ").concat(u.color,"; font-weight: ").concat(u.weight&&"bold",";\n                                    display: ").concat("enable"===u.state?"block":"none",'\n                                    "\n                            >\n                            </div>\n                            <div class="image-slider-img-detail"\n                                style="font-size: ').concat(l.fontSize,"px; \n                                    color: ").concat(l.color,";\n                                    display: ").concat("enable"===l.state?"block":"none",'\n                                    "\n                            >\n                            </div>\n                        </div>\n                        <a><img style="width: ').concat(D,"px; height: ").concat(B,'px" /></a>                        \n                    </div> \n                '))})),H=a.length,z=a[0],J=a[1],V=a[2%H],U=a[H-1],W=a[H-2],G=[z,J,V,a[(H-3+H)%H],W,U];1==H&&(G=[z,z,z,z,z,z]),N.forEach((function(e,n){var o=n,i=G[o];e.data("childrenIndex",o).attr("list-id",n),t.isAllowHref()&&i.href?e.find("a").attr("href",i.href):e.find("a").removeAttr("href"),r.imageTitle&&"enable"===r.imageTitle.state&&e.find(".image-slider-img-title").text(i.title),r.imageDetail&&"enable"===r.imageDetail.state&&e.find(".image-slider-img-detail").text(i.detail),e.find("a > img").attr("src",t.getImgSrc(i.src))})),this.imgSrcState={pos:3,neg:-3,len:H,children:a},e.append(N),this.imgDomIndex=0,this.next=this.next4.bind(this)}return e}},{key:"isAllowHref",value:function(){var e=this.compJson.properties.allowRedirect,t=this.eqxScene.config.mode;return e&&"view"===t}},{key:"next2",value:function(){var e=this.$imgBases,t=this.imgSrcState,n=this.imgDomIndex,r=this.style2Carriers,o=t.pos,i=t.neg,a=t.len,s=t.children,c=this.direction?-1:1,u=s[this.direction?(i+2*a)%a:o%a],l=u.src,p=u.title,f=u.detail,d=u.href,h=e.find((function(e){return e.hasClass("image-slider-style2-alternate")}));this.isAllowHref()&&d?h.find("a").attr("href",d):h.find("a").removeAttr("href"),h.find("img").attr("src",this.getImgSrc(l)),h.find(".image-slider-img-title").text(p).next().text(f);var m=r.length;e.forEach((function(e,t){var o=(t-n+m)%m,i=(o-c+m)%m;e.addClass(r[i]).removeClass(r[o])})),this.direction?(t.pos=(o-1+a)%a,t.neg=(i-1)%a):(t.pos=(o+1+a)%a,t.neg=(i+1-a)%a),this.imgDomIndex=(n+c+m)%m}},{key:"next3",value:function(){var e=this.$imgBases,t=this.imgSrcState,n=this.imgDomIndex,r=this.style3Carriers,o=t.pos,i=t.neg,a=t.len,s=t.children,c=this.direction?-1:1,u=s[this.direction?(i+a)%a:o%a],l=u.src,p=u.title,f=u.detail,d=u.href,h=e.find((function(e){return e.hasClass("image-slider-style3-hide")}));this.isAllowHref()&&d?h.find("a").attr("href",d):h.find("a").removeAttr("href"),h.find("img").attr("src",this.getImgSrc(l)),h.find(".image-slider-img-title").text(p).next().text(f);var m=r.length;e.forEach((function(e,t){var o=(t-n+m)%m,i=(o-c+m)%m;e.addClass(r[i]).removeClass(r[o])})),this.direction?(t.pos=(o-1+a)%a,t.neg=(i-1)%a):(t.pos=(o+1)%a,t.neg=(i+1-a)%a),this.imgDomIndex=(n+c+m)%m}},{key:"next4",value:function(){var e=this.$imgBases,t=this.imgSrcState,n=this.imgDomIndex,r=this.style4List,o=t.pos,i=t.neg,a=t.len,s=t.children,c=this.direction?-1:1,u=s[this.direction?o%a:(i+2*a)%a],l=u.src,p=u.title,f=u.detail,d=u.href,h=e.find((function(e){return e.hasClass("image-slider-style4-below3")}));this.isAllowHref()&&d?h.find("a").attr("href",d):h.find("a").removeAttr("href"),h.find("img").attr("src",this.getImgSrc(l)),h.find(".image-slider-img-title").text(p).next().text(f);var m=r.length;e.forEach((function(e,t){var o=(t-n+m)%m,i=(o+c+m)%m;e.addClass(r[i]).removeClass(r[o])})),this.direction?(t.pos=(o+1+a)%a,t.neg=(i+1-a)%a):(t.pos=(o-1+a)%a,t.neg=(i-1)%a),this.imgDomIndex=(n-c+m)%m}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;i(u(d.prototype),"bindAfterRenderEvent",this).call(this,e,t),this._viewStyle>1&&(t.properties.autoPlay?(this.direction=4===this._viewStyle,setInterval((function(){n.next()}),t.properties.interval||2e3)):(this.mmove=this.mmove.bind(this),this.mend=this.mend.bind(this),e.on("mousedown touchstart",(function(t){e.on("mousemove touchmove",n.mmove),e.on("mouseup touchend",n.mend),e.on("mouseleave",n.mend),n.mstart(t)}))))}},{key:"mstart",value:function(e){var t=l(e);this.originX=t.clientX,this.originY=t.clientY,e.stopPropagation()}},{key:"mmove",value:function(e){var t,n=l(e);e.preventDefault(),e.stopPropagation(),t=4===this._viewStyle?n.clientY-this.originY:n.clientX-this.originX,this.direction=t>0,Math.abs(t)>5?this.mallow=!0:this.mallow=!1}},{key:"mend",value:function(e){e.stopPropagation();var t=this.$li;t.off("mousemove touchmove",this.mmove),t.off("mouseup touchend mouseleave",this.mend),this.mallow&&(this.next(),this.mallow=!1)}},{key:"showImage",value:function(e){var t=this,n=this.compJson.properties.children,r=[n[e],n[e+1]||n[0],n[e-1]||n[n.length-1]],o=this.$imgBases;[o[0],o[1],o[o.length-1]].forEach((function(o,i){var a=r[i];o.find("img").attr("src",t.getImgSrc(a.src)),o.find(".image-slider-img-title").text(a.title),o.find(".image-slider-img-detail").text(a.detail),o.data("childrenIndex",(e+i)%n.length).attr("list-id",(e+i)%n.length)}))}},{key:"initFlux",value:function(e,t){var n=this,r=this.compJson,o=r.id,i=r.properties,a=i.autoPlay,s=void 0!==a&&a,c=i.interval,u=i.picStyle,l=r.css,p=l.width,f=l.height,d=l.bgColor;t&&(f=this.getStyle1Height()),s=s&&"view"===this.eqxScene.config.mode;var h=flux.slider;this.flux=new h(e,{autoplay:s,delay:c,pagination:!1,transitions:[v(u).name],width:p,height:f,bgColor:d,onStartEnd:function(e){return n.addInterval(o,e)}})}},{key:"addInterval",value:function(e,t){this.intervalObj[e]=t}},{key:"deleteInterval",value:function(e){this.intervalObj[e]&&(clearInterval(this.intervalObj[e]),delete this.intervalObj[e])}},{key:"clearInterval",value:function(){for(var e in this.intervalObj)this.deleteInterval(e)}},{key:"switchStyle",value:function(e){var t=this.$context;switch(t.empty(),e){case 1:this.createStyle1(t,!0);break;case 2:case 3:case 4:default:this.createStyle2(t)}this._viewStyle=e,e>1&&this.setTextHeight(),this.updateCompHeightByRender()}},{key:"updateCompHeightByRender",value:function(){var e=this.getActualHeight();this.update$li({height:e})}},{key:"getActualHeight",value:function(){var e=this.compJson.properties.viewStyle,t=this.compJson.css.height;switch(e){case 1:t=this.getStyle1Height();break;case 2:t=n(this,2)+40;break;case 3:t=n(this,3)+40;break;case 4:t=n(this,4)+110}function n(e,t){return parseFloat(e.$context.find(".image-slider-style".concat(t)).eq(0).css("height"))}return t}},{key:"getStyle1Height",value:function(){var e=this.compJson,t=e.properties,n=(t=void 0===t?{}:t).viewStyle,r=t.children,o=void 0===r?[]:r,i=e.css,a=i.width,s=i.height,c=o[0],u=c.width,l=c.height;return 1===n?a/u*l:s}},{key:"updateFontSize",value:function(){var e=this.compJson.properties,t=e.imageTitle,n=t.fontWeight,r=t.fontSize,o=t.color,i=e.imageDetail,a=i.fontSize,s=i.color;this.$imgBases.forEach((function(e){e.find(".image-slider-img-title").css({fontSize:r+"px",fontWeight:n,color:o}).next().css({fontSize:a+"px",color:s})})),this.setTextHeight("fontSize"),this.updateCompHeightByRender()}},{key:"updateText",value:function(){var e=this.imgDomIndex,t=this.$imgBases,n=this.compJson.properties.children,r=t[e].data("childrenIndex"),o=n[r],i=o.title,a=o.detail;t.forEach((function(e){e.data("childrenIndex")%n.length===r&&e.find(".image-slider-img-title").text(i).next().text(a)})),this.setTextHeight(),this.updateCompHeightByRender()}},{key:"switchText",value:function(){var e=this.$imgBases,t=this.compJson.properties,n=t.imageTitle,r=t.imageDetail,o=t.children;e.forEach((function(e){var t=e.find(".image-slider-img-title"),i=o[e.data("childrenIndex")];"enable"===n.state?(t.css("display","block"),i&&t.text(i.title)):t.css("display","none");var a=t.next();"enable"===r.state?(a.css("display","block"),i&&a.text(i.detail)):a.css("display","none")})),this.setTextHeight(),this.updateCompHeightByRender()}},{key:"setTextHeight",value:function(e){var t=this.imgDomIndex,n=this.$imgBases,r=this.compJson.properties,o=r.imageTitle,i=r.imageDetail,a=r.imageText,s=r.children,c=r.viewStyle;if(1!==c){var u=n[t],l=a.titleHMax,p=a.detailHMax;if("switchText"===e){var f=0;"enable"===o.state&&(f=l);var d=0;"enable"===i.state&&(d=p);var h=a.showHeight=f+d+((f||d)&&20)+(f&&d&&10);4===this._viewStyle&&("disable"===o.state&&"disable"===i.state?h+=20:"disable"===o.state||"disable"===i.state?h+=10:h+=20);var m=u.find("img").height()+h;n.forEach((function(e){e.height(m)}))}else v(this)}function v(e){var t=0,r=0,u=0;e.$imgBases.forEach((function(n){var a=n.find("img").height();4===c&&(a+=10*e.getRatio());var l="enable"===o.state?n.find(".image-slider-img-title").outerHeight(!0):0,p="enable"===i.state?n.find(".image-slider-img-detail").outerHeight(!0):0,f=a+l+p;l&&p&&(f-=10);var d=n.data("childrenIndex")%s.length;isNaN(d)||(s[d].titleHeight=l,s[d].detailHeight=p),f>t&&(t=f,r=l,u=p)})),t=Math.max(t,80*e.getRatio()),n.forEach((function(e){e.height(t)})),a.titleHMax=r,a.detailHMax=u,a.showHeight=a.titleHMax+a.detailHMax,a.titleHMax&&a.detailHMax&&(a.showHeight-=10)}}},{key:"updateTextColor",value:function(){var e=this.imgDomIndex,t=this.$imgBases,n=this.compJson.properties,r=n.imageTitle,o=n.imageDetail,i=n.viewStyle,a=n.bgColor,s=n.backgroundColor,c=t[e].children().first();(c=4===i?c.children().first():c.next()).css("color",r.color).css("fontWeight",r.weight?"bold":"normal").next().css("color",o.color),t.forEach((function(e){e.css("backgroundColor",a)})),this.$context.css({backgroundColor:s})}},{key:"updateItemSizeByPage",value:function(e,t){i(u(d.prototype),"updateItemSizeByPage",this).call(this,e,t);var n=t/e,r=this.compJson.properties,o=r.children,a=r.viewStyle;o.forEach((function(e){e.width*=n,e.height*=n})),this.switchStyle(a)}}])&&o(t.prototype,n),r&&o(t,r),d}(d);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h[0].value;return h.find((function(t){return t.value===e}))}e.exports=m},function(e,t,n){"use strict";var r;window.flux={version:"1.4.4"},r=window.jQuery||window.Zepto,flux.slider=function(e,t){flux.browser.init(),flux.browser.supportsTransitions||window.console&&window.console.error&&console.error("Flux Slider requires a browser that supports CSS3 transitions");var n=this;for(var o in this.element=r(e),this.transitions=[],flux.transitions)this.transitions.push(o);this.options=r.extend({autoplay:!0,transitions:this.transitions,delay:4e3,pagination:!0,controls:!1,captions:!1,width:null,height:null,onTransitionEnd:null,onStartEnd:null,bgColor:""},t),this.height=this.options.height?this.options.height:null,this.width=this.options.width?this.options.width:null;var i=[];r(this.options.transitions).each((function(e,t){var n=new flux.transitions[t](this),r=!0;n.options.requires3d&&!flux.browser.supports3d&&(r=!1),n.options.compatibilityCheck&&(r=n.options.compatibilityCheck()),r&&i.push(t)})),this.options.transitions=i,this.images=[],this.imageLoadedCount=0,this.currentImageIndex=0,this.nextImageIndex=1,this.playing=!1,this.container=r('<div class="fluxslider"></div>').appendTo(this.element),this.surface=r('<div class="surface" style="position: relative"></div>').appendTo(this.container),this.container.bind("click",(function(e){r(e.target).hasClass("hasLink")&&(window.location=r(e.target).data("href"))})),this.imageContainer=r('<div class="images loading1"></div>').css({position:"relative",overflow:"hidden"}).appendTo(this.surface),this.width&&this.height&&this.imageContainer.css({width:this.width+"px",height:this.height+"px"}),this.image1=r('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),this.image2=r('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),r(this.image1).add(this.image2).css({position:"absolute",top:"0px",left:"0px"}),this.element.find("img, a img").each((function(e,t){var o=t.cloneNode(!1),i=r(t).parent();i.is("a")&&r(o).data("href",i.attr("href")),n.images.push(o),r(t).remove()}));for(var a=0;a<this.images.length;a++){var s=new Image;s.onload=function(){n.imageLoadedCount++,n.width=n.width?n.width:this.width,n.height=n.height?n.height:this.height,n.imageLoadedCount>=n.images.length&&(n.finishedLoading(),n.setupImages())},s.src=this.images[a].src}this.element.bind("fluxTransitionEnd",(function(e,t){n.options.onTransitionEnd&&(e.preventDefault(),n.options.onTransitionEnd(t))})),this.transitionEndLock=!1;var c={},u={};this.element.bind("mousedown touchstart",(function(e){"touchstart"===e.type?c.left=e.originalEvent.touches[0].pageX:"mousedown"===e.type&&(c.left=e.pageX)})).bind("mouseup touchend",(function(e){"touchend"===e.type?u.left=e.originalEvent.changedTouches[0].pageX:"mouseup"===e.type&&(u.left=e.pageX),u.left-c.left>20?n.prev(null,{direction:"right"}):c.left-u.left>20&&n.next(null,{direction:"left"}),n.options.autoplay&&(n.stop(),n.start())}))},flux.slider.prototype={constructor:flux.slider,playing:!1,start:function(){var e=this;this.playing=!0,this.transitionEndLock=!1,this.interval=setInterval((function(){!e.transitionEndLock&&e.transition()}),this.options.delay),"function"==typeof this.options.onStartEnd&&this.options.onStartEnd(this.interval)},stop:function(){this.playing=!1,clearInterval(this.interval),this.interval=null},isPlaying:function(){return this.playing},next:function(e,t){(t=t||{}).direction="left",this.showImage(this.currentImageIndex+1,e,t)},prev:function(e,t){(t=t||{}).direction="right",this.showImage(this.currentImageIndex-1,e,t)},showImage:function(e,t,n){this.setNextIndex(e),this.setupImages(),this.transition(t,n)},finishedLoading:function(){var e=this;if(this.container.css({width:this.width+"px",height:this.height+"px"}),this.imageContainer.removeClass("loading1"),this.options.pagination&&(this.pagination=r('<ul class="pagination"></ul>').css({margin:"0px",padding:"0px","text-align":"center"}),this.pagination.bind("click",(function(t){t.preventDefault(),e.showImage(r(t.target).data("index"))})),r(this.images).each((function(t,n){var o=r('<li data-index="'+t+'">'+(t+1)+"</li>").css({display:"inline-block","margin-left":"0.5em",cursor:"pointer"}).appendTo(e.pagination);0==t&&o.css("margin-left",0).addClass("current")})),this.container.append(this.pagination)),r(this.imageContainer).css({width:this.width+"px",height:this.height+"px"}),r(this.image1).css({width:this.width+"px",height:this.height+"px"}),r(this.image2).css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+(this.options.pagination?this.pagination.height():0)+"px"}),this.options.controls){var t={padding:"4px 10px 10px","font-size":"60px","font-family":"arial, sans-serif","line-height":"1em","font-weight":"bold",color:"#FFF","text-decoration":"none",background:"rgba(0,0,0,0.5)",position:"absolute","z-index":2e3};this.nextButton=r('<a href="#">»</a>').css(t).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",(function(t){t.preventDefault(),e.next()})),this.prevButton=r('<a href="#">«</a>').css(t).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",(function(t){t.preventDefault(),e.prev()}));var n=(this.height-this.nextButton.height())/2;this.nextButton.css({top:n+"px",right:"10px"}),this.prevButton.css({top:n+"px",left:"10px"})}this.options.captions&&(this.captionBar=r('<div class="caption"></div>').css({background:"rgba(0,0,0,0.6)",color:"#FFF","font-size":"16px","font-family":"helvetica, arial, sans-serif","text-decoration":"none","font-weight":"bold",padding:"1.5em 1em",opacity:0,position:"absolute","z-index":110,width:"100%",bottom:0}).css3({"transition-property":"opacity","transition-duration":"800ms","box-sizing":"border-box"}).prependTo(this.surface)),this.updateCaption()},setupImages:function(){var e=this.getImage(this.currentImageIndex),t={background:'url("'+e.src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:101,cursor:"auto"};r(e).data("href")?(t.cursor="pointer",this.image1.addClass("hasLink"),this.image1.data("href",r(e).data("href"))):(this.image1.removeClass("hasLink"),this.image1.data("href",null)),this.image1.css(t).children().remove(),this.image2.css({background:'url("'+this.getImage(this.nextImageIndex).src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:100,display:"none"}),this.options.pagination&&this.pagination&&(this.pagination.find("li.current").removeClass("current"),r(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))},transition:function(e,t){if(null==e||!flux.transitions[e]){var n=Math.floor(Math.random()*this.options.transitions.length);e=this.options.transitions[n]}var o=null;try{o=new flux.transitions[e](this,r.extend(this.options[e]?this.options[e]:{},t))}catch(e){o=new(0,flux.transition)(this,{fallback:!0})}o.run(),this.currentImageIndex=this.nextImageIndex,this.setNextIndex(this.currentImageIndex+1),this.updateCaption()},updateCaption:function(){var e=r(this.getImage(this.currentImageIndex)).attr("title");this.options.captions&&this.captionBar&&(""!==e&&this.captionBar.html(e),this.captionBar.css("opacity",""===e?0:1))},getImage:function(e){return e%=this.images.length,this.images[e]},setNextIndex:function(e){null==e&&(e=this.currentImageIndex+1),this.nextImageIndex=e,this.nextImageIndex>this.images.length-1&&(this.nextImageIndex=0),this.nextImageIndex<0&&(this.nextImageIndex=this.images.length-1)},increment:function(){this.currentImageIndex++,this.currentImageIndex>this.images.length-1&&(this.currentImageIndex=0)}},function(e){flux.browser={init:function(){if(void 0===flux.browser.supportsTransitions){if(window.Modernizr&&void 0!==window.Modernizr.csstransitions?flux.browser.supportsTransitions=window.Modernizr.csstransitions:flux.browser.supportsTransitions=this.supportsCSSProperty("Transition"),window.Modernizr&&void 0!==window.Modernizr.csstransforms3d)flux.browser.supports3d=window.Modernizr.csstransforms3d;else if(flux.browser.supports3d=this.supportsCSSProperty("Perspective"),flux.browser.supports3d&&"webkitPerspective"in e("body").get(0).style){var t=e('<div id="csstransform3d"></div>'),n=e('<style media="(transform-3d), ('+["-webkit","-moz","-o","-ms"].join("-transform-3d),(")+'-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');e("body").append(t),e("head").append(n),flux.browser.supports3d=9==t.get(0).offsetLeft,t.remove(),n.remove()}}},supportsCSSProperty:function(e){for(var t=document.createElement("div"),n=["Webkit","Moz","O","Ms"],r=!1,o=0;o<n.length;o++)n[o]+e in t.style&&(r=r||!0);return r},translate:function(e,t,n){return e=null!=e?e:0,t=null!=t?t:0,n=null!=n?n:0,"translate"+(flux.browser.supports3d?"3d(":"(")+e+"px,"+t+(flux.browser.supports3d?"px,"+n+"px)":"px)")},rotateX:function(e){return flux.browser.rotate("x",e)},rotateY:function(e){return flux.browser.rotate("y",e)},rotateZ:function(e){return flux.browser.rotate("z",e)},rotate:function(e,t){return e in{x:"",y:"",z:""}||(e="z"),t=null!=t?t:0,flux.browser.supports3d?"rotate3d("+("x"==e?"1":"0")+", "+("y"==e?"1":"0")+", "+("z"==e?"1":"0")+", "+t+"deg)":"z"==e?"rotate("+t+"deg)":""}},e((function(){flux.browser.init()}))}(window.jQuery||window.Zepto),function(e){e.fn.css3=function(e){var t={},n=["webkit","moz","ms","o"];for(var r in e){for(var o=0;o<n.length;o++)t["-"+n[o]+"-"+r]=e[r];t[r]=e[r]}return this.css(t),this},e.fn.transitionEnd=function(t){for(var n=["webkitTransitionEnd","transitionend","oTransitionEnd"],r=0;r<n.length;r++)this.bind(n[r],(function(r){for(var o=0;o<n.length;o++)e(this).unbind(n[o]);t&&t.call(this,r)}));return this},flux.transition=function(t,n){if(this.options=e.extend({requires3d:!1,after:function(){}},n),this.slider=t,this.options.requires3d&&!flux.browser.supports3d||!flux.browser.supportsTransitions||!0===this.options.fallback){var r=this;this.options.after=void 0,this.options.setup=function(){r.fallbackSetup()},this.options.execute=function(){r.fallbackExecute()}}},flux.transition.prototype={constructor:flux.transition,hasFinished:!1,run:function(){var e=this;void 0!==this.options.setup&&this.options.setup.call(this),this.slider.image1.css({"background-image":"none"}),this.slider.imageContainer.css("overflow",this.options.requires3d?"visible":"hidden"),setTimeout((function(){void 0!==e.options.execute&&e.slider.image1.css("background-color",""),e.options.execute.call(e),e.slider.options.autoplay&&(e.slider.transitionEndLock=!0)}),5)},finished:function(){this.hasFinished||(this.hasFinished=!0,this.options.after&&this.options.after.call(this),this.slider.imageContainer.css("overflow","hidden"),this.slider.setupImages(),this.slider.element.trigger("fluxTransitionEnd",{currentImage:this.slider.getImage(this.slider.currentImageIndex)}),this.slider.options.autoplay&&(this.slider.transitionEndLock=!1))},fallbackSetup:function(){},fallbackExecute:function(){this.finished()}},flux.transitions={},flux.transition_grid=function(t,n){return new(0,flux.transition)(t,e.extend({columns:10,rows:10,forceSquare:!1,setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height(),r=Math.floor(t/this.options.columns),o=Math.floor(n/this.options.rows);this.options.forceSquare&&(o=r,this.options.rows=Math.floor(n/o));for(var i=t-this.options.columns*r,a=Math.ceil(i/this.options.columns),s=n-this.options.rows*o,c=Math.ceil(s/this.options.rows),u=0,l=0,p=document.createDocumentFragment(),f=0;f<this.options.columns;f++){var d=r;if(l=0,i>0){var h=i>=a?a:i;d+=h,i-=h}for(var m=0;m<this.options.rows;m++){var v=o,g=s;g>0&&(v+=h=g>=c?c:g,g-=h);var y=e('<div class="tile tile-'+f+"-"+m+'"></div>').css({width:d+"px",height:v+"px",position:"absolute",top:l+"px",left:u+"px",overflow:"hidden"}).append("<div></div>");this.options.renderTile.call(this,y,f,m,d,v,u,l),p.appendChild(y.get(0)),l+=v}u+=d}this.slider.image1.get(0).appendChild(p)},execute:function(){var e=this,t=this.slider.image1.height(),n=this.slider.image1.find("div.barcontainer");this.slider.image2.hide(),n.last().transitionEnd((function(t){e.slider.image2.show(),e.finished()})),n.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,t/2,t/2)})},renderTile:function(e,t,n,r,o,i,a){}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.bars=function(t,n){return new(0,flux.transition_grid)(t,e.extend({columns:10,rows:1,delayBetweenBars:40,renderTile:function(t,n,r,o,i,a,s){e(t).children().css({position:"absolute",top:-s+"px",left:-a+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"400ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":n*this.options.delayBetweenBars+"ms"})},execute:function(){var t=this,n=this.slider.image1.height(),r=this.slider.image1.find("div.tile");e(r[r.length-1]).transitionEnd((function(){t.finished()})),setTimeout((function(){r.css({opacity:"0.5"}).css3({transform:flux.browser.translate(0,n)})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.bars3d=function(t,n){return new(0,flux.transition_grid)(t,e.extend({requires3d:!0,columns:7,rows:1,delayBetweenBars:150,perspective:1e3,renderTile:function(t,n,r,o,i,a,s){var c=e('<div class="bar-'+n+'"></div>').css({width:o+"px",height:"100%",position:"absolute",top:"0px",left:"0px","z-index":200,overflow:"hidden"}).css3({"backface-visibility":"hidden"}),u=e("<div></div>").css({position:"absolute",top:-s+"px",left:-a+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).appendTo(c),l=e(c.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-i/2,i/2)});e(u.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).appendTo(l);var p=e('<div class="side bar-'+n+'"></div>').css({width:i+"px",height:i+"px",position:"absolute",top:"0px",left:"0px",background:"#222","z-index":190}).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(i/2,0,-i/2)+" "+flux.browser.rotateY(180),"backface-visibility":"hidden"}),f=e(p.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(i/2,0,o-i/2)});e(t).empty().css({overflow:"visible",width:o+"px",height:"100%",position:"absolute",top:"0px",left:a+"px","z-index":n>this.options.columns/2?1e3-n:1e3}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transition-delay":n*this.options.delayBetweenBars+"ms","transform-style":"preserve-3d"}).append(c).append(l).append(p).append(f)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var e=this,t=this.slider.image1.height(),n=this.slider.image1.find("div.tile");this.slider.image2.hide(),n.last().transitionEnd((function(t){e.slider.image1.css3({"transform-style":"flat"}),e.slider.image2.show(),e.finished()})),setTimeout((function(){n.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,t/2,t/2)})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blinds=function(t,n){return new(0,flux.transitions.bars)(t,e.extend({execute:function(){var t=this,n=this.slider.image1.find("div.tile");e(n[n.length-1]).transitionEnd((function(){t.finished()})),setTimeout((function(){n.css({opacity:"0.5"}).css3({transform:"scalex(0.0001)"})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.zip=function(t,n){return new(0,flux.transitions.bars)(t,e.extend({execute:function(){var t=this,n=this.slider.image1.height(),r=this.slider.image1.find("div.tile");e(r[r.length-1]).transitionEnd((function(){t.finished()})),setTimeout((function(){r.each((function(t,r){e(r).css({opacity:"0.3"}).css3({transform:flux.browser.translate(0,t%2?"-"+2*n:n)})}))}),20)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blocks=function(t,n){return new(0,flux.transition_grid)(t,e.extend({forceSquare:!0,delayBetweenBars:100,renderTile:function(t,n,r,o,i,a,s){var c=Math.floor(10*Math.random()*this.options.delayBetweenBars);e(t).children().css({position:"absolute",top:-s+"px",left:-a+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":c+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),c>this.maxDelay&&(this.maxDelay=c,this.maxDelayTile=t)},execute:function(){var t=this,n=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd((function(){t.finished()})),setTimeout((function(){n.each((function(t,n){e(n).css({opacity:"0"}).css3({transform:"scale(0.8)"})}))}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blocks2=function(t,n){return new(0,flux.transition_grid)(t,e.extend({cols:12,forceSquare:!0,delayBetweenDiagnols:150,renderTile:function(t,n,r,o,i,a,s){e(t).children().css({position:"absolute",top:-s+"px",left:-a+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":(n+r)*this.options.delayBetweenDiagnols+"ms","backface-visibility":"hidden"})},execute:function(){var t=this,n=this.slider.image1.find("div.tile");n.last().transitionEnd((function(){t.finished()})),setTimeout((function(){n.each((function(t,n){e(n).css({opacity:"0"}).css3({transform:"scale(0.8)"})}))}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.cube=function(t,n){return new(0,flux.transition)(t,e.extend({requires3d:!0,barWidth:100,direction:"left",perspective:1e3,setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height();this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}),this.cubeContainer=e('<div class="cube"></div>').css({width:t+"px",height:n+"px",position:"relative"}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transform-style":"preserve-3d"});var r={height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px"},o=e('<div class="face current"></div>').css(e.extend(r,{background:this.slider.image1.css("background")})).css3({"backface-visibility":"hidden"});this.cubeContainer.append(o);var i=e('<div class="face next"></div>').css(e.extend(r,{backgroundImage:this.slider.image2.css("background-image")})).css3({transform:this.options.transitionStrings.call(this,this.options.direction,"nextFace"),"backface-visibility":"hidden"});this.cubeContainer.append(i),this.slider.image1.append(this.cubeContainer)},execute:function(){var e=this;this.slider.image2.hide(),this.cubeContainer.transitionEnd((function(){e.slider.image2.show(),e.finished()})),setTimeout((function(){e.cubeContainer.css3({transform:e.options.transitionStrings.call(e,e.options.direction,"container")})}),50)},transitionStrings:function(e,t){var n=this.slider.image1.width(),r=this.slider.image1.height(),o={up:{nextFace:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,r/2,r/2),container:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-r/2,r/2)},down:{nextFace:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-r/2,r/2),container:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,r/2,r/2)},left:{nextFace:flux.browser.rotateY(90)+" "+flux.browser.translate(n/2,0,n/2),container:flux.browser.rotateY(-90)+" "+flux.browser.translate(-n/2,0,n/2)},right:{nextFace:flux.browser.rotateY(-90)+" "+flux.browser.translate(-n/2,0,n/2),container:flux.browser.rotateY(90)+" "+flux.browser.translate(n/2,0,n/2)}};return!(!o[e]||!o[e][t])&&o[e][t]}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.tiles3d=function(t,n){return new(0,flux.transition_grid)(t,e.extend({requires3d:!0,forceSquare:!0,columns:5,perspective:600,delayBetweenBarsX:200,delayBetweenBarsY:150,renderTile:function(t,n,r,o,i,a,s){var c=e("<div></div>").css({width:o+"px",height:i+"px",position:"absolute",top:"0px",left:"0px",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":"-"+a+"px -"+s+"px","background-repeat":"no-repeat","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),u=e(c.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});e(t).empty().css({overflow:"visible","z-index":(n>this.options.columns/2?500-n:500)+(r>this.options.rows/2?500-r:500)}).css3({"transition-duration":"800ms","transition-timing-function":"ease-out","transition-property":"all","transition-delay":n*this.options.delayBetweenBarsX+r*this.options.delayBetweenBarsY+"ms","transform-style":"preserve-3d"}).append(c).append(u)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"});var e=this,t=this.slider.image1.find("div.tile");this.slider.image2.hide(),t.last().transitionEnd((function(t){e.slider.image2.show(),e.finished()})),setTimeout((function(){t.css3({transform:flux.browser.rotateY(180)})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.turn=function(t,n){return new(0,flux.transition)(t,e.extend({requires3d:!0,perspective:1300,direction:"left",setup:function(){var t=e('<div class="tab"></div>').css({width:"50%",height:"100%",position:"absolute",top:"0px",left:"left"===this.options.direction?"50%":"0%","z-index":101}).css3({"transform-style":"preserve-3d","transition-duration":"1000ms","transition-timing-function":"ease-out","transition-property":"all","transform-origin":"left"==this.options.direction?"left center":"right center"});e("<div></div>").appendTo(t).css({background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"==this.options.direction?"-"+this.slider.image1.width()/2:0)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),e("<div></div>").appendTo(t).css({background:this.slider.image2.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});var n=e("<div></div>").css({position:"absolute",top:"0",left:"left"===this.options.direction?"0":"50%",width:"50%",height:"100%",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0","z-index":100}),r=e('<div class="overlay"></div>').css({position:"absolute",top:"0",left:"left"===this.options.direction?"50%":"0",width:"50%",height:"100%",background:"#000",opacity:1}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"opacity"}),o=e("<div></div>").css3({width:"100%",height:"100%"}).css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).append(t).append(n).append(r);this.slider.image1.append(o)},execute:function(){var e=this;this.slider.image1.find("div.tab").first().transitionEnd((function(){e.finished()})),setTimeout((function(){e.slider.image1.find("div.tab").css3({transform:flux.browser.rotateY("left"==e.options.direction?-179:179)}),e.slider.image1.find("div.overlay").css({opacity:0})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.slide=function(t,n){return new(0,flux.transition)(t,e.extend({direction:"left",setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height(),r=e('<div class="current"></div>').css({height:n+"px",width:t+"px",position:"absolute",top:"0px",left:"0px",background:this.slider["left"===this.options.direction?"image1":"image2"].css("background")}).css3({"backface-visibility":"hidden"}),o=e('<div class="next"></div>').css({height:n+"px",width:t+"px",position:"absolute",top:"0px",left:t+"px",background:this.slider["left"===this.options.direction?"image2":"image1"].css("background")}).css3({"backface-visibility":"hidden"});this.slideContainer=e('<div class="slide"></div>').css({width:2*t+"px",height:n+"px",position:"relative",left:"left"===this.options.direction?"0px":-t+"px","z-index":101}).css3({"transition-duration":"600ms","transition-timing-function":"ease-in","transition-property":"all"}),this.slideContainer.append(r).append(o),this.slider.image1.append(this.slideContainer)},execute:function(){var e=this,t=this.slider.image1.width();"left"===this.options.direction&&(t=-t),this.slideContainer.transitionEnd((function(){e.finished()})),setTimeout((function(){e.slideContainer.css3({transform:flux.browser.translate(t)})}),50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.explode=function(t,n){return new(0,flux.transition_grid)(t,e.extend({columns:10,forceSquare:!0,delayBetweenBars:30,perspective:800,requires3d:!0,renderTile:function(t,n,r,o,i,a,s){var c=Math.floor(10*Math.random()*this.options.delayBetweenBars);e(t).children().css({position:"absolute",top:-s+"px",left:-a+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"500ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":c+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),c>this.maxDelay&&(this.maxDelay=c,this.maxDelayTile=t)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var t=this,n=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd((function(){t.slider.image1.css3({"transform-style":"flat"}),t.finished()})),setTimeout((function(){n.each((function(t,n){e(n).css({opacity:"0"}).css3({transform:flux.browser.translate(0,0,700)+" rotate3d("+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", 90deg) "})}))}),50)}},n))}}(window.jQuery||window.Zepto)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(83).$getSvg,p=n(628),f=n(629),d=n(5);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,r,c,d=s(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(n=d.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0}}}),n}return t=h,(r=[{key:"getFtEditableProps",value:function(){var e=i(u(h.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps,n=(this.compJson.properties.items||[]).map((function(e,n){return t.color.fill+"-"+n}));return e.concat([t.sound.soundSrc,t.link.url,t.internalLink.internalLink,t.telephone.number],n)}},{key:"getFtValue",value:function(e){var t=this.FtEditableProps;if(e.includes(t.color.fill)){var n=e.split("-")[1];return this.getProp("items")[n].fill}return i(u(h.prototype),"getFtValue",this).call(this,e)}},{key:"updateFillColor",value:function(e,t){var n=$(this.$li).find("[fill], [style*='fill']"),r=this.getProp("items")[e];if(r){var o=r.elements;r.fill=t,n.each((function(e){if(o.indexOf(e)>-1){var r=$.Color(t).toString();n.eq(e).css({fill:r})}}))}}},{key:"create$li",value:function(){i(u(h.prototype),"create$li",this).call(this);var e=this.compJson.css,t=e.left,n=e.height,r=e.width;return this.$li.css({left:t,height:n,width:r}),this.$li}},{key:"create$context",value:function(){var e=this.compJson,t=this;this.$contentsDiv.css({position:"relative"});var r=e.id,o=e.properties,i=o.viewBox,a=void 0===i?"0 0 64 64":i,s=o.type,c=void 0===s?"":s,u=o.src,d=o.items,h=e.css.color,m=void 0===h?"#555":h;if(u){var v=document.createElementNS("http://www.w3.org/2000/svg","svg");return v.setAttribute("class","element svg-element"),l(u).then((function(n){var o=n.cloneNode(!0).getElementsByTagName("svg"),i=o[0].viewBox.baseVal,a=parseFloat($(o).attr("width"))||i.width,s=parseFloat($(o).attr("height"))||i.height,c=$(o).find("[fill], [style*='fill']")||[];if(d)if(c.length==d.length)for(var u=0;u<d.length;u++)c.eq(u).css({fill:d[u].fill});else $.each(c,(function(e,t){for(var n=0;n<d.length;n++)for(var r=d[n].elements||[],o=0;o<r.length;o++)e==r[o]&&(""!=d[n].fill?c.eq(e).css({fill:d[n].fill}):c.eq(e).css({fill:"none"}))}));else{var l=[],p={};$.each(c,(function(e,t){var n=$(t).attr("style");if(n){for(var r=n.split(";")||[],o=0,i=r.length;o<i;o++)if(r[o].includes("fill:")){l.push(r[o].split(":")[1]);break}}else l.push($(t).attr("fill"))}));for(var f=0;f<l.length;f++)p[l[f]]||(p[l[f]]=1,"none"!=l[f]?d.push({fill:l[f],svgFill:l[f]}):d.push({fill:"",svgFill:"none"}));for(var h=0;h<d.length;h++){var m=[];$.each(c,(function(e,t){var n,r=$(t).attr("style");if(r){for(var o=r.split(";"),i=0,a=o.length;i<a;i++)if(o[i].includes("fill:")){n=o[i].split(":")[1];break}}else n=$(t).attr("fill");n==d[h].svgFill&&m.push(e)})),d[h].elements=m}e.properties.items=d}var g="0 0 "+a+" "+s;t.$contentsDiv.empty();var y=t.$contentsDiv[0];v=o[0],y.appendChild(v),v.getAttribute("viewBox")||v.setAttribute("viewBox",g),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.id=r,v.setAttribute("class","element svg-element"),t.$context=$(v)})).catch((function(){var e;(e=console).error.apply(e,arguments)})),$(v)}var g=a.split(" "),y=g[2]||64,b=g[3]||64;if(c.includes("symbols")){var x=$(f.svg({id:r,viewBox:a}))[0];return function(e){return new Promise((function(t,r){Promise.resolve().then(function(){var o=n(251)[e];/^<path.*>$/.test(o)?t(o):r("".concat(e," does not match <path />"))}.bind(null,n)).catch(n.oe)}))}(c.replace(/^symbols-/,"")).then((function(e){x.innerHTML=f.g({id:r,color:m,path:e})})).catch((function(){var e;(e=console).error.apply(e,arguments)})),$(x)}var w=c.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));if(p[w]){var S=$(p[w](y,b)).attr("fill",m);return $(f.svg({id:r,viewBox:a,content:S[0].outerHTML}))}console.error("shape#".concat(r," does not match any!"))}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}}])&&o(t.prototype,r),c&&o(t,c),h}(d);e.exports=h},function(e,t,n){"use strict";function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}e.exports={rect:function(e,t){var n=r("rect");return n.setAttribute("width",e),n.setAttribute("height",t),n},ellipse:a,circle:a,triangleUp:function(e,t){var n=r("polygon");return n.setAttribute("points",i([e/2,0,e,t,0,t])),n},triangleDown:function(e,t){var n=r("polygon");return n.setAttribute("points",i([0,0,e,0,e/2,t])),n},triangleLeft:function(e,t){var n=r("polygon");return n.setAttribute("points",i([0,t/2,e,0,e,t])),n},triangleRight:function(e,t){var n=r("polygon");return n.setAttribute("points",i([e,t/2,0,t,0,0])),n},arrowUp:function(e,t){var n=r("polygon");return n.setAttribute("points",i([.5*e,0,e,.5*t,.7*e,.5*t,.7*e,t,.3*e,t,.3*e,.5*t,0,.5*t,.5*e,0])),n},arrowDown:function(e,t){var n=r("polygon");return n.setAttribute("points",i([.5*e,t,e,.5*t,.7*e,.5*t,.7*e,0,.3*e,0,.3*e,.5*t,0,.5*t,.5*e,t])),n},arrowLeft:function(e,t){var n=r("polygon");return n.setAttribute("points",i([e,.3*t,.5*e,.3*t,.5*e,0,0,.5*t,.5*e,t,.5*e,.7*t,e,.7*t,e,.3*t])),n},arrowRight:function(e,t){var n=r("polygon");return n.setAttribute("points",i([0,.3*t,.5*e,.3*t,.5*e,0,e,.5*t,.5*e,t,.5*e,.7*t,0,.7*t])),n},diamond:function(e,t){return s(e,t,4)},octagon:function(e,t){return s(e,t,8)}};var o=r("rect");function i(e){for(var t=[];e.length>=2;)t.push(e.shift()+","+e.shift());return t.join(" ")}function a(e,t){var n=r("ellipse");return n.setAttribute("rx",e/2),n.setAttribute("ry",t/2),n.setAttribute("cx",e/2),n.setAttribute("cy",t/2),n}function s(e,t,n){var o=r("polygon"),a=[];if(3===n)a=[e/2,0,e,t,0,t];else if(n>3)for(var s=e/2,c=t/2,u=0;n>u;u++){var l=s+s*Math.cos(2*Math.PI*u/n),p=c+c*Math.sin(2*Math.PI*u/n);l=Math.round(10*l)/10,p=Math.round(10*p)/10,a.push(l),a.push(p)}return o.setAttribute("points",i(a)),o}o.attr=o.setAttribute},function(e,t,n){"use strict";e.exports={g:function(e){var t=e.color,n=e.id,r=e.path;return'<g fill="'.concat(t,'" id="path_').concat(n,'">').concat(r,"</g>")},svg:function(e){var t=e.id,n=e.viewBox,r=e.content,o=void 0===r?"":r;return'\n<svg id="'.concat(t,'" class="element svg-element" xmlns="').concat("http://www.w3.org/2000/svg",'" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="').concat(n,'">\n    ').concat(o,"\n</svg>")}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(631),h=n(5),m=n(633),v=n(635),g=n(3).parse,y=n(0).mobilecheck,b={POP:0,INLINE:1},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).bgm=n.eqxScene.bgm,n.$close=null,n.$video=null,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1}},anim:!1,trigger:{self:!1},sound:!1,link:!1,flexLine:"r,ne,se,sw,nw"}),n}return t=a,(n=[{key:"innerNotHeight",get:function(){return this._innerNotHeight=this.isBaseLayerElement,this.isBaseLayerElement},set:function(e){if(this._innerNotHeight=e,!this.$li||!this.$li.find(".element-box"))return e;var t=this.$li.find(".element-box");if(e){var n=this.compJson.css,r=n.height,o=n.paddingTop,i=void 0===o?0:o,a=n.paddingBottom,s=void 0===a?0:a;t.css({height:parseFloat(r)-parseFloat(s)-parseFloat(i)})}else t.css({height:"100%"})}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties.cover,o=e.css,i=o.width,a=o.height;if(r){r=this.getImgSrc(r,{width:i,height:a});var s=$(g(m,{id:t,type:n,cover:r}))}else s=$(g(v,{id:t,type:n}));return s}},{key:"addClassToLi",value:function(e){e.addClass("wsite-video")}},{key:"eleHide",value:function(){c(f(a.prototype),"eleHide",this).call(this),this.hide()}},{key:"update",value:function(e){switch(e.type){case"hide":this.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=t.properties.style;return e.click((function(){switch(n._isPlayingVideo=!0,n.eqxScene.soundManager.stopAll(),r){case b.INLINE:n.bgm&&n.bgm.stopPlay&&n.bgm.stopPlay(),n.initInlineVideo();break;case b.POP:default:n.bgm&&n.bgm.hide&&n.bgm.hide(),n.initPopVideo()}})),!0}},{key:"initInlineVideo",value:function(){var e=this.compJson,t=e.properties.src,n=e.css;if(t){t=t.replace(/('|")?allowfullscreen\1(=('|")?\3)?/,"");var r=this.$iframe=$($.parseHTML(t)).css({width:n.width,height:n.height,zIndex:3,top:0});y()||r.css("position","absolute"),this.$context.find("img").css("display","none"),0==this.$li.find("iframe").length&&this.$li.find(".inline-video").append(r)}}},{key:"initPopVideo",value:function(){var e=this,t=this.compJson,n=t.id,r=t.properties.src,o=this.$li;o.hide();var i=o.parent().css("transform").match(/-?[\d.]+/g)||o.parents(".edit_wrapper").css("transform").match(/-?[\d.]+/g),a=0;i&&(a=-parseInt(i[5]));var s=this.$video=$(d.videoDiv(n));y()||s.css("position","absolute");var c=this.$close=$(d.close(n)),u=$(r).css({position:"absolute",top:"20%",width:"100%",minHeight:"45%",maxHeight:"100%"}).removeAttr("height");s.append(u),o.parent().append(s,c),s.css({top:a}),c.css({top:a+15}),c.bind("click",(function(){e.hide()}))}},{key:"hide",value:function(){if(this._isPlayingVideo){this._isPlayingVideo=!1,this.bgm&&this.bgm.show&&this.bgm.show(),this.eqxScene.soundManager.restoreAll();var e=this.compJson.properties.style;switch(void 0===e?0:e){case b.INLINE:this.$iframe&&(this.$iframe.remove(),this.$iframe=null);break;case b.POP:this.$close&&(this.$li.show(),this.$close.unbind("click"),this.$video.remove(),this.$close.remove(),this.$video=null,this.$close=null)}}}},{key:"updateCoverRender",value:function(e){var t=this.compJson,n=JSON.parse(JSON.stringify(i(i({},t),{},{properties:i({},e)}))),r=this.updateJson(n);this.eqxPage.renderEqxComp(r,!0)}}])&&s(t.prototype,n),r&&s(t,r),a}(h);x.STYLE=b,e.exports=x},function(e,t,n){"use strict";n(632),e.exports={compDiv:function(e){var t=e.id,n=e.type;return'<a class="element video_area" id="'.concat(t,'" ctype="').concat(n,'" style="width:100%;height:100%;"></a>')},videoDiv:function(e){return'<div class="video_mask page_effect lock" id="mask_'.concat(e,'"></div>')},close:function(e){return'<a class="close_mask eqf-no" id="close_'.concat(e,'"></a>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var r='<div class="inline-video" id="#{id}" ctype="#{type}">\n    <img class="cover" alt="video-cover" src="#{cover}">\n    <img class="center play" src="'+n(103)(n(634))+'" alt="video-play-button">\n</div>';e.exports=r},function(e,t,n){e.exports=n.p+"images/play-604a76.svg"},function(e,t){e.exports='<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%;"></a>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(9);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t,n,r){return(s="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var o,i=l(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,t,o)}else u(r,t,n);return!0})(e,t,n,r)}function c(e,t,n,r,o){if(!s(e,t,n,r||e)&&o)throw new Error("failed to set property");return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(5),v=n(637),g=n(7).getWxJSSDK,y=n(0).isWeixin,b=n(0).isAndroid,x=n(22).RAW_EVENT,w=n(22).EQX_EVENT,S=(0,n(0).mobilecheck)()?"touchend":"click",k=((0,n(16).getRatio)().toFixed(3),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,s=f(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{commonStyle:{self:!1},advanceStyle:{self:!1}},anim:!1,trigger:{mediaCanplay:!0,mediaEnded:!0,mediaPlaying:!0},sound:!1,link:!1}),n.isArrangEditor=n.eqxScene.config.isArrangEditor,n}return t=l,(n=[{key:"innerNotHeight",get:function(){return this._innerNotHeight=this.isBaseLayerElement,this.isBaseLayerElement},set:function(e){c(h(l.prototype),"innerNotHeight",e,this,!0)}},{key:"getFtEditableProps",value:function(){var e=a(h(l.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.video.video])}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.video.video?this.compJson.src:a(h(l.prototype),"getFtValue",this).call(this,e)}},{key:"updateSize",value:function(e,t){this.$context.css({width:t.width,height:t.height}),a(h(l.prototype),"updateSize",this).call(this,e,t),this.updateVideoSize(t)}},{key:"updateVideoSize",value:function(e){var t=this.compJson.css,n=t.paddingTop,r=t.paddingBottom,o=t.paddingLeft,i=t.paddingRight,a=t.width,s=t.height,c=parseFloat(a)-parseFloat(o)-parseFloat(i),u=parseFloat(s)-parseFloat(n)-parseFloat(r);Object.assign(this.compJson.properties.imgStyle,{width:c,height:u}),this.$context.css({width:c,height:u})}},{key:"create$li",value:function(){var e=a(h(l.prototype),"create$li",this).call(this),t=this.compJson.css;if(this.isArrangEditor){var n=this.compJson.css,r=n.borderRadius,o=n.borderTopWidth,i=void 0===o?0:o,s=n.borderBottomWidth,c=void 0===s?0:s,u=n.borderLeftWidth,p=void 0===u?0:u,f=n.borderRightWidth,d={borderRadius:r,borderTopWidth:i,borderBottomWidth:c,borderLeftWidth:p,borderRightWidth:void 0===f?0:f,borderStyle:n.borderStyle,borderColor:n.borderColor};delete t.borderWidth,this.update$li(d),e.find(".element-box").css({border:"none",borderRadius:"0"})}return e}},{key:"create$context",value:function(){var e=this.compJson,t=e.css,n=(t.width,t.height,e.properties),r=n.loop,i=n.coverImg,a=void 0===i?v:i,s=n.imgStyle;(s=void 0===s?{}:s).width,s.height,this.$source=$('<source type="video/mp4">');var c="";"edit"!=this.eqxScene.config.mode&&(c="controls"),String(a).includes("vframe")&&(a=v);var u=$("<video  ".concat(c,'  x5-video-player-fullscreen="false" style="height:100%;width:100%"  poster="').concat(a===v?v:(0,o.qiniuZoom)(a,640),'""></video>'));return r&&u.attr("loop","loop"),u.append(this.$source),u}},{key:"eleShow",value:function(){a(h(l.prototype),"eleShow",this).call(this),this.compJson.autoplay&&"1"===this.compJson.autoplay.toString()&&(this.$context.attr("autoplay","autoplay"),this.playVideo())}},{key:"eleHide",value:function(){a(h(l.prototype),"eleHide",this).call(this),this.$context[0].pause(),this.interactiveVideoAgent&&this.interactiveVideoAgent.end()}},{key:"addTriggerGroupListeners",value:function(){var e=this;this.$context.on("play",(function(){$(document.body).unbind(S,o)}));var t=[5,6,7,8,9,10],n=this.eqxPage.pageJson.properties.triggerGroup,r=n.some((function(e){return t.indexOf(e.eventType)>-1}));function o(){e.playVideo()}n.length&&!r||$(document.body).bind(S,o)}},{key:"playVideo",value:function(){var e=this.interactiveVideoAgent;if(this.compJson.src&&this.$source.attr("src"))try{this.$li.show();var t=this.$context[0];t.currentTime=0,y()?this.wxJssdk.then((function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){t.paused?e.play():e.end()}})})):t.paused?e.play():e.end()}catch(e){this.$li.hide()}}},{key:"pauseVideo",value:function(){this.$context[0].pause()}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;t.src&&this.$source.attr("src",(0,o.reSetVideoSrc)(t.src));var r=this.eqxPage.pageJson.properties.triggerGroup.some((function(e){return e.sourceId===t.id&&e.targetId===t.id&&e.eventType===x.click&&e.targetState==w.play}));return this.compJson.autoplay&&"1"===this.compJson.autoplay.toString()&&!r&&b()&&this.$li.on("click",(function(){n.playVideo()})),y()&&(this.wxJssdk=g()),this.$boxDiv.css({borderWidth:0}),!0}},{key:"updatePadding",value:function(e){var t=this.compJson.properties,n=parseInt(this.compJson.css.paddingLeft),r=parseInt(this.compJson.css.paddingRight),o=parseInt(this.compJson.css.paddingTop),i=parseInt(this.compJson.css.paddingBottom),a=parseInt(this.compJson.css.width),s=parseInt(this.compJson.css.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey){var c=parseInt(t.imgStyle.width)/parseInt(t.imgStyle.height),l=parseInt(e.padValue);"paddingLeft"==e.padKey?r&&(l=parseInt(e.padValue)+r):n&&(l=parseInt(e.padValue)+n);var p=a-l,f=p/c;t.imgStyle.width=p,t.imgStyle.height=f,this.$context.css({width:p,height:f}),s=f+o+i}else{var d=this.compJson.css[e.padKey];s+=parseInt(e.padValue)-parseInt(d)}this.update$li(u({height:s},e.padKey,parseInt(e.padValue))),this.autoSizeTopDown()}},{key:"updatePosterImg",value:function(e){var t=this.compJson,n=JSON.parse(JSON.stringify(t));n.properties.coverImg=e.coverImg;var r=this.updateJson(n);this.eqxPage.renderEqxComp(r,!0)}},{key:"updateItemSizeByPage",value:function(e,t){a(h(l.prototype),"updateItemSizeByPage",this).call(this,e,t);var n,r,o=this.compJson,i=o.css,s=o.properties.imgStyle,c=(i.paddingLeft,i.paddingRight,i.paddingTop,i.paddingBottom,i.left,i.top,i.width),u=i.height,p=s=s||{},f=(p.width,p.height,p.marginLeft),d=void 0===f?0:f,m=p.marginTop,v=void 0===m?0:m,g=t/e;d*=g,v*=g,n=parseFloat(c)-2*parseFloat(d),r=parseFloat(u)-2*parseFloat(v),Object.assign(s,{width:n,height:r,marginTop:d,marginLeft:v}),this.$li.find("video").attr({width:n,height:r})}}])&&i(t.prototype,n),r&&i(t,r),l}(m));e.exports=k},function(e,t,n){e.exports=n.p+"images/default-b6991a.svg"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(639),p=n(5),f=n(641),d=n(643),h=n(3).parse,m=n(0).mobilecheck,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=c.call(this,e,t)).bgm=n.eqxScene.bgm,n.$close=null,n.$video=null,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1}},anim:!1,trigger:{self:!1},sound:!1,link:!1,flexLine:"r,ne,se,sw,nw"}),n}return t=p,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties.mixVideoData.cover,o=e.css,i=o.width,a=o.height;if(r){r=this.getImgSrc(r,{width:i,height:a});var s=$(h(f,{id:t,type:n,cover:r}))}else s=$(h(d,{id:t,type:n}));return s.css({height:a,width:i}),s}},{key:"addClassToLi",value:function(e){e.addClass("wsite-video")}},{key:"eleHide",value:function(){i(u(p.prototype),"eleHide",this).call(this),this.hide()}},{key:"update",value:function(e){switch(e.type){case"hide":this.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){return this.bgm&&this.bgm.stopPlay&&this.bgm.stopPlay(),this.initInlineVideo(),!0}},{key:"initInlineVideo",value:function(){var e=this.compJson,t=e.properties.mixVideoData,n=e.css;if(t&&t.iframeSrc){var r=t.iframeSrc.replace(/http(s)?:/g,""),o=this.$iframe=$('<iframe frameborder="0" src="'.concat(r,'" allowFullScreen="true"></iframe>')).css({width:n.width,height:n.height,zIndex:3,top:0});m()||o.css("position","absolute"),this.$context.find("img").css("display","none"),0==this.$li.find("iframe").length&&this.$li.find(".inline-video").append(o)}}},{key:"initPopVideo",value:function(){var e=this,t=this.compJson,n=t.id,r=t.properties.src,o=this.$li;o.hide();var i=o.parent().css("transform").match(/-?[\d.]+/g)||o.parents(".edit_wrapper").css("transform").match(/-?[\d.]+/g),a=0;i&&(a=-parseInt(i[5]));var s=this.$video=$(l.videoDiv(n));m()||s.css("position","absolute");var c=this.$close=$(l.close(n)),u=$(r).css({position:"absolute",top:"20%",width:"100%",minHeight:"45%",maxHeight:"100%"}).removeAttr("height");s.append(u),o.parent().append(s,c),s.css({top:a}),c.css({top:a+15}),c.bind("click",(function(){e.hide()}))}},{key:"hide",value:function(){this._isPlayingVideo&&(this._isPlayingVideo=!1,this.bgm&&this.bgm.show&&this.bgm.show(),this.eqxScene.soundManager.restoreAll(),this.$iframe&&(this.$iframe.remove(),this.$iframe=null))}},{key:"updateCoverRender",value:function(){var e=this.compJson,t=JSON.parse(JSON.stringify(e)),n=this.updateJson(t);this.eqxPage.renderEqxComp(n,!0)}},{key:"updateItemSizeByPage",value:function(e,t){i(u(p.prototype),"updateItemSizeByPage",this).call(this,e,t);var n,r,o=this.compJson,a=o.css,s=o.properties.imgStyle,c=(a.paddingLeft,a.paddingRight,a.paddingTop,a.paddingBottom,a.left,a.top,a.width),l=a.height,f=s=s||{},d=(f.width,f.height,f.marginLeft),h=void 0===d?0:d,m=f.marginTop,v=void 0===m?0:m,g=t/e;h*=g,v*=g,n=parseFloat(c)-2*parseFloat(h),r=parseFloat(l)-2*parseFloat(v),Object.assign(s,{width:n,height:r,marginTop:h,marginLeft:v}),this.$li.find(".cover").css({width:n,height:r})}},{key:"updateSize",value:function(e,t){this.$context.css({width:t.width,height:t.height}),i(u(p.prototype),"updateSize",this).call(this,e,t),this.updateVideoSize(t)}},{key:"updateVideoSize",value:function(e){var t=this.compJson.css,n=t.paddingTop,r=t.paddingBottom,o=t.paddingLeft,i=t.paddingRight,a=t.width,s=t.height,c=parseFloat(a)-parseFloat(o)-parseFloat(i),u=parseFloat(s)-parseFloat(n)-parseFloat(r);Object.assign(this.compJson.properties.imgStyle,{width:c,height:u}),this.$context.css({width:c,height:u}),this.$li.find(".cover").css({width:c,height:u})}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=v},function(e,t,n){"use strict";n(640),e.exports={compDiv:function(e){var t=e.id,n=e.type;return'<a class="element video_area" id="'.concat(t,'" ctype="').concat(n,'" style="width:100%;height:100%;"></a>')},videoDiv:function(e){return'<div class="video_mask page_effect lock" id="mask_'.concat(e,'"></div>')},close:function(e){return'<a class="close_mask eqf-no" id="close_'.concat(e,'"></a>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var r='<div class="inline-video" id="#{id}" ctype="#{type}">\n    <img class="cover" alt="video-cover" src="#{cover}">\n    <img class="center play" src="'+n(103)(n(642))+'" alt="video-play-button">\n</div>';e.exports=r},function(e,t,n){e.exports=n.p+"images/play-604a76.svg"},function(e,t){e.exports='<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%;"></a>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(645);n(646).$postDialRecord;var l=n(647),p=(n(51).isPhoneNumber,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=p,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(p.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.link.url,t.internalLink.internalLink,t.telephone.number])}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.css,o=r.width,i=r.height,a=e.properties,s=a.title,c=a.imgSrc;if(c){c=this.getImgSrc(c,{width:o,height:i});var u="0"}return this.$context=$(l.compDiv({id:t,title:s,type:n,imgSrc:c,padding:u})),this.$context}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}},{key:"bindAfterRenderEvent",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),p}(n(5)));e.exports=p},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$postDialRecord:function(e){return r({type:"POST",url:o.SERVER_1+"eqs/s/dial",data:e})}}},function(e,t,n){"use strict";n(648);var r=n(649),o=n(650),i=n(3).parse;e.exports={compDiv:function(e){return e.imgSrc?(t=e,n=t.id,a=t.imgSrc,s=t.type,c=t.padding,i(o,{id:n,src:a,type:s,padding:c})):function(e){var t=e.id,n=e.title,o=e.type;return n=n?n.replace(/ /g,"&nbsp;"):"",i(r,{id:t,title:n,type:o})}(e);var t,n,a,s,c}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="display: flex; justify-content: center; align-items: center;" data-event="1120602" style="cursor: default; width: 100%;">#{title}</a>'},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="cursor: default; width: 100%;height: 100%;padding: #{padding}">\n    <img style="width: 100%; height: 100%;" src="#{src}">\n</a>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(652);var l=n(653),p=n(5),f=n(3).parse,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=p,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(p.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.sound.soundSrc])}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.imgSrc,i=r.title,a=e.css,s=a.height,c=a.width;if(o){o=this.getImgSrc(o,{width:c,height:s});var u="0",p='<img style="width: 100%; height: 100%;" src="'.concat(o,'">')}return i&&(p=i.replace(/ /g,"&nbsp;"),u="0 8px",o=""),o||i||(p=""),$(f(l,{id:t,type:n,content:p,padding:u}))}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=d},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-sound editable-text" data-event="1120604" style="cursor: default; width: 100%;height: 100%; padding: #{padding};\ndisplay: flex; justify-content: center; align-items: center;">\n    #{content}\n</a>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(261),n(655);var l=n(249),p=l.$getPvCount,f=l.$getSharePvCount,d=n(50).fixedNum,h=n(5),m=n(656),v=n(3).parse,g=n(1),y=n(9).qiniuZoom,b={0:"eqf-eye-f",1:"eqf-rework"},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"eleShow",value:function(){i(u(l.prototype),"eleShow",this).call(this),this.getPvCount()}},{key:"create$context",value:function(){var e=this.compJson;e.properties.color&&(e.css.color=e.properties.color,delete e.properties.color);var t=e.id,n=e.type,r=e.properties,o=r.layout,i=r.size,a=r.icon,s=r.src,c=r.style,u=e.css,l=u.lineHeight,p=u.width,f=u.height,d=u.color,h=u.fontSize,b=void 0===h?"26px":h,x=function(e){var t=e.id,n=e.type,r=e.layout,o=e.size,i=e.icon,a=e.src,s=e.css.fontSize;return s=Number.parseFloat(s),$(v(m,{layout:r,size:o,id:t,type:n,icon:i,src:y(a,s,s),fontSize:s}))}({id:t,type:n,layout:o,size:i,icon:a,src:s=s?g.FILE+s:"",css:{width:p,height:f,lineHeight:l,color:d,fontSize:b}});return"self-define"===c&&s?x.find(".counter-container").addClass("haveImg").removeClass("noImg"):x.find(".counter-container").addClass("noImg").removeClass("haveImg"),this.$boxDiv.css("font-size",b),x}},{key:"getPvCount",value:function(){var e=this;if("view"==this.eqxScene.config.mode)return this.compJson.properties.type?f(this.compJson.sceneId).then((function(t){e._setNumber(t)})):p(this.compJson.sceneId).then((function(t){e._setNumber(t)}))}},{key:"_setNumber",value:function(e){var t=(e&&e.obj||0)+(Number.parseInt(this.compJson.properties.countBase)||0);this.$li.find(".counter-number").text(d(t))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"updateCssOpacity",value:function(){var e=this.compJson.css.opacity||0;this.$li.css("opacity",e)}},{key:"updateIconSrc",value:function(e){this.compJson.properties.src=e,this.updateCompForRender()}},{key:"updateStyle",value:function(e){var t=this.compJson.properties.src;"default"===e?this.$context.find(".counter-container").removeClass("haveImg").addClass("noImg"):t&&this.$context.find(".counter-container").addClass("haveImg").removeClass("noImg")}},{key:"updateType",value:function(e){this.$context.find(".counter-icon").addClass(b[e]).removeClass(b[2+~e]),this.compJson.properties.icon=b[e]}},{key:"updateItemSizeByPage",value:function(e,t){i(u(l.prototype),"updateItemSizeByPage",this).call(this,e,t);var n=this.compJson.css,r=n.fontSize,o=t/e*parseFloat(void 0===r?"26px":r);n.fontSize=o+"px",this.$boxDiv.css({fontSize:o}),this.$boxDiv.find(".counter-container").find("img").attr("height",o)}}])&&o(t.prototype,n),r&&o(t,r),l}(h);e.exports=x},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="element comp_counter editable-text #{layout} #{size} comp_pv" id="#{id}" ctype="#{type}">\n    <div class="counter-container">\n        <i class="counter-elem counter-icon #{icon}"></i>\n        <img src="#{src}" alt="" height="#{fontSize}">\n       <span class="counter-elem counter-number">0</span>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(659),p=n(22).RAW_EVENT,f=n(22).INIT_EVENT,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t,n)}return t=l,(n=[{key:"addEventListener",value:function(){var e=this,t=this.triggerJson.sends,n=this.master.compJson.id;this.master.$li.attr("data-event","1120603"),t&&"[object Array]"===toString.apply(t)&&t.forEach((function(t){t.type===p.click?e.master.$li.on("click",(function(){e.publish(n,t)})):i(u(l.prototype),"addEventListener",e).call(e)}))}},{key:"preHandle",value:function(){var e=this.master.compJson.properties.initType;e==f.show?this.master.$li.show():e==f.hide&&this.master.$li.hide()}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=d},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(263).getHash,i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.triggerJson=n,this.master=t,this.manager=r,this.addEventListener()}var t,n,i;return t=e,(n=[{key:"addEventListener",value:function(){}},{key:"preHandle",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"publish",value:function(e,t){var n=this;t.handles.forEach((function(r){var i=o(e,r.type);n.manager.publish(i,{sender:n.master,delay:1e3*t.delay})}))}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(661),p=n(22).EQX_EVENT,f=n(45).noop,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,r,c,l=s(d);function d(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),l.call(this,e,t,n)}return t=d,(r=[{key:"getHandler",value:function(e){return e===p.random?function(e,t){var r=n(262);if(!(e instanceof r)){if(_DEBUG_)throw new Error("Expect EqxRandom, Invalid element type: ".concat(e));return f}e.busy||(e.busy=!0,setTimeout((function(){e.showRandomImg(),e.busy=!1}),t.delay))}:i(u(d.prototype),"getHandler",this).call(this,e)}}])&&o(t.prototype,r),c&&o(t,c),d}(l);e.exports=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(662),p=n(22).EQX_EVENT,f=n(22).INIT_EVENT,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t,n)}return t=l,(n=[{key:"getPreHandler",value:function(e,t){if(t!=f.default)return i(u(l.prototype),"getPreHandler",this).call(this,e,t);switch(e){case p.show:return function(e){e.$li.hide()};case p.hide:return function(e){e.$li.show()};default:return i(u(l.prototype),"getPreHandler",this).call(this,e,t)}}},{key:"getHandler",value:function(e){switch(e){case p.show:return function(e,t){setTimeout((function(){return e.$li.show()}),t.delay)};case p.hide:return function(e,t){setTimeout((function(){return e.$li.hide()}),t.delay)};case p.play:return function(e,t){setTimeout((function(){return e.playVideo()}),t.delay)};default:return i(u(l.prototype),"getHandler",this).call(this,e)}}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=d},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(45).noop,i=n(263).getHash,a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.master=t,this.triggerJson=n,this.manager=r,this.events=[],this.subscribe(),this.preHandle()}var t,n,a;return t=e,(n=[{key:"subscribe",value:function(){var e=this;this.triggerJson.receives.forEach((function(t){(t.ids||[]).forEach((function(n){var r=i(n,t.type);e.manager.subscribe(r,e);var o=e.events.findIndex((function(e){return e.hash===r}));o>-1&&e.events.splice(o,1);var a={hash:r,preHandler:e.getPreHandler(t.type,e.master.compJson.properties.initType),handler:e.getHandler(t.type)};e.events.push(a)}))}))}},{key:"update",value:function(e){var t=e.type,n=e.data,r=this.events.find((function(e){return e.hash===t}));r&&r.handler.call(this,this.master,n)}},{key:"preHandle",value:function(){var e=this;this.events.forEach((function(t){return t.preHandler.call(e,e.master)}))}},{key:"getHandler",value:function(e){return o}},{key:"getPreHandler",value:function(e){return o}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(664),v=n(5),g=n(7).getWeChatUser,y=n(0).isWeixin,b=n(28).$getUserWxInfo,x=n(7).setWeChatUser,w=n(7).hrefToWxAuth,S=n(6).popUpModal,k=n(4).setUrlHistory,O=n(674),E=n(0).mobilecheck,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,r,o,s=p(f);function f(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=(n=s.call(this,e,t)).compJson.properties.style;"barrage"===r&&(n.Barrage=new O,n.isBarragePlaying=!1,n.barrageComments=[]);new Promise((function(){}));if(n.commentManager=n.eqxScene.commentManager,n.commentManager){n.commentManager.register(d(n));var o=n.commentManager.getComments();(o.length?Promise.resolve():n.commentManager.loadInitComments(50)).then((function(){var e;"barrage"===r&&((e=n.barrageComments).push.apply(e,a(o)),n.eleShow())}))}return $.extend(!0,n.$ability,{style:{advanceStyle:{border:!1,shadow:!1,paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=f,(r=[{key:"setProps",value:function(e){e.style&&this.getProp("style")!=e.style&&this.updateStyle(e.style),"meslabel"in e&&this.getProp("mesLabel")!=e.meslabel&&this.updateMesLabel(e.meslabel),"morelabel"in e&&this.getProp("morelabel")!=e.morelabel&&this.updateMoreLabel(e.morelabel),u(h(f.prototype),"setProps",this).call(this,e)}},{key:"getStyles",value:function(){return n(676)}},{key:"updateStyle",value:function(e){this.$boards&&"barrage"===e?this.compJson.css.backgroundColor="transparent":this.$boards&&this.$boards.removeClass().addClass("boards-".concat(e))}},{key:"updateMesLabel",value:function(e){this.$context.find("a.replay").html(e||"")}},{key:"updateMoreLabel",value:function(e){this.$context.find("a.more").html(e||"")}},{key:"eleShow",value:function(){u(h(f.prototype),"eleShow",this).call(this);var e=this.compJson.properties,t=e.style,n=e.auto;if(this.$panel.parent().length||(this.$panel.hide(),this.$panel.insertBefore(this.$li.parent().parent())),"barrage"!==t){var r=this.commentManager?this.commentManager.getComments().slice(0,5).map((function(e){return m.record(e)})):[];r.length?(this.$boards.find(".empty-boards").length&&this.$boards.find(".empty-boards").remove(),this.$boards.find(".record").remove(),this.$boards.prepend(r)):this.$boards.append(m.emptyBoards(t))}else n&&this.playBarrageScroll()}},{key:"eleHide",value:function(){u(h(f.prototype),"eleHide",this).call(this),"barrage"!==this.compJson.properties.style?(this.$boards.find(".record").remove(),this.$boards.find(".empty-boards").remove(),this.$panel.hide()):this.stopBarrageScroll()}},{key:"addClassToLi",value:function(e){e.addClass("wsite-boards"),e.attr("min-h",60).attr("min-w",230)}},{key:"updateComments",value:function(){"barrage"!==this.compJson.properties.style&&this.$boards&&this.$panel&&this.eleShow()}},{key:"create$context",value:function(){var e=this.compJson.properties.style;return this.$ele="barrage"===e?this.initBarrageDiv():this.initCommentStyleDiv(),this.$ele}},{key:"playBarrageScroll",value:function(){var e=this;if(!this.isBarragePlaying&&this.barrageComments.length){this.isBarragePlaying=!0,this.$boards.find("a.barrage-play").removeClass("off").addClass("on");var t=this.compJson,n=t.css,r=n.width,o=n.height,i=t.properties.mode,a=this.$boards.find(".barrage-comments").get(0),s=devicePixelRatio||1;a.width=r*s,a.height=o*s,setTimeout((function(){e.Barrage.render(a,e.barrageComments,"0"===i.toString())}))}}},{key:"stopBarrageScroll",value:function(){this.isBarragePlaying&&(this.isBarragePlaying=!1,this.$boards.find("a.barrage-play").removeClass("on").addClass("off"),this.Barrage&&this.Barrage.stop())}},{key:"initBarrageDiv",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.style,i=r.auto,a=r.editable,s=$(m.compDiv({id:t,type:n,style:o})),c=this.$boards=s.find(".boards-".concat(o));return c.append(m.barrageComments()),c.append(m.barrageTools(i,a)),this.$panel=$(m.panel({style:"default"})),this.$panelList=this.$panel.find(".list"),this.$contentText=this.$panel.find(".content-text"),this.$contentTip=this.$panel.find(".content-tip"),this.$submit=this.$panel.find(".record-btn"),this.$more=this.$panel.find(".more-mes"),this.$close=this.$panel.find(".eqf-no"),this.maxLength=this.$contentText.attr("maxLength"),s}},{key:"initCommentStyleDiv",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.meslabel,i=r.morelabel,a=r.style,s=$(m.compDiv({id:t,type:n,style:a})),c=this.$boards=s.find(".boards-".concat(a));c.append(m.tool({meslabel:o||"",morelabel:i||""})),this.$trigger=c.find(".tool a");var u=this.$panel=$(m.panel({style:a}));if(this.$close=u.find(".eqf-no"),this.$contentText=u.find(".content-text"),this.$contentTip=u.find(".content-tip"),this.$submit=u.find(".record-btn"),this.$more=u.find(".more-mes"),this.$panelList=u.find(".list"),this.maxLength=this.$contentText.attr("maxLength"),this.eqxScene.config.disableCommentManager){var l=(new Date).getTime(),p=[1,2,3].map((function(e){return m.record({content:"赞一个！好多新功能哦~",name:"匿名用户",createTime:l+1e4*e,isEditor:!0})}));c.append(p)}return s}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=t.sceneId,o=t.pageId,a=t.properties,s=a.style,c=void 0===s?"default":s,u=a.editable,l=g(),p=b,f=this;this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove",(function(e){e.stopPropagation()})),this.$contentText.on("input",(function(e){var t=e.target.value,r=t.length+t.split("\n").length-1;n.$contentTip.html("".concat(r,"/").concat(n.maxLength))}));var d=!1;if(this.$submit.on("click",(function(){if(!d){d=!0,n.$submit.addClass("submit-disabled");var e=$.trim(n.$contentText.val())||n.$contentText.attr("placeholder");e.length+e.split("\n").length-1>n.maxLength&&(e=e.slice(0,n.maxLength));var t={sceneId:r,content:e,url:l.headimgurl||"",name:l.nickname||"匿名用户"};n.commentManager.postComment(t).then((function(e){var t=m.record(e);S("".concat("barrage"===c?"发送弹幕成功，谢谢参与！":"留言成功，谢谢参与！")),n.$contentText.val(""),n.$panelList.parent().scrollTop(0),n.$panelList.prepend(t),n.$contentTip.html("0/".concat(n.maxLength)),"barrage"===c&&n.barrageComments.unshift(e)})).catch((function(){"file:"===window.location.protocol?S("请发布后再提交！"):S("提交失败，请重新提交")})).finally((function(){var e=10;!function t(){e?(n.$submit.text("提交留言(".concat(e--,"秒)")),setTimeout((function(){t()}),1e3)):(n.$submit.text("提交留言"),n.$submit.removeClass("submit-disabled"),d=!1)}()}))}})),this.$close.on("click",(function(){n.$panel.hide(),n.eleShow()})),this.$more.on("click",(function(){O()})),"barrage"===c){var h=this.$boards.find("a.barrage-submit"),v=this.$boards.find("a.barrage-play");h.click((function(){u&&(y()&&!l.nickname?p().then(function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.obj){e.next=5;break}return k(o),e.next=4,w();case 4:t=e.sent;case 5:x(t.obj),C();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){C()})):C())})),v.click((function(){n.isBarragePlaying?n.stopBarrageScroll():n.playBarrageScroll()}))}else this.$trigger.on("click",(function(){y()&&!l.nickname?p().then(function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.obj){e.next=5;break}return k(o),e.next=4,w();case 4:e.sent;case 5:x(t.obj),C();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){C()})):C()}));function O(){f.commentManager&&f.commentManager.loadMoreComments().then((function(e){f.$more.before(e.map((function(e){return m.record(e)})))})).catch((function(){f.$more.html("没有更多"),f.$more.unbind("click")}))}function C(){var e=f.compJson.properties.style,t=f.commentManager.getComments().map((function(e){return m.record(e)}));f.$panelList.find(".record").remove(),f.$panelList.prepend(t),f.$panel.show();var n=(f.eqxPage.$editDiv.css("transform")||"").match(/matrix.*, (.*)\)/),r=n?n[1]:0,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;f.$panel.css({top:"".concat(Math.abs(r),"px"),height:"".concat(E()?o:486,"px")}),"barrage"===e&&f.stopBarrageScroll(),O()}return!0}}])&&c(t.prototype,r),o&&c(t,o),f}(v);e.exports=C},function(e,t,n){"use strict";n(665);var r=n(126).dateFormat,o=n(666),i=n(667),a=n(3).parse;function s(e){return'<div class="headimg" style="background-image:url('.concat(e,')"></div>')}function c(){return'<div class="headimg headimg-bg"><em class="eqf-eqxiulogo"></em></div>'}e.exports={compDiv:function(e){var t=e.id,n=e.type,r=e.style;return a(i,{id:t,type:n,style:void 0===r?"default":r})},emptyBoards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=n(668)("./"+e+"_boards.png");return'<div class="empty-boards"><img style="margin-top:-20px;" src="'.concat(t,'" /></div>')},tool:function(e){var t=e.meslabel,n=e.morelabel;return'<div class="tool"><a class="replay">'.concat(t,'</a><a class="more">').concat(n,"</a></div>")},headImgUser:s,headImgEqxView:c,record:function(e){var t=e.url,n=e.name,o=e.content,i=e.createTime,a=t?s(t):'<div class="headimg headimg-bg"><em class="eqf-eqxiulogo"></em></div>';if((new Date).getTime()-i<6e4)var c="刚刚";else c=r(new Date(i),"MM月dd日 hh:mm");return'<div class="record">\n                '.concat(a,'\n                <div class="name ellipsis">').concat(n,'</div>\n                <div class="mes">').concat(o,'</div>\n                <div class="time">').concat(c,"</div>\n            </div>")},panel:function(e){var t=e.style;return a(o,{style:void 0===t?"default":t})},barrageTools:function(e,t){return'<div class="barrage-tools">\n                '.concat(t?'<a class="barrage-submit eqf-pen-f"></a>':"",'\n                <a class="barrage-play ').concat(e?"on":"off",'">弹<i class="eqf-slash-l"></i></a>\n            </div>')},barrageComments:function(){return'<canvas class="barrage-comments"></canvas>'}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="boards-panel boards-#{style}">\n    <div class="boards-top">\n        <div class="head">留言板<em class="eqf-no"></em></div>\n        <div class="boards-form">\n            <textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea>\n            <span class="content-tip">0/140</span>\n            <a class="record-btn" data-event="11207">提交留言</a>\n        </div>\n        <div class="spline-con">\n            <span>更多留言</span>\n            <span class="spline"></span>\n        </div>\n    </div>\n    <div class="boards-con ios-boards-con">\n        <div class="list">\n            <div class="more-mes">查看更多</div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="element-box-contents eqx-comp-comment" style="width: 100%; height: 100%;">\n    <div id="#{id}" class="element boards-#{style}" ctype="#{type}"></div>\n</div>'},function(e,t,n){var r={"./black_boards.png":669,"./blue_boards.png":670,"./default_boards.png":671,"./pink_boards.png":672,"./yellow_boards.png":673};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=668},function(e,t,n){e.exports=n.p+"images/black_boards-f02314.png"},function(e,t,n){e.exports=n.p+"images/blue_boards-30e5a4.png"},function(e,t,n){e.exports=n.p+"images/default_boards-30e5a4.png"},function(e,t,n){e.exports=n.p+"images/pink_boards-212a5e.png"},function(e,t,n){e.exports=n.p+"images/yellow_boards-30e5a4.png"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=devicePixelRatio||1,i=20*o,a=12*o,s=5*o,c=5*o,u=5*o,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cav=document.createElement("canvas"),this.ctx=this.cav.getContext("2d"),this.realCav=null,this.realCtx=null,this.cavWidth=0,this.cavHeight=0,this.barrageArr=[],this.isH=!0,this.animationId=null,this.limitTextWidth=0}var t,n,o;return t=e,(n=[{key:"render",value:function(e,t,n){cancelAnimationFrame(this.animationId),this.stop(),this.isH=n,p.call(this,e),f.call(this,t),this.isH?d.call(this):m.call(this,!1),this.animationId=requestAnimationFrame(v.bind(this))}},{key:"stop",value:function(){cancelAnimationFrame(this.animationId),b.call(this)}}])&&r(t.prototype,n),o&&r(t,o),e}();function p(e){this.realCav=e,this.realCtx=this.realCav.getContext("2d"),this.cavWidth=this.cav.width=this.realCav.width,this.cavHeight=this.cav.height=this.realCav.height,this.limitTextWidth=this.cavWidth-i-2*c-u-a,this.ctx.font=a+"px Arial"}function f(e){var t=this;this.barrageArr=[],e.forEach((function(e){t.barrageArr.push({logo:e.url||n(675),text:e.content})}))}function d(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e],n=this.ctx.measureText(t.text).width,r=new Image;r.src=t.logo,t.image=r,t.rectWidth=i+u+n+2*c,t.rectHeight=i+2*c,h.call(this,t)}}function h(e){var t=i+2*c+s,n=Math.floor(this.cav.height/t);e.left=this.cavWidth,e.top=x(0,n<=0?0:n-1)*(e.rectHeight+s),e.speed=x(50,100)/100*o}function m(e){for(var t=0;t<this.barrageArr.length;t++){var n=this.barrageArr[t-1],r=this.barrageArr[t],l=new Image;l.src=r.logo,e||(r.left=0,r.speed=o,r.image=l,r.textRows=w(this.barrageArr[t].text,this.limitTextWidth,this.ctx),r.oneLineTextHeight=1.2*a,r.oneLineTextWidth=this.ctx.measureText(r.textRows[0]).width,r.mutilLineTextHeight=r.oneLineTextHeight*r.textRows.length,r.rectWidth=i+u+r.oneLineTextWidth+2*c,r.mutilLineTextHeight>i?r.rectHeight=r.mutilLineTextHeight+2*c-.2*a:r.rectHeight=i+2*c),r.top=n?n.top+n.rectHeight+s:this.cavHeight}}function v(){b.call(this),this.isH?g.call(this):y.call(this),this.realCtx.drawImage(this.cav,0,0,this.cavWidth,this.cavHeight),this.animationId=requestAnimationFrame(v.bind(this))}function g(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e];this.barrageArr[e].left+t.rectWidth<=0&&h.call(this,t);var n=this.barrageArr[e].left-=this.barrageArr[e].speed,r=n,a=n+c,s=a+i+u,l=this.barrageArr[e].top,p=l+c,f=p+3*o;k(r,l,t.rectWidth,t.rectHeight,this.ctx),O(t.image,a,p,i,this.ctx),S(this.barrageArr[e].text,s,f,this.ctx)}}function y(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e],n=this.barrageArr[this.barrageArr.length-1];n.top+n.rectHeight<=0&&m.call(this,!0);var r=t.left,a=r+c,s=a+i+u,l=t.top-=t.speed,p=l,f=l+c,d=t.textRows.length>1?f:f+3*o;k(r,p,t.rectWidth,t.rectHeight,this.ctx),O(t.image,a,f,i,this.ctx);for(var h=0;h<t.textRows.length;h++)S(t.textRows[h],s,d+t.oneLineTextHeight*h,this.ctx)}}function b(){this.realCtx&&(this.ctx.clearRect(0,0,this.cavWidth,this.cavHeight),this.realCtx.clearRect(0,0,this.cavWidth,this.cavHeight))}function x(e,t){var n=t-e+1;return Math.floor(Math.random()*n+e)}function w(e,t,n){for(var r=e.split(""),o="",i=[],a=0;a<r.length;a++)n.measureText(o).width>=t&&(i.push(o),o=""),o+=r[a];return i.push(o),i}function S(e,t,n,r){r.fillStyle="#fff",r.textBaseline="top",r.fillText(e,t,n)}function k(e,t,n,r,i){var a=3*o;n<2*a&&(a=n/2),r<2*a&&(a=r/2),i.fillStyle="rgba(0,0,0,.3)",i.beginPath(),i.moveTo(e+a,t),i.arcTo(e+n,t,e+n,t+r,a),i.arcTo(e+n,t+r,e,t+r,a),i.arcTo(e,t+r,e,t,a),i.arcTo(e,t,e+n,t,a),i.fill()}function O(e,t,n,r,o){o.beginPath(),o.arc(t+r/2,n+r/2,r/2,0,2*Math.PI,!0),o.closePath(),o.save(),o.clip(),o.drawImage(e,t,n,r,r),o.restore()}e.exports=l},function(e,t,n){e.exports=n.p+"images/head-0c20a0.png"},function(e,t,n){"use strict";e.exports=[{name:"默认",value:"default"},{name:"简约黑",value:"black"},{name:"少女粉",value:"pink"},{name:"邮票风",value:"blue"},{name:"便签风",value:"yellow"},{name:"弹幕风",value:"barrage"}]},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(261);var l=n(264).$postCount,p=n(50).fixedNum,f=n(678),d=n(5),h=n(0).isWeixin,m=n(265),v=n(6).popUpModal,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,c=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=d,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(d.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.color.counterColor])}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.color.counterColor?this.getProp("color"):i(u(d.prototype),"getFtValue",this).call(this,e)}},{key:"updateSize",value:function(e,t){t.height&&(t.lineHeight=t.height+"px",this.$context.css({lineHeight:t.lineHeight})),i(u(d.prototype),"updateSize",this).call(this,e,t)}},{key:"bindAfterRenderEvent",value:function(e){var t=this,n=this.compJson,r=n.id,o=n.pageId,i=this.eqxScene.sceneJson.meta.code,a=this.$context;this.eqxScene.statManager.getCounterValues().then((function(e){var n=+(e[r]||0)+Number.parseInt(t.compJson.properties.countBase||0);a.find(".counter-number").attr("data-counter-number",n).text(p(n))}));var s=this.$li.find(".comp_counter"),c=s.find(".counter-number");return s.click((function(){t.compJson.properties&&t.compJson.properties.clickFarmer?h()?l({elementId:r,pageId:o,code:i}).then((function(){s.unbind("click").removeClass("not-voted");var e=(Number.parseInt(c.attr("data-counter-number"))||0)+1;c.attr("data-counter-number",e).text(p(e))})).catch((function(t){120504===t.code?m.modal(e,"rating-l",!1,null,"请到微信中打开使用"):120505===t.code||120603===t.code?m.modal(e,"rating-l",!1,null,"请不要重复提交"):v("服务器异常!")})):m.modal(e,"rating-l",!1,null,"请到微信中打开使用"):l({elementId:r,pageId:o,code:i}).then((function(){s.unbind("click").removeClass("not-voted");var e=(Number.parseInt(c.attr("data-counter-number"))||0)+1;c.attr("data-counter-number",e).text(p(e))})).catch((function(t){120603===t.code?m.modal(e,"rating-l",!1,null,"请不要重复提交"):v("服务器异常!")}))})),!0}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.layout,i=r.imgSrc,a=r.icon,s=r.size,c=r.style,u=void 0===c?"default":c,l=(r.countBase,e.css),p=l.textAlign,d=l.fontSize,h=void 0===d?"26px":d,m=f.$compDiv({id:t,layout:o,size:s,type:n,icon:a,style:u,imgSrc:i,fontSize:h});return"center"===p&&m.find("img").css("margin","0 auto"),this.$boxDiv.css("font-size",h),m}},{key:"update$img",value:function(e){this.$context.find("img").attr("src",e)}},{key:"iconToImg",value:function(e){this.$context.find("i").remove().prepend(f.img(e))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"updateCssOpacity",value:function(){var e=this.compJson.css.opacity||0;this.$li.css("opacity",e)}},{key:"updateStyle",value:function(e){this.compJson.properties.style=e,this.updateCompForRender()}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||this.$context.find("img").remove()}},{key:"updateItemSizeByPage",value:function(e,t){i(u(d.prototype),"updateItemSizeByPage",this).call(this,e,t);var n=this.compJson.css,r=n.fontSize,o=t/e*parseFloat(void 0===r?"26px":r);n.fontSize=o+"px",this.$boxDiv.css({fontSize:o}),this.$boxDiv.find(".counter-container").find("img").attr("height",o)}}])&&o(t.prototype,n),r&&o(t,r),d}(d);e.exports=g},function(e,t,n){"use strict";var r=n(1),o=n(679),i=n(3).parse,a=n(9).qiniuZoom;e.exports={$compDiv:function(e){var t=e.id,n=e.layout,s=e.size,c=e.type,u=e.icon,l=e.imgSrc,p=e.style,f=e.fontSize,d="custom"===p&&l?function(e,t){var n=r.FILE+e;return t=Number.parseFloat(t),'<img class="counter-elem counter-icon" src="'.concat(a(n,t,t),'" height="').concat(t,'">')}(l,f):function(e){return'<i class="counter-elem counter-icon '.concat(e,'" ></i>')}(u),h=l?1120609:function(e){return{"eqf-heart-f":1120605,"eqf-zan-f":1120606,"eqf-flower2":1120607,"eqf-vote":1120608}[e]}(u);return $(i(o,{layout:n,size:s,id:t,type:c,i:d,dataEvent:h}))}}},function(e,t){e.exports='<div class="element comp_counter not-voted editable-text #{layout} #{size}" id="#{id}" ctype="#{type}" name="eq[f_#{id}]">\n    <div class="counter-container" data-event="#{dataEvent}" style="white-space: nowrap">\n        #{i}\n        <span class="counter-elem counter-number" data-counter-number="0">0</span>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(3).parse,d=(n(16).getRatio,n(23).filterTags),h=n(267),m=n(104).formatTime,v=n(188).getServiceTime,g=n(681),y=n(137).startTimeOfToday;n(682);var b={before:0,in:1,after:2},x=(p(o={},b.before,"距离投票开始还有："),p(o,b.in,"距离投票结束还有："),p(o,b.after,"投票已结束，感谢您的关注"),o),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,o=c(u);function u(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=o.call(this,e,t)).intervalTimer=null,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{fontFamily:!1,fontSize:!1,fontColor:!0,bgColor:!0}},trigger:{self:!1},sound:!1,link:!1,flexLine:""}),n._status=b.in,"edit"===n.eqxScene.config.mode&&!n.getProp("startTime")||!n.getProp("endTime")){var r=n.eqxScene.getPageConfig("timeLimitStart"),i=n.eqxScene.getPageConfig("timeLimitEnd");r||(r=Date.now(),i=y()+6048e5),n.setProps({startTime:r,endTime:i}),"edit"===n.eqxScene.config.mode&&(n.eqxPage.$$lastHash="")}return n}return t=u,(n=[{key:"getFtValue",value:function(e){return e===this.FtEditableProps.time.time?this.getProp("endTime"):a(l(u.prototype),"getFtValue",this).call(this,e)}},{key:"create$context",value:function(){var e=this.title||x[this.status];return this.$context=$(f(g,{title:e,time:""})),this.updateStyle(),this.renderTime(this.$context.find(".countTime"),this.compJson.properties.order,this.compJson.properties.split,this.compJson.properties.mode),this.$context}},{key:"updateSubmitCss",value:function(e){this.updateStyle(e)}},{key:"updateStyle",value:function(e){this.updateCss(e||{});var t=this.compJson.css||{};this.$li&&(this.$context.css({color:t.color,"background-color":t.backgroundColor}),this.$li.css({"background-color":"transparent"}),this.$boxDiv.css({"background-color":"transparent"}))}},{key:"title",get:function(){return this.getProp("title")},set:function(e){this.updateTitle(e)}},{key:"afterTitle",get:function(){return this.getProp("afterTitle")},set:function(e){this.updateTitle(e,"afterTitle")}},{key:"beforeTitle",get:function(){return this.getProp("beforeTitle")},set:function(e){this.updateTitle(e,"beforeTitle")}},{key:"status",get:function(){return this._status},set:function(e){if(e!==this._status&&Object.values(b).includes(e)){var t=this.title;switch(this._status=e,e){case b.before:t=this.beforeTitle||x[e],this.$context&&(this.$context.find(".title").removeClass("endTitle").text(t),this.$context.find(".countTime").removeClass("hidden"));break;case b.in:t=this.title||x[e],this.$context&&(this.$context.find(".title").removeClass("endTitle").text(t),this.$context.find(".countTime").removeClass("hidden"));break;default:t=this.afterTitle||x[e],this.$context&&(this.$context.find(".title").addClass("endTitle").text(t),this.$context.find(".countTime").addClass("hidden")),clearInterval(this.intervalTimer),this.intervalTimer=null}}return!0}},{key:"updateTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title";if(void 0!==e){var n=d(String(e));this.setProps(p({},t,n))}var r=["afterTitle-".concat(b.after),"title-".concat(b.in),"beforeTitle-".concat(b.before)];r.includes("".concat(t,"-").concat(this.status))&&this.$context&&this.$context.find(".title").text(e||x[this.status])}},{key:"updateTime",value:function(e,t){this.setProps({startTime:e,endTime:t}),!this.intervalTimer&&this.$context&&this.renderTime(this.$context.find(".countTime"),this.compJson.properties.order,this.compJson.properties.split,this.compJson.properties.mode)}},{key:"renderTime",value:function(e,t,n,r){var o=this,i=((new Date).getTime(),this.compJson.properties);i.arriveTips,i.arriveTipsContent,v().then((function(e){return e.obj}),(function(){return(new Date).getTime()})).then((function(i){var a=i,s=Date.now(),c=function(){var i=a+Date.now()-s;if(!o.$li)return clearInterval(o.intervalTimer),void(o.intervalTimer=null);var c=o.getProp("startTime"),u=o.getProp("endTime"),l=u;if(c>i)o.status=b.before,l=c;else{if(i>u)return void(o.status=b.after);o.status=b.in}e.html(m(l,i,t,n,r," "))};c(),o.intervalTimer=setInterval(c,1e3)}))}},{key:"bindAfterRenderEvent",value:function(e,t){}}])&&i(t.prototype,n),r&&i(t,r),u}(h);w.defaultArriveTipsContent="开始啦!",e.exports=w},function(e,t){e.exports='<div class="vote-countdown">\n    <div class="iconBox">\n        <em class="eqf-timer-l">\n    </em></div>\n    <div class="rightBlock">\n        <div class="title">#{title}</div>\n        <div class="countTime" noob="true">#{time}</div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(268),p=n(104).formatTime,f=n(188).getServiceTime,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"getFtValue",value:function(e){return e===this.FtEditableProps.time.time?this.getProp("startTime"):i(u(l.prototype),"getFtValue",this).call(this,e)}},{key:"renderTime",value:function(e,t,n,r){var o=this,i=((new Date).getTime(),this.compJson.properties),a=i.startTime,s=i.arriveTips,c=i.arriveTipsContent;f().then((function(e){return e.obj}),(function(){return(new Date).getTime()})).then((function(i){var u=setInterval((function(){i+=1e3,o.$li||clearInterval(u),i<=a?s?e.html(c||l.defaultArriveTipsContent):e.html(p(i,i,t,n,r)):e.html(p(i,a,t,n,r))}),1e3)}))}}])&&o(t.prototype,n),r&&o(t,r),l}(l);d.defaultArriveTipsContent="还没开始!",e.exports=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(5),p=n(685),f=n(1),d=(0,n(4).url2https)(f.YQC),h=n(189).$getYqcAd,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).iframePromise=null,n.iframe=null,n.isExpose=!0,$.extend(!0,n.$ability,{style:{compStyle:{self:!0},advanceStyle:{border:!1,shadow:!1,paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},anim:!1,trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(l.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.code.code])}},{key:"getFtValue",value:function(e){return e===this.FtEditableProps.code.code?this.compJson.content:i(u(l.prototype),"getFtValue",this).call(this,e)}},{key:"eleShow",value:function(){var e=this;i(u(l.prototype),"eleShow",this).call(this);var t=this.eqxPage,n=this.eqxPage.eqxScene.meta.id,r=t.pageJson.num;if("iframe"===this.compJson.properties.renderType)this.iframePromise.then((function(){e.iframe&&e.iframe.contentWindow.postMessage({sceneId:n,pageNum:r,eventType:"pageShow"},d)}));else if(this.isExpose){var o=window.GDTNativeRender;o&&(o.render.expose(),this.isExpose=!1)}}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.type,o=t.content,i=t.css,a=i.width,s=i.height,c=this.eqxPage,u=this.eqxPage.eqxScene.meta.id,l=c.pageJson.num,f=$(p.compDiv({id:n,type:r})),m=t.properties.renderType;if(m&&"div"===m)"tpl"===o?h(u).then((function(t){o=t.list[0].adCode,(f=e.gdtNativeAd(o,f)).append(o)})):(f=this.gdtNativeAd(o,f)).append(o);else{var v=$(p.iframeDiv({sceneId:u,pageNum:l,content:o,width:a,height:s})),g=this.iframe=v.get(0);this.iframePromise=new Promise((function(e){g.onload=function(){o&&g.contentWindow.postMessage({sceneId:u,pageNum:l,eventType:"adCode",content:o},d),e()}})),f.append(v)}return this.$li.css("zIndex",999),f}},{key:"gdtNativeAd",value:function(e,t){return e.indexOf("gdt-native-template")>-1&&(t=t.append('<div id="gdt-native-template"></div>')),t}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=m},function(e,t,n){"use strict";var r=n(1),o=n(4).url2https;e.exports={compDiv:function(e){var t=e.id,n=e.type;return'<div style="width: 100%; height: 100%" class="element" id="'.concat(t,'" ctype="').concat(n,'"></div>')},iframeDiv:function(e){var t=e.sceneId,n=e.pageNum,i=e.content,a=e.width,s=e.height,c="";c="tpl"===i?"tpl":"true";return'<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="'.concat(o(r.YQC),"yqc/gg/gg.html?sceneId=").concat(t,"&pageNum=").concat(n,"&content=").concat(c,"&width=").concat(a,"&height=").concat(s,'"></iframe>')}}},function(e,t,n){"use strict";e.exports={isTransparent:function(e){return!!/rgba\(\s*\d*\s*,\s*\d*\s*,\s*\d*\s*,\s*0\s*\)/.test(e)}}},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1;">\n    <div id="wrapper-background#{id}" class="eqx-bg eqx-bg-img" style="width: 100%; height: #{height};\n         background-image: url(\'#{src}\');\n         background-size: cover; background-position: 50% 50%;\n         background-origin: content-box;">\n    </div>\n</div>'},function(e,t){e.exports='<div class="bg-color-comp" style="width: 100%; height: 100%; overflow: hidden;position: absolute;z-index: -1;">\n    <div id="wrapper-background#{id}" class="eqx-bg" style="width: 100%; height:100%; background: #{gradientColor}; background-color: #{bgColor};"></div>\n</div>\n\n\n'},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1;">\n    <img id="wrapper-background#{id}" src="#{src}" style="z-index: -1; width: 100%; position: absolute;">\n    \n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(5),l=n(691),p=n(3).parse,f=n(692),d=n(0).isWeixin,h=(n(28).$getUserWxInfo,n(7).setWeChatUser,n(693).$unifiedOrder),m=n(96).wxPay,v=n(7).getWeChatUser,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.title,i=void 0===o?"打赏":o,a=r.amount;return $(p(l,{id:t,type:n,title:i,amount:void 0===a?"2":a}))}},{key:"updateCompTitle",value:function(){var e=this.compJson.properties;this.$context.html("".concat(e.title+e.amount,"元"))}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.click((function(){var t=Math.round(100*parseFloat(e.compJson.properties.amount));if(d()){var n=v();return h(t,n.openid,e.compJson.sceneId).then((function(e){return e.obj&&m(e.obj)})).catch((function(t){t.msg&&f.modal(t.msg,e.$li)}))}f.modal("该组件仅能在微信中使用。",e.$li)}))}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=g},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element comp-reward" style="cursor: pointer;width: 100%;height: 100%;display: block;">\n    #{title}#{amount}元\n</a>'},function(e,t,n){"use strict";e.exports={modal:function(e,t){var n=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'.concat(e,'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>')),r=n.find(".feedback-form");r.css("margin-top",-Number.parseInt(r.height()+80)/2),n.insertBefore(t.parent().parent()),n.find(".feedback-close").on("click",(function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})}))}}},function(e,t,n){"use strict";var r=n(1),o=n(8).ajax;e.exports={$unifiedOrder:function(e,t,n){return o({type:"POST",url:r.SERVER_1+"eqs/wx/unifiedorder",data:{money:e,openid:t,sceneId:n}})},$getJsApiConfig:function(e){return o({type:"POST",url:r.SERVER_1+"eqs/wx/get-jsapiconfig",data:{prepayId:e}})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(5),l=n(695),p=n(3).parse,f=n(0).isWeixin,d=n(696),h=n(270).$robRedPacket,m=(n(28).$getUserWxInfo,n(7).getWeChatUser),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties.title;return this.$context=$(p(l,{id:t,type:n,title:r})),this.$context}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.click((function(){if(f()){var t=m();h(e.eqxScene.meta.id,e.compJson.id,t.openid).then((function(t){200===t.code&&d.modal("恭喜您成功抢到一个红包，请去服务通知下领取红包！",e.$li)})).catch((function(t){t.msg&&d.modal(t.msg,e.$li)}))}else d.modal("该组件仅能在微信中使用。",e.$li)}))}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=v},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-red-packet" style="cursor: default;width: 100%;height: 100%;">\n    #{title}\n</a>'},function(e,t,n){"use strict";e.exports={modal:function(e,t){var n=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'.concat(e,'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>')),r=n.find(".feedback-form");r.css("margin-top",-Number.parseInt(r.height()+80)/2),n.insertBefore(t.parent().parent()),n.find(".feedback-close").on("click",(function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})}))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(698);var u=n(5),l=n(699),p=n(3).parse,f=n(700).$getPhotoWallPhotos,d=n(7),h=[n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724)],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!1,baseStyle:!1,lineHeight:!1,letterSpacing:!1}},trigger:{self:!0},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.type;return this.$context=$(p(l,{id:n,type:r})),function(e,t){var n="",r=d.getWeChatUser();if(r.headimgurl)o=f(t,8*e,r.headimgurl).then((function(e){return e.list.forEach((function(e,t){t<24&&(h[t]=e)})),h}));else var o=Promise.resolve(h);return o.then((function(){for(var t=0;t<8*e;t++){var r='<img src="'+h[t]+'">',o='<img src="'+h[t]+'" style="margin-right:0;">';n+=(t+1)%8==0?o:r}return n}))}(parseInt(t.properties.line),t.sceneId).then((function(n){var r=$(n);e.$context.append(r),e.$context.find("img").css({borderWidth:t.properties.ownerCss.borderWidth,borderStyle:t.properties.ownerCss.borderStyle,borderColor:t.properties.ownerCss.borderColor,boxShadow:t.properties.ownerCss.boxShadow,boxShadowDirection:t.properties.ownerCss.boxShadowDirection,boxShadowSize:t.properties.ownerCss.boxShadowSize})})),this.$context}},{key:"changePhotoWallLine",value:function(){this.$context.remove(),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"changeBorderStyle",value:function(e){this.$context.find("img").css({borderStyle:e})}},{key:"changeBorderColor",value:function(e){this.$context.find("img").css({borderColor:e})}},{key:"changeBorderWidth",value:function(e){this.$context.find("img").css({borderWidth:e})}},{key:"changeBoxshadowColor",value:function(e){this.$context.find("img").css({boxShadow:e})}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=m},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="photowall" id="#{id}" ctype="#{type}">\n</div>'},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={$getPhotoWallPhotos:function(e,t,n){return r({type:"GET",url:o.SERVER_1+"eqs/s/wx/photo/list",data:$.param({sceneId:e,photoNum:t,photoPath:n})})}}},function(e,t,n){e.exports=n.p+"images/photoWall-1-5ba673.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-2-bbfc6f.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-3-6d0b2c.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-4-0e99bc.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-5-ea0f51.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-6-dd485d.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-7-fe61b0.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-8-0338d7.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-9-057cd7.png"},function(e,t,n){e.exports=n.p+"images/photoWall-10-24eaf6.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-11-51f668.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-12-51efe0.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-13-c28db4.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-14-1ac109.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-15-5366f9.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-16-27e900.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-17-aab74a.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-18-5233a7.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-19-f7a9d0.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-20-d93530.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-21-6062d9.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-22-e6e2b8.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-23-f07f2e.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-24-ca01d0.jpg"},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_paragraph editable-text" style="cursor: default; -webkit-user-select: auto;">\n    #{content}\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(15).$loadMLink,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),c.call(this,e,t)}return t=p,(n=[{key:"create$context",value:function(){var e=i(u(p.prototype),"create$context",this).call(this),t=window.scene,n=t.isTemplate,r=t.sourceId,o={sceneId:t.id};return n&&(o.isTemplate=n),r&&(o.sourceId=r),l().then((function(){var t={mlink:"https://ax8bgc.mlinks.cc/AK00",button:e.find("a.deepShareHref")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:o};console.log("mlink",t),new Mlink(t)})),e}}])&&o(t.prototype,n),r&&o(t,r),p}(n(138));e.exports=p},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(729);var l=n(139).$getReportOptions,p=n(139).$postReport,f=n(730),d=n(138),h=n(3).parse,m=n(6).popUpModal,v=n(0).isPc,g=[],y=[{id:14258,name:"内容涉及违规",value:1},{id:14259,name:"诱导浏览者分享",value:2},{id:14260,name:"场景内容侵权",value:3},{id:14302,name:"内容夸大宣传",value:4},{id:14303,name:"违背易企秀用户协议",value:5},{id:14304,name:"其它原因",value:6}],b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(b,e);var t,r,c,d=s(b);function b(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(n=d.call(this,e,t)).show=!n.eqxPage.eqxScene.config.disableReport,n.$report=null,n}return t=b,(r=[{key:"eleHide",value:function(){i(u(b.prototype),"eleHide",this).call(this),this.hide()}},{key:"eleShow",value:function(){return this.show?i(u(b.prototype),"eleShow",this).call(this):this}},{key:"hide",value:function(){this.$report&&this.$report.hide()}},{key:"addClassToLi",value:function(e){this.show||this.$li.css("display","none")}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;$(e).on("click",(function(e){e.stopPropagation(),n.openReportModal()}))}},{key:"openReportModal",value:function(){var e=this;if(this.$report)return this.$report.show();var t=this.compJson.sceneId;this.getSelectOption().then((function(r){var o,i,a,s=(o={imgSrc:n(271),reasonList:r},i=o.imgSrc,a=o.reasonList.map((function(e,t){var n=e.id,r=e.name,o=(e.value,0==t?'class="active"':"");return'<li value="'.concat(n,'" ').concat(o,"><span>").concat(r,"</span></li>")})).join(""),$(h(f,{imgSrc:i,reasons:a})));e.$report=s;var c=e.$li.parents(".nr");s.appendTo(c),v()&&"pc"!=e.eqxPage.previewMode||e.$report.css({position:"fixed"}),s.find("li").click((function(e){e.stopPropagation(),$(this).siblings().removeClass("active"),$(this).addClass("active")})),$("#reportSubmit").click((function(n){n.stopPropagation();var r=s.find("li.active").val(),o=s.find("li.active span").text();p({sceneId:t,type:r,msg:o}).then((function(){return m("举报成功！",e.eqxPage)})).finally((function(){return e.hide()}))})),e.$report.on("click",(function(t){var n=$("#report0");n.is(t.target)||0!==n.has(t.target).length||e.hide()}))}))}},{key:"getSelectOption",value:function(){return new Promise((function(e,t){return g.length?e(g):l().then((function(n){(g=n.list).length?e(g):t()})).catch((function(){return e(g=y)}))}))}}])&&o(t.prototype,r),c&&o(t,c),b}(d);e.exports=b},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var r='<div class="reportModal">\n    <div id="report0">\n        <div id="report1">\n            <div id="report2">\n                <p><img src="'+n(103)(n(271))+'" style="width: 2.500rem;height: 2.500rem"></p>\n                <h1>请选择举报原因</h1>\n            </div>\n            <div id="report3">\n                <ul id="reportList">\n                    #{reasons}\n                </ul>\n            </div>\n            <div id="report4">\n                <a id="reportSubmit" data-event="11203">提交举报</a>\n            </div>\n        </div>\n    </div>\n</div>';e.exports=r},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1,title:!0,description:!0},advanceStyle:{required:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"isReplaceComp",value:function(){return this.compJson.properties.isReplace}},{key:"addHightLightStyle",value:function(){this.$li.css({animation:"fadeIn 1s ease 0s 1 normal both","box-shadow":"0 0 16px rgba(18, 97, 255,1)",border:"solid 1px #1261ff","z-index":9999999999})}},{key:"removeHighLightStyle",value:function(){this.$li.css({animation:"none","box-shadow":"none",border:"none","z-index":this.getZIndex()})}},{key:"addReplaceAttrIcon",value:function(){this.removeReplaceAttrIcon(),this.$replaceIcon=$('<div class="comp-replace-icon">批</div>'),this.$boxDiv.after(this.$replaceIcon)}},{key:"removeReplaceAttrIcon",value:function(){this.$replaceIcon&&(this.$replaceIcon.remove(),this.$replaceIcon=null)}}])&&o(t.prototype,n),r&&o(t,r),c}(n(5));e.exports=u},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="width: 100%; height: 100%">\n    <span class="new-text" style="display: block;\n            margin-top: #{marginTop};\n            margin-bottom: #{marginBottom};\n            color: inherit;\n            overflow-wrap: break-word;\n            word-break: break-all;\n            text-shadow: #{textShadow};\n            text-indent: #{textIndent};\n            -webkit-user-select: auto;">#{content}</span>\n</div>\n'},function(e,t,n){"use strict";var r=n(735),o=n(737);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(738);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=c.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(k||w&&!g[w])){for(var O,E,C=-1,_=0;_<f.length;_++){-1!==(I=b.indexOf(f[_]))&&(-1===C||I<C)&&(C=I)}-1!==(E=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(O=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(O)),C=-1;for(_=0;_<p.length;_++){var I;-1!==(I=b.indexOf(p[_]))&&(-1===C||I<C)&&(C=I)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var T=this.hostname.split(/\./),R=(_=0,T.length);_<R;_++){var $=T[_];if($&&!$.match(d)){for(var A="",q=0,j=$.length;q<j;q++)$.charCodeAt(q)>127?A+="x":A+=$[q];if(!A.match(d)){var L=T.slice(0,_),M=T.slice(_+1),D=$.match(h);D&&(L.push(D[1]),M.unshift(D[2])),M.length&&(b="/"+M.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[S])for(_=0,R=l.length;_<R;_++){var N=l[_];if(-1!==b.indexOf(N)){var H=encodeURIComponent(N);H===N&&(H=escape(N)),b=b.split(N).join(H)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var J=b.indexOf("?");if(-1!==J?(this.search=b.substr(J),this.query=b.substr(J+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,J)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var V=this.search||"";this.path=B+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var d=p[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=x||b||n.host&&e.pathname,S=w,k=n.pathname&&n.pathname.split("/")||[],O=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(O&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===k[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=h;else if(h.length)k||(k=[]),k.pop(),k=k.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(O)n.hostname=n.host=k.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=k.slice(-1)[0],C=(n.host||e.host||k.length>1)&&("."===E||".."===E)||""===E,_=0,I=k.length;I>=0;I--)"."===(E=k[I])?k.splice(I,1):".."===E?(k.splice(I,1),_++):_&&(k.splice(I,1),_--);if(!w&&!S)for(;_--;_)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),C&&"/"!==k.join("/").substr(-1)&&k.push("");var P,T=""===k[0]||k[0]&&"/"===k[0].charAt(0);O&&(n.hostname=n.host=T?"":k.length?k.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(w=w||n.host&&k.length)&&!T&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(f[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(p,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=36)e=d(e/35);return d(r+36*e/(e+38))}function S(e){var t,n,r,o,i,a,s,u,l,p,f,h=[],v=e.length,g=0,y=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=g,a=1,s=36;o>=v&&m("invalid-input"),((u=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>d((c-g)/a))&&m("overflow"),g+=u*a,!(u<(l=s<=x?1:s>=x+26?26:s-x));s+=36)a>d(c/(p=36-l))&&m("overflow"),a*=p;x=w(g-i,t=h.length+1,0==i),d(g/t)>c-y&&m("overflow"),y+=d(g/t),g%=t,h.splice(g++,0,y)}return b(h)}function k(e){var t,n,r,o,i,a,s,u,l,p,f,v,g,b,S,k=[];for(v=(e=y(e)).length,t=128,n=0,i=72,a=0;a<v;++a)(f=e[a])<128&&k.push(h(f));for(r=o=k.length,o&&k.push("-");r<v;){for(s=c,a=0;a<v;++a)(f=e[a])>=t&&f<s&&(s=f);for(s-t>d((c-n)/(g=r+1))&&m("overflow"),n+=(s-t)*g,t=s,a=0;a<v;++a)if((f=e[a])<t&&++n>c&&m("overflow"),f==t){for(u=n,l=36;!(u<(p=l<=i?1:l>=i+26?26:l-i));l+=36)S=u-p,b=36-p,k.push(h(x(p+S%b,0))),u=d(S/b);k.push(h(x(u,0))),i=w(n,g,r==o),n=0,++r}++n,++t}return k.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:S,encode:k,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return g(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(736)(e),n(94))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(739),t.encode=t.stringify=n(740)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,f,d,h,m=e[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(p=m.substr(0,v),f=m.substr(v+1)):(p=m,f=""),d=decodeURIComponent(p),h=decodeURIComponent(f),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=t.call(this,e,r),$.extend(!0,o.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0}},link:!0,flexLine:"w,e,r"}),o}return n}(n(74));e.exports=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(743);var u=n(74),l=n(744),p=n(0).isPc,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).makeModal=null,n}return t=c,(n=[{key:"hide",value:function(){this.makeModal&&this.makeModal.hide()}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"openReportModal",value:function(){var e=this;if(this.makeModal)return this.makeModal.show();var t=$(this.$li).parents(".nr");this.makeModal=$('<div class="make-modal"><div class="img-container"><img src="'.concat(l,'" width="262px" height="480px"/></div></div>')),t.append(this.makeModal),p()&&"pc"!=this.eqxPage.previewMode||this.makeModal.css({position:"fixed"}),this.makeModal.on("click",(function(t){var n=$(".img-container");n.is(t.target)||0!==n.has(t.target).length||e.hide()}))}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/make-c5d092.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(746);var u=n(74),l=(n(747),n(0).isPc,n(6).adPopUpModal),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).makeModal=null,n}return t=c,(n=[{key:"hide",value:function(){this.makeModal&&this.makeModal.hide()}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this.compJson.properties.config,r=this.eqxPage;2==n.clickType&&$(this.$li).on("click",(function(e){e.stopPropagation(),l(n,r)}))}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=p},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/support-150aab.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(5),p=n(29),f=p.addGlobalStyle,d=p.addSuffixPx,h=n(749),m=n(3).parse,v=n(1),g={},y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t);var r=e.properties.contentType;return"t"===r?$.extend(!0,n.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0}},link:!0,flexLine:"w,e,r"}):"i"===r&&$.extend(!0,n.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!1},imageStyle:!0}}),n}return t=l,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(l.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps,n=this.compJson.properties.contentType;return"t"===n?e.concat([t.tRandom.tRandom]):"i"===n?e.concat([t.iRandom.iRandom]):e}},{key:"getFtValue",value:function(e){var t=this.FtEditableProps;return e===t.tRandom.tRandom?this.getProp("texts"):e===t.iRandom.iRandom?this.getProp("imgs"):i(u(l.prototype),"getFtValue",this).call(this,e)}},{key:"create$context",value:function(){var e=this.compJson,t=e.properties.contentType;if("t"===t){var n=e.id,r=e.type,o=e.sceneId,i=e.css,a=i.fontFamily,s=i.fontSize,c=i.writingMode,u=i.marginTop,l=void 0===u?"0px":u,p=i.marginBottom,y=void 0===p?"0px":p,x=e.properties,w=x.anim,S=void 0===w?[]:w,k=x.texts,O=void 0===k?[]:k,E=function(e){var t=e.id,n=e.type,r=e.marginTop,o=e.marginBottom,i=e.css,a=e.content,s=void 0===a?"":a;return i.cursor="default",i.minHeight="inherit",i.fontSize&&(i.fontSize=d(i.fontSize)),$(m(h,{id:t,type:n,content:s,marginTop:r,marginBottom:o})).css(i)}({id:n,type:r,content:O["view"===this.eqxScene.config.mode?b(O.length):0]||"请输入文本",marginTop:l,marginBottom:y,css:{fontFamily:a,fontSize:s,writingMode:c}});return function(e){var t=e.fontFamily,n=e.sceneId;"view"===e.mode&&window.scene&&t&&!g[t]&&(f("@font-face{\n                font-family:'".concat(t,"';\n                src: url('").concat(v.FONT,"formfonts/").concat(n,"_").concat(window.scene.publishTime,"/").concat(t,".woff') format('woff'),\n                url('").concat(v.FONT,"formfonts/").concat(n,"_").concat(window.scene.publishTime,"/").concat(t,".ttf') format('truetype');")),g[t]=!0)}({mode:this.eqxScene.config.mode,fontFamily:a,sceneId:o}),S[0]&&"typer"===S[0].type&&E.css({opacity:0}),E}if("i"===t){var C=e.id,_=e.type,I=e.properties,P=(I=void 0===I?{}:I).imgs,T=void 0===P?[]:P,R=I.bgColor,A=e.css,q=A.width,j=A.height,L="view"===this.eqxScene.config.mode?b(T.length):0,M=this.getImgSrc(T[L].src,{width:q,height:j}),D=$('<div id="'.concat(C,'" \n                                   class="random-content element" \n                                   ctype="').concat(_,'"\n                                   style="width: 100%;height: 100%;"></div>')).css("background-color",R),B=this.$img=$('<div class="random-content-image"\n                                           style="width: 100%;height: 100%;">').css({backgroundImage:"url('".concat(M,"')"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"});return D.append(B),D}}},{key:"updateContent",value:function(e){this.$context.children().html(e)}},{key:"updateImg",value:function(e){var t=this.compJson.css,n=t.width,r=t.height,o=this.getImgSrc(e,{width:n,height:r});this.$img.css("background-image","url('".concat(o,"')"))}},{key:"updateSize",value:function(e,t){}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}},{key:"autoAdjustSize",value:function(){var e=this.$context,t=this.$context.children(),n=parseInt(e.css("padding-left")||0),r={height:t.height()+2*n};return this.update$li(r),{height:parseInt(this.$li.css("height")),width:parseInt(this.$li.css("width"))}}}])&&o(t.prototype,n),r&&o(t,r),l}(l);function b(e){return Math.floor(Math.random()*e)}e.exports=y},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 0.250rem;width: 100%;height: 100%;">\n    <span style="display: block;\n                 margin-top: #{marginTop};\n                 margin-bottom: #{marginBottom};\n                 color: inherit;\n                 word-break: break-all;">\n        #{content}\n    </span>\n</div>'},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="comp_drop_down form-comp-box" style="width:100%;height:100%" id="#{id}" ctype="#{type}">\n    <div style="width: 100%;height: 100%">\n        <select style="width:100%;height:100%;line-height: 2.7" name="eq[f_#{id}]" class="comp_drop_down_select" ctype="#{type}">\n        </select>\n    </div>\n</div>'},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box">\n    <input id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" type="#{inputType}" style="width: 100%;height:100%;">\n    \n    \x3c!--<textarea id="#{id}" ctype="#{type}"--\x3e\n              \x3c!--placeholder="#{placeholder}"--\x3e\n              \x3c!--required="#{required}"--\x3e\n              \x3c!--class="element comp_input editable-text"--\x3e\n              \x3c!--maxlength="10000"--\x3e\n              \x3c!--name="eq[f_#{id}]"--\x3e\n              \x3c!--style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto">--\x3e\n\x3c!--</textarea>--\x3e\n</div>'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(52),l=n(755),p=n(3).parse,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,f=void 0===u?{}:u,d=f.title.content,h=f.des.content;return this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t,$(p(l,{id:t,required:a,placeholder:c,type:r,title:d,des:h}))}},{key:"setInputTitle",value:function(e){this.$context.find("input").attr("placeholder",e)}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box">\n    <input id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" type="text" style="width: 100%;height:100%;">\n    \n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(52),l=n(757),p=n(3).parse,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,f=void 0===u?{}:u,d=f.title.content,h=f.des.content;return this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t,$(p(l,{id:t,required:a,placeholder:c,type:r,title:d,des:h}))}},{key:"setInputTitle",value:function(e){this.$context.find("textarea").attr("placeholder",e)}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box">\n    <textarea id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto">\n</textarea>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(52),p=n(51).isEmail,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"check",value:function(){var e=i(u(l.prototype),"check",this).call(this);return e.success?(!e.value||p(e.value)||this.ruleHide||(e.success=!1,e.message="".concat("该项","格式有误")),e):e}},{key:"preCheck",value:function(){var e=i(u(l.prototype),"preCheck",this).call(this),t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val();return!(t&&!p(t)&&!this.ruleHide)&&e}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(52),h=n(51).isPhoneNumber,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e,t)}return t=a,(n=[{key:"check",value:function(){var e=c(f(a.prototype),"check",this).call(this);return e.success?(!e.value||h(e.value)||this.ruleHide||(e.success=!1,e.message="".concat("该项","格式有误")),e):e}},{key:"preCheck",value:function(){var e=c(f(a.prototype),"preCheck",this).call(this),t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val();return!(t&&!h(t)&&!this.ruleHide)&&e}},{key:"getValueInfo",value:function(){return i(i({},c(f(a.prototype),"getValueInfo",this).call(this)),{},{editLabel:"13888888888"})}}])&&s(t.prototype,n),r&&s(t,r),a}(d);e.exports=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(52),p=n(51).isQQ,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"check",value:function(){var e=i(u(l.prototype),"check",this).call(this);return e.success?(!e.value||p(e.value)||this.ruleHide||(e.success=!1,e.message="".concat("该项","格式有误")),e):e}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(52),p=n(51).isWeiChat,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"check",value:function(){var e=i(u(l.prototype),"check",this).call(this);return e.success?(!e.value||p(e.value)||this.ruleHide||(e.success=!1,e.message="".concat("该项","格式有误")),e):e}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";n(763);var r=n(764),o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.title,a=e.required,s=void 0===a?null:a,c=e.formTitle,u=e.formDes;return $(o(r,{id:t,type:n,title:i,formTitle:c,formDes:u})).attr("required",s)},icon:function(e){var t=e.icon,n=e.size;return'<i style="margin-right: 5px" class="'.concat(n," ").concat(t,'"></i>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{formTitle}</div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element comp_rating editable-text form-comp-box" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;" id="#{id}" ctype="#{type}" title="#{formTitle}" name="eq[f_#{id}]">\n    <div class="rating-icons"></div>\n    <input type="hidden" name="eq[f_#{id}]" value="">\n</div>'},function(e,t,n){"use strict";n(766);var r=n(767),o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.title,a=e.required,s=void 0===a?null:a,c=e.formTitle,u=e.formDes,l=e.minValue,p=void 0===l?"":l,f=e.maxValue,d=void 0===f?"":f,h=e.mode,m=e.bgColor;return $(o(r,{id:t,type:n,title:i,formTitle:c,formDes:u,minValue:p,maxValue:d,mode:h,bgColor:m})).attr("required",s)},iconEdit:function(e){var t=e.ico,n=e.scoreLevel;if(e.index+1<n){var r=t.split("-"),o=r[0]+"-"+r[1];return'<i class="'.concat(o,'-f"></i>')}return'<i class="'.concat(t,'"></i>')},iconView:function(e){var t=e.ico;return'<i class="'.concat(t,'"></i>')},numScale:function(e,t,n){return'<i style="background-color: '.concat(t,";border-color: ").concat(t,'" class="').concat(e,' active">').concat(n,"</i>")}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{formTitle}</div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element form-comp-score form-comp-box" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;background-color:#{bgColor};" id="#{id}" ctype="#{type}" title="#{formTitle}" name="eq[f_#{id}]">\n    <div class="rating-level clearfix">\n        <div class="low-rating-level">#{minValue}</div>\n        <div class="senior-rating-level">#{maxValue}</div>\n    </div>\n    <div class="rating-icons rating-icons-#{mode}"></div>\n    <input type="hidden" name="eq[f_#{id}]" value="">\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"create$li",value:function(){i(u(l.prototype),"create$li",this).call(this);var e=this.eqxPage.pageJson.properties.formStyle;return this.$formComp.css({"background-color":this.scoreSetting.bgColor,color:e.input.color}),this.$context.find(".rating-icons .eqf-score-scale").css({"background-color":this.scoreSetting.color,"border-color":this.scoreSetting.color}),this.$li}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("i");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.each((function(e,n){$(n).bind("click",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,e+1)}))}))}},{key:"updateBorderStyle",value:function(e){this.$formComp.css({"border-width":e.borderWidth+"px"})}},{key:"getRealValueForTrigger",value:function(){return this.$score.val()}},{key:"autoFill",value:function(e,t){var n=this;String(e).includes("（跳过）")||(setTimeout((function(){n.$li.find("i").eq(JSON.parse(e).value-1).trigger("click")})),"showLast"===t&&this.$li.css("pointer-events","none"))}},{key:"compJsonToStr",value:function(){return i(u(l.prototype),"compJsonToStr",this).call(this)}}])&&o(t.prototype,n),r&&o(t,r),l}(n(190));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"$compDiv",value:function(e){return i(u(l.prototype),"$compDiv",this).call(this,e)}},{key:"$option",value:function(e){return e.inputType="r"==this.compJson.type?"radio":"checkbox",i(u(l.prototype),"$option",this).call(this,e)}},{key:"updateTitle",value:function(){var e=this.compJson.title+"(可多选)";return i(u(l.prototype),"updateTitle",this).call(this,e)}}])&&o(t.prototype,n),r&&o(t,r),l}(n(89));e.exports=l},function(e,t){e.exports='<div class="option-group" option-id="#{optionId}">\n    <label class="option-label" for="#{id}_#{ranId}" data-event="11208">\n        <input class="option" id="#{id}_#{ranId}" type="#{inputType}" name="eq[f_#{compId}]" value="#{optionId}">\n        <span>#{optionLabel}</span>\n        <input type="text" class="otherOptionBlank">\n    </label>\n</div>\n'},function(e,t){e.exports='<div class="radio-title form-title-box">\n    <div class="head-title">\n        #{formTitle}\n    </div>\n</div>\n<div class="radio-des form-des-box">\n    <div>\n        #{formDes}\n    </div>\n</div>\n<div class="element comp_radio editable-text form-comp-box" id="#{id}" ctype="#{type}" style="width: 100%;height: 100%;">\n    <div class="options"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(141).$postForm,v=n(141).$getSubmitCount,g=n(1),y=n(265),b=n(5),x=(n(773),n(6).popUpModal),w=n(6).loadingShadow,S=n(774),k=n(775),O=n(0),E=O.isWeixin,C=O.isIOS,_=n(46),I=_.getItem,P=_.setItem,T=n(137).getDateStr,R=n(105),A=n(279),q=A.isXiuTui,j=A.xtPostForm,L=n(23).filterTags,M=n(53),D=M.forbid,B=M.allow,F=n(803).isForbidSubmit,N=n(28).$getUserWxInfo,H=n(7),z=H.getWeChatUser,J=H.setWeChatUser,V=n(15).$loadMD5,U=n(4).getUrlParam,W=n(129),G=W.updateFormDataLast,K=W.getSensitiveWords,X=n(804).getAdAndUpdateButton,Q=n(805),Y=Q.showMsgCodeVerify,Z=Q.initAnjiVerify,ee=Q.showAnjiVerify,te=n(87).getTemplateParam,ne=U("sourceType"),re=n(809).TimeLimit,oe=(n(34).t,n(4).removeUrlParam),ie=n(6).linkRiskIframeModal,ae=(n(10).PRIVACY_VERIFY_COMPS,n(812)),se=n(813),ce=n(814);n(815);var ue=n(280).WxSub,le=n(7).getWxJSSDK,pe=n(105).voteMoreTips,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,r,o,a,c=f(d);function d(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=c.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1,initSubmitCount:0,freezeAttrs:["height"]}),n.validateData=n.eqxScene.sceneJson.validateData,n.startTime=Date.now(),n.eqxScene.formGlobalSetting&&!n.eqxScene.config.isOnlyView&&n.initTimeLimit(),C()||n.eqxPage.getEqxItems().forEach((function(e){["imageVote","videoVote"].includes(e.type)&&e.on("imageVote.adapter.andeoid",(function(e){n.timeCount&&n.timeCount.pause(),e&&e()}))}));var r=n.eqxScene.config,o=r.disableSubmit,i=r.mode,a=(n.eqxScene.formGlobalSetting||{}).submitLimit,s=void 0===a?{}:a;return"edit"!==i&&s&&s.openSubmitCheck&&2==s.checkType&&!o&&setTimeout((function(){n.anjiId=Z(n.eqxPage)}),500),n}return t=d,(n=[{key:"initTimeLimit",value:function(){var e=this.eqxScene.formGlobalSetting.exam;"view"!=this.eqxScene.config.mode||!e.examTime||this.validateData&&this.validateData.disableSubmit||ne||(this.timeCount=new re(this,e.examTime),this.timeCount.init())}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.title,a=o.styleImgSrc,s=o.submitCountShow,c=e.css,u=c.width,l=c.height,p=c.backgroundColor,f=1;this.validateData&&this.validateData.disableSubmit&&(p="#ccc",i=this.validateData.msg,f=.5),i&&i.length&&(i=L(i));var d="".concat(g.FILE).concat(a);this.pageId=n,this.$context=a?y.$img({id:t,type:r,src:d,css:{width:u,height:l,backgroundColor:p},padding:"0"}):y.$btn({id:t,type:r,title:i,css:{width:u,height:l,backgroundColor:p,opacity:f}}),s&&s.isOpen&&this.createSubmitDetail();var h=this.eqxScene.config,m=h.mode,v=h.disableSubmit;return"view"!==m||v||this.checkPrvacyVerify(),this.$context}},{key:"create$li",value:function(){var e=this,t=l(h(d.prototype),"create$li",this).call(this),n=s(s({},(this.eqxPage.pageJson.properties.formStyle||{button:{}}).button),this.css),r=n.backgroundColor,o=n.color,i=scene.property,a=i.boughtLabel,c=i.removeLabel;this.$context.find("button").css({backgroundColor:r,color:o});var u=this.compJson.css,p=u.width,f=u.height;if(t.css({width:p?p+"px":"100%",height:f+"px",boxSizing:"border-box"}),"showLast"===ne&&!a&&!c)return X(t),t.html("");if("showLast"===ne&&(a||c))return t.html("");var m=new ue(this.eqxPage,t.find(".element-box-contents"),(function(){e.$context.find("button").click()}));return setTimeout((function(){le().then((function(){m.renderWxSubcrible()}))}),0),t}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}},{key:"createSubmitDetail",value:function(e){var t=parseFloat(this.compJson.css.height);this.$submitDetail||(this.$submitDetail=y.$submitDetail(),this.$context.append(this.$submitDetail),this.$context.find("button").css("height","calc(100% - 30px)"),e&&(this.update$li({height:t+parseFloat(this.$submitDetail.height())}),this.autoSizeTopDown())),this.update$submitDetailText()}},{key:"update$submitDetailText",value:function(e){var t=this,n=this.compJson.properties.submitCountShow,r=n.submitCount,o=n.submitContent;if("view"!=this.eqxScene.config.mode||e){var i=this.compJson.properties.submitCountShow.submitCount;e&&(r=this.initSubmitCount+i+1),this.$submitDetail.find(".submit-content").text(o).siblings("span.submit-number").text(r)}else this.getSubmitCount().then((function(e){200==e.code&&(t.initSubmitCount=e.obj,r+=e.obj),t.$submitDetail.find(".submit-content").text(o).siblings("span.submit-number").text(r)}))}},{key:"getSubmitCount",value:function(){var e=this.pageId,t=this.id,n=this.eqxScene.meta.code;return v(t,e,n)}},{key:"update$submitDetailCss",value:function(e){if(this.$submitDetail){var t=this.compJson.css.paddingBottom;this.$submitDetail.css("bottom",t)}}},{key:"destorySubmitDetail",value:function(){this.$submitDetail.remove();var e=this.compJson.css.height;this.update$li({height:e-parseFloat(this.$submitDetail.height())}),this.autoSizeTopDown(),this.$context.find("button").css("height","100%"),this.$submitDetail=null}},{key:"checkPrvacyVerify",value:(a=i(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,s,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>0&&void 0!==l[0]&&l[0],r=l.length>1?l[1]:void 0,null!==(t=this.privacyVerifyConfig)&&void 0!==t&&t.length){e.next=9;break}return e.next=5,K();case 5:o=e.sent,i=o.code,a=o.obj,200===i&&(this.privacyVerifyConfig=a);case 9:if(s=this.eqxPage.getEqxComps(),n){e.next=18;break}return c=ce.getCompsTitle(s),u=ce.checkTitle(c,this.privacyVerifyConfig),this.isPrivacyVerifyTitleChecked=!u,u&&this.isBaseLayerElement&&this.createPrivacyVerify(),e.abrupt("return",u);case 18:return e.abrupt("return",ce.checkContent(s,r));case 19:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"togglePeivacyVerifyMsg",value:function(e,t){(t||this.$privacyVerify).find(".msg").css("display",e?"none":"block")}},{key:"openAgreement",value:function(){var e=this;this.eqxPage.eqxSectionCover.append(se);var t=$(".privacy-verify-agree-modal");this.isMobileRender()&&t.css("position","fixed"),t.find(".close").on("click",(function(){t.remove(),t.addClass("fade-out"),e.isMobileRender()&&!e.$privacyVerifyModal&&$("body").css("overflow-y","auto")}))}},{key:"createPrivacyVerifyModal",value:function(){this.$privacyVerifyModal||(this.eqxPage.eqxSectionCover.append(ae),this.$privacyVerifyModal=$("body").find(".privacy-verify-modal"),this.bindEventPrivacyVerifyModal(),this.isMobileRender()?(this.$privacyVerifyModal.css("position","fixed"),$("body").css("overflow-y","hidden")):$(".pcPreview-btn-group-wrap .btn-wraper").css("pointer-events","none"))}},{key:"createPrivacyVerify",value:function(){var e=this;if(!this.$privacyVerify){var t=parseFloat(this.compJson.css.height),n=this.eqxPage.getFormStyle("content");this.$privacyVerify=y.$privacyVerify(),setTimeout((function(){e.$privacyVerify.insertBefore(e.$context.children()[0]),e.update$li({height:t+parseFloat(e.$privacyVerify.height())}),e.autoSizeTopDown(),e.$privacyVerify.find(">div, .agreement").css({color:n.color}),e.bindEventPrivacyVerify()}),0)}}},{key:"isMobileRender",value:function(){return"mobileRender"===this.eqxScene.config.renderMode}},{key:"bindEventPrivacyVerify",value:function(){var e=this,t=this,n=t.$privacyVerify;n.find("input").on("click",(function(){t.isPrivacyVerifyMsgChecked=this.checked,this.checked&&t.togglePeivacyVerifyMsg(this.checked)})),n.find(".agreement").on("click",(function(){e.openAgreement()}))}},{key:"bindEventPrivacyVerifyModal",value:function(){var e=this,t=this.$privacyVerifyModal,n=this;t.find("input").on("click",(function(){n.isPrivacyVerifyModalChecked=this.checked,this.checked&&n.togglePeivacyVerifyMsg(this.checked,t)})),t.find(".close").on("click",(function(){e.closePrivacyVerifyModal()})),t.find(".confirm").on("click",(function(){n.isPrivacyVerifyModalChecked?(e.privacyVerifyModalSubmit=!0,e.closePrivacyVerifyModal(),e.handlerSubmit(e.$li,e.compJson)):e.togglePeivacyVerifyMsg(!1,t)})),t.find(".agreement").on("click",(function(){e.openAgreement()}))}},{key:"closePrivacyVerifyModal",value:function(){this.isPrivacyVerifyModalChecked=!1,this.$privacyVerifyModal&&this.$privacyVerifyModal.remove(),this.$privacyVerifyModal=null,$(".pcPreview-btn-group-wrap .btn-wraper").css("pointer-events","auto"),$("body").css("overflow-y","auto")}},{key:"bindAfterRenderEvent",value:function(e,t){this.validateData&&this.validateData.disableSubmit||"showLast"===ne||(this.flag=!0,$(e).find("button").click(this.handlerSubmit.bind(this,e,t)))}},{key:"handlerSubmit",value:(o=i(regeneratorRuntime.mark((function e(t,n){var r,o,a,c,u,l,p,f,d,h,v,b,O,C,_,I,P,T,R,$,A,L,M,H,W,K,X,Q,Z,re,ie,ae,se=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sortSubmitLock){e.next=2;break}return e.abrupt("return",this.sortSubmitLock);case 2:if(this.sortSubmitLock=!0,setTimeout((function(){se.sortSubmitLock=!1}),3e3),(r={close:function(){r.closeLoading&&r.closeLoading()}}).closeLoading=w("icon",this.eqxScene),o=this,a=this.eqxScene.meta,c=this.eqxScene.config,u=c.isInnerView,l=c.disableSubmit,p=this.eqxScene.formManager,!u||!l){e.next=22;break}if((f=p.check()).success){e.next=19;break}return d=f.elementId,this.eqxPage.getEqxCompById(d).showFormErrMsg(f.message),this.eqxPage.moveByCompId(d),r.close(),e.abrupt("return");case 19:return this.afterSubmit({}),r.close(),e.abrupt("return");case 22:if(!U("appletPreview")||!U("appletWxInfo")){e.next=29;break}return r.close(),h=U("VDP")?"投票":"提交",v=U("tpl")?"模板中暂不支持".concat(h):"请将作品分享后再".concat(h),"true"===U("fromHot")&&(v="热门活动内预览不支持投票"),x(v,this.eqxPage),e.abrupt("return");case 29:if(b=this.eqxScene.formGlobalSetting&&this.eqxScene.formGlobalSetting.recordWxInfo,O=z(),(C=Object.keys(O)).length||!b||1!=b||this.eqxScene.config.disableSubmit){e.next=44;break}return e.next=36,N();case 36:if(_=e.sent,(I=_.obj)&&0!==Object.keys(I).length){e.next=42;break}return x("微信授权失败，无法提交",this.eqxPage),r.close(),e.abrupt("return");case 42:O=I,J(s({},I));case 44:return P=p.check(),(1==b||2==b&&C.length)&&(T={"wx[name]":"nickname","wx[gender]":"sex","wx[city]":"city","wx[photo]":"headimgurl"},P.form&&Object.keys(T).forEach((function(e){var t=T[e];P.form[e]="sex"==t?O[t]?1==O[t]?"男":"女":"":O[t]}))),R=F(a),$=n.sceneId,A=n.id,L=n.pageId,M=n.properties,H=M.layout,W=void 0===H?"rating-l":H,M.imgSrc,K=M.text,X=M.link,Q=M.checkedLink,Z=M.clickFarmer,re=M.endTime,(ie=new Promise(function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,o,i,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,!se.isPrivacyVerifyTitleChecked){e.next=5;break}return e.next=4,se.checkPrvacyVerify(!0,P);case 4:r=e.sent;case 5:o=r||!se.isBaseLayerElement&&!se.isPrivacyVerifyTitleChecked,p.submited?n({code:120505}):R&&!ne?n({msg:R}):re&&re<Date.now()&&D("formSettings",a.bizType,1)?n({code:120602}):Z&&!E()?n({code:120504}):P.success?!se.isBaseLayerElement||se.isPrivacyVerifyTitleChecked||se.isPrivacyVerifyMsgChecked?!se.privacyVerifyModalSubmit&&o?n({code:600002,isContent:r}):se.flag&&(se.eqxScene.config.disableSubmit?t({}):(re&&(P.form.endTime=re),(i=U("qrc"))&&(P.form.qrc=i),s=function(){if(q())m(P.form,$,L,A,!0).then((function(e){t(j($,e.obj))}));else{var e=U("openid");1===window.scene.map.redPacketActiveStatus&&e&&(P.form.openId=e),P.form.costTime=Date.now()-se.startTime,P.form.fromDetail=document.referrer&&oe("ssid",document.referrer)||"",V().then((function(){var e=g.FORM_ENCYRPT_CODE+L+g.FORM_ENCYRPT_CODE,n="";te("uniqueCode")&&(n=te("uniqueCode")),P.form.uniqueCode=md5(e+n),window.scene.formAccessPassword&&(P.form.formAccessPassword=window.scene.formAccessPassword),window.scene.map.costTime=P.form.costTime;var r=ne&&"updateLast"===ne?G(P.form):m(P.form,$,L,A);t(r)}))}},c=se.eqxScene.formGlobalSetting||{},u=c.submitLimit,(l=void 0===u?{}:u)&&l.openSubmitCheck&&1==l.checkType?Y(se.eqxPage).then((function(e){e&&(P.form.ck_sms_phone=e.phoneNumber,P.form.ck_sms_code=e.verifyCode),s()}),(function(){se.flag=!0,n({code:"notAttention",msg:"短信验证码弹窗关闭"})})):l&&l.openSubmitCheck&&2==l.checkType?ee(se.anjiId).then((function(e){e&&(P.form.captchaVerification=e.captchaVerification),s()}),(function(){se.flag=!0,n({code:"notAttention",msg:"滑动验证码弹窗关闭"})})):s()),se.flag=!1):n({code:600001}):P.pageId&&se.pageId!=P.pageId?confirm(P.message+" 是否前往修改？")&&se.eqxScene.pageScroll.goToPageById(P.pageId):n({msg:P.message,eleIdForError:P.elementId});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(e){var n,r,i,s,c,u,l;window._showShareTip=null===(n=e.obj)||void 0===n?void 0:n.showShareTip,window._showShareTip&&setTimeout((function(){pe()}),100),se.timeCount&&se.timeCount.stop();try{if(window._tracker_api_&&window._tracker_api_.report){var f={product:"form",b_t:"point",point_need:1,e_t:"submit",scene_id:se.eqxScene.meta.id,scene_c_u:se.eqxScene.meta.userId};window._tracker_api_.report(f)}}catch(e){console.log("表单提交成功数据统计失败")}var d,h=e.map||{},m=(null===(r=e.obj)||void 0===r?void 0:r.num)||window._submitNumber||!1;window._showShareTip=null===(i=e.obj)||void 0===i?void 0:i.showShareTip,p.submited=!0,p.orderNumber=m,void 0===(null===(s=e.obj)||void 0===s?void 0:s.num)&&(p.orderNumber=!1),p.submitTimeStamp=(null===(c=e.obj)||void 0===c?void 0:c.sysTime)||Date.now(),null!==(u=e.obj)&&void 0!==u&&u.costTime&&(window.scene.map.costTime=null===(d=e.obj)||void 0===d?void 0:d.costTime),p.gcVerifyCode=null===(l=e.obj)||void 0===l?void 0:l.antiTheftCode,se.flag=!0;var v=!!Q,g=S;if(K=K?K.trim():"谢谢您的参与！",se.eqxScene.config.disableSubmit)return x("请发布后提交！",se.eqxPage),void closeLoading();var b=(o.eqxPage.$editDiv.css("transform")||"").match(/matrix.*, (.*)\)/),w=b?b[1]:0;se.eqxPage.bgm&&se.eqxPage.bgm.soundAgent.hide(),window.scene.redpackUUID=e.map.redpackUUID,window.scene.redpackTicket=e.map.ticket;var O=se.compJson.properties.submitCountShow;O&&O.isOpen&&o.update$submitDetailText(!0);var E=se.eqxPage.flowAd;if(se.updateFormSetting(P),B("afterSubmit",a.bizType,1))se.afterSubmit(e.map,E,e);else try{if(E&&E.flowAdType&&E.flowAdType.includes("pop")&&!se.eqxPage.canRemoveAllAds){var C="pcRender"==se.eqxPage.renderMode?".pc-preview .nr":"#con .nr";new E.flowRender.pop(C,{formSubmit:!0,animOut:"none",pCode:"pop"}).exposure()}else y.newModal(t,W,v,g,K,X,w,se.eqxPage,k,h)}catch(e){console.log(e)}})).catch((function(e){if(se.flag=!0,120505===e.code||120603===e.code)x("请不要重复提交！",se.eqxPage);else if(600001===e.code)se.togglePeivacyVerifyMsg(!1);else if(600002===e.code)se.createPrivacyVerifyModal();else if(120504===e.code)x("请到微信中打开使用！",se.eqxPage);else if(500004===e.code){x(e.msg,se.eqxPage);var t=0;se.eqxPage.getAllFormComps().filter((function(e){"feReservation"===e.type&&(t||(t=e.id),e.updateBookInfo())})),se.eqxPage.moveByCompId(t)}else if(120602===e.code||120604===e.code)x("当前表单已截止提交！",se.eqxPage);else if(120501===e.code)x("操作时间过长，请刷新重试",se.eqxPage);else if("500005"==e.code)app.currentPage.getEqxCompById(e.obj).showFormErrMsg("不允许重复提交");else if("notAttention"!==e.code)if(e.msg){var n=e.eleIdForError;n?(se.eqxPage.getEqxCompById(n).showFormErrMsg(e.msg),se.eqxPage.moveByCompId(n)):x(e.msg,se.eqxPage)}else"file:"===window.location.protocol?x("请发布后再提交！",se.eqxPage):x("表单提交失败！",se.eqxPage)})).finally(r.close),e.next=53,ie;case 53:return ae=e.sent,e.abrupt("return",ae);case 55:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"eleShow",value:function(){this.eqxPage.getAllFormComps().some((function(e){return e.isCanDirectVote}))||l(h(d.prototype),"eleShow",this).call(this)}},{key:"afterSubmit",value:function(e,t,n){var r=this,o=this.eqxScene.formGlobalSetting,i=parseFloat(this.eqxScene.formManager.totalScore).toFixed(1),a=o.showAfterSubmit,s=o.forwardLink,c=o.scoreTexts,u=o.scoreShow,l=o.scoreShowType,p=void 0===l?1:l,f=o.optionSettings,d=void 0===f?[]:f,h=o.defaultSetting,m=o.exam,v={};switch(a){case 1:R.OpenSubmitDialog(this.eqxPage,a,h,e,m,t);break;case 2:if(v={totalScore:i,isShow:u},"1"==p){for(var g=0;g<c.length;g++)if(i>=c[g].min&&i<=c[g].max){L(c[g].text),Object.assign(v,c[g]);break}}else{for(var y=JSON.parse(JSON.stringify(d)),b=y.length,w=b-1;w>=0;w--)y[w].options&&!y[w].options.length&&y.push(y.splice(w,1)[0]);for(var S=0;S<b;S++)if(this.isConformSetting(y[S])){Object.assign(v,y[S]);break}}R.OpenSubmitDialog(this.eqxPage,a,v,e,m,t);break;case 3:R.OpenSubmitDialog(this.eqxPage,a,{},e,m,t);break;case 4:if(window.top===window&&s){if(this.eqxScene.config.disableSubmit)return void x("跳转地址：".concat(s),this.eqxPage);/(http|https):\/\/([\w.]+\/?)\S*/.test(s)||(s="http://"+s),this.eqxScene.formManager.checkGcVerifyCode(s,!0).then((function(e){var t=e.risk,n=e.link;t?ie(n,r.eqxScene):window.location.href=n}))}else R.OpenSubmitDialog(this.eqxPage,1,h,e,m,t);break;case 5:var k;n&&(window._showShareTip=null===(k=n.obj)||void 0===k?void 0:k.showShareTip,window._showShareTip&&setTimeout((function(){pe("subPage")}),100)),this.eqxScene.changeCurrentPage(3);break;default:R.OpenSubmitDialog(this.eqxPage,1,h,e,m,t)}}},{key:"isConformSetting",value:function(e){var t=this;if(e&&Object.keys(e).length){var n=e.options,r=e.and;if(!n.length)return!0;for(var o=n.length,i=0,a=function(e){var o=n[e].title.id,a=n[e].opt.optId,s=t.eqxPage.getEqxCompById(o);if(s){if(s.getValue().split(",").find((function(e){return e==a}))&&(i++,!r))return"break"}else if(i++,!r)return"break"},s=0;s<o&&"break"!==a(s);s++);return!r&&i>0||r&&i===o}}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.styleImgSrc||(this.$context.find("button")[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.styleImgSrc||(this.$context[0].innerText="")}},{key:"update$boxDiv",value:function(e){l(h(d.prototype),"update$boxDiv",this).call(this,e),this.$boxDiv.css({backgroundColor:"transparent"}),this.$context.find("button").css({backgroundColor:this.compJson.css.backgroundColor,color:this.compJson.css.color})}},{key:"findCurrentRule",value:function(){return this.eqxPage.formRulesManager.getRules(this.id)}},{key:"findAffectedRules",value:function(){return this.eqxPage.formRulesManager.getAffectedRules(this.id)}},{key:"updateFormSetting",value:function(e){var t=this,n=this.eqxScene,r=n.meta,o=n.formGlobalSetting;if(!D("formSettings",r.bizType,1)){var i=r.id,a=I("formRecords");a||(P("formRecords",{}),a={});var s=a[i]||{},c=o.showLastSubmitContent,u=o.editorLastSubmitContent,l=o.clientCount,p=o.clearCycle,f=o.autoFill,d=s.num,h=void 0===d?0:d,m=s.lastTime,v=void 0===m?T():m;s&&s.lastTime!==T()&&l&&p&&(h=0,v=T()),a[i]={num:h+1,time:r.publishTime,lastTime:v},P("formRecords",a);var g=e.data,y={};if(g.forEach((function(e){e.key&&e.key.indexOf("f_vote_")>0&&(y[e.elementId]=e.value)})),P("formVotedRecords",y),f||c||u){var b=function(e){var t=I(e);t||(P(e,{}),t={}),t[i]="dataRecords"==e?x:w,P(e,t)},x={},w={};g.forEach((function(e){var n=t.eqxPage.getEqxCompById(e.elementId);n&&!n.ruleHide&&((c||u)&&(w[e.elementId]=e.origin||(e.setValue?e.setValue:e.value),"musicRecord"===n.type&&(w[e.elementId]=e.value)),f&&(x[e.elementId]=e.code||e.origin||(e.setValue?e.setValue:e.value),"musicRecord"===n.type&&(x[e.elementId]=e.value)))})),f&&b("dataRecords"),(c||u)&&b("formLastdataRecords")}}}}])&&u(t.prototype,n),r&&u(t,r),d}(b);e.exports=fe},function(e,t,n){e.exports=n.p+"images/ok-37e96a.svg"},function(e,t,n){e.exports=n.p+"images/submit-modal-073dec.png"},function(e,t,n){e.exports=n.p+"images/icon-right-5f4d91.png"},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n(778),n(779);var r=n(780),o=n(59).platformHandler,i=n(1),a=n(23).filterTags,s=n(0).isVoteSceneAd;e.exports={mobileDefaultAndVote:function(e,t,n,c,u){var l,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",f=3==e?"block":"none",d=!!(n&&Object.keys(n).length>0)&&n.showAnswer,h=d?"block":"none",m=d?"no-padding-bottom":"",v=t&&Object.keys(t).length>0&&t.btnName?"block":"none",g=o(c,"create"),y=(g&&Object.keys(g).length>0&&g.label,g&&Object.keys(g).length>0&&g.adPic&&i.FILE+g.adPic);switch(parseInt(scene.bizType,10)){case 101:l="问卷";break;case 102:l="投票";break;case 103:l="表单";break;case 104:l="测评";break;default:l="表单"}var b=p||"您的".concat(l,"已经提交，谢谢您的参与！");b=a(b);var x='<div class="icon-success">\n                       <img src="'.concat(r,'">\n                   </div>\n                   <div class="submit-des ').concat(m,'">').concat(b,'</div>\n                   <div rdt="3" cat="pc_form" act="答案解析" loc="表单提交成功" class="submit-answer-keys" style="display: ').concat(h,'">答案解析 ></div>\n                   <div class="content-bottom">\n                       <div class="btn-wrapper render-last-wrapper clearfix">\n                            <div class="link-btn" rdt="3" cat="尾页组件" act="自定义按钮" loc="表单提交成功" style="display: ').concat(v,'">').concat(t.btnName,'</div>\n                            <div class="vote-btn" style="display: ').concat(f,';height:24px;width:110px;padding:0;line-height: 24px;font-size: 12px;" rdt="3" cat="pc_form" act="投票排名" loc="表单提交成功">查看投票排名</div>\n                            <div class="create-btn" target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(y?"block":"none",'">\n                                <img src="').concat(y,'">\n                            </div>\n                            <div class="create-btn-ad create-btn text-btn" target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单').concat(s()?"-投票":"",'" loc="表单提交成功" style="background:none;display: ').concat(u?"none":"block",';line-height: 0;padding:0;height:26px;width:112px;border:none">\n                            </div>\n                       </div>\n                       <div class="submit-use" style="display: ').concat(u?"none":"block",'">此').concat(l,"是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>\n                  ");return x},pcDefaultAndVote:function(e,t,n,s,c,u){var l,p=3==e?"block":"none";switch(parseInt(scene.bizType,10)){case 101:l="问卷";break;case 102:l="投票";break;case 103:l="表单";break;case 104:l="测评";break;default:l="表单"}var f=!!(n&&Object.keys(n).length>0)&&n.showAnswer,d=f?"block":"none",h=f?"pc-no-padding-bottom":"",m=t&&Object.keys(t).length>0&&t.btnName?"block":"none",v=o(s,"create"),g=(v&&Object.keys(v).length>0&&v.label,v&&Object.keys(v).length>0&&v.adPic&&i.FILE+v.adPic),y=u||"您的表单已经提交，谢谢您的参与！";return y=a(y),'<div class="pc-icon">\n                        <img src="'.concat(r,'">\n                   </div>\n                   <div class="pc-submit-des ').concat(h,'">').concat(y,'</div>\n                   <div class="pc-submit-answer-keys" rdt="3" cat="pc_form" act="答案解析" loc="表单提交成功" style="display: ').concat(d,'">答案解析 ></div>\n                   <div class="pc-content-bottom">\n                       <div class="pc-btn-wrapper clearfix">\n                            <div class="link-btn" style="display: ').concat(m,'" rdt="3" cat="尾页组件" act="自定义按钮" loc="表单提交成功">').concat(t.btnName,'</div>\n                            <div class="vote-btn" style="display: ').concat(p,';height:24px;width:110px;padding:0;line-height: 24px;font-size: 12px;" rdt="3" cat="pc_form" act="投票排名" loc="表单提交成功">查看投票排名</div>\n                            <div class="create-btn" target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单"  loc="表单提交成功" style="display: ').concat(g?"block":"none",'">\n                                <img src="').concat(g,'">\n                            </div>\n                            <div class="create-btn-ad create-btn text-btn" target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="background:none;display: ').concat(c?"none":"block",';line-height: 0;padding:0;height:26px;width:112px;border:none">\n                            </div>\n                       </div>\n                       <div class="pc-submit-use" style="display: ').concat(c?"none":"block",'">此').concat(l,"是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>")}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/submit-success-6179a6.png"},function(e,t,n){"use strict";n(782),n(783);var r=n(784),o=n(1),i=n(23).filterTags,a=n(9).qiniuZoom,s=n(0).mobilecheck,c=n(101).scoreFormat,u=n(59).platformHandler;function l(e,t){var n="";if(!e)return{height:"",src:"",width:""};var r,o=e.match(/scale=(\d+(\.\d+)?)/);o&&o.length&&(r=o[1]);var i=320;return r&&(n=(i=t?768:s()?$(window).width():320)/r),{height:n,src:e.replace(/\?scale=(\d+(\.\d+)?)/,""),width:i}}e.exports={mobileScore:function(e,t,n,s){var p,f=e.isShow?"block":"none",d=e.text?"block":"none",h=e.imgSrc,m=h?"block":"none",v=e.btnName?"block":"none",g=l(h),y=g.height,b=g.src,x=g.width;switch(b&&(h=x&&y?a(b,x,y):a(b)),parseInt(scene.bizType,10)){case 101:p="问卷";break;case 102:p="投票";break;case 103:p="表单";break;case 104:p="测评";break;default:p="表单"}var w=!!(t&&Object.keys(t).length>0)&&t.showAnswer,S=w?"no-padding-top":"",k=e.isShow||e.text||w?"flex":"none",O=u(n,"create"),E=(O&&Object.keys(O).length>0&&O.label,O&&Object.keys(O).length>0&&O.adPic&&o.FILE+O.adPic);return'\n                   <div class="score-top" style="display: '.concat(k,'">\n                       <div class="score-tag" style="display: ').concat(f,'">\n                           <div class="icon-score">\n                                <img src="').concat(r,'">\n                           </div>\n                           <div class="score-detail">\n                                <span class="score-value">').concat(c(e.totalScore),'</span><span class="score-text">分</span>\n                           </div>\n                       </div>\n                       <div class="submit-answer-keys" rdt="3" cat="pc_form" act="答案解析" loc="表单提交成功" style="display: ').concat(1==w?"block":"none",'">答案解析 ></div>\n                       <div class="submit-score-des ').concat(S,'" style="display: ').concat(d,'">').concat(i(e.text),'</div>\n                   </div>\n                   <div class="img-middle" style="display: ').concat(m,";height: ").concat(y,'px">\n                        <img src="').concat(h,'">\n                   </div>\n                   <div class="content-bottom has-margin-content-bottom">\n                       <div class="score-btn-wrapper render-last-wrapper clearfix">\n                            <div class="link-btn" rdt="3" cat="pc_form" act="自定义按钮" loc="表单提交成功"  target="_blank" style="display: ').concat(v,'">').concat(i(e.btnName),'</div>\n                            <div class="create-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(E?"block":"none",'">\n                                <img src="').concat(E,'">\n                            </div>\n                            <div class="create-btn-ad create-btn text-btn" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="background:none;display: ').concat(s?"none":"inline-flex",';padding:0;border:none;"></div>\n                       </div>\n                       <div class="submit-score-use" style="display: ').concat(s?"none":"block",'">此').concat(p,'是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>\n                   <div class="content-bottom no-margin-content-bottom" style="display: none">\n                       <div class="score-btn-wrapper render-last-wrapper clearfix">\n                            <div class="link-btn" rdt="3" cat="pc_form" act="自定义按钮" loc="表单提交成功"  target="_blank" style="display: ').concat(v,'">').concat(i(e.btnName),'</div>\n                            <div class="create-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(E?"block":"none",'">\n                                <img src="').concat(E,'">\n                            </div>\n                            <div class="create-btn-ad create-btn text-btn" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="background:none;display: ').concat(s?"none":"inline-flex",';padding:0;border:none;"></div>\n                       </div>\n                       <div class="submit-score-use" style="display: ').concat(s?"none":"block",'">此').concat(p,"是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>")},pcScore:function(e,t,n,s){var p,f=e.isShow?"block":"none",d=e.text?"block":"none";switch(parseInt(scene.bizType,10)){case 101:p="问卷";break;case 102:p="投票";break;case 103:p="表单";break;case 104:p="测评";break;default:p="表单"}var h=!!(t&&Object.keys(t).length>0)&&t.showAnswer,m=h?"pc-no-padding-top":"",v=e.isShow||e.text||h?"flex":"none",g=e.imgSrc,y=g?"block":"none",b=e.btnName?"block":"none",x=l(g,!0),w=x.height,S=x.src,k=x.width;S&&(g=k&&w?a(S,k,w):a(S));var O=u(n,"create"),E=(O&&Object.keys(O).length>0&&O.label,O&&Object.keys(O).length>0&&O.adPic&&o.FILE+O.adPic);return'<div class="pc-score-top" style="display: '.concat(v,'">\n                       <div class="pc-score-tag" style="display: ').concat(f,'">\n                           <div class="pc-icon-score">\n                                <img src="').concat(r,'">\n                           </div>\n                           <div class="pc-score-detail">\n                                <span class="pc-score-value">').concat(c(e.totalScore),'</span>\n                                <span class="pc-score-text">分</span>\n                           </div>\n                       </div>\n                       <div class="pc-submit-answer-keys" rdt="3" cat="pc_form" act="答案解析" loc="表单提交成功" style="display: ').concat(1==h?"block":"none",'">答案解析 ></div>\n                       <div class="pc-submit-score-des ').concat(m,'" style="display: ').concat(d,'">').concat(i(e.text),'</div>\n                   </div>\n                   <div class="pc-img-middle" style="display: ').concat(y,";height: ").concat(w,'px">\n                        <img src="').concat(g,'">\n                   </div>\n                   <div class="pc-content-bottom has-margin-content-bottom">\n                       <div class="pc-score-btn-wrapper clearfix">\n                            <div class="link-btn" rdt="3" cat="pc_form" act="自定义按钮" loc="表单提交成功"  target="_blank" style="display: ').concat(b,'">').concat(i(e.btnName),'</div>\n                            <div class="create-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(E?"block":"none",'">\n                                <img src="').concat(E,'">\n                            </div>\n                            <div class="create-btn text-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(s?"none":"inline-flex",'">我也要创建表单</div>\n                       </div>\n                       <div class="pc-submit-score-use" style="display: ').concat(s?"none":"block",'">此').concat(p,'是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>\n                   <div class="pc-content-bottom pc-no-margin-content-bottom" style="display: none">\n                       <div class="pc-score-btn-wrapper clearfix">\n                            <div class="link-btn" rdt="3" cat="pc_form" act="自定义按钮" loc="表单提交成功"  target="_blank" style="display: ').concat(b,'">').concat(i(e.btnName),'</div>\n                            <div class="create-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(E?"block":"none",'">\n                                <img src="').concat(E,'">\n                            </div>\n                            <div class="create-btn text-btn"  target="_blank" rdt="3" cat="尾页组件" act="提交后创建表单" loc="表单提交成功" style="display: ').concat(s?"none":"inline-flex",'">我也要创建表单</div>\n                       </div>\n                       <div class="pc-submit-score-use" style="display: ').concat(s?"none":"block",'">此').concat(p,"是使用“<span>易企秀-表单</span>”创建的</div>\n                   </div>\n                   ")}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/colorScore-9f7847.png"},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={wraperRendered:function(e,t){return $('\n        <div class="comp-answer-list">\n            <div class="comp-answer-title">'.concat(e,'</div>\n            <div class="comp-answer-des">').concat(t,'</div>\n            <div class="comp-answer-wrap"></div>\n        </div>\n    '))},optionsRendered:function(e,t,n){return'<div class="comp-answer-item '.concat(t||""," ").concat(n,'">\n                <div class="comp-answer-radio"></div>\n                <span>').concat(e.label,"</span>\n            </div>")}}},function(e,t,n){e.exports=n.p+"images/mini-mobile-f9d28a.gif"},function(e,t,n){e.exports=n.p+"images/mini-pc-536000.gif"},function(e,t,n){"use strict";n(790);var r=n(791),o=n(3).parse,i=n(0).isMobile,a=n(9),s=n(99).maxLength;e.exports={saveResultImg:function(e){var t=function(e){var t=e.eqxScene.meta.name||e.eqxScene.meta.title;t=s(t,14);var n=window.location.href,i=$(".top-content").clone(),c=$('<div class="form-submit-box"><div class="form-submit-content"></div></div>'),u=$(o(r,{title:t}));c.find(".form-submit-content").append(i),i.append(u),[".save-result-img",".content-bottom",".iScrollVerticalScrollbar",".pc-content-bottom",".submit-flow-Ad"].forEach((function(e){i.find(e).remove()}));var l=$("<div></div>").css({position:"absolute",top:0,left:0,width:"100%",opacity:0}).appendTo($("body"));c.appendTo(l),"pcRender"===e.renderMode?l.css("width","768px"):"pcMobileRender"===e.renderMode&&l.css("width","320px");var p=i.height();return l.css("height",p),u.find("#result-qr-code").qrcode({render:"canvas",size:200,text:n}),i.find("canvas").each((function(e,t){var n=a.canvasToImage(t);n.style.width=$(t).css("width"),n.style.height=$(t).css("height"),n.setAttribute("crossorigin","anonymous"),$(t).replaceWith(n)})),c}(e);$(".save-result-img p").text("生成中"),html2canvas(t.get(0),{useCORS:!0,tainttest:!0}).then((function(e){var n,r=e.toDataURL("image/png");if(t.parent().remove(),$(".save-result-img p").text("生成图片"),i())n='\n        <div class="result-img-share">\n            <div>\n                <img src="'.concat(r,'" alt="">   \n                <p>长按保存图片</p>\n            </div>   \n        </div> \n    '),$(".nr").append(n),$(".result-img-share").click((function(){this.remove()})),$(".result-img-share img").click((function(e){e.stopPropagation()}));else{var o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",""),o.click()}}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="result-img-bottom clearfix">\n    <div id="result-qr-code"></div>\n    <div class="content">\n        <p class="title">#{title}</p>\n        <div class="des">\n            <span>长按识别或扫描二维码</span>\n            <span>立即测试</span>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t={store:"longPageStotrGuid",simple:"simpleEditorGuid",simpleComp:"simpleEditorCompGuid"},n=e.getCurrentUser().id;function o(e){if("themeSkin"==e)return"white";var t=localStorage.getItem(e);if("string"==typeof t)try{return i(t=JSON.parse(t)),t}catch(e){console.warn(e)}}function i(e){Array.isArray(e)?e.forEach(a):"object"===r(e)&&a(e)}function a(e){delete e.$$hashKey}return{getItem:o,setItem:function(e,t){return i(t),localStorage.setItem(e,JSON.stringify(t)),t},getItemByUser:function(e){return(o(e)||{})[n]},setItemByUser:function(e,t){i(t);var r=o(e)||{};r[n]=t,localStorage.setItem(e,JSON.stringify(r))},getItemValue:function(e,t){var n=localStorage.getItem(e);return!(!(n=JSON.parse(n))||0==n.length||!n[t])&&n[t]},setItemValue:function(e,t,n){var r=localStorage.getItem(e);(r=r?JSON.parse(r):{})[t]=n,localStorage.setItem(e,JSON.stringify(r))},getStorageKey:function(e){return t[e]}}}},function(e,t,n){var r=n(103),o=n(795),i=n(796),a=n(797),s=n(798),c='<div class="red-pack-container">\n    <div class="red-pack-body" id="redPackBody">\n        <div class="box">\n            <div class="top">\n                <div class="msg"><span>恭喜你获得一次</span></div>\n                <div class="title">抽取现金红包的机会</div>\n            </div>\n            <div class="bottom">\n                <div class="start-btn" id="redPackStartBtn"></div>\n                <div class="prize">\n                    <p>请在微信服务通知中领取，24小时有效</p>\n                    <span class="red-pack-step-btn">查看领取步骤>></span>\n                </div>\n                <div class="no-prize-btn">遗憾离开</div>\n            </div>\n            <div class="card">\n                <div class="msg"><span>恭喜你获得现金红包</span></div>\n                <div class="title" id="redpackAmount">#{amount}<span>元</span></div>\n                <div class="no-prize">很遗憾，本次未能中奖<br>和红包擦肩而过！</div>\n            </div>\n        </div>\n        <div class="eqf-no-l red-pack-close"></div>\n        <div class="gold"></div>\n    </div>\n    <div class="red-pack-step">\n        <div class="head">\n            <span class="title">领取步骤</span>\n            <span class="eqf-no red-pack-step-close"></span>\n        </div>\n        <div class="step-container">\n            <div class="step">\n                <p>一、点击微信消息列表页面的【服务通知】</p>\n                <img width="219" src="'+r(o)+'">\n            </div>\n            <div class="step">\n                <p>二、点击红包消息，进入红包页面</p>\n                <img width="192" src="'+r(i)+'">\n            </div>\n            <div class="step">\n                <p>三、点击领取</p>\n                <img width="174" src="'+r(a)+'">\n            </div>\n            <div class="step">\n                <p>四、领取成功</p>\n                <img width="192" src="'+r(s)+'">\n            </div>\n        </div>\n    </div>\n</div>\n';e.exports=c},function(e,t,n){e.exports=n.p+"images/red-step1-2b9ad6.png"},function(e,t,n){e.exports=n.p+"images/red-step2-9e44d0.png"},function(e,t,n){e.exports=n.p+"images/red-step3-403178.png"},function(e,t,n){e.exports=n.p+"images/red-step4-58a50b.png"},function(e,t,n){"use strict";e.exports={shareTipWapper:'<div class="shareTipBox">#{text}<em class="eqf-no"></em><i class="before"></i></div>',singleVoteTextDomTpl:"<span class='text'>\n<img src='#{img}'><span id='oneShareTip' class=\"option-text #{textClass}\">#{title}</span>，转发帮TA拉票吧</span>"}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function s(e,t,n){return(s=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(801),customElements.define("tags-f",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,n,r,a,s,p=(t=f,n=c(),function(){var e,r=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=p.call(this)).shadow=e.attachShadow({mode:"closed"}),e.shadowRoot.innerHTML='\n                <style>\n                    .info-panel-triple{\n                        width: 0;\n                        height: 0;\n                        border: 8px solid transparent;\n                        border-bottom-color: hsla(0,0%,6%,.6);\n                        position: absolute;\n                        left: 16px;\n                        top: -16px;\n                      }\n                    .info-panel-content{\n                    display: inline-block;\n                    position: relative;\n                    margin-top: 15px;\n                    height: 30px;\n                    line-height: 30px;\n                    background-color: hsla(0,0%,6%,.6);\n                    color: #FFF;\n                    text-align: left;\n                    padding-left: 15px;\n                    padding-right: 12px;\n                    border-radius: 3px;\n                    font-size: 0.8rem;\n                    letter-spacing: 0.1rem;\n                    }\n                </style>\n                <div class="info-panel-content">\n                    <div class="info-panel-triple"></div>\n                    <slot></slot>！\n                </div>\n            ',e}return r=f,(a=[{key:"connectedCallback",value:function(){}}])&&o(r.prototype,a),s&&o(r,s),f}(a(HTMLElement)))},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={normal:"normal",warn:"warning",alert:"alerting"}},function(e,t,n){"use strict";var r=n(46).getItem,o=n(137).getDateStr,i=n(53).forbid;e.exports={isForbidSubmit:function(e){if(i("formSettings",e.bizType,1)||!e.config)return!1;var t=e.id,n=e.config,a=n.clientType,s=n.clearCycle,c=n.clientCount;if(1===a){var u=r("formRecords");if(u&&u[t])if(s){if(o()===u[t].lastTime&&u[t].num>=c)return"每天只允许填写".concat(c,"次")}else if(u[t].num>=c)return"只允许填写".concat(c,"次")}return!1}}},function(e,t,n){"use strict";n(266);var r=n(8).ajax,o=n(1),i=n(0),a=i.isPc,s=i.isWeixin,c=i.isMiniProm,u=i.isVoteSceneAd,l=n(38).createWeappAd,p=n(9).qiniuZoom;e.exports={getAdAndUpdateButton:function(e){var t=c()||s(),n=a?1:!a&&t?2:a||t?1:3,i=/^local/.test(location.host)?"form.yqxiu.cn":location.host;r({method:"GET",url:"".concat(o.LONG_PAGE_PREVIEW,"form/config/ad/tail?exhibitionPlatform=").concat(n,"&mediaIds=261&code=").concat(scene.code,"&currentHost=").concat(i)}).then((function(t){var n=t.list&&t.list[0]||{};if(null==n||!n.picSrc)return!1;var r='<a class="submit-ad-button-fixed" style="width: 176px;bottom: 52px" href="'.concat(n.linkUrl,'">'),o="".concat(n.picSrc?'<img src="'.concat(p(n.picSrc),'" style="width:176px;"/>'):"");u()?r+=l(o,n):r+=o,r+="</a>",e.parent().append(r)}))}}},function(e,t,n){"use strict";n(806),n(807);var r,o,i,a,s=n(8).ajax,c=n(1),u=(n(6).popUpModal,n(0).isPc);function l(){if(p()){var e=r.find(".phone-number").val();return s({type:"GET",url:c.LONG_PAGE_PREVIEW+"lp/valid/code/submit/send",data:{phone:e,userId:scene.userId}}).then((function(e){!function e(t){r.find(".get-code").text("重新发送".concat(t,"秒")),r.find(".get-code").unbind("click"),r.find(".get-code").removeClass("active"),setTimeout((function(){(t-=1)?e(t):(r.find(".get-code").text("获取验证码"),r.find(".get-code").addClass("active"),r.find(".get-code").on("click",(function(){l().catch((function(){}))})))}),1e3)}(180)})).catch((function(e){"150005"==e.code?f("获取验证码失败，请关闭弹窗后再次提交",2):"150001"==e.code&&f("向当前手机号发送短信失败")}))}return Promise.reject()}function p(){var e=r.find(".phone-number").val(),t=/^1\d{10}$/.test(e);return e||f("请输入手机号"),t||f("手机号格式错误"),t}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r.find(".error.phone"),o=1==t?r.find(".phone-number-container"):r.find(".verify-code-container");n.length||o.append('<span class="error phone">'.concat(e,"</span>"))}function d(){r.find(".error.phone").remove()}n(808),e.exports={showMsgCodeVerify:function(e){return o=e,new Promise((function(e,t){s({method:"GET",url:c.LONG_PAGE_PREVIEW+"form/config/sms/surplus?code="+scene.code}).then((function(e){return e.obj})).then((function(n){n?function(e,t){var n;n=o?o.eqxSectionCover:$(".main-page.z-current").not(".editor-section");r=$('<div class="verify-dialog-container">\n                        <div class="background-mantle"></div>\n                        <div class="setting-dialog">\n                            <div class="header">\n                                <span class="title">请进行短信验证</span>\n                                <span class="close"></span>\n                            </div>\n                            <div class="content">\n                                <div class="phone-number-container">\n                                    <input type="text" class="phone-number" placeholder="请输入您的手机号"/>\n                                </div>\n                                <div class="verify-code-container">\n                                    <input type="text" class="code-input" placeholder="请输入验证码"/>\n                                    <button class="get-code active">获取验证码</button>\n                                </div>\n                            </div>\n                            <div class="handle">\n                                <button class="confirm">确定</button>\n                            </div>\n                        </div>\n                    </div>'),n.prepend(r),r.css("display","flex"),(!u()||o&&"pc"==o.previewMode)&&r.css({position:"fixed",width:n.css("width")});var i=function(){r.remove(),t()};r.find(".background-mantle").on("click",i),r.find(".close").on("click",i),r.find(".get-code").on("click",(function(){l().catch((function(){}))})),r.find(".phone-number").on("focus",d),r.find(".code-input").on("focus",d),r.find(".close").on("click",i),r.find(".confirm").on("click",(function(){!function(e,t){var n=r.find(".phone-number").val(),o=r.find(".code-input").val();if(p()&&function(e){var t=/^\d{6}$/.test(e);e||f("请输入验证码",2);t||f("校验失败",2);return t}(o)){(function(e){if(p()){var t=r.find(".phone-number").val();return s({type:"POST",url:c.LONG_PAGE_PREVIEW+"lp/valid/code/submit/valid",data:{phone:t,code:e}})}return Promise.reject()})(o).then((function(){e({phoneNumber:n,verifyCode:o}),r.remove()})).catch((function(e){"150002"==e.code?f("验证码已过期",2):f("验证码错误",2)}))}}(e)}))}(e,t):e()}))}))},initAnjiVerify:function(e){var t;o=e;var n="320px",s="160px",l="40px",p=parseInt(1e4*Math.random()),f="btn".concat(p),d="submit-check-anji-container".concat(p);t=o?o.eqxSectionCover:$(".main-page.z-current").not(".editor-section");r=$('<div class="verify-dialog-container">\n            <div id="'.concat(d,'"></div>\n            <button id="').concat(f,'"></button>\n        </div>')),t.prepend(r),(!u()||o&&"pc"===o.previewMode)&&r.css({position:"fixed",width:t.css("width")});(!u()||o&&"pc"!==o.previewMode)&&(n="254px",s="128px",l="32px");return $("#".concat(d)).slideVerify({baseUrl:c.LONG_PAGE_PREVIEW,containerId:f,mode:"pop",imgSize:{width:n,height:s},barSize:{width:n,height:l},ready:function(){r.find(".verifybox-close").on("click",(function(){r.css("display","none"),a&&a()}))},success:function(e){r.css("display","none"),i&&i(e)},error:function(){console.log("check failed")}}),{$wrapper:r,id:f}},showAnjiVerify:function(e){for(var t=0;t<e.$wrapper.length;t++){e.$wrapper.get(t).addEventListener("touchmove",(function(e){return e.returnValue=!1,!1}),{passive:!1})}return new Promise((function(t,n){i=t,a=n,e.$wrapper.css("display","flex"),e.$wrapper.find("#".concat(e.id)).click()}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r,o,i,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=CryptoJS.enc.Utf8.parse(t),r=CryptoJS.enc.Utf8.parse(e);return CryptoJS.AES.encrypt(r,n,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()}
/*! Verify&admin MIT License by anji-plus */a=function(){var e,t,n,r,o;return window.CryptoJS=window.CryptoJS||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,u=e.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(r,l);var p=r.splice(0,c);n.sigBytes-=u}return new a.init(p,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(o.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),e=CryptoJS,t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var n=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(n=s)}return function(e,n,r){for(var o=[],i=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2,c=r[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return t.create(o,i)}(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){var t=CryptoJS,n=t.lib,r=n.WordArray,o=n.Hasher,i=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=i.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],f=e[t+1],d=e[t+2],h=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],x=e[t+9],w=e[t+10],S=e[t+11],k=e[t+12],O=e[t+13],E=e[t+14],C=e[t+15],_=i[0],I=i[1],P=i[2],T=i[3];_=c(_,I,P,T,s,7,a[0]),T=c(T,_,I,P,f,12,a[1]),P=c(P,T,_,I,d,17,a[2]),I=c(I,P,T,_,h,22,a[3]),_=c(_,I,P,T,m,7,a[4]),T=c(T,_,I,P,v,12,a[5]),P=c(P,T,_,I,g,17,a[6]),I=c(I,P,T,_,y,22,a[7]),_=c(_,I,P,T,b,7,a[8]),T=c(T,_,I,P,x,12,a[9]),P=c(P,T,_,I,w,17,a[10]),I=c(I,P,T,_,S,22,a[11]),_=c(_,I,P,T,k,7,a[12]),T=c(T,_,I,P,O,12,a[13]),P=c(P,T,_,I,E,17,a[14]),_=u(_,I=c(I,P,T,_,C,22,a[15]),P,T,f,5,a[16]),T=u(T,_,I,P,g,9,a[17]),P=u(P,T,_,I,S,14,a[18]),I=u(I,P,T,_,s,20,a[19]),_=u(_,I,P,T,v,5,a[20]),T=u(T,_,I,P,w,9,a[21]),P=u(P,T,_,I,C,14,a[22]),I=u(I,P,T,_,m,20,a[23]),_=u(_,I,P,T,x,5,a[24]),T=u(T,_,I,P,E,9,a[25]),P=u(P,T,_,I,h,14,a[26]),I=u(I,P,T,_,b,20,a[27]),_=u(_,I,P,T,O,5,a[28]),T=u(T,_,I,P,d,9,a[29]),P=u(P,T,_,I,y,14,a[30]),_=l(_,I=u(I,P,T,_,k,20,a[31]),P,T,v,4,a[32]),T=l(T,_,I,P,b,11,a[33]),P=l(P,T,_,I,S,16,a[34]),I=l(I,P,T,_,E,23,a[35]),_=l(_,I,P,T,f,4,a[36]),T=l(T,_,I,P,m,11,a[37]),P=l(P,T,_,I,y,16,a[38]),I=l(I,P,T,_,w,23,a[39]),_=l(_,I,P,T,O,4,a[40]),T=l(T,_,I,P,s,11,a[41]),P=l(P,T,_,I,h,16,a[42]),I=l(I,P,T,_,g,23,a[43]),_=l(_,I,P,T,x,4,a[44]),T=l(T,_,I,P,k,11,a[45]),P=l(P,T,_,I,C,16,a[46]),_=p(_,I=l(I,P,T,_,d,23,a[47]),P,T,s,6,a[48]),T=p(T,_,I,P,y,10,a[49]),P=p(P,T,_,I,E,15,a[50]),I=p(I,P,T,_,v,21,a[51]),_=p(_,I,P,T,k,6,a[52]),T=p(T,_,I,P,h,10,a[53]),P=p(P,T,_,I,w,15,a[54]),I=p(I,P,T,_,f,21,a[55]),_=p(_,I,P,T,b,6,a[56]),T=p(T,_,I,P,C,10,a[57]),P=p(P,T,_,I,g,15,a[58]),I=p(I,P,T,_,O,21,a[59]),_=p(_,I,P,T,m,6,a[60]),T=p(T,_,I,P,S,10,a[61]),P=p(P,T,_,I,d,15,a[62]),I=p(I,P,T,_,x,21,a[63]),i[0]=i[0]+_|0,i[1]=i[1]+I|0,i[2]=i[2]+P|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=o._createHelper(s),t.HmacMD5=o._createHmacHelper(s)}(Math),function(){var e=CryptoJS,t=e.lib,n=t.WordArray,r=t.Hasher,o=e.algo,i=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)i[u]=0|e[t+u];else{var l=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=l<<1|l>>>31}var p=(r<<5|r>>>27)+c+i[u];p+=u<20?1518500249+(o&a|~o&s):u<40?1859775393+(o^a^s):u<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,c=s,s=a,a=o<<30|o>>>2,o=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),function(e){var t=CryptoJS,n=t.lib,r=n.WordArray,o=n.Hasher,i=t.algo,a=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),s[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],u=i.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],l=n[5],p=n[6],f=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var h=c[d-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=c[d-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[d]=m+c[d-7]+g+c[d-16]}var y=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),x=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&p)+s[d]+c[d];f=p,p=l,l=u,u=a+x|0,a=i,i=o,o=r,r=x+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),function(){var e=CryptoJS,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i+=2){var a=r(t[i>>>2]>>>16-i%4*8&65535);o.push(String.fromCharCode(a))}return o.join("")},parse:function(e){for(var n=e.length,o=[],i=0;i<n;i++)o[i>>>1]|=r(e.charCodeAt(i)<<16-i%2*16);return t.create(o,2*n)}}}(),function(){if("function"==typeof ArrayBuffer){var e=CryptoJS.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),
/** @preserve
   (c) 2012 by Cédric Mesnil. All rights reserved.
    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
   - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
function(e){var t=CryptoJS,n=t.lib,r=n.WordArray,o=n.Hasher,i=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),p=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=i.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,f,b,x,w,S,k,O,E,C,_,I=this._hash.words,P=l.words,T=p.words,R=a.words,$=s.words,A=c.words,q=u.words;for(S=i=I[0],k=f=I[1],O=b=I[2],E=x=I[3],C=w=I[4],n=0;n<80;n+=1)_=i+e[t+R[n]]|0,_+=n<16?d(f,b,x)+P[0]:n<32?h(f,b,x)+P[1]:n<48?m(f,b,x)+P[2]:n<64?v(f,b,x)+P[3]:g(f,b,x)+P[4],_=(_=y(_|=0,A[n]))+w|0,i=w,w=x,x=y(b,10),b=f,f=_,_=S+e[t+$[n]]|0,_+=n<16?g(k,O,E)+T[0]:n<32?v(k,O,E)+T[1]:n<48?m(k,O,E)+T[2]:n<64?h(k,O,E)+T[3]:d(k,O,E)+T[4],_=(_=y(_|=0,q[n]))+C|0,S=C,C=E,E=y(O,10),O=k,k=_;_=I[1]+b+E|0,I[1]=I[2]+x+C|0,I[2]=I[3]+w+S|0,I[3]=I[4]+i+k|0,I[4]=I[0]+f+O|0,I[0]=_},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,n){return e^t^n}function h(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function g(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(f),t.HmacRIPEMD160=o._createHmacHelper(f)}(Math),function(){var e=CryptoJS,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}(),function(){var e=CryptoJS,t=e.lib,n=t.Base,r=t.WordArray,o=e.algo,i=o.SHA1,a=o.HMAC,s=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:i,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=a.create(n.hasher,e),i=r.create(),s=r.create([1]),c=i.words,u=s.words,l=n.keySize,p=n.iterations;c.length<l;){var f=o.update(t).finalize(s);o.reset();for(var d=f.words,h=d.length,m=f,v=1;v<p;v++){m=o.finalize(m),o.reset();for(var g=m.words,y=0;y<h;y++)d[y]^=g[y]}i.concat(f),u[0]++}return i.sigBytes=4*l,i}});e.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}(),function(){var e=CryptoJS,t=e.lib,n=t.Base,r=t.WordArray,o=e.algo,i=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:i,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=n.hasher.create(),i=r.create(),a=i.words,s=n.keySize,c=n.iterations;a.length<s;){u&&o.update(u);var u=o.update(e).finalize(t);o.reset();for(var l=1;l<c;l++)u=o.finalize(u),o.reset();i.concat(u)}return i.sigBytes=4*s,i}});e.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),function(){var e=CryptoJS,t=e.lib.WordArray,n=e.algo,r=n.SHA256,o=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(o),e.HmacSHA224=r._createHmacHelper(o)}(),function(e){var t=CryptoJS,n=t.lib,r=n.Base,o=n.WordArray,i=t.x64={};i.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,o=0;o<n;o++)t[o]=t[o].clone();return e}})}(),function(e){var t=CryptoJS,n=t.lib,r=n.WordArray,o=n.Hasher,i=t.x64.Word,a=t.algo,s=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){s[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,a=0;a<24;a++){for(var l=0,p=0,f=0;f<7;f++){if(1&o){var d=(1<<f)-1;d<32?p^=1<<d:l^=1<<d-32}128&o?o=o<<1^113:o<<=1}u[a]=i.create(l,p)}}();var l=[];!function(){for(var e=0;e<25;e++)l[e]=i.create()}();var p=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],a=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=n[o]).high^=a,I.low^=i}for(var p=0;p<24;p++){for(var f=0;f<5;f++){for(var d=0,h=0,m=0;m<5;m++)d^=(I=n[f+5*m]).high,h^=I.low;var v=l[f];v.high=d,v.low=h}for(f=0;f<5;f++){var g=l[(f+4)%5],y=l[(f+1)%5],b=y.high,x=y.low;for(d=g.high^(b<<1|x>>>31),h=g.low^(x<<1|b>>>31),m=0;m<5;m++)(I=n[f+5*m]).high^=d,I.low^=h}for(var w=1;w<25;w++){var S=(I=n[w]).high,k=I.low,O=s[w];O<32?(d=S<<O|k>>>32-O,h=k<<O|S>>>32-O):(d=k<<O-32|S>>>64-O,h=S<<O-32|k>>>64-O);var E=l[c[w]];E.high=d,E.low=h}var C=l[0],_=n[0];for(C.high=_.high,C.low=_.low,f=0;f<5;f++)for(m=0;m<5;m++){var I=n[w=f+5*m],P=l[w],T=l[(f+1)%5+5*m],R=l[(f+2)%5+5*m];I.high=P.high^~T.high&R.high,I.low=P.low^~T.low&R.low}I=n[0];var $=u[p];I.high^=$.high,I.low^=$.low}},_doFinalize:function(){var t=this._data,n=t.words,o=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[o>>>5]|=1<<24-o%32,n[(e.ceil((o+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var p=a[l],f=p.high,d=p.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(f)}return new r.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(p),t.HmacSHA3=o._createHmacHelper(p)}(Math),function(){var e=CryptoJS,t=e.lib.Hasher,n=e.x64,r=n.Word,o=n.WordArray,i=e.algo;function a(){return r.create.apply(r,arguments)}var s=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=i.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],l=n[5],p=n[6],f=n[7],d=r.high,h=r.low,m=o.high,v=o.low,g=i.high,y=i.low,b=a.high,x=a.low,w=u.high,S=u.low,k=l.high,O=l.low,E=p.high,C=p.low,_=f.high,I=f.low,P=d,T=h,R=m,$=v,A=g,q=y,j=b,L=x,M=w,D=S,B=k,F=O,N=E,H=C,z=_,J=I,V=0;V<80;V++){var U=c[V];if(V<16)var W=U.high=0|e[t+2*V],G=U.low=0|e[t+2*V+1];else{var K=c[V-15],X=K.high,Q=K.low,Y=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,Z=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),ee=c[V-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=c[V-7],ae=ie.high,se=ie.low,ce=c[V-16],ue=ce.high,le=ce.low;W=(W=(W=Y+ae+((G=Z+se)>>>0<Z>>>0?1:0))+re+((G+=oe)>>>0<oe>>>0?1:0))+ue+((G+=le)>>>0<le>>>0?1:0),U.high=W,U.low=G}var pe,fe=M&B^~M&N,de=D&F^~D&H,he=P&R^P&A^R&A,me=T&$^T&q^$&q,ve=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),ge=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),ye=(M>>>14|D<<18)^(M>>>18|D<<14)^(M<<23|D>>>9),be=(D>>>14|M<<18)^(D>>>18|M<<14)^(D<<23|M>>>9),xe=s[V],we=xe.high,Se=xe.low,ke=z+ye+((pe=J+be)>>>0<J>>>0?1:0),Oe=ge+me;z=N,J=H,N=B,H=F,B=M,F=D,M=j+(ke=(ke=(ke=ke+fe+((pe+=de)>>>0<de>>>0?1:0))+we+((pe+=Se)>>>0<Se>>>0?1:0))+W+((pe+=G)>>>0<G>>>0?1:0))+((D=L+pe|0)>>>0<L>>>0?1:0)|0,j=A,L=q,A=R,q=$,R=P,$=T,P=ke+(ve+he+(Oe>>>0<ge>>>0?1:0))+((T=pe+Oe|0)>>>0<pe>>>0?1:0)|0}h=r.low=h+T,r.high=d+P+(h>>>0<T>>>0?1:0),v=o.low=v+$,o.high=m+R+(v>>>0<$>>>0?1:0),y=i.low=y+q,i.high=g+A+(y>>>0<q>>>0?1:0),x=a.low=x+L,a.high=b+j+(x>>>0<L>>>0?1:0),S=u.low=S+D,u.high=w+M+(S>>>0<D>>>0?1:0),O=l.low=O+F,l.high=k+B+(O>>>0<F>>>0?1:0),C=p.low=C+H,p.high=E+N+(C>>>0<H>>>0?1:0),I=f.low=I+J,f.high=_+z+(I>>>0<J>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),function(){var e=CryptoJS,t=e.x64,n=t.Word,r=t.WordArray,o=e.algo,i=o.SHA512,a=o.SHA384=i.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(a),e.HmacSHA384=i._createHmacHelper(a)}(),CryptoJS.lib.Cipher||function(e){var t=CryptoJS,n=t.lib,r=n.Base,o=n.WordArray,i=n.BufferedBlockAlgorithm,a=t.enc,s=(a.Utf8,a.Base64),c=t.algo.EvpKDF,u=n.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:v}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),l=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),p=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=l.CBC=function(){var e=p.extend();function t(e,t,n){var r=this._iv;if(r){var o=r;this._iv=void 0}else o=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=o[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),e}(),d=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},h=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:d}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(n,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(s)},parse:function(e){var t=s.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:r})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return h.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=c.create({keySize:t+n}).compute(e,r),a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,h.create({key:i,iv:a,salt:r})}},y=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:g}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=v.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=o.iv,v.decrypt.call(this,e,t,o.key,r)}})}(),CryptoJS.mode.CFB=function(){var e=CryptoJS.lib.BlockCipherMode.extend();function t(e,t,n,r){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),CryptoJS.mode.ECB=((n=CryptoJS.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),CryptoJS.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},CryptoJS.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(CryptoJS.lib.WordArray.random(r-1)).concat(CryptoJS.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},CryptoJS.pad.Iso97971={pad:function(e,t){e.concat(CryptoJS.lib.WordArray.create([2147483648],1)),CryptoJS.pad.ZeroPadding.pad(e,t)},unpad:function(e){CryptoJS.pad.ZeroPadding.unpad(e),e.sigBytes--}},CryptoJS.mode.OFB=(r=CryptoJS.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}}),r.Decryptor=o,r),CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var t=CryptoJS,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),function(){var e=CryptoJS,t=e.lib.BlockCipher,n=e.algo,r=[],o=[],i=[],a=[],s=[],c=[],u=[],l=[],p=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,d=0;for(t=0;t<256;t++){var h=d^d<<1^d<<2^d<<3^d<<4;h=h>>>8^255&h^99,r[n]=h,o[h]=n;var m=e[n],v=e[m],g=e[v],y=257*e[h]^16843008*h;i[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,s[n]=y<<8|y>>>24,c[n]=y,y=16843009*g^65537*v^257*m^16843008*n,u[h]=y<<24|y>>>8,l[h]=y<<16|y>>>16,p[h]=y<<8|y>>>24,f[h]=y,n?(n=m^e[e[e[g^m]]],d^=e[e[d]]):n=d=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],h=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,o=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<o;a++)if(a<n)i[a]=t[a];else{var s=i[a-1];a%n?n>6&&a%n==4&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=d[a/n|0]<<24),i[a]=i[a-n]^s}for(var c=this._invKeySchedule=[],h=0;h<o;h++)a=o-h,s=h%4?i[a]:i[a-4],c[h]=h<4||a<=4?s:u[r[s>>>24]]^l[r[s>>>16&255]]^p[r[s>>>8&255]]^f[r[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,a,s,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,p,f,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],f=e[t+3]^n[3],d=4,h=1;h<c;h++){var m=r[u>>>24]^o[l>>>16&255]^i[p>>>8&255]^a[255&f]^n[d++],v=r[l>>>24]^o[p>>>16&255]^i[f>>>8&255]^a[255&u]^n[d++],g=r[p>>>24]^o[f>>>16&255]^i[u>>>8&255]^a[255&l]^n[d++],y=r[f>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&p]^n[d++];u=m,l=v,p=g,f=y}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^n[d++],v=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^n[d++],g=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],y=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[d++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(h)}(),function(){var e=CryptoJS,t=e.lib,n=t.WordArray,r=t.BlockCipher,o=e.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=i[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],c=0;c<16;c++){var u=o[c]=[],l=s[c];for(n=0;n<24;n++)u[n/6|0]|=t[(a[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(a[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var p=this._invSubKeys=[];for(n=0;n<16;n++)p[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),p.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((a^o[l])&u[l])>>>0];this._lBlock=a,this._rBlock=i^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(l);var d=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;this._des1=l.createEncryptor(n.create(e.slice(0,2))),this._des2=l.createEncryptor(n.create(e.slice(2,4))),this._des3=l.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(d)}(),function(){var e=CryptoJS,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var a=o%n,s=t[a>>>2]>>>24-a%4*8&255;i=(i+r[o]+s)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var i=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(i)}(),
/** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   */
CryptoJS.mode.CTRGladman=function(){var e=CryptoJS.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<o;c++)e[n+c]^=s[c]}});return e.Decryptor=n,e}(),function(){var e=CryptoJS,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],i=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,a=i[0],c=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,f=l<<16|65535&u;for(o[0]^=u,o[1]^=p,o[2]^=l,o[3]^=f,o[4]^=u,o[5]^=p,o[6]^=l,o[7]^=f,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),e[t+o]^=r[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,s=r>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);i[n]=c^u}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.Rabbit=t._createHelper(a)}(),CryptoJS.mode.CTR=function(){var e=CryptoJS.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[r-1]=i[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}});return e.Decryptor=t,e}(),function(){var e=CryptoJS,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],i=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)s.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,a=i[0],c=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,f=l<<16|65535&u;for(r[0]^=u,r[1]^=p,r[2]^=l,r[3]^=f,r[4]^=u,r[5]^=p,r[6]^=l,r[7]^=f,o=0;o<4;o++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),e[t+o]^=r[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,s=r>>>16,c=((a*a>>>17)+a*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);i[n]=c^u}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.RabbitLegacy=t._createHelper(a)}(),CryptoJS.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},CryptoJS},"object"===s(t)?e.exports=t=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i)),function(e,t,n,r){function o(t,n){return new Promise((function(r,o){e.ajax({type:"post",contentType:"application/json;charset=UTF-8",url:n+"/captcha/get",data:JSON.stringify(t),success:function(e){r(e)},fail:function(e){o(e)}})}))}function i(t,n){return new Promise((function(r,o){e.ajax({type:"post",contentType:"application/json;charset=UTF-8",url:n+"/captcha/check",data:JSON.stringify(t),success:function(e){r(e)},fail:function(e){o(e)}})}))}var a=function(t,n){this.$element=t,this.backToken=null,this.moveLeftDistance=0,this.secretKey="",this.defaults={baseUrl:"https://mirror.anji-plus.com/captcha-api",containerId:"",captchaType:"blockPuzzle",mode:"fixed",vOffset:5,vSpace:5,explain:"向右滑动完成验证",imgSize:{width:"310px",height:"155px"},blockSize:{width:"50px",height:"50px"},circleRadius:"10px",barSize:{width:"310px",height:"50px"},beforeCheck:function(){return!0},ready:function(){},success:function(){},error:function(){}},this.options=e.extend({},this.defaults,n)};a.prototype={init:function(){var e=this;if(this.loadDom(),e.refresh(),this.options.ready(),this.$element[0].onselectstart=n.body.ondrag=function(){return!1},"pop"==this.options.mode){e.$element.find(".verifybox-close").on("click",(function(){e.$element.find(".mask").css("display","none"),e.refresh()}));var r=n.getElementById(this.options.containerId);r&&(r.onclick=function(){e.options.beforeCheck()&&(e.refresh(),e.$element.find(".mask").css("display","block"))})}this.htmlDoms.move_block.on("touchstart",(function(t){e.start(t)})),this.htmlDoms.move_block.on("mousedown",(function(t){e.start(t)})),t.addEventListener("touchmove",(function(t){e.move(t)})),t.addEventListener("mousemove",(function(t){e.move(t)})),t.addEventListener("touchend",(function(){e.end()})),t.addEventListener("mouseup",(function(){e.end()})),e.$element.find(".verify-refresh").on("click",(function(){e.refresh()}))},loadDom:function(){this.status=!1,this.isEnd=!1,this.setSize=this.resetSize(this),this.plusWidth=0,this.plusHeight=0,this.x=0,this.y=0;var e="";this.lengthPercent=(parseInt(this.setSize.img_width)-parseInt(this.setSize.block_width)-parseInt(this.setSize.circle_radius)-.8*parseInt(this.setSize.circle_radius))/(parseInt(this.setSize.img_width)-parseInt(this.setSize.bar_height));var t='<div class="mask">\n\t\t\t\t\t\t\t\t<div class="verifybox" style="width:'.concat(parseInt(this.setSize.img_width)+30,'px">\n\t\t\t\t\t\t\t\t\t<div class="verifybox-top">\n\t\t\t\t\t\t\t\t\t\t请完成安全验证\n\t\t\t\t\t\t\t\t\t\t<span class="verifybox-close">\n\t\t\t\t\t\t\t\t\t\t\t<i class="verfiIconfont icon-close"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="verifybox-bottom" style="padding:15px">\n\t\t\t\t\t\t\t\t\t\t<div style="position: relative;">');"pop"==this.options.mode&&(e=t),e+='<div class="verify-img-out">\n\t\t\t\t\t\t\t<div class="verify-img-panel">\n\t\t\t\t\t\t\t\t<div class="verify-refresh" style="z-index:3">\n\t\t\t\t\t\t\t\t\t<i class="verfiIconfont icon-refresh"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class="verify-tips"  class="suc-bg"></span>\n\t\t\t\t\t\t\t\t<img src="" class="backImg" style="width:100%;height:100%;display:block">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>',this.plusWidth=parseInt(this.setSize.block_width)+2*parseInt(this.setSize.circle_radius)-.2*parseInt(this.setSize.circle_radius),this.plusHeight=parseInt(this.setSize.block_height)+2*parseInt(this.setSize.circle_radius)-.2*parseInt(this.setSize.circle_radius),e+='<div class="verify-bar-area" style="{width:'.concat(this.setSize.img_width,",height:").concat(this.setSize.bar_height,",'line-height':").concat(this.setSize.bar_height,'">\n\t\t\t\t\t\t\t\t\t<span  class="verify-msg">').concat(this.options.explain,'</span>\n\t\t\t\t\t\t\t\t\t<div class="verify-left-bar">\n\t\t\t\t\t\t\t\t\t\t<span class="verify-msg"></span>\n\t\t\t\t\t\t\t\t\t\t<div  class="verify-move-block">\n\t\t\t\t\t\t\t\t\t\t\t<i  class="verify-icon verfiIconfont icon-right"></i>\n\t\t\t\t\t\t\t\t\t\t\t<div class="verify-sub-block">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="" class="bock-backImg" alt=""  style="width:100%;height:100%;display:block">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>');"pop"==this.options.mode&&(e+="</div></div></div></div>"),this.$element.append(e),this.htmlDoms={tips:this.$element.find(".verify-tips"),sub_block:this.$element.find(".verify-sub-block"),out_panel:this.$element.find(".verify-img-out"),img_panel:this.$element.find(".verify-img-panel"),img_canvas:this.$element.find(".verify-img-canvas"),bar_area:this.$element.find(".verify-bar-area"),move_block:this.$element.find(".verify-move-block"),left_bar:this.$element.find(".verify-left-bar"),msg:this.$element.find(".verify-msg"),icon:this.$element.find(".verify-icon"),refresh:this.$element.find(".verify-refresh")},this.$element.css("position","relative"),this.htmlDoms.sub_block.css({height:this.setSize.img_height,width:Math.floor(47*parseInt(this.setSize.img_width)/310)+"px",top:-(parseInt(this.setSize.img_height)+this.options.vSpace)+"px"}),this.htmlDoms.out_panel.css("height",parseInt(this.setSize.img_height)+this.options.vSpace+"px"),this.htmlDoms.img_panel.css({width:this.setSize.img_width,height:this.setSize.img_height}),this.htmlDoms.bar_area.css({width:this.setSize.img_width,height:this.setSize.bar_height,"line-height":this.setSize.bar_height}),this.htmlDoms.move_block.css({width:this.setSize.bar_height,height:this.setSize.bar_height}),this.htmlDoms.left_bar.css({width:this.setSize.bar_height,height:this.setSize.bar_height})},start:function(e){if((e=e.originalEvent||e).touches)t=e.touches[0].pageX;else var t=e.clientX;this.startLeft=Math.floor(t-this.htmlDoms.bar_area[0].getBoundingClientRect().left),this.startMoveTime=(new Date).getTime(),0==this.isEnd&&(this.htmlDoms.msg.text(""),this.htmlDoms.move_block.css("background-color","#337ab7"),this.htmlDoms.left_bar.css("border-color","#337AB7"),this.htmlDoms.icon.css("color","#fff"),e.stopPropagation(),this.status=!0)},move:function(e){if(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.status&&0==this.isEnd){if(e.touches)t=e.touches[0].pageX;else var t=e.clientX;var n=t-this.htmlDoms.bar_area[0].getBoundingClientRect().left;n>=this.htmlDoms.bar_area[0].offsetWidth-parseInt(this.setSize.bar_height)+parseInt(parseInt(this.setSize.block_width)/2)-2&&(n=this.htmlDoms.bar_area[0].offsetWidth-parseInt(this.setSize.bar_height)+parseInt(parseInt(this.setSize.block_width)/2)-2),n<=parseInt(parseInt(this.setSize.block_width)/2)&&(n=parseInt(parseInt(this.setSize.block_width)/2)),this.htmlDoms.move_block.css("left",n-this.startLeft+"px"),this.htmlDoms.left_bar.css("width",n-this.startLeft+"px"),this.htmlDoms.sub_block.css("left","0px"),this.moveLeftDistance=n-this.startLeft}},end:function(){var e=this;this.endMovetime=(new Date).getTime();var t=this;if(this.status&&0==this.isEnd){parseInt(this.options.vOffset);this.moveLeftDistance=310*this.moveLeftDistance/parseInt(this.setSize.img_width);var n={captchaType:this.options.captchaType,pointJson:this.secretKey?c(JSON.stringify({x:this.moveLeftDistance,y:5}),this.secretKey):JSON.stringify({x:this.moveLeftDistance,y:5}),token:this.backToken},r=this.secretKey?c(this.backToken+"---"+JSON.stringify({x:this.moveLeftDistance,y:5}),this.secretKey):this.backToken+"---"+JSON.stringify({x:this.moveLeftDistance,y:5});i(n,this.options.baseUrl).then((function(n){"0000"==n.repCode?(e.htmlDoms.move_block.css("background-color","#5cb85c"),e.htmlDoms.left_bar.css({"border-color":"#5cb85c","background-color":"#fff"}),e.htmlDoms.icon.css("color","#fff"),e.htmlDoms.icon.removeClass("icon-right"),e.htmlDoms.icon.addClass("icon-check"),e.htmlDoms.tips.addClass("suc-bg").removeClass("err-bg"),e.htmlDoms.tips.css({display:"block",animation:"move 1s cubic-bezier(0, 0, 0.39, 1.01)"}),e.htmlDoms.tips.text("".concat(((e.endMovetime-e.startMoveTime)/1e3).toFixed(2),"s验证成功")),e.isEnd=!0,setTimeout((function(n){t.$element.find(".mask").css("display","none"),e.htmlDoms.tips.css({display:"none",animation:"none"})}),1e3),e.options.success({captchaVerification:r})):(e.htmlDoms.move_block.css("background-color","#d9534f"),e.htmlDoms.left_bar.css("border-color","#d9534f"),e.htmlDoms.icon.css("color","#fff"),e.htmlDoms.icon.removeClass("icon-right"),e.htmlDoms.icon.addClass("icon-close"),e.htmlDoms.tips.addClass("err-bg").removeClass("suc-bg"),e.htmlDoms.tips.css({display:"block",animation:"move 1.3s cubic-bezier(0, 0, 0.39, 1.01)"}),e.htmlDoms.tips.text(n.repMsg),setTimeout((function(){t.refresh()}),400),setTimeout((function(){e.htmlDoms.tips.css({display:"none",animation:"none"})}),1300),e.options.error(e))})),this.status=!1}},resetSize:function(n){var r,o,i,a,s,c,u,l=n.$element.parent().width()||e(t).width(),p=n.$element.parent().height()||e(t).height();return r=-1!=n.options.imgSize.width.indexOf("%")?parseInt(n.options.imgSize.width)/100*l+"px":n.options.imgSize.width,o=-1!=n.options.imgSize.height.indexOf("%")?parseInt(n.options.imgSize.height)/100*p+"px":n.options.imgSize.height,i=-1!=n.options.barSize.width.indexOf("%")?parseInt(n.options.barSize.width)/100*l+"px":n.options.barSize.width,a=-1!=n.options.barSize.height.indexOf("%")?parseInt(n.options.barSize.height)/100*p+"px":n.options.barSize.height,n.options.blockSize&&(s=-1!=n.options.blockSize.width.indexOf("%")?parseInt(n.options.blockSize.width)/100*l+"px":n.options.blockSize.width,c=-1!=n.options.blockSize.height.indexOf("%")?parseInt(n.options.blockSize.height)/100*p+"px":n.options.blockSize.height),n.options.circleRadius&&(u=-1!=n.options.circleRadius.indexOf("%")?parseInt(n.options.circleRadius)/100*p+"px":n.options.circleRadius),{img_width:r,img_height:o,bar_width:i,bar_height:a,block_width:s,block_height:c,circle_radius:u}},refresh:function(){var e=this;this.htmlDoms.refresh.show(),this.$element.find(".verify-msg:eq(1)").text(""),this.$element.find(".verify-msg:eq(1)").css("color","#000"),this.htmlDoms.move_block.animate({left:"0px"},"fast"),this.htmlDoms.left_bar.animate({width:parseInt(this.setSize.bar_height)},"fast"),this.htmlDoms.left_bar.css({"border-color":"#ddd"}),this.htmlDoms.move_block.css("background-color","#fff"),this.htmlDoms.icon.css("color","#000"),this.htmlDoms.icon.removeClass("icon-close"),this.htmlDoms.icon.addClass("icon-right"),this.$element.find(".verify-msg:eq(0)").text(this.options.explain),this.isEnd=!1,o({captchaType:"blockPuzzle"},this.options.baseUrl).then((function(t){"0000"==t.repCode&&(e.$element.find(".backImg")[0].src="data:image/png;base64,"+t.repData.originalImageBase64,e.$element.find(".bock-backImg")[0].src="data:image/png;base64,"+t.repData.jigsawImageBase64,e.secretKey=t.repData.secretKey,e.backToken=t.repData.token)})),this.htmlDoms.sub_block.css("left","0px")}};var s=function(t,n){this.$element=t,this.backToken=null,this.secretKey="",this.defaults={baseUrl:"https://mirror.anji-plus.com/captcha-api",captchaType:"clickWord",containerId:"",mode:"fixed",checkNum:3,vSpace:5,imgSize:{width:"310px",height:"155px"},barSize:{width:"310px",height:"50px"},beforeCheck:function(){return!0},ready:function(){},success:function(){},error:function(){}},this.options=e.extend({},this.defaults,n)};s.prototype={init:function(){var e=this;if(e.loadDom(),e.refresh(),e.options.ready(),this.$element[0].onselectstart=n.body.ondrag=function(){return!1},"pop"==this.options.mode){e.$element.find(".verifybox-close").on("click",(function(){e.$element.find(".mask").css("display","none")}));var t=n.getElementById(this.options.containerId);t&&(t.onclick=function(){e.options.beforeCheck()&&(e.refresh(),e.$element.find(".mask").css("display","block"))})}e.$element.find(".back-img").on("click",(function(t){e.checkPosArr.push(e.getMousePos(this,t)),e.num==e.options.checkNum&&(e.num=e.createPoint(e.getMousePos(this,t)),e.checkPosArr=e.pointTransfrom(e.checkPosArr,e.setSize),setTimeout((function(){var t={captchaType:e.options.captchaType,pointJson:e.secretKey?c(JSON.stringify(e.checkPosArr),e.secretKey):JSON.stringify(e.checkPosArr),token:e.backToken},n=e.secretKey?c(e.backToken+"---"+JSON.stringify(e.checkPosArr),e.secretKey):e.backToken+"---"+JSON.stringify(e.checkPosArr);i(t,e.options.baseUrl).then((function(t){"0000"==t.repCode?(e.$element.find(".verify-bar-area").css({color:"#4cae4c","border-color":"#5cb85c"}),e.$element.find(".verify-msg").text("验证成功"),e.$element.find(".verify-img-panel").unbind("click"),setTimeout((function(t){e.$element.find(".mask").css("display","none"),e.refresh()}),1e3),e.options.success({captchaVerification:n})):(e.options.error(e),e.$element.find(".verify-bar-area").css({color:"#d9534f","border-color":"#d9534f"}),e.$element.find(".verify-msg").text("验证失败"),setTimeout((function(){e.$element.find(".verify-bar-area").css({color:"#000","border-color":"#ddd"}),e.refresh()}),400))}))}),400)),e.num<e.options.checkNum&&(e.num=e.createPoint(e.getMousePos(this,t)))})),e.$element.find(".verify-refresh").on("click",(function(){e.refresh()}))},loadDom:function(){this.fontPos=[],this.checkPosArr=[],this.num=1;var e,t="";this.setSize=a.prototype.resetSize(this),e='<div class="mask">\n\t\t\t\t\t\t\t\t<div class="verifybox" style="width:'.concat(parseInt(this.setSize.img_width)+30,'px">\n\t\t\t\t\t\t\t\t\t<div class="verifybox-top">\n\t\t\t\t\t\t\t\t\t\t请完成安全验证\n\t\t\t\t\t\t\t\t\t\t<span class="verifybox-close">\n\t\t\t\t\t\t\t\t\t\t\t<i class="verfiIconfont icon-close"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="verifybox-bottom" style="padding:15px">\n\t\t\t\t\t\t\t\t\t\t<div style="position: relative;">'),"pop"==this.options.mode&&(t=e),t+='<div class="verify-img-out">\n\t\t\t\t\t\t\t<div class="verify-img-panel">\n\t\t\t\t\t\t\t\t<div class="verify-refresh" style="z-index:3">\n\t\t\t\t\t\t\t\t\t<i class="verfiIconfont icon-refresh"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<img src=\'\' class="back-img" width="'.concat(this.setSize.img_width,'" height="').concat(this.setSize.img_height,'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="verify-bar-area" style="{width:').concat(this.setSize.img_width,",height:").concat(this.setSize.bar_height,",'line-height':").concat(this.setSize.bar_height,'">\n\t\t\t\t\t\t\t<span  class="verify-msg"></span>\n\t\t\t\t\t\t</div>'),wrapEndHtml="</div></div></div></div>","pop"==this.options.mode&&(t+=wrapEndHtml),this.$element.append(t),this.htmlDoms={back_img:this.$element.find(".back-img"),out_panel:this.$element.find(".verify-img-out"),img_panel:this.$element.find(".verify-img-panel"),bar_area:this.$element.find(".verify-bar-area"),msg:this.$element.find(".verify-msg")},this.$element.css("position","relative"),this.htmlDoms.out_panel.css("height",parseInt(this.setSize.img_height)+this.options.vSpace+"px"),this.htmlDoms.img_panel.css({width:this.setSize.img_width,height:this.setSize.img_height,"background-size":this.setSize.img_width+" "+this.setSize.img_height,"margin-bottom":this.options.vSpace+"px"}),this.htmlDoms.bar_area.css({width:this.setSize.img_width,height:this.setSize.bar_height,"line-height":this.setSize.bar_height})},getMousePos:function(r,o){var i=o||t.event;n.documentElement.scrollLeft||n.body.scrollLeft,n.documentElement.scrollTop||n.body.scrollTop;return{x:i.clientX-(e(r).offset().left-e(t).scrollLeft()),y:i.clientY-(e(r).offset().top-e(t).scrollTop())}},createPoint:function(e){return this.htmlDoms.img_panel.append('<div class="point-area" style="background-color:#1abd6c;color:#fff;z-index:9999;width:20px;height:20px;text-align:center;line-height:20px;border-radius: 50%;position:absolute;\n\t\t\t   \t\t\t\t\t\t\t\t\t\ttop:'.concat(parseInt(e.y-10),"px;left:").concat(parseInt(e.x-10),'px;">').concat(this.num,"</div>")),++this.num},refresh:function(){var e=this,t=this;this.$element.find(".point-area").remove(),this.fontPos=[],this.checkPosArr=[],this.num=1,o({captchaType:"clickWord"},t.options.baseUrl).then((function(n){if("0000"==n.repCode){e.htmlDoms.back_img[0].src="data:image/png;base64,"+n.repData.originalImageBase64,e.backToken=n.repData.token,e.secretKey=n.repData.secretKey;var r="请依次点击【"+n.repData.wordList.join(",")+"】";t.$element.find(".verify-msg").text(r)}}))},pointTransfrom:function(e,t){return e.map((function(e){return{x:Math.round(310*e.x/parseInt(t.img_width)),y:Math.round(155*e.y/parseInt(t.img_height))}}))}},e.fn.slideVerify=function(e,t){var n=new a(this,e);("pop"==n.options.mode&&n.options.beforeCheck()||"fixed"==n.options.mode)&&n.init()},e.fn.pointsVerify=function(e,t){var n=new s(this,e);("pop"==n.options.mode&&n.options.beforeCheck()||"fixed"==n.options.mode)&&n.init()}}(jQuery,window,document)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(810);var o=n(1),i=n(0),a=i.mobilecheck,s=i.isIOS,c=i.isVoteSceneAd,u=n(46),l=u._getItem,p=u.getItem,f=u._setItem,d=n(811),h=n(56).getAd,m=n(38).createWeappAd,v=n(16).getRatio,g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.comp=t,this.page=this.comp.eqxPage,this.duration=n,this.sceneId=this.comp.eqxScene.meta.id;var r=l("_test_setting")||{};this.lastDuration=r[this.sceneId]||0,this.totalTime=60*n-this.lastDuration,this.eventName=s()?"pagehide":"unload",this.adapterAndroid=p("Form_Adapter_Android_Records")||{},this.openCover=this.page.eqxScene.getPageConfig("openCover")}var t,n,i;return t=e,(n=[{key:"init",value:function(){if(this.totalTime<=0)return this.isEnd=!0,void(this.comp.validateData={disableSubmit:!0,msg:"考试已结束"});!s()&&this.adapterAndroid.jumped||this.openCover?this.start():this.domRender()}},{key:"start",value:function(){var e=this;this.isStart=!0,this.startTime=(new Date).getTime()/1e3,this.activePage(),this.countDownRender(),this.timer=setInterval((function(){e.isEnd?clearInterval(e.timer):(e.totalTime--,e.totalTime<=0&&(clearInterval(e.timer),e.comp.$li.find("button").trigger("click")),e.$countDown.find("span").text(e.converTime()))}),1e3),$(".pcPreview-btn-group-wrap .btn-wraper").css("pointer-events","none")}},{key:"stop",value:function(){this.isEnd=!0,this.$countDown.remove(),this.$countDownClone&&this.$countDownClone.remove();var e=l("_test_setting")||{};e[this.sceneId]=0,f("_test_setting",e),window.removeEventListener(this.eventName,this.hideEvent)}},{key:"pause",value:function(){clearInterval(this.timer),window.addEventListener(this.eventName,this.hideEvent.bind(this))}},{key:"domRender",value:function(){var e,t,n=this,r=this.isEnd?"考试已结束":"开始答题",i=(e=window.scene.property)&&(e.boughtLabel||e.removeLabel);t=i?$('\n            <div class="time-limit-wraper">\n                <div class="head">\n                    <img src="'.concat(d,'" alt="">\n                    <div class="des">当前考试答题时间为<span>').concat(this.duration,'</span>分钟</div>\n                </div>\n                <div class="footer">\n                    <div class="button">').concat(r,"</div>\n                </div>\n            </div>\n        ")):$('\n                <div class="time-limit-wraper">\n                    <div class="head">\n                        <img src="'.concat(d,'" alt="">\n                        <div class="des">当前考试答题时间为<span>').concat(this.duration,'</span>分钟</div>\n                    </div>\n                    <div class="footer">\n                        <div class="button">').concat(r,'</div>\n                        <p class="slogon"></p>\n                    </div>\n                </div>\n            ')),a()?($("body").append(t).css({"overflow-y":"hidden"}),setTimeout((function(){if($("body").append(t).css({position:"fixed"}),t.css({position:"fixed"}),!i){var e=c()?o.VOTE_AD_IDS.support:o.AD_TECHNICAL_SUPPORT;h(e).then((function(e){var t=e.list;if(200===e.code&&t.length>0){var n='<a style="color: #9B9B9B" target="_black" href="'.concat(t[0].linkUrl,'">').concat(t[0].content,"</a>");c()&&(n=m(n,t[0])),$(".slogon").append(n)}}))}}),500)):setTimeout((function(){n.page.eqxSectionCover.append(t),"pcRender"==n.page.renderMode&&n.page.$section.parent().find(".time-limit-wraper").css("height",$(window).height()-60),n.disablePage(),i||h(o.AD_TECHNICAL_SUPPORT).then((function(e){var t=e.list;200===e.code&&t.length>0&&$(".slogon").append('<a style="color: #9B9B9B" target="_black" href="'.concat(t[0].linkUrl,'">').concat(t[0].content,"</a>"))}))}),0),this.bindEvent(t)}},{key:"bindEvent",value:function(e){var t=this;this.isEnd?setTimeout((function(){e.remove(),t.activePage()}),3e3):(e.find(".button").on("click",(function(){a()&&$("body").append(e).css({"overflow-y":"auto",position:"static"}),$(".btn-wraper").css("pointer-events","none"),t.start(),e.remove()})),(l("_test_setting")||{})[this.sceneId],window.addEventListener(this.eventName,this.hideEvent.bind(this)))}},{key:"hideEvent",value:function(){if(!this.isEnd){var e=l("_test_setting")||{},t=this.lastDuration;if(this.isStart){var n=(new Date).getTime()/1e3-this.startTime;n=n||0,e[this.sceneId]=parseInt(Math.abs(n)+t),f("_test_setting",e)}}}},{key:"disablePage",value:function(){this.comp.eqxScene.disableScroll=!0}},{key:"activePage",value:function(){if(!a()){this.comp.eqxScene.disableScroll=!1;var e=this.page.renderMode,t=this.page.calPageHeight(e);this.page.changeMoveToIscroll(t,e)}}},{key:"countDownRender",value:function(){this.$countDown=$('<div class="count-time-show"><i class="eqf-time-cw"></i>答题时间还剩：<span>'.concat(this.converTime(),"</span></div>")),this.comp.eqxPage.eqxSectionCover.prepend(this.$countDown),this.comp.eqxPage.$section.css("padding-top",30*v()+"px"),a()&&this.$countDown.addClass("mobile")}},{key:"converTime",value:function(){var e=this.totalTime,t=(e-e%86400)/86400,n=(e-86400*t-e%3600)/3600,r=(e-86400*t-3600*n-e%60)/60,o=e%60,i="";return n&&(i+=y(n)+":"),i+=y(r=r||0)+":",i+=y(o)}}])&&r(t.prototype,n),i&&r(t,i),e}();function y(e){return e<=9?"0"+e:e}e.exports={TimeLimit:g}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/clock-dfcdba.png"},function(e,t){e.exports='<div class="privacy-verify-modal">\n    <div class="privacy-container">\n        <div class="head">\n            <h2>提交确认</h2>\n            <span class="eqf-no close"></span>\n        </div>\n        <div class="content">\n            <p>检测到您填写的信息可能涉及个人隐私，为保证您的隐私安全，建议查看 <span class="agreement">《隐私协议》</span>后再提交。</p>\n        </div>\n        <div class="privacy-verify">\n            <input type="checkbox">\n            <div>我已知晓<span class="agreement">《隐私协议》</span>并授权该表单收集我的表单信息。<span class="msg">请知晓隐私协议</span></div>\n        </div>\n        <div class="footer-btn">\n            <span class="eqx-btn-white close">取消</span>\n            <span class="eqx-btn-blue confirm">提交</span>\n        </div>\n    </div>\n\n</div>'},function(e,t){e.exports='<div class="privacy-verify-agree-modal">\n    <div class="privacy-container">\n        <div class="head">\n            <h2>易企秀隐私权政策</h2>\n            <span class="eqf-no close"></span>\n        </div>\n        <div class="content">\n            <h4>提示条款</h4>\n            您的信任对我们非常重要，我们深知个人信息对您的重要性，我们将按法律法规要求，采取相应安全保护措施，尽力保护您的个人信息安全可控。鉴于此，北京中易企秀企秀科技有限公司（简称“我们”或“易企秀”）制定本《易企秀隐私权政策》（下称“本政策/本隐私权政策”）并提醒您：<br>\n            本政策适用于易企秀提供的所有产品和服务。\n\n            <p><span class="line">在使用易企秀产品或服务前，请您务必仔细阅读并透彻理解本政策，特别是以粗体/粗体下划线标识的条款，您应重点阅读，在确认充分理解并同意后再开始使用。</span>如对本政策内容有任何疑问、意见或建议，您可通过易企秀官方客服与我们联系。</p><p>本隐私权政策部分将帮助您了解以下内容：\n            </p><p>一、我们如何收集和使用您的信息\n            </p><p>二、我们如何使用Cookie或同类技术\n            </p><p>三、我们如何共享、转让、公开披露您的信息\n            </p><p>四、我们如何保护您的信息\n            </p><p>五、您如何管理您的信息\n            </p><p>六、我们如何处理未成年人的信息\n            </p><p>七、通知和修订\n            </p><p>八、如何联系我们\n\n            </p><h4>一、我们如何收集和使用您的信息</h4>\n            在您使用我们的产品及/或服务时，我们需要/可能需要收集和使用的您的个人信息包括如下两种：<br>\n            <p>1、为实现向您提供我们产品及/或服务的基本功能，您须授权我们收集、使用的必要的信息。如您拒绝提供相应信息，您将无法正常使用我们的产品及/或服务；\n            </p><p>2、为实现向您提供我们产品及/或服务的附加功能，您可选择授权我们收集、使用的信息。如您拒绝提供，您将无法正常使用相关附加功能或无法达到我们拟达到的功能效果，但并不会影响您正常使用我们产品及/或服务的基本功能。\n            </p><p class="line">您理解并同意：\n            </p><p>1、<span class="line">我们致力于打造多样的产品和服务以满足您的需求。因我们向您提供的产品和服务种类众多，且不同用户选择使用的具体产品/服务范围存在差异，相应的，基本/附加功能及收集使用的个人信息类型、范围等会有所区别，请以具体的产品/服务功能为准；</span>\n            </p><p>2、<span class="line">为给您带来更好的产品和服务体验，我们在持续努力改进我们的技术，随之我们可能会不时推出新的或优化后的功能，可能需要收集、使用新的个人信息或变更个人信息使用目的或方式。对此，我们将通过更新本政策、弹窗、页面提示等方式另行向您说明对应信息的收集目的、范围及使用方式，并为您提供自主选择同意的方式，且在征得您明示同意后收集、使用。</span>在此过程中，如果您有任何疑问、意见或建议的，您可通过易企秀官方客服与我们联系，我们会尽快为您作出解答。\n            我们会为实现本政策下述的各项功能，收集和使用您的个人信息：\n            </p><h4>（一）用户注册</h4>\n            我们通过易企秀平台账户为您提供会员服务。为注册成为会员并使用我们的会员服务，您需要提供手机号码/拟使用的会员名和密码用于创建易企秀平台账户。如果您仅需使用浏览、搜索服务，您不需要注册成为我们的会员及提供上述信息。\n            <p><span class="line">对于需要通过易企秀平台账户才能使用的服务，我们可能会根据您提供的上述信息校验您的会员身份，确保我们是在为您本人提供服务。</span></p>\n            <h4>（二）为您提供商品或服务信息展示</h4>\n            <p><span class="line">为了让您快速地找到您所需要的商品，我们可能会收集您使用我们的产品与/或服务的设备信息（包括设备名称、设备型号、操作系统）来为您提供商品信息展示的最优方式。我们也会为了不断改进和优化上述的功能来使用您的上述个人信息。</span></p>\n            您也可以通过搜索来精准地找到您所需要的商品或服务。我们会保留您的搜索内容以方便您重复输入或为您展示与您搜索内容相关联的商品。<span class="line">请您注意，您的搜索关键词信息无法单独识别您的身份，不属于您的个人信息，我们有权以任何的目的对其进行使用；只有当您的搜索关键词信息与您的其他信息相互结合使用并可以识别您的身份时，则在结合使用期间，我们会将您的搜索关键词信息作为您的个人信息，与您的搜索历史记录一同按照本隐私政策对其进行处理与保护。</span>\n            <h4>（三）为您提供收藏、浏览、关注与分享功能</h4>\n            在您浏览我们网站的过程中，您可以选择对感兴趣的商品及/或服务进行收藏、通过我们提供的功能组件向其他第三方分享信息。在您使用上述功能的过程中，我们会收集包括您的收藏及分享历史在内等服务日志信息用于实现上述功能及其他我们明确告知的目的。\n            <h4>（四）帮助您完成支付</h4>\n            为完成订单支付，您需要选择付款方式，我们会将您的易企秀平台账户会员名、对应的付款账户名、订单支付相关信息及其他法律法规要求的必要信息与付款账户共享。\n            <h4>（五）客服及争议处理</h4>\n            <p>当您与我们联系或提出售中售后、争议纠纷处理申请时，为了保障您的账户及系统安全，<span class="line">我们需要您提供必要的个人信息以核验您的会员身份。</span></p>\n            <p><span class="line">为便于与您联系、尽快帮助您解决问题或记录相关问题的处理方案及结果，我们可能会保存您与我们的通信/通话记录及相关内容（包括账号信息、订单信息、您为了证明相关事实提供的其他信息，或您留下的联系方式信息），如果您针对具体订单进行咨询、投诉或提供建议的，我们会使用您的账号信息和订单信息。</span></p>\n            为了提供服务及改进服务质量的合理需要，我们还可能使用的您的其他信息，包括您与客服联系时您提供的相关信息。\n            <h4>（六）为您提供评论、问答等信息公开发布功能</h4>\n            您可通过我们为您提供的评论、问答、论坛、及其他信息发布功能公开发布信息，包括作为会员可发布图文/视频内容、发表评价及问答内容。\n            我们可能会根据您的会员类型及网络日志信息判断您是否可享受对应功能权限（例如购买不同类型会员，享受不同的会员服务）。\n            <p><span class="line">请注意，您公开发布的信息中可能会涉及您或他人的个人信息甚至个人敏感信息，如您选择上传包含个人信息的图片，请您更加谨慎地考虑，是否在使用我们的服务时共享甚至公开分享相关信息。若您公开发布的信息中涉及儿童个人信息的，您需在发布前征得对应儿童监护人的同意。</span></p>\n            <h4>（七）为您提供安全保障</h4>\n            为提高您使用我们提供服务的安全性，保护您或其他用户或公众的人身财产安全免遭侵害，更好地预防钓鱼网站、欺诈、网络漏洞、计算机病毒、网络攻击、网络侵入等安全风险，更准确地识别违反法律法规或易企秀相关协议规则的情况，我们可能使用或整合您的会员信息、交易信息、设备信息、服务日志信息或依据法律共享的信息，来综合判断您账户及交易风险、进行身份验证、检测及防范安全事件，并依法采取必要的记录、审计、分析、处置措施。\n            <h4>（八）向您提供商品或服务的信息展示和推送</h4>\n            （1）为您展示和推送商品或服务\n            基于您向我们提供的信息、我们可能收集的信息及我们通过间接方式收集到的您的信息（例如您的浏览及搜索记录、设备信息、订单信息），我们可能会基于用户行为分析及用户画像，用于提取您的浏览、搜索偏好、行为习惯、位置信息相关特征，以便向您提供更契合您需求的页面展示和推荐个性化内容。\n            （2）向您发出通知\n            我们可能在必需时（例如当我们由于系统维护而暂停某一单项服务、变更、终止提供某一单项服务时）向您发出与服务有关的通知。\n            如您不希望继续接收我们推送的消息，您可要求我们停止推送，例如：根据短信退订指引要求我们停止发送推广短信，或在移动端设备中进行设置，不再接收我们推送的消息；但我们依法律规定或发送消息的情形除外。\n            <h4>（九）其他</h4>\n            <p><span class="line">1、若你提供的信息中含有其他用户的个人信息，在向易企秀提供这些个人信息之前，您需确保您已经取得合法的授权。若其中涉及儿童个人信息的，您需在发布前取得对应儿童监护人的同意，前述情形下监护人有权通过官方电话联系我们，要求更正或删除涉及儿童个人信息的内容。</span></p>\n            <p><span class="line">2、若我们将信息用于本政策未载明的其他用途，或者将基于特定目的收集而来的信息用于其他目的，或者我们主动从第三方处获取您的个人信息，均会事先获得您的同意。</span></p>\n            3、征得授权同意的例外<br>\n            您充分理解并同意，我们在以下情况下收集、使用您的个人信息无需您的授权同意，且我们可能不会响应您提出的更正/修改、删除、注销、撤回同意、索取信息的请求：\n            （1）与国家安全、国防安全有关的；<br>\n            （2）与公共安全、公共卫生、重大公共利益有关的；<br>\n            （3）与犯罪侦查、起诉、审判和判决执行等司法或行政执法有关的；<br>\n            （4）出于维护您或其他个人的生命、财产等重大合法权益但又很难得到本人同意的；<br>\n            （5）您自行向社会公众公开的个人信息；<br>\n            （6）从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道。<br>\n            （7）根据与您签订和履行相关协议或其他书面文件所必需的；<br>\n            （8）用于维护所提供的产品及/或服务的安全稳定运行所必需的，例如发现、处置产品及/或服务的故障；<br>\n            （9）为合法的新闻报道所必需的；<br>\n            （10）学术研究机构基于公共利益开展统计或学术研究所必要，且对外提供学术研究或描述的结果时，对结果中所包含的个人信息进行去标识化处理的；<br>\n            （11）法律法规规定的其他情形。<br>\n            请知悉，根据适用的法律，<span class="line">若我们对个人信息采取技术措施和其他必要措施进行处理，使得数据接收方无法重新识别特定个人且不能复原，</span>或我们可能会对收集的信息进行去标识化地研究、统计分析和预测，用于改善易企秀的内容和布局，为商业决策提供产品或服务支撑，以及改进我们的产品和服务（包括使用匿名数据进行机器学习或模型算法训练），<span class="line">则此类处理后数据的使用无需另行向您通知并征得您的同意。</span><br>\n            4、如我们停止运营易企秀产品或服务，我们将及时停止继续收集您个人信息的活动，将停止运营的通知以逐一送达或公告的形式通知您，并对我们所持有的与已关停业务相关的个人信息进行删除或匿名化处理。涉及儿童个人信息的，我们会并将停止运营的通知及时告知儿童监护人。<br>\n            5、如果您拒绝表单创建者或者表单发布者收集、使用您的个人信息，请勿填写并并提交表格，我们严格遵守与您的约定，不会擅自使用您填写的表单信息。\n            <h4>二、我们如何使用Cookie或同类技术</h4>\n            为确保网站正常运转、为您获得更轻松的访问体验、向您推荐您可能感兴趣的内容，我们会在您的计算机或移动设备上存储Cookie、或浏览器（或关联应用程序）提供的其他通常包含标识符、站点名称以及一些号码和字符的本地存储（统称“Cookie”）。借助于 Cookie，网站能够存储您的偏好或购物车内的商品等数据。<br>\n            <span class="line">如果您的浏览器或浏览器附加服务允许，您可修改对Cookie的接受程度或拒绝我们的Cookie。</span>但如果您这么做，在某些情况下可能会影响您安全访问我们的网站，且可能需要在每一次访问我们的网站时更改用户设置。\n            <h4>三、我们如何共享、转让、公开披露您的信息</h4>\n            （一）共享<br>\n            我们不会与易企秀服务提供者以外的公司、组织和个人共享您的个人信息，但以下情况除外：<br>\n            1、在法定情形下的共享：我们可能会根据法律法规规定、诉讼、争议解决需要，或按行政、司法机关依法提出的要求，对外共享您的个人信息。<br>\n            2、在获取明确同意的情况下共享：获得您的明确同意后，我们会与其他方共享您的个人信息。<br>\n            3、与授权合作伙伴共享：<span class="line">我们可能委托授权合作伙伴为您提供某些服务或代表我们履行职能，</span>我们仅会出于本隐私权政策声明的合法、正当、必要、特定、明确的目的共享您的信息，授权合作伙伴只能接触到其履行职责所需信息，且不得将此信息用于其他任何目的。对于涉及儿童个人信息的，我们不允许合作伙伴进行转委托。<br>\n            目前，我们的授权合作伙伴包括以下类型：<br>\n            （1）广告、分析服务类的授权合作伙伴。除非得到您的许可，否则我们不会将您的个人身份信息与提供广告、分析服务的合作伙伴共享。我们会委托这些合作伙伴处理与广告覆盖面和有效性相关的信息，但不会提供您的个人身份信息，或者我们将这些信息进行去标识化处理，以便它不会识别您个人。这类合作伙伴可能将上述信息与他们合法获取的其他数据相结合，以执行我们委托的广告服务或决策建议。<br>\n            （2）供应商、服务提供商和其他合作伙伴。我们将信息发送给支持我们业务的供应商、服务提供商和其他合作伙伴，这些支持包括受我们委托提供的技术基础设施服务、分析我们服务的使用方式、衡量广告和服务的有效性、提供客户服务、支付便利或进行学术研究和调查。<br>\n            我们会对授权合作伙伴获取有关信息的应用程序接口（API）进行严格的安全检测，并与授权合作伙伴约定严格的数据保护措施，令其按照我们的委托目的、服务说明、本隐私权政策以及其他任何相关的保密和安全措施来处理个人信息。<br>\n            （二）转让<br>\n            我们不会将您的个人信息转让给任何公司、组织和个人，但以下情况除外：<br>\n            1、在获取明确同意的情况下转让：获得您的明确同意后，我们会向其他方转让您的个人信息；<br>\n            2、在易企秀服务提供者发生合并、收购或破产清算情形，或其他涉及合并、收购或破产清算情形时，如涉及到个人信息转让，我们会要求新的持有您个人信息的公司、组织继续受本政策的约束，否则我们将要求该公司、组织和个人重新向您征求授权同意。<br>\n            （三）公开披露<br>\n            我们仅会在以下情况下，公开披露您的个人信息：<br>\n            1、获得您明确同意或基于您的主动选择，我们可能会公开披露您的个人信息；<br>\n            2、<span class="line">如果我们确定您出现违反法律法规或严重违反易企秀平台相关协议及规则的情况，或为保护易企秀平台用户或公众的人身财产安全免遭侵害，我们可能依据法律法规或征得您同意的情况下披露关于您的个人信息，</span>包括相关违规行为以及易企秀平台已对您采取的措施。例如，若您因出售假冒商品而严重违反易企秀规则，我们可能会公开披露您的店铺认证主体信息与违规情况。<br>\n            （四）共享、转让、公开披露个人信息时事先征得授权同意的例外<br>\n            以下情形中，共享、转让、公开披露您的个人信息无需事先征得您的授权同意：<br>\n            1、与国家安全、国防安全有关的；<br>\n            2、与公共安全、公共卫生、重大公共利益有关的；<br>\n            3、与犯罪侦查、起诉、审判和判决执行等司法或行政执法有关的；<br>\n            4、出于维护您或其他个人的生命、财产等重大合法权益但又很难得到本人同意的；<br>\n            5、您自行向社会公众公开的个人信息；<br>\n            6、从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道。<br>\n            请知悉，根据适用的法律，若我们<span class="line">对个人信息采取技术措施和其他必要措施进行处理，使得数据接收方无法重新识别特定个人且不能复原，则此类处理后数据的共享、转让、公开披露无需另行向您通知并征得您的同意。</span>\n            四、我们如何保护您的信息<br>\n            （一）我们已采取符合业界标准、合理可行的安全防护措施保护您的信息，防止个人信息遭到未经授权访问、公开披露、使用、修改、损坏或丢失。我们会使用加密技术提高个人信息的安全性；我们会使用受信赖的保护机制防止个人信息遭到恶意攻击；我们会部署访问控制机制，尽力确保只有授权人员才可访问个人信息；以及我们会举办安全和隐私保护培训课程，加强员工对于保护个人信息重要性的认识。<br>\n            （二）我们有行业先进的以数据为核心、围绕数据生命周期进行的数据安全管理体系，从组织建设、制度设计、人员管理、产品技术等方面多维度提升整个系统的安全性。<br>\n            （三）我们会采取合理可行的措施，尽力避免收集无关的个人信息。<span class="line">我们只会在达成本政策所述目的所需的期限内保留您的个人信息，除非法律有强制的存留要求，</span>而我们判断前述期限的标准包括：<br>\n            1、完成与您相关的交易目的、维护相应交易及业务记录、应对您可能的查询或投诉；<br>\n            2、保证我们为您提供服务的安全和质量；<br>\n            3、您是否同意更长的留存期间；<br>\n            4、是否存在保留期限的其他特别约定。<br>\n            <span class="line">在您的个人信息超出保留期间后，我们会根据适用法律的要求删除您的个人信息。</span><br>\n            （四）互联网并非绝对安全的环境，使用易企秀平台服务时，<span class="line">我们强烈建议您不要使用非易企秀平台推荐的通信方式发送您的信息。</span>您可以通过我们的服务建立联系和相互分享。当您通过我们的服务创建交流、交易或分享时，您可以自主选择沟通、交易或分享的对象，作为能够看到您的交易内容、联络方式、交流信息或分享内容等相关信息的第三方。<br>\n            请使用复杂密码，协助我们保证您的账号安全。我们将尽力保障您发送给我们的任何信息的安全性。如果我们的物理、技术或管理防护设施遭到破坏，导致信息被非授权访问、公开披露、篡改或毁坏，导致您的合法权益受损，我们将承担相应的法律责任。<br>\n            （五）在不幸发生个人信息安全事件后，我们将按照法律法规的要求向您告知：安全事件的基本情况和可能的影响、我们已采取或将要采取的处置措施、您可自主防范和降低风险的建议、对您的补救措施等。事件相关情况我们将以邮件、信函、电话、推送通知等方式告知您，难以逐一告知个人信息主体时，我们会采取合理、有效的方式发布公告。<br>\n            同时，我们还将按照监管部门要求，上报个人信息安全事件的处置情况。<br>\n            <h4>五、您如何管理您的信息</h4>\n            您可以通过以下方式访问及管理您的信息：<br>\n            （一）查询、更正和补充您的信息<br>\n            我们鼓励您更新和修改您的个人信息以使其更准确有效。您能通过易企秀服务访问您的个人信息，并根据对应信息的管理方式自行完成或要求我们进行修改、补充和删除。我们将采取适当的技术手段或提供提交申请的联系渠道，尽可能保证您可以访问、更新和更正自己的个人信息或使用易企秀服务时提供的其他信息。<br>\n            （二）注销您的账户<br>\n            您可以登录易企秀并选择联系客服协助您申请注销您的账户。<br>\n            在您主动注销账户之后，我们将停止为您提供产品或服务，根据适用法律的要求删除您的个人信息，或使其匿名化处理。<br>\n            （三）响应您的上述请求<br>\n            为保障安全，您可能需要提供书面请求，或以其他方式证明您的身份。我们可能会先要求您验证自己的身份，然后再处理您的请求。<br>\n            在以下情形中，按照法律法规要求，我们将无法响应您的请求：<br>\n            1、与国家安全、国防安全有关的；<br>\n            2、与公共安全、公共卫生、重大公共利益有关的；<br>\n            3、与犯罪侦查、起诉、审判和执行判决等有关的；<br>\n            4、有充分证据表明个人信息主体存在主观恶意或滥用权利的；<br>\n            5、响应您的请求将导致您或其他个人、组织的合法权益受到严重损害的；<br>\n            6、涉及商业秘密的。<br>\n            <h4>六、我们如何处理未成年人的信息</h4>\n            <span class="line">在易企秀商务活动中我们推定您具有相应的民事行为能力。如您为未成年人，我们要求您请您的父母或其他监护人仔细阅读本隐私权政策，并在征得您的父母或其他监护人同意的前提下使用我们的服务或向我们提供信息。</span><br>\n            <span class="line">如果我们识别出您是儿童用户的，我们将通知您的监护人并要求您的监护人同意儿童个人信息收集使用规则。对于经父母或其他监护人同意使用我们的产品或服务而收集儿童个人信息的情况，我们只会在法律法规允许、父母或其他监护人明确同意或者保护儿童所必要的情况下使用、共享、转让或披露此信息。</span><br>\n            <span class="line">若您是儿童的父母或其他监护人，请您关注您监护的儿童是否是在取得您的授权同意之后使用我们的服务的。</span>如您对您所监护的儿童的个人信息有疑问，请通过官方\n            联系方式与我们联系。\n            <h4>七、通知和修订</h4>\n            为了给您提供更好的服务，我们可能会根据易企秀服务的更新情况及法律法规的相关要求适时修改本政策的条款，该等修改构成本政策的一部分。如该等更新造成您在本政策下权利的实质减少或重大变更，我们将在本政策生效前通过网站公告、推送通知、弹窗提示或其他方式来通知您，您如果不同意该等变更，可以选择停止使用易企秀服务；如您仍然继续使用易企秀服务的，即表示您已充分阅读、理解并同意受经修订的本政策的约束。<br>\n            我们的任何修改都会将您的满意度置于首位。我们鼓励您在每次使用易企秀服务时都查阅我们的隐私政策。<br>\n            我们可能在必需时（例如当我们由于系统维护而暂停某一项服务时）发出与服务有关的公告。您可能无法取消这些与服务有关、性质不属于推广的公告。<br>\n            <h4>八、如何联系我们</h4>\n            如您有关于网络信息安全的投诉和举报，或您对本政策、易企秀的隐私措施、您的信息的相关事宜有任何问题、意见或建议，请通过如下方式及时与易企秀联系：客服电话：010-56592226；客服咨询： vip@eqxiu.com。<br>\n            一般情况下，我们将在收到您的问题、意见或建议，并验证您的用户身份后的三十天内予以回复。\n        </div>\n    </div>\n\n</div>'},function(e,t,n){"use strict";var r=n(10).PRIVACY_VERIFY_COMPS;function o(e){return e.filter((function(e){return r.includes(e.type)}))}e.exports={checkContent:function(e,t){if(!t||!t.success)return!1;var n=new RegExp(/[0-9]{12,}/),r=[],i=o(e).filter((function(e){return"uploadNew"!==e.type}));return t.data.forEach((function(e){i.forEach((function(t){e.elementId===t.id&&r.push(e)}))})),r.some((function(e){return n.test(e.value)}))},checkTitle:function(e,t){var n=e.join("|");return n=n.replace(/( |&nbsp;|\n)/gi,""),t.some((function(e){var t=e.replace(/ /gi,"");return new RegExp("".concat(t),"gi").test(n)}))},getCompsTitle:function(e){return o(e).map((function(e){var t=e.compJson.properties.formRelevant.title.content;"5211"!==e.type&&"5213"!==e.type||(t+="|"+e.compJson.choices.options.map((function(e){return e.label})).join("|"));return t}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(817),o=n(3).parse;e.exports={$compDiv:function(e,t,n,i,a,s,c){if("view"===i)return $(r).find("button").attr("id","".concat(e,"-upload-image")),$(o(r,{id:e,type:t,title:n,uploadDes:a,note:s,btnTitle:c}));var u=$(o(r,{id:e,type:t,title:n,uploadDes:a,note:s,btnTitle:c}));return u.find("button").attr("id","{id}-upload-image"),u}}},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{uploadDes}</div>\n</div>\n<div id="#{id}" ctype="#{type}" class="element form-comp-box" style="width: 100%;height:100%;">\n    <div style="position: relative;width: 100%;height:100%;">\n        <button id="#{id}-upload-image" class="upload-comp-btn" style="width: 100%;display: block;\n                                    height: 100%;\n                                    border: none;\n                                    padding: 0 0.400rem;\n                                    background-color: transparent;\n                                    text-align: center;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                    font-size: 0.700rem;\n                                    line-height: 1.6;\n                                    pointer-events: none;">\n            \x3c!--#{btnTitle}--\x3e\n            <span class="btnTitle upload-add">#{btnTitle}</span>\n            \x3c!--<div class="upload-add">--\x3e\n                \x3c!--<span class="btnTitle">#{btnTitle}</span>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--<div><i class="eqf-plus" style="font-size: 1rem; position: relative;top: 0.150rem;"></i><span class="btnTitle">#{btnTitle}</span></div>--\x3e\n        </button>\n    </div>\n</div>\n<div class="form-note-box" style="height: 1.900rem;font-size: 0.600rem;padding-top: 0.250rem;line-height: 1.4">#{note}</div>'},function(e,t,n){"use strict";var r=n(0).isPc;e.exports={modal:function(e,t,n){var o=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'.concat(e,'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'));n.$section.parent().prepend(o),(!r()||n&&"pc"==n.previewMode)&&$(".feedback-form").css({position:"fixed"});o.find(".feedback-close").on("click",(function(){o.animate({opacity:0},{duration:300,complete:function(e){return o.remove()}})}))}}},function(e,t,n){"use strict";e.exports={errorDesc:{"File size error.":"文件大小不得超过10M，请重新上传","File extension error.":"文件类型不正确，请重新上传"},errorExtension:{image:"image/gif,gif,image/jpeg,jpg jpeg jpe,image/png,png,",video:"video/mp4,mp4,video/quicktime,qt mov,video/mpeg,mpeg mpg mpe m2v",application:"application/msword,doc dot,application/pdf,pdf,application/wps-writer,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,text/plain,asc txt text diff log,"},uploadSizeLimits:{video:30,application:10,image:10}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(822),v=n(824),g=v.createResult,y=v.createUploadBtn,b=n(825),x=n(1),w=n(143),S=w.mimeType,k=w.uploadLimitSize,O=n(281);n(840);var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=f(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n.ruleId=null,n.enabledRule=!1,n.uploadList=[],n}return t=a,(n=[{key:"create$li",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l(h(a.prototype),"create$li",this)).call.apply(e,[this].concat(n)),this.$formComp.css(s(s({},this.eqxPage.getFormStyle("input")),this.eqxPage.getFormStyle("border"))||{}),this.$li}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=(o.title,o.formRelevant),a=void 0===i?{}:i,s=(o.required,o.uploadLimit),c=this.eqxScene.config.mode,u=a.title.content,l=a.des.content,p=this.compJson.properties.uploadType,f=this.compJson.properties.uploadNote.replace("10M","".concat(k[p]||10,"M"))||"";return this.pageId=n,this.uploadImage={},this.name="eq[f_".concat(t,"]"),this.btnTitle=this.getBtnTitle(),this.uploadTitle=u,this.$context=m.$compDiv(t,r,u,c,l,f,this.btnTitle),this.$button=this.$context.find("button"),this.$upload=this.$context.find(".new-upload-outer-wraper"),s>5&&this.$upload.addClass("muiltBox"),"view"!==c||this.uploader||this.initUplad(),this.$context}},{key:"required",get:function(){return this.compJson.properties.required}},{key:"defaultOptions",get:function(){var e=this,t={tokenType:"image",maxFileSize:k.image,uploadButton:this.$button.parent(),complete:function(t){var n=t,r={upKey:n.key,upName:n.name};e.uploadList.push(r),e.uploadImage.file=n,e.uploadImage.info=t,e.variablesValues={key:t.key,w:t.w,h:t.h},(e.variables||[]).forEach((function(e){"4"===e.compJson.type.toString()&&e.updateImageSrc(t.key,t.w,t.h)})),e.enabledRule&&e.triggerRule(),e.afterUpload(t)},error:function(t,n){console.error(t),Object.keys(t).length?(e.showFormErrMsg(t.msg||t.message),e.updateTitle(e.getBtnTitle())):e.updateTitle("上传失败！")},beforeUpload:function(){e.updateTitle("正在上传……")}},n=this.compJson.properties.uploadType;if("video"==n){var r={tokenType:"video",maxFileSize:k.video};t=Object.assign({},t,r)}return"video"!=n&&"image"!=n&&(t=Object.assign({},t,{tokenType:"attach"})),t=Object.assign({},t,{mimeType:[].concat(o(S[n]),[""])})}},{key:"initUplad",value:function(){var e=this.defaultOptions;this.initQiniuUpload(e)}},{key:"initQiniuUpload",value:function(e){var t=this;new b(e).init().then((function(e){t.uploader=e}))}},{key:"afterUpload",value:function(e){this.showUploadResult(e),this.getUploadStatus(),this.updateTitle("+")}},{key:"updateDisplay",value:function(e){this.$li.find("[ctype=uploadNew]").css({display:e}),this.$li.find(".form-title-box").css({display:e})}},{key:"updateRequired",value:function(e){e?this.$li.find(".form-title-box").addClass("require"):this.$li.find(".form-title-box").removeClass("require")}},{key:"getUploadStatus",value:function(){this.uploadList.length<this.compJson.properties.uploadLimit?this.renderUploadBtn():this.$newUploadBtn&&this.$newUploadBtn.hide()}},{key:"showUploadResult",value:function(e){this.$resultWraper||(this.$resultWraper=$('\n                <div class="upload-file-list"></div>\n            '),this.$upload.find(".new-upload-wraper").css("display","none"),this.$upload.append(this.$resultWraper)),this.$formComp.addClass("uploaded"),this.$resultWraper.append(g(e,this.compJson.properties.uploadType))}},{key:"renderUploadBtn",value:function(){if(!this.$newUploadBtn){this.$newUploadBtn=y();var e=this.defaultOptions;e.uploadButton=this.$newUploadBtn,this.initQiniuUpload(e)}this.$resultWraper&&this.$resultWraper.append(this.$newUploadBtn),this.$newUploadBtn.show()}},{key:"deleteUploadFiles",value:function(e){if(e?this.uploadList.splice(this.uploadList.find((function(t){return t.upKey==e})),1):this.uploadList.splice(0,this.uploadList.length),this.getUploadStatus(),!this.uploadList.length){this.$resultWraper&&this.$resultWraper.remove(),this.$resultWraper=null,this.$upload.find(".new-upload-wraper").css("display","flex"),this.updateTitle(this.btnTitle),this.$formComp.removeClass("uploaded");var t=this.$upload.find(".new-upload-wraper input[type=file]");if(!e&&t.length&&Array.from(t).forEach((function(e){return e.parentNode.removeChild(e)})),!t.length){var n=this.defaultOptions;n.uploadButton=this.$button.parent(),this.initQiniuUpload(n)}}}},{key:"check",value:function(){var e=this.getValue(),t=this.uploadList;this.ruleHide&&(e=[{upKey:"",upName:"（跳过）"}]),e=e.length?JSON.stringify(e):"";var n={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id,origin:t};return!this.required||t.length||this.ruleHide||(n.success=!1,n.message="该项为必填项"),n}},{key:"getValue",value:function(){var e=[],t=this.compJson.properties.uploadType,n=x.FILE;return"video"==t&&(n=x.QINIUVIDEO),this.uploadList.forEach((function(r){var o=JSON.parse(JSON.stringify(r));o.upKey=o.upKey.indexOf(n)>-1?o.upKey:n+o.upKey,"video"===t&&(o.cover="".concat(o.upKey,"?vframe/jpg/offset/0")),e.push(o)})),e}},{key:"autoFill",value:function(e,t){var n=this;String(e).includes("（跳过）")||("showLast"===t&&this.$li.css("pointer-events","none"),e.length&&("string"==typeof e&&(e=JSON.parse(e)),this.uploadList=e,this.enabledRule&&this.triggerRule(),e.forEach((function(e){var t={name:e.upName,key:e.upKey};n.afterUpload(t)}))))}},{key:"getBtnTitle",value:function(){return{image:"上传图片",video:"上传视频",file:"上传文件",word:"上传Word",excel:"上传EXCEL",ppt:"上传PPT",pdf:"上传PDF"}[this.compJson.properties.uploadType||"image"]||"上传文件"}},{key:"updateTitle",value:function(e){var t=this.$context.find("button").find("span");if(this.$resultWraper){if(!this.$newUploadBtn)return;var n="12";"+"==e&&(n="20"),(t=this.$newUploadBtn.find("span")).css({fontSize:"".concat(n,"px"),display:"inline-block"})}t.text(e)}},{key:"updateUploadNote",value:function(e){this.$boxContentDiv.find(".form-note-box").text(e),this.updateFormHeight()}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return l(h(a.prototype),"bindAfterRenderEvent",this).call(this,e,t),this.$li.on("click",".del-btn",(function(e){var t=$(e.target),r=t.attr("key");t.parents(".upload-file-item").remove(),n.deleteUploadFiles(r),n.enabledRule&&n.triggerRule()})),!0}},{key:"bindRuleEvent",value:function(e){this.ruleId=e,this.enabledRule=!0}},{key:"triggerRule",value:function(){this.ruleIds=this.ruleIds||[],-1==this.ruleIds.indexOf(this.ruleId)&&this.ruleIds.push(this.ruleId),this.eqxPage.EqxFormRulesTrigger.listen(this.ruleIds,this.id,this.getValue())}}])&&u(t.prototype,n),r&&u(t,r),a}(O);e.exports=E},function(e,t,n){"use strict";var r=n(823),o=n(3).parse;e.exports={$compDiv:function(e,t,n,i,a,s,c){if("view"===i)return $(r).find("button").attr("id","".concat(e,"-upload-image")),$(o(r,{id:e,type:t,title:n,uploadDes:a,note:s,btnTitle:c}));var u=$(o(r,{id:e,type:t,title:n,uploadDes:a,note:s,btnTitle:c}));return u.find("button").attr("id","{id}-upload-image"),u}}},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{uploadDes}</div>\n</div>\n<div id="#{id}" ctype="#{type}" class="element form-comp-box" style="width: 100%;height:100%;">\n    <div style="position: relative;width: 100%" class="new-upload-outer-wraper">\n        <div class="new-upload-wraper">\n            <button id="#{id}-upload-image" class="upload-comp-btn" style="width: 100%;display: block;\n                                    border: none;\n                                    background-color: transparent;\n                                    text-align: center;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                    font-size: 0.700rem;\n                                    line-height: 1.6;\n                                    pointer-events: none;">\n                \x3c!--#{btnTitle}--\x3e\n                <span class="btnTitle upload-add">#{btnTitle}</span>\n                \x3c!--<div class="upload-add">--\x3e\n                \x3c!--<span class="btnTitle">#{btnTitle}</span>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<div><i class="eqf-plus" style="font-size: 1rem; position: relative;top: 0.150rem;"></i><span class="btnTitle">#{btnTitle}</span></div>--\x3e\n            </button>\n            <div class="form-note-box">#{note}</div>\n        </div>\n        \x3c!--<div class="upload-file-list">--\x3e\n            \x3c!--<div class="upload-file-item"><div class="del-btn">-</div></div>--\x3e\n            \x3c!--<div class="upload-file-item"><div class="del-btn">-</div></div>--\x3e\n            \x3c!--<div class="upload-file-item"><div class="del-btn">-</div></div>--\x3e\n            \x3c!--<div class="upload-file-item"><div class="del-btn">-</div></div>--\x3e\n            \x3c!--<div class="upload-file-item uploadBtn">+</div>--\x3e\n\n        \x3c!--</div>--\x3e\n    </div>\n</div>\n'},function(e,t,n){"use strict";var r=n(0).isPc,o=n(9).qiniuZoom,i=n(16).getRatio;e.exports={modal:function(e,t,n){var o=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'.concat(e,'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'));n.$section.parent().prepend(o),(!r()||n&&"pc"==n.previewMode)&&$(".feedback-form").css({position:"fixed"});o.find(".feedback-close").on("click",(function(){o.animate({opacity:0},{duration:300,complete:function(e){return o.remove()}})}))},createResult:function(e,t){var n=e.key,r=e.name,a="",s="";if("image"==t)a=o(n,50*i(),50*i());else{var c=r.match(/([\d\D]*)\.(.*)$/),u="";c?(s=c[1],u=c[2]):s=r,s.length>2&&(s="…"+s.substr(s.length-2,2)+"."+u)}return'<div class="upload-file-item" style="background-image:url('.concat(a,')">\n                    <div>').concat(s,'</div>\n                    <div class="del-btn" key="').concat(e.key,'">-</div>\n                </div>')},createUploadBtn:function(){return $('<div class="upload-file-item uploadBtn"><span>+</span></div>')}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(15);var o=n(83).$getUploadToken,i=n(83).$getUploadVideoToken,a=n(143),s=a.mimeType,c=a.defaultMimeType,u=n(0),l=u.mobilecheck,p=(u.iphoneCheck,n(826)),f=n(1),d=n(9).qiniuZoom,h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);n=n||t.uploadButton,this.$ele=n,this.options=Object.assign({token:"",files:[],mimeType:["image/png","image/jpeg","image/gif","image/jpg"],maxFileName:500,maxFileSize:10,maxCount:1},t),this.currentTaskID=""}var t,n,a;return t=e,(n=[{key:"init",value:function(){var e=this.createInput(this.options);return this.$input=e.get(0),this.bindEvent(this.options),this.$ele.append(e),this.$ele.css("position","relative"),Promise.resolve({obj:{}})}},{key:"createInput",value:function(e){var t=e.mimeType,n=e.maxCount,r=$('<input type="file" name="upload-'.concat(Math.ceil(1e10*Math.random()),'" class="upload"/>'));return r.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",cursor:"pointer",opacity:0}),r.attr({type:"file"}),l()||r.attr({accept:t.join(",")}),n>1&&r.attr({multiple:""}),r}},{key:"bindEvent",value:function(e){var t=this;this.$input.addEventListener("change",(function(){e.files=Array.from(this.files);var n=t.validateFile();if(n)return e.error&&e.error(n),void t.resetInput();e.beforeUpload&&e.beforeUpload(),e.files.forEach((function(n){t.upload(e,n.type,n)}))}))}},{key:"upload",value:function(e,t,n){var r=this;this.beforeUplad(e,t).then((function(t){var o=r;if(200===t.code&&t.obj){var i,a,s,c,u=t.obj,l=(u.authorization,u.expiredTime),h=(u.region,u.sessionToken),m=u.startTime,v=u.tmpSecretId,g=u.tmpSecretKey,y=new p({getAuthorization:function(e,t){t({TmpSecretId:v,TmpSecretKey:g,SecurityToken:h,StartTime:m,ExpiredTime:l})}}),b=(null===(i=window)||void 0===i||null===(a=i.scene)||void 0===a?void 0:a.userId)||(null===(s=window)||void 0===s||null===(c=s.scene)||void 0===c?void 0:c.createUser),x=r.perfectKey(function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}(),n);y.putObject({Bucket:"video"===e.tokenType?f.UPLOAD_EQX_VIDEO_BUCKET:f.UPLOAD_MER_BUCKET,Region:f.UPLOAD_REGION,Key:"".concat("material","/form/").concat(b,"/").concat(x),StorageClass:"STANDARD",Body:n,onProgress:function(t){e.next&&e.next(t)},onTaskReady:function(e){r.currentTaskID=e}},(function(t,r){if(o.resetInput(),t)e.error&&e.error(t);else{var i=r.Location,a=i.substring(i.indexOf("/")+1,i.length);if("image"===e.tokenType){var s=new Image;s.src=d(a),s.onload=function(){var t=s.width,r=s.height;e.complete&&e.complete({key:a,w:t,h:r,name:n.name})},s.onerror=function(t){e.error&&e.error({msg:"图片过大，无法使用"})}}else e.complete&&e.complete({key:a,name:n.name})}}))}else e.error&&e.error(t.msg)}))}},{key:"beforeUplad",value:function(e,t){var n=e.tokenType;return"video"===n?i():o(n,t)}},{key:"validateFile",value:function(){var e=this.options,t=!1,n=!1,r=!1,o="";return e.files.length||(o={code:104,msg:"没有文件"}),e.files.forEach((function(o){o.name.length>=e.maxFileName&&(t=!0),o.size/1024/1024>parseInt(e.maxFileSize)&&(n=!0),o.type&&!e.mimeType.find((function(e){return e==o.type}))&&(r=!0)})),t&&(o={code:101,msg:"文件名称限制在".concat(e.maxFileName,"个字符内")}),n&&(o={code:102,msg:"文件大小限制在".concat(e.maxFileSize,"M内")}),e.maxCount&&e.files.length>e.maxCount&&(o={code:103,msg:"文件个数限制在".concat(e.maxCount,"个内")}),r&&(o={code:105,msg:"文件格式不正确"}),o}},{key:"resetInput",value:function(){this.options,$(this.$input).remove();var e=this.createInput(this.options);this.$input=e.get(0),this.bindEvent(this.options),this.$ele.append(e)}},{key:"perfectKey",value:function(e,t){var n=this.options.tokenType,r="";if("attach"===n||"image"===n||"video"===n){var o=t.name.match(/\.(.*)$/);r=o?"."+o[1]:"."+this.getDefaultType()}return e+r}},{key:"getDefaultType",value:function(){var e=this.options.mimeType,t=Object.keys(s).filter((function(t){return s[t].join(",")==e.join(",")}));return c[t[0]]||""}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=h},function(e,t,n){var r=n(827);e.exports=r},function(e,t,n){"use strict";var r=n(106),o=n(283),i=n(835),a=n(836),s=n(838),c={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1},u=function(e){this.options=r.extend(r.clone(c),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),r.isNode()&&(console.warn("warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629"),console.warn("warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629")),o.init(this),i.init(this)};a.init(u,i),s.init(u,i),u.getAuthorization=r.getAuth,u.version="1.2.16",e.exports=u},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(829),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t,n){return new Md5(!0).update(t,n)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.getCtx=e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e,t){if(!this.finalized){for(var n,r,o=0,i=e.length,a=this.blocks,s=this.buffer8;o<i;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),ARRAY_BUFFER)for(r=this.start;o<i&&r<64;++o)n=e.charCodeAt(o),t||n<128?s[r++]=n:n<2048?(s[r++]=192|n>>6,s[r++]=128|63&n):n<55296||n>=57344?(s[r++]=224|n>>12,s[r++]=128|n>>6&63,s[r++]=128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[r++]=240|n>>18,s[r++]=128|n>>12&63,s[r++]=128|n>>6&63,s[r++]=128|63&n);else for(r=this.start;o<i&&r<64;++o)n=e.charCodeAt(o),t||n<128?a[r>>2]|=n<<SHIFT[3&r++]:n<2048?(a[r>>2]|=(192|n>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(a[r>>2]|=(224|n>>12)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[r>>2]|=(240|n>>18)<<SHIFT[3&r++],a[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,o,i,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+a[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[10]-1051523)<<15|n>>>17)+r<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[2]+718787259)<<15|n>>>17)+r<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(e){if("hex"===e)return this.hex();this.finalize();var t=this.h0,n=this.h1,r=this.h2,o=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",o=this.array(),i=0;i<15;)e=o[i++],t=o[i++],n=o[i++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=o[i],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(123),__webpack_require__(94))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r,o,i,a,s,c,u,l=l||function(e,t){var n={},r=n.lib={},o=function(){},i=r.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;o<e;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,o=e.min(4*t,o),t){for(var c=0;c<t;c+=i)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);o=(s=(r=l).lib).WordArray,i=s.Hasher,a=[],s=r.algo.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],c=n[4],u=0;80>u;u++){if(16>u)a[u]=0|e[t+u];else{var l=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=l<<1|l>>>31}l=(r<<5|r>>>27)+c+a[u],l=20>u?l+(1518500249+(o&i|~o&s)):40>u?l+(1859775393+(o^i^s)):60>u?l+((o&i|o&s|i&s)-1894007588):l+((o^i^s)-899497514),c=s,s=i,i=o<<30|o>>>2,o=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=i._createHelper(s),r.HmacSHA1=i._createHmacHelper(s),function(){var e=l,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,o=4*r;n.sigBytes>o&&(n=e.finalize(n)),n.clamp();for(var i=this._oKey=n.clone(),a=this._iKey=n.clone(),s=i.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),u=(c=l).lib.WordArray,c.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=n.charAt(64);if(r){var o=e.indexOf(r);-1!=o&&(t=o)}for(var i=[],a=0,s=0;s<t;s++)if(s%4){var c=n.indexOf(e.charAt(s-1))<<s%4*2,l=n.indexOf(e.charAt(s))>>>6-s%4*2;i[a>>>2]|=(c|l)<<24-a%4*8,a++}return u.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=l},function(e,t,n){var r=n(832).DOMParser,o=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var n=this.stringToXML(e);return n.getElementsByTagName("parsererror").length?null:this.parseXML(n,t)}return null},this.parseXML=function(n,r){for(var i in r)e[i]=r[i];var a={},s=0,c="";if(n.childNodes.length)for(var u,l,p,f=0;f<n.childNodes.length;f++)4===(u=n.childNodes.item(f)).nodeType?e.mergeCDATA&&(c+=u.nodeValue):3===u.nodeType?c+=u.nodeValue:1===u.nodeType&&(0===s&&(a={}),l=e.stripElemPrefix?u.nodeName.replace(t,""):u.nodeName,p=o.parseXML(u),a.hasOwnProperty(l)?(a[l].constructor!==Array&&(a[l]=[a[l]]),a[l].push(p)):(a[l]=p,s++));return Object.keys(a).length||(a=c||""),a},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new r).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});e.exports=function(e){return o.parseString(e)}},function(e,t,n){function r(e){this.options=e||{locator:{}}}function o(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,i=n.domBuilder||new o,s=n.errorHandler,c=n.locator,l=n.xmlns||{},p={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&i.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof o)return t;e=t}var r={},i=e instanceof Function;function s(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,i,c),r.domBuilder=n.domBuilder||i,/\/x?html?$/.test(t)&&(p.nbsp=" ",p.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,p):r.errorHandler.error("invalid doc source"),i.doc},o.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,a=o.createElementNS(e,n||t),s=r.length;c(this,a),this.currentElement=a,this.locator&&i(this.locator,a);for(var u=0;u<s;u++){e=r.getURI(u);var l=r.getValue(u),p=(n=r.getQName(u),o.createAttributeNS(e,n));this.locator&&i(r.getLocator(u),p),p.value=p.nodeValue=l,a.setAttributeNode(p)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&i(this.locator,o),c(this,o)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){o.prototype[e]=function(){return null}}));var u=n(833).XMLReader,l=t.DOMImplementation=n(282).DOMImplementation;t.XMLSerializer=n(282).XMLSerializer,t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function i(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,o,i){for(var a,s=++t,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)a=e.slice(t,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(i.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,l,t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,l,t),i.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,s)),s;case">":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(t,s)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=a),4==c?(i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,s)),c=6;break;case 1:a=e.slice(t,s),c=2;break;case 4:var l=e.slice(t,s).replace(/&#?\w+;/g,o);i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l,t);case 5:c=6}else switch(c){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,c=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:c=1,t=s;break;case 3:c=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function c(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var a=e[i],s=a.qName,c=a.value;if((d=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,d),l=s.slice(d+1),f="xmlns"===u&&l;else l=s,u=null,f="xmlns"===s&&"";a.localName=l,!1!==f&&(null==o&&(o={},p(n,n={})),n[f]=o[f]=c,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,c))}for(i=e.length;i--;){(u=(a=e[i]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]))}var d;(d=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,d),l=e.localName=r.slice(d+1)):(u=null,l=e.localName=r);var h=e.uri=n[u||""];if(t.startElement(h,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(h,l,r),o)for(u in o)t.endPrefixMapping(u)}function u(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,r),o.characters(a,0,a.length),i)}return t+1}function l(e,t,n,r){var o=r[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o),o<t}function p(e,t){for(var n in e)t[n]=e[n]}function f(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var i=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],c=a>3&&/^public$/i.test(i[2][0])&&i[3][0],u=a>4&&i[4][0],l=i[a-1];return n.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function d(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return n.processingInstruction(o[1],o[2]),r+2}return-1}return-1}function h(e){}function m(e,t){return e.__proto__=t,e}i.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,o){function i(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function p(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,i);b&&m(S),r.characters(n,0,t-S),S=t}}function m(t,n){for(;t>=g&&(n=y.exec(e));)v=n.index,g=v+n[0].length,b.lineNumber++;b.columnNumber=t-v+1}var v=0,g=0,y=/.*(?:\r\n?|\n)|.*$/g,b=r.locator,x=[{currentNSMap:t}],w={},S=0;for(;;){try{var k=e.indexOf("<",S);if(k<0){if(!e.substr(S).match(/^\s*$/)){var O=r.doc,E=O.createTextNode(e.substr(S));O.appendChild(E),r.currentElement=E}return}switch(k>S&&p(k),e.charAt(k+1)){case"/":var C=e.indexOf(">",k+3),_=e.substring(k+2,C),I=x.pop();C<0?(_=e.substring(k+2).replace(/[\s<].*/,""),o.error("end tag name: "+_+" is not complete:"+I.tagName),C=k+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),o.error("end tag name: "+_+" maybe not complete"),C=k+1+_.length);var P=I.localNSMap,T=I.tagName==_;if(T||I.tagName&&I.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(I.uri,I.localName,_),P)for(var R in P)r.endPrefixMapping(R);T||o.fatalError("end tag name: "+_+" is not match the current start tagName:"+I.tagName)}else x.push(I);C++;break;case"?":b&&m(k),C=d(e,k,r);break;case"!":b&&m(k),C=f(e,k,r,o);break;default:b&&m(k);var $=new h,A=x[x.length-1].currentNSMap,q=(C=s(e,k,$,A,i,o),$.length);if(!$.closed&&l(e,C,$.tagName,w)&&($.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),b&&q){for(var j=a(b,{}),L=0;L<q;L++){var M=$[L];m(M.offset),M.locator=a(b,{})}r.locator=j,c($,r,A)&&x.push($),r.locator=b}else c($,r,A)&&x.push($);"http://www.w3.org/1999/xhtml"!==$.uri||$.closed?C++:C=u(e,C,$.tagName,i,r)}}catch(e){o.error("element parse error: "+e),C=-1}C>S?S=C:p(Math.max(k,S)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=i},function(e,t){var n=new RegExp("^([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�])|^((x|X)(m|M)(l|L))|([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�-.0-9·̀-ͯ‿⁀])","g"),r=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,o=function(e){var t=[];if(e instanceof Object)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},i=function(e,t){var i=function(e,r,o,i,a){var s=void 0!==t.indent?t.indent:"\t",c=t.prettyPrint?"\n"+new Array(i).join(s):"";t.removeIllegalNameCharacters&&(e=e.replace(n,"_"));var u=[c,"<",e,o||""];return r&&r.length>0?(u.push(">"),u.push(r),a&&u.push(c),u.push("</"),u.push(e),u.push(">")):u.push("/>"),u.join("")};return function e(n,a,s){var c=typeof n;switch((Array.isArray?Array.isArray(n):n instanceof Array)?c="array":n instanceof Date&&(c="date"),c){case"array":var u=[];return n.map((function(t){u.push(e(t,1,s+1))})),t.prettyPrint&&u.push("\n"),u.join("");case"date":return n.toJSON?n.toJSON():n+"";case"object":var l=[];for(var p in n)if(n.hasOwnProperty(p))if(n[p]instanceof Array)for(var f=0;f<n[p].length;f++)n[p].hasOwnProperty(f)&&l.push(i(p,e(n[p][f],0,s+1),null,s+1,o(n[p][f]).length));else l.push(i(p,e(n[p],0,s+1),null,s+1));return t.prettyPrint&&l.length>0&&l.push("\n"),l.join("");case"function":return n();default:return t.escape?(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(r,""):""+n}}(e,0,0)},a=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};e.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(e){return!1}var n="",r="";return t&&("object"==typeof t?(t.xmlHeader&&(n=a(!!t.xmlHeader.standalone)),void 0!==t.docType&&(r="<!DOCTYPE "+t.docType+">")):n=a()),[n,(t=t||{}).prettyPrint&&r?"\n":"",r,i(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},function(e,t,n){var r=n(284),o=n(106),i={};e.exports.transferToTaskMethod=function(e,t){i[t]=e[t],e[t]=function(e,n){e.SkipTask?i[t].call(this,e,n):this._addTask(t,e,n)}},e.exports.init=function(e){var t,n,a=[],s={},c=0,u=0,l=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),e._custom&&(t._custom=e._custom),t},p=(n=function(){t=0,e.emit("task-list-update",{list:o.map(a,l)}),e.emit("list-update",{list:o.map(a,l)})},function(){t||(t=setTimeout(n))}),f=function(){if(!(a.length<=e.options.UploadQueueSize)){for(var t=0;t<u&&t<a.length&&a.length>e.options.UploadQueueSize;){var n="waiting"===a[t].state||"checking"===a[t].state||"uploading"===a[t].state;a[t]&&n?t++:(s[a[t].id]&&delete s[a[t].id],a.splice(t,1),u--)}p()}},d=function(){if(!(c>=e.options.FileParallelLimit)){for(;a[u]&&"waiting"!==a[u].state;)u++;if(!(u>=a.length)){var t=a[u];u++,c++,t.state="checking",t.params.onTaskStart&&t.params.onTaskStart(l(t)),!t.params.UploadData&&(t.params.UploadData={});var n=o.formatParams(t.api,t.params);i[t.api].call(e,n,(function(n,r){e._isRunningTask(t.id)&&("checking"!==t.state&&"uploading"!==t.state||(t.state=n?"error":"success",n&&(t.error=n),c--,p(),d(),t.callback&&t.callback(n,r),"success"===t.state&&(t.params&&(delete t.params.UploadData,delete t.params.Body,delete t.params),delete t.callback)),f())})),p(),setTimeout(d)}}},h=function(t,n){var o=s[t];if(o){var i=o&&"waiting"===o.state,a=o&&("checking"===o.state||"uploading"===o.state);if("canceled"===n&&"canceled"!==o.state||"paused"===n&&i||"paused"===n&&a){if("paused"===n&&o.params.Body&&"function"==typeof o.params.Body.pipe)return void console.error("stream not support pause");o.state=n,e.emit("inner-kill-task",{TaskId:t,toState:n});try{var u=o&&o.params&&o.params.UploadData.UploadId}catch(e){}"canceled"===n&&u&&r.removeUsing(u),p(),a&&(c--,d()),"canceled"===n&&(o.params&&(delete o.params.UploadData,delete o.params.Body,delete o.params),delete o.callback)}f()}};e._addTasks=function(t){o.each(t,(function(t){e._addTask(t.api,t.params,t.callback,!0)})),p()};var m=!0;e._addTask=function(t,n,r,i){n=o.formatParams(t,n);var c=o.uuid();n.TaskId=c,n.onTaskReady&&n.onTaskReady(c),n.TaskReady&&(n.TaskReady(c),m&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),m=!1);var u={params:n,callback:r,api:t,index:a.length,id:c,Bucket:n.Bucket,Region:n.Region,Key:n.Key,FilePath:n.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:n._custom},l=n.onHashProgress;n.onHashProgress=function(t){e._isRunningTask(u.id)&&(u.hashPercent=t.percent,l&&l(t),p())};var h=n.onProgress;return n.onProgress=function(t){e._isRunningTask(u.id)&&("checking"===u.state&&(u.state="uploading"),u.loaded=t.loaded,u.speed=t.speed,u.percent=t.percent,h&&h(t),p())},o.getFileSize(t,n,(function(e,t){if(e)return r(o.error(e));s[c]=u,a.push(u),u.size=t,!i&&p(),d(),f()})),c},e._isRunningTask=function(e){var t=s[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return o.map(a,l)},e.cancelTask=function(e){h(e,"canceled")},e.pauseTask=function(e){h(e,"paused")},e.restartTask=function(e){var t=s[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",p(),u=Math.min(u,t.index),d())},e.isUploadRunning=function(){return c||u<a.length}}},function(e,t,n){var r=n(837),o=n(106);function i(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},n={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},r=(e&&e.AccessControlList||{}).Grant;r&&(r=o.isArray(r)?r:[r]);var i={READ:0,WRITE:0,FULL_CONTROL:0};return r&&r.length&&o.each(r,(function(r){"qcs::cam::anyone:anyone"===r.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===r.Grantee.URI?i[r.Permission]=1:r.Grantee.ID!==e.Owner.ID&&t[n[r.Permission]].push('id="'+r.Grantee.ID+'"')})),i.FULL_CONTROL||i.WRITE&&i.READ?t.ACL="public-read-write":i.READ?t.ACL="public-read":t.ACL="private",o.each(n,(function(e){t[e]=a(t[e].join(","))})),t}function a(e){var t,n,r=e.split(","),o={};for(t=0;t<r.length;)o[n=r[t].trim()]?r.splice(t,1):(o[n]=!0,r[t]=n,t++);return r.join(",")}function s(e){var t=e.bucket,n=t.substr(0,t.lastIndexOf("-")),r=t.substr(t.lastIndexOf("-")+1),i=e.domain,a=e.region,s=e.object,c=e.protocol||(o.isBrowser&&"http:"===location.protocol?"http:":"https:");i||(i=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(a)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(i="{Bucket}."+i)),i=(i=i.replace(/\{\{AppId\}\}/gi,r).replace(/\{\{Bucket\}\}/gi,n).replace(/\{\{Region\}\}/gi,a).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,r).replace(/\{BucketName\}/gi,n).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,a).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(i)||(i=c+"//"+i),"/"===i.slice(-1)&&(i=i.slice(0,-1));var u=i;return e.ForcePathStyle&&(u+="/"+t),u+="/",s&&(u+=o.camSafeUrlEncode(s).replace(/%2F/g,"/")),e.isLocation&&(u=u.replace(/^https?:\/\//,"")),u}function c(e,t){var n=o.clone(e.Headers);o.each(n,(function(e,t){(""===e||["content-type","cache-control","expires"].indexOf(t.toLowerCase())>-1)&&delete n[t]}));var r=!1,i=function(e,n){r||(r=!0,n&&n.XCosSecurityToken&&!n.SecurityToken&&((n=o.clone(n)).SecurityToken=n.XCosSecurityToken,delete n.XCosSecurityToken),t&&t(e,n))},a=this,s=e.Bucket||"",c=e.Region||"",u=e.Key||"";a.options.ForcePathStyle&&s&&(u=s+"/"+u);var l="/"+u,p={},f=e.Scope;if(!f){var d=e.Action||"",h=e.ResourceKey||e.Key||"";f=e.Scope||[{action:d,bucket:s,region:c,prefix:h}]}var m=o.md5(JSON.stringify(f));a._StsCache=a._StsCache||[],function(){var e,t;for(e=a._StsCache.length-1;e>=0;e--){t=a._StsCache[e];var n=Math.round(o.getSkewTime(a.options.SystemClockOffset)/1e3)+30;if(t.StartTime&&n<t.StartTime||n>=t.ExpiredTime)a._StsCache.splice(e,1);else if(!t.ScopeLimit||t.ScopeLimit&&t.ScopeKey===m){p=t;break}}}();var v,g=function(){var t=p.StartTime&&p.ExpiredTime?p.StartTime+";"+p.ExpiredTime:"",r={Authorization:o.getAuth({SecretId:p.TmpSecretId,SecretKey:p.TmpSecretKey,Method:e.Method,Pathname:l,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:a.options.UseRawKey,SystemClockOffset:a.options.SystemClockOffset,KeyTime:t}),SecurityToken:p.SecurityToken||p.XCosSecurityToken||"",Token:p.Token||"",ClientIP:p.ClientIP||"",ClientUA:p.ClientUA||""};i(null,r)},y=function(e){if(e.Authorization){var t=!1,n=e.Authorization;if(n)if(n.indexOf(" ")>-1)t=!1;else if(n.indexOf("q-sign-algorithm=")>-1&&n.indexOf("q-ak=")>-1&&n.indexOf("q-sign-time=")>-1&&n.indexOf("q-key-time=")>-1&&n.indexOf("q-url-param-list=")>-1)t=!0;else try{(n=atob(n)).indexOf("a=")>-1&&n.indexOf("k=")>-1&&n.indexOf("t=")>-1&&n.indexOf("r=")>-1&&n.indexOf("b=")>-1&&(t=!0)}catch(e){}if(!t)return o.error(new Error("getAuthorization callback params format error"))}else{if(!e.TmpSecretId)return o.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!e.TmpSecretKey)return o.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!e.SecurityToken&&!e.XCosSecurityToken)return o.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!e.ExpiredTime)return o.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(e.ExpiredTime&&10!==e.ExpiredTime.toString().length)return o.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(e.StartTime&&10!==e.StartTime.toString().length)return o.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(p.ExpiredTime&&p.ExpiredTime-o.getSkewTime(a.options.SystemClockOffset)/1e3>60)g();else if(a.options.getAuthorization)a.options.getAuthorization.call(a,{Bucket:s,Region:c,Method:e.Method,Key:u,Pathname:l,Query:e.Query,Headers:n,Scope:f,SystemClockOffset:a.options.SystemClockOffset},(function(e){"string"==typeof e&&(e={Authorization:e});var t=y(e);if(t)return i(t);e.Authorization?i(null,e):((p=e||{}).Scope=f,p.ScopeKey=m,a._StsCache.push(p),g())}));else{if(!a.options.getSTS)return v={Authorization:o.getAuth({SecretId:e.SecretId||a.options.SecretId,SecretKey:e.SecretKey||a.options.SecretKey,Method:e.Method,Pathname:l,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:a.options.UseRawKey,SystemClockOffset:a.options.SystemClockOffset}),SecurityToken:a.options.SecurityToken||a.options.XCosSecurityToken},i(null,v),v;a.options.getSTS.call(a,{Bucket:s,Region:c},(function(e){(p=e||{}).Scope=f,p.ScopeKey=m,p.TmpSecretId||(p.TmpSecretId=p.SecretId),p.TmpSecretKey||(p.TmpSecretKey=p.SecretKey);var t=y(p);if(t)return i(t);a._StsCache.push(p),g()}))}return""}function u(e){var t=!1,n=!1,r=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var i=e.error.Code,a=e.error.Message;("RequestTimeTooSkewed"===i||"AccessDenied"===i&&"Request has expired"===a)&&(n=!0)}catch(e){}if(e)if(n&&r){var s=Date.parse(r);this.options.CorrectClockSkew&&Math.abs(o.getSkewTime(this.options.SystemClockOffset)-s)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=s-Date.now(),t=!0)}else 5===Math.floor(e.statusCode/100)&&(t=!0);return t}function l(e,t){var n=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=o.clearKey(e.qs),e.headers&&(e.headers=o.clearKey(e.headers)),e.qs&&(e.qs=o.clearKey(e.qs));var r=o.clone(e.qs);e.action&&(r[e.action]="");var i=function(o){var a=n.options.SystemClockOffset;c.call(n,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:r,Headers:e.headers,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope},(function(r,s){r?t(r):(e.AuthData=s,p.call(n,e,(function(r,s){r&&o<2&&(a!==n.options.SystemClockOffset||u.call(n,r))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,delete e.headers["x-cos-security-token"]),i(o+1)):t(r,s)})))}))};i(1)}function p(e,t){var n=this,i=e.TaskId;if(!i||n._isRunningTask(i)){var a=e.Bucket,c=e.Region,u=e.Key,l=e.method||"GET",p=e.url,f=e.body,d=e.rawBody;n.options.UseAccelerate&&(c="accelerate"),p=p||s({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:a,region:c,object:u}),e.action&&(p=p+"?"+e.action),e.qsStr&&(p=p.indexOf("?")>-1?p+"&"+e.qsStr:p+"?"+e.qsStr);var h={method:l,url:p,headers:e.headers,qs:e.qs,body:f};if(h.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(h.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(h.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(h.headers.clientUA=e.AuthData.ClientUA),e.AuthData.SecurityToken&&(h.headers["x-cos-security-token"]=e.AuthData.SecurityToken),h.headers&&(h.headers=o.clearKey(h.headers)),h=o.clearKey(h),e.onProgress&&"function"==typeof e.onProgress){var m=f&&(f.size||f.length)||0;h.onProgress=function(t){if(!i||n._isRunningTask(i)){var r=t?t.loaded:0;e.onProgress({loaded:r,total:m})}}}e.onDownloadProgress&&(h.onDownloadProgress=e.onDownloadProgress),e.DataType&&(h.dataType=e.DataType),this.options.Timeout&&(h.timeout=this.options.Timeout),n.options.ForcePathStyle&&(h.pathStyle=n.options.ForcePathStyle),n.emit("before-send",h);var v=(n.options.Request||r)(h,(function(e){if("abort"!==e.error){n.emit("after-receive",e);var r,a={statusCode:e.statusCode,statusMessage:e.statusMessage,headers:e.headers},s=e.error,c=e.body,u=function(e,s){if(i&&n.off("inner-kill-task",g),!r){r=!0;var c={};a&&a.statusCode&&(c.statusCode=a.statusCode),a&&a.headers&&(c.headers=a.headers),e?(e=o.extend(e||{},c),t(e,null)):(s=o.extend(s||{},c),t(null,s)),v=null}};if(s)return u(o.error(s));var l,p=a.statusCode,f=2===Math.floor(p/100);if(d&&f)return u(null,{body:c});try{l=c&&c.indexOf("<")>-1&&c.indexOf(">")>-1&&o.xml2json(c)||{}}catch(e){l={}}var h=l&&l.Error;f?u(null,l):h?u(o.error(new Error(h.Message),{code:h.Code,error:h})):p?u(o.error(new Error(a.statusMessage),{code:""+p})):p&&u(o.error(new Error("statusCode error")))}})),g=function(e){e.TaskId===i&&(v&&v.abort&&v.abort(),n.off("inner-kill-task",g))};i&&n.on("inner-kill-task",g)}}var f={getService:function(e,t){"function"==typeof e&&(t=e,e={});var n=this.options.Protocol||(o.isBrowser&&"http:"===location.protocol?"http:":"https:"),r=this.options.ServiceDomain,i=e.AppId||this.options.appId,a=e.Region;r?(r=r.replace(/\{\{AppId\}\}/gi,i||"").replace(/\{\{Region\}\}/gi,a||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(r)||(r=n+"//"+r),"/"===r.slice(-1)&&(r=r.slice(0,-1))):r=a?n+"//cos."+a+".myqcloud.com":n+"//service.cos.myqcloud.com",l.call(this,{Action:"name/cos:GetService",url:r,method:"GET",headers:e.Headers},(function(e,n){if(e)return t(e);var r=n&&n.ListAllMyBucketsResult&&n.ListAllMyBucketsResult.Buckets&&n.ListAllMyBucketsResult.Buckets.Bucket||[];r=o.isArray(r)?r:[r];var i=n&&n.ListAllMyBucketsResult&&n.ListAllMyBucketsResult.Owner||{};t(null,{Buckets:r,Owner:i,statusCode:n.statusCode,headers:n.headers})}))},putBucket:function(e,t){var n=this,r="";if(e.BucketAZConfig){var i={BucketAZConfig:e.BucketAZConfig};r=o.json2xml({CreateBucketConfiguration:i})}l.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,body:r},(function(r,o){if(r)return t(r);var i=s({protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,isLocation:!0});t(null,{Location:i,statusCode:o.statusCode,headers:o.headers})}))},headBucket:function(e,t){l.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},t)},getBucket:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n.marker=e.Marker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,l.call(this,{Action:"name/cos:GetBucket",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n},(function(e,n){if(e)return t(e);var r=n.ListBucketResult||{},i=r.Contents||[],a=r.CommonPrefixes||[];i=o.isArray(i)?i:[i],a=o.isArray(a)?a:[a];var s=o.clone(r);o.extend(s,{Contents:i,CommonPrefixes:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)}))},deleteBucket:function(e,t){l.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketAcl:function(e,t){var n=e.Headers,r="";if(e.AccessControlPolicy){var i=o.clone(e.AccessControlPolicy||{}),s=i.Grants||i.Grant;s=o.isArray(s)?s:[s],delete i.Grant,delete i.Grants,i.AccessControlList={Grant:s},r=o.json2xml({AccessControlPolicy:i}),n["Content-Type"]="application/xml",n["Content-MD5"]=o.binaryBase64(o.md5(r))}o.each(n,(function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=a(n[t]))})),l.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:n,action:"acl",body:r},(function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketAcl:function(e,t){l.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},(function(e,n){if(e)return t(e);var r=n.AccessControlPolicy||{},a=r.Owner||{},s=r.AccessControlList.Grant||[];s=o.isArray(s)?s:[s];var c=i(r);n.headers&&n.headers["x-cos-acl"]&&(c.ACL=n.headers["x-cos-acl"]),c=o.extend(c,{Owner:a,Grants:s,statusCode:n.statusCode,headers:n.headers}),t(null,c)}))},putBucketCors:function(e,t){var n=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[];n=o.clone(o.isArray(n)?n:[n]),o.each(n,(function(e){o.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],(function(t){var n=t+"s",r=e[n]||e[t]||[];delete e[n],e[t]=o.isArray(r)?r:[r]}))}));var r=o.json2xml({CORSConfiguration:{CORSRule:n}}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"cors",headers:i},(function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketCors:function(e,t){l.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},(function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var r={CORSRules:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var i=n.CORSConfiguration||{},a=i.CORSRules||i.CORSRule||[];a=o.clone(o.isArray(a)?a:[a]),o.each(a,(function(e){o.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],(function(t){var n=t+"s",r=e[n]||e[t]||[];delete e[t],e[n]=o.isArray(r)?r:[r]}))})),t(null,{CORSRules:a,statusCode:n.statusCode,headers:n.headers})}}))},deleteBucketCors:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})}))},getBucketLocation:function(e,t){l.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},t)},getBucketPolicy:function(e,t){l.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},(function(e,n){if(e)return e.statusCode&&403===e.statusCode?t(o.error(e,{ErrorStatus:"Access Denied"})):e.statusCode&&405===e.statusCode?t(o.error(e,{ErrorStatus:"Method Not Allowed"})):e.statusCode&&404===e.statusCode?t(o.error(e,{ErrorStatus:"Policy Not Found"})):t(e);var r={};try{r=JSON.parse(n.body)}catch(e){}t(null,{Policy:r,statusCode:n.statusCode,headers:n.headers})}))},putBucketPolicy:function(e,t){var n=e.Policy;try{"string"==typeof n&&(n=JSON.parse(n))}catch(e){}if(!n||"string"==typeof n)return t(o.error(new Error("Policy format error")));var r=JSON.stringify(n);n.version||(n.version="2.0");var i=e.Headers;i["Content-Type"]="application/json",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:r,headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},deleteBucketPolicy:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})}))},putBucketTagging:function(e,t){var n=e.Tagging||{},r=n.TagSet||n.Tags||e.Tags||[];r=o.clone(o.isArray(r)?r:[r]);var i=o.json2xml({Tagging:{TagSet:{Tag:r}}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=o.binaryBase64(o.md5(i)),l.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"tagging",headers:a},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketTagging:function(e,t){l.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},(function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var r={Tags:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else{var i=[];try{i=n.Tagging.TagSet.Tag||[]}catch(e){}i=o.clone(o.isArray(i)?i:[i]),t(null,{Tags:i,statusCode:n.statusCode,headers:n.headers})}}))},deleteBucketTagging:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketLifecycle:function(e,t){var n=(e.LifecycleConfiguration||{}).Rules||e.Rules||[];n=o.clone(n);var r=o.json2xml({LifecycleConfiguration:{Rule:n}}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"lifecycle",headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketLifecycle:function(e,t){l.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},(function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var r={Rules:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var i=[];try{i=n.LifecycleConfiguration.Rule||[]}catch(e){}i=o.clone(o.isArray(i)?i:[i]),t(null,{Rules:i,statusCode:n.statusCode,headers:n.headers})}}))},deleteBucketLifecycle:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketVersioning:function(e,t){if(e.VersioningConfiguration){var n=e.VersioningConfiguration||{},r=o.json2xml({VersioningConfiguration:n}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"versioning",headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))}else t(o.error(new Error("missing param VersioningConfiguration")))},getBucketVersioning:function(e,t){l.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},(function(e,n){e||!n.VersioningConfiguration&&(n.VersioningConfiguration={}),t(e,n)}))},putBucketReplication:function(e,t){var n=o.clone(e.ReplicationConfiguration),r=o.json2xml({ReplicationConfiguration:n});r=(r=r.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"replication",headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketReplication:function(e,t){l.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},(function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var r={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else!n.ReplicationConfiguration&&(n.ReplicationConfiguration={}),n.ReplicationConfiguration.Rule&&(n.ReplicationConfiguration.Rules=o.makeArray(n.ReplicationConfiguration.Rule),delete n.ReplicationConfiguration.Rule),t(e,n)}))},deleteBucketReplication:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketWebsite:function(e,t){if(e.WebsiteConfiguration){var n=o.clone(e.WebsiteConfiguration||{}),r=n.RoutingRules||n.RoutingRule||[];r=o.isArray(r)?r:[r],delete n.RoutingRule,delete n.RoutingRules,r.length&&(n.RoutingRules={RoutingRule:r});var i=o.json2xml({WebsiteConfiguration:n}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=o.binaryBase64(o.md5(i)),l.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"website",headers:a},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))}else t(o.error(new Error("missing param WebsiteConfiguration")))},getBucketWebsite:function(e,t){l.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},(function(e,n){if(e)if(404===e.statusCode&&"NoSuchWebsiteConfiguration"===e.error.Code){var r={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var i=n.WebsiteConfiguration||{};if(i.RoutingRules){var a=o.clone(i.RoutingRules.RoutingRule||[]);a=o.makeArray(a),i.RoutingRules=a}t(null,{WebsiteConfiguration:i,statusCode:n.statusCode,headers:n.headers})}}))},deleteBucketWebsite:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketReferer:function(e,t){if(e.RefererConfiguration){var n=o.clone(e.RefererConfiguration||{}),r=n.DomainList||{},i=r.Domains||r.Domain||[];(i=o.isArray(i)?i:[i]).length&&(n.DomainList={Domain:i});var a=o.json2xml({RefererConfiguration:n}),s=e.Headers;s["Content-Type"]="application/xml",s["Content-MD5"]=o.binaryBase64(o.md5(a)),l.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:a,action:"referer",headers:s},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))}else t(o.error(new Error("missing param RefererConfiguration")))},getBucketReferer:function(e,t){l.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"referer"},(function(e,n){if(e)if(404===e.statusCode&&"NoSuchRefererConfiguration"===e.error.Code){var r={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var i=n.RefererConfiguration||{};if(i.DomainList){var a=o.clone(i.DomainList.Domain||[]);a=o.makeArray(a),i.DomainList={Domains:a}}t(null,{RefererConfiguration:i,statusCode:n.statusCode,headers:n.headers})}}))},putBucketDomain:function(e,t){var n=(e.DomainConfiguration||{}).DomainRule||e.DomainRule||[];n=o.clone(n);var r=o.json2xml({DomainConfiguration:{DomainRule:n}}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"domain",headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketDomain:function(e,t){l.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},(function(e,n){if(e)return t(e);var r=[];try{r=n.DomainConfiguration.DomainRule||[]}catch(e){}r=o.clone(o.isArray(r)?r:[r]),t(null,{DomainRule:r,statusCode:n.statusCode,headers:n.headers})}))},deleteBucketDomain:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketOrigin:function(e,t){var n=(e.OriginConfiguration||{}).OriginRule||e.OriginRule||[];n=o.clone(n);var r=o.json2xml({OriginConfiguration:{OriginRule:n}}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"origin",headers:i},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketOrigin:function(e,t){l.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},(function(e,n){if(e)return t(e);var r=[];try{r=n.OriginConfiguration.OriginRule||[]}catch(e){}r=o.clone(o.isArray(r)?r:[r]),t(null,{OriginRule:r,statusCode:n.statusCode,headers:n.headers})}))},deleteBucketOrigin:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketLogging:function(e,t){var n=o.json2xml({BucketLoggingStatus:e.BucketLoggingStatus||""}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=o.binaryBase64(o.md5(n)),l.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"logging",headers:r},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketLogging:function(e,t){l.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"logging"},(function(e,n){if(e)return t(e);t(null,{BucketLoggingStatus:n.BucketLoggingStatus,statusCode:n.statusCode,headers:n.headers})}))},putBucketInventory:function(e,t){var n=o.clone(e.InventoryConfiguration);if(n.OptionalFields){var r=n.OptionalFields||[];n.OptionalFields={Field:r}}if(n.Destination&&n.Destination.COSBucketDestination&&n.Destination.COSBucketDestination.Encryption){var i=n.Destination.COSBucketDestination.Encryption;Object.keys(i).indexOf("SSECOS")>-1&&(i["SSE-COS"]=i.SSECOS,delete i.SSECOS)}var a=o.json2xml({InventoryConfiguration:n}),s=e.Headers;s["Content-Type"]="application/xml",s["Content-MD5"]=o.binaryBase64(o.md5(a)),l.call(this,{Action:"name/cos:PutBucketInventory",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:a,action:"inventory",qs:{id:e.Id},headers:s},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketInventory:function(e,t){l.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},(function(e,n){if(e)return t(e);var r=n.InventoryConfiguration;if(r&&r.OptionalFields&&r.OptionalFields.Field){var i=r.OptionalFields.Field;o.isArray(i)||(i=[i]),r.OptionalFields=i}if(r.Destination&&r.Destination.COSBucketDestination&&r.Destination.COSBucketDestination.Encryption){var a=r.Destination.COSBucketDestination.Encryption;Object.keys(a).indexOf("SSE-COS")>-1&&(a.SSECOS=a["SSE-COS"],delete a["SSE-COS"])}t(null,{InventoryConfiguration:r,statusCode:n.statusCode,headers:n.headers})}))},listBucketInventory:function(e,t){l.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{"continuation-token":e.ContinuationToken}},(function(e,n){if(e)return t(e);var r=n.ListInventoryConfigurationResult,i=r.InventoryConfiguration||[];i=o.isArray(i)?i:[i],delete r.InventoryConfiguration,o.each(i,(function(e){if(e&&e.OptionalFields&&e.OptionalFields.Field){var t=e.OptionalFields.Field;o.isArray(t)||(t=[t]),e.OptionalFields=t}if(e.Destination&&e.Destination.COSBucketDestination&&e.Destination.COSBucketDestination.Encryption){var n=e.Destination.COSBucketDestination.Encryption;Object.keys(n).indexOf("SSE-COS")>-1&&(n.SSECOS=n["SSE-COS"],delete n["SSE-COS"])}})),r.InventoryConfigurations=i,o.extend(r,{statusCode:n.statusCode,headers:n.headers}),t(null,r)}))},deleteBucketInventory:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},putBucketAccelerate:function(e,t){if(e.AccelerateConfiguration){var n={AccelerateConfiguration:e.AccelerateConfiguration||{}},r=o.json2xml(n),i={"Content-Type":"application/xml"};i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"accelerate",headers:i},(function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})}))}else t(o.error(new Error("missing param AccelerateConfiguration")))},getBucketAccelerate:function(e,t){l.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:e.Bucket,Region:e.Region,action:"accelerate"},(function(e,n){e||!n.AccelerateConfiguration&&(n.AccelerateConfiguration={}),t(e,n)}))},putBucketEncryption:function(e,t){var n=e.ServerSideEncryptionConfiguration||{},r=n.Rule||n.Rules||[],i=o.json2xml({ServerSideEncryptionConfiguration:{Rule:r}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=o.binaryBase64(o.md5(i)),l.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"encryption",headers:a},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getBucketEncryption:function(e,t){l.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},(function(e,n){if(e)if(404===e.statusCode&&"NoSuchEncryptionConfiguration"===e.code){var r={EncryptionConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var i=o.makeArray(n.EncryptionConfiguration&&n.EncryptionConfiguration.Rule||[]);n.EncryptionConfiguration={Rules:i},t(e,n)}}))},deleteBucketEncryption:function(e,t){l.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getObject:function(e,t){var n=e.Query||{},r=e.QueryString||"",i=o.throttleOnProgress.call(this,0,e.onProgress);n["response-content-type"]=e.ResponseContentType,n["response-content-language"]=e.ResponseContentLanguage,n["response-expires"]=e.ResponseExpires,n["response-cache-control"]=e.ResponseCacheControl,n["response-content-disposition"]=e.ResponseContentDisposition,n["response-content-encoding"]=e.ResponseContentEncoding,l.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,DataType:e.DataType,headers:e.Headers,qs:n,qsStr:r,rawBody:!0,onDownloadProgress:i},(function(n,r){if(i(null,!0),n){var a=n.statusCode;return e.Headers["If-Modified-Since"]&&a&&304===a?t(null,{NotModified:!0}):t(n)}t(null,{Body:r.body,ETag:o.attr(r.headers,"etag",""),statusCode:r.statusCode,headers:r.headers})}))},headObject:function(e,t){l.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},(function(n,r){if(n){var i=n.statusCode;return e.Headers["If-Modified-Since"]&&i&&304===i?t(null,{NotModified:!0,statusCode:i}):t(n)}r.ETag=o.attr(r.headers,"etag",""),t(null,r)}))},listObjectVersions:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n["key-marker"]=e.KeyMarker,n["version-id-marker"]=e.VersionIdMarker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,l.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"versions"},(function(e,n){if(e)return t(e);var r=n.ListVersionsResult||{},i=r.DeleteMarker||[];i=o.isArray(i)?i:[i];var a=r.Version||[];a=o.isArray(a)?a:[a];var s=o.clone(r);delete s.DeleteMarker,delete s.Version,o.extend(s,{DeleteMarkers:i,Versions:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)}))},putObject:function(e,t){var n=this,r=e.ContentLength,i=o.throttleOnProgress.call(n,r,e.onProgress),a=e.Headers;a["Cache-Control"]||a["cache-control"]||(a["Cache-Control"]=""),a["Content-Type"]||a["content-type"]||(a["Content-Type"]=e.Body&&e.Body.type||"");var c=e.UploadAddMetaMd5||n.options.UploadAddMetaMd5||n.options.UploadCheckContentMd5;o.getBodyMd5(c,e.Body,(function(c){c&&(n.options.UploadCheckContentMd5&&(a["Content-MD5"]=o.binaryBase64(c)),(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5)&&(a["x-cos-meta-md5"]=c)),void 0!==e.ContentLength&&(a["Content-Length"]=e.ContentLength),i(null,!0),l.call(n,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:e.Query,body:e.Body,onProgress:i},(function(a,c){if(a)return i(null,!0),t(a);i({loaded:r,total:r},!0);var u=s({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:n.options.UseAccelerate?"accelerate":e.Region,object:e.Key});u=u.substr(u.indexOf("://")+3),c.Location=u,c.ETag=o.attr(c.headers,"etag",""),t(null,c)}))}),e.onHashProgress)},deleteObject:function(e,t){l.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},(function(e,n){if(e){var r=e.statusCode;return r&&404===r?t(null,{BucketNotFound:!0,statusCode:r}):t(e)}t(null,{statusCode:n.statusCode,headers:n.headers})}))},getObjectAcl:function(e,t){l.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},(function(e,n){if(e)return t(e);var r=n.AccessControlPolicy||{},a=r.Owner||{},s=r.AccessControlList&&r.AccessControlList.Grant||[];s=o.isArray(s)?s:[s];var c=i(r);delete c.GrantWrite,n.headers&&n.headers["x-cos-acl"]&&(c.ACL=n.headers["x-cos-acl"]),c=o.extend(c,{Owner:a,Grants:s,statusCode:n.statusCode,headers:n.headers}),t(null,c)}))},putObjectAcl:function(e,t){var n=e.Headers,r="";if(e.AccessControlPolicy){var i=o.clone(e.AccessControlPolicy||{}),s=i.Grants||i.Grant;s=o.isArray(s)?s:[s],delete i.Grant,delete i.Grants,i.AccessControlList={Grant:s},r=o.json2xml({AccessControlPolicy:i}),n["Content-Type"]="application/xml",n["Content-MD5"]=o.binaryBase64(o.md5(r))}o.each(n,(function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=a(n[t]))})),l.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:n,body:r},(function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})}))},optionsObject:function(e,t){var n=e.Headers;n.Origin=e.Origin,n["Access-Control-Request-Method"]=e.AccessControlRequestMethod,n["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,l.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:n},(function(e,n){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var r=n.headers||{};t(null,{AccessControlAllowOrigin:r["access-control-allow-origin"],AccessControlAllowMethods:r["access-control-allow-methods"],AccessControlAllowHeaders:r["access-control-allow-headers"],AccessControlExposeHeaders:r["access-control-expose-headers"],AccessControlMaxAge:r["access-control-max-age"],statusCode:n.statusCode,headers:n.headers})}))},putObjectCopy:function(e,t){var n=this,r=e.Headers;r["Cache-Control"]||r["cache-control"]||(r["Cache-Control"]="");var i=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(i){var a=i[1],c=i[3],u=decodeURIComponent(i[4]);l.call(this,{Scope:[{action:"name/cos:GetObject",bucket:a,region:c,prefix:u},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},(function(r,i){if(r)return t(r);var a=o.clone(i.CopyObjectResult||{}),c=s({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0});o.extend(a,{Location:c,statusCode:i.statusCode,headers:i.headers}),t(null,a)}))}else t(o.error(new Error("CopySource format error")))},deleteMultipleObject:function(e,t){var n=e.Objects||[],r=e.Quiet;n=o.isArray(n)?n:[n];var i=o.json2xml({Delete:{Object:n,Quiet:r||!1}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=o.binaryBase64(o.md5(i));var s=o.map(n,(function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}}));l.call(this,{Scope:s,method:"POST",Bucket:e.Bucket,Region:e.Region,body:i,action:"delete",headers:a},(function(e,n){if(e)return t(e);var r=n.DeleteResult||{},i=r.Deleted||[],a=r.Error||[];i=o.isArray(i)?i:[i],a=o.isArray(a)?a:[a];var s=o.clone(r);o.extend(s,{Error:a,Deleted:i,statusCode:n.statusCode,headers:n.headers}),t(null,s)}))},restoreObject:function(e,t){var n=e.Headers;if(e.RestoreRequest){var r=e.RestoreRequest||{},i=o.json2xml({RestoreRequest:r});n["Content-Type"]="application/xml",n["Content-MD5"]=o.binaryBase64(o.md5(i)),l.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:i,action:"restore",headers:n},t)}else t(o.error(new Error("missing param RestoreRequest")))},putObjectTagging:function(e,t){var n=e.Tagging||{},r=n.TagSet||n.Tags||e.Tags||[];r=o.clone(o.isArray(r)?r:[r]);var i=o.json2xml({Tagging:{TagSet:{Tag:r}}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=o.binaryBase64(o.md5(i)),l.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:e.Bucket,Key:e.Key,Region:e.Region,body:i,action:"tagging",headers:a,VersionId:e.VersionId},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},getObjectTagging:function(e,t){l.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:e.Key,Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging",VersionId:e.VersionId},(function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var r={Tags:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else{var i=[];try{i=n.Tagging.TagSet.Tag||[]}catch(e){}i=o.clone(o.isArray(i)?i:[i]),t(null,{Tags:i,statusCode:n.statusCode,headers:n.headers})}}))},deleteObjectTagging:function(e,t){l.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"tagging",VersionId:e.VersionId},(function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})}))},selectObjectContent:function(e,t){if(!e.SelectType)return t(o.error(new Error("missing param SelectType")));var n=e.SelectRequest||{},r=o.json2xml({SelectRequest:n}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=o.binaryBase64(o.md5(r)),l.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"select",qs:{"select-type":e.SelectType},VersionId:e.VersionId,body:r,DataType:"arraybuffer",rawBody:!0},(function(e,n){if(e&&204===e.statusCode)return t(null,{statusCode:e.statusCode});if(e)return t(e);var r=o.parseSelectPayload(n.body);t(null,{statusCode:n.statusCode,headers:n.headers,Body:r.body,Payload:r.payload})}))},uploadPartCopy:function(e,t){var n=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(n){var r=n[1],i=n[3],a=decodeURIComponent(n[4]);l.call(this,{Scope:[{action:"name/cos:GetObject",bucket:r,region:i,prefix:a},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},(function(e,n){if(e)return t(e);var r=o.clone(n.CopyPartResult||{});o.extend(r,{statusCode:n.statusCode,headers:n.headers}),t(null,r)}))}else t(o.error(new Error("CopySource format error")))},multipartInit:function(e,t){var n=this,r=e.Headers;r["Cache-Control"]||r["cache-control"]||(r["Cache-Control"]=""),r["Content-Type"]||r["content-type"]||(r["Content-Type"]=e.Body&&e.Body.type||""),o.getBodyMd5(e.Body&&(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5),e.Body,(function(r){r&&(e.Headers["x-cos-meta-md5"]=r),l.call(n,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,qs:e.Query},(function(e,n){return e?t(e):(n=o.clone(n||{}))&&n.InitiateMultipartUploadResult?t(null,o.extend(n.InitiateMultipartUploadResult,{statusCode:n.statusCode,headers:n.headers})):void t(null,n)}))}),e.onHashProgress)},multipartUpload:function(e,t){var n=this;o.getFileSize("multipartUpload",e,(function(){o.getBodyMd5(n.options.UploadCheckContentMd5,e.Body,(function(r){r&&(e.Headers["Content-MD5"]=o.binaryBase64(r)),l.call(n,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},(function(e,n){if(e)return t(e);t(null,{ETag:o.attr(n.headers,"etag",""),statusCode:n.statusCode,headers:n.headers})}))}))}))},multipartComplete:function(e,t){for(var n=this,r=e.UploadId,i=e.Parts,a=0,c=i.length;a<c;a++)0!==i[a].ETag.indexOf('"')&&(i[a].ETag='"'+i[a].ETag+'"');var u=o.json2xml({CompleteMultipartUpload:{Part:i}});u=u.replace(/\n\s*/g,"");var p=e.Headers;p["Content-Type"]="application/xml",p["Content-MD5"]=o.binaryBase64(o.md5(u)),l.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:r},body:u,headers:p},(function(r,i){if(r)return t(r);var a=s({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),c=i.CompleteMultipartUploadResult||{};c.ProcessResults&&c&&c.ProcessResults&&(c.UploadResult={OriginalInfo:{Key:c.Key,Location:a,ETag:c.ETag,ImageInfo:c.ImageInfo},ProcessResults:c.ProcessResults},delete c.ImageInfo,delete c.ProcessResults);var u=o.extend(c,{Location:a,statusCode:i.statusCode,headers:i.headers});t(null,u)}))},multipartList:function(e,t){var n={};n.delimiter=e.Delimiter,n["encoding-type"]=e.EncodingType,n.prefix=e.Prefix||"",n["max-uploads"]=e.MaxUploads,n["key-marker"]=e.KeyMarker,n["upload-id-marker"]=e.UploadIdMarker,n=o.clearKey(n),l.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"uploads"},(function(e,n){if(e)return t(e);if(n&&n.ListMultipartUploadsResult){var r=n.ListMultipartUploadsResult.Upload||[];r=o.isArray(r)?r:[r],n.ListMultipartUploadsResult.Upload=r}var i=o.clone(n.ListMultipartUploadsResult||{});o.extend(i,{statusCode:n.statusCode,headers:n.headers}),t(null,i)}))},multipartListPart:function(e,t){var n={};n.uploadId=e.UploadId,n["encoding-type"]=e.EncodingType,n["max-parts"]=e.MaxParts,n["part-number-marker"]=e.PartNumberMarker,l.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},(function(e,n){if(e)return t(e);var r=n.ListPartsResult||{},i=r.Part||[];i=o.isArray(i)?i:[i],r.Part=i;var a=o.clone(r);o.extend(a,{statusCode:n.statusCode,headers:n.headers}),t(null,a)}))},multipartAbort:function(e,t){var n={};n.uploadId=e.UploadId,l.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},(function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})}))},request:function(e,t){l.call(this,{method:e.Method,Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:e.Action,headers:e.Headers,qs:e.Query,body:e.Body},(function(e,n){if(e)return t(e);n&&n.body&&(n.Body=n.body,delete n.body),t(e,n)}))},getObjectUrl:function(e,t){var n=s({ForcePathStyle:this.options.ForcePathStyle,protocol:e.Protocol||this.options.Protocol,domain:e.Domain||this.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key}),r="";e.Query&&(r+=o.obj2str(e.Query)),e.QueryString&&(r+=(r?"&":"")+e.QueryString);var i=n;if(void 0!==e.Sign&&!e.Sign)return r&&(i+="?"+r),t(null,{Url:i}),i;var a=c.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires,Headers:e.Headers,Query:e.Query},(function(e,o){if(t)if(e)t(e);else{var i=n;i+="?"+(o.Authorization.indexOf("q-signature")>-1?o.Authorization:"sign="+encodeURIComponent(o.Authorization)),o.SecurityToken&&(i+="&x-cos-security-token="+o.SecurityToken),o.ClientIP&&(i+="&clientIP="+o.ClientIP),o.ClientUA&&(i+="&clientUA="+o.ClientUA),o.Token&&(i+="&token="+o.Token),r&&(i+="&"+r),setTimeout((function(){t(null,{Url:i})}))}}));return a?(i+="?"+a.Authorization+(a.SecurityToken?"&x-cos-security-token="+a.SecurityToken:""),r&&(i+="&"+r)):r&&(i+="?"+r),i},getAuth:function(e){return o.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};e.exports.init=function(e,t){t.transferToTaskMethod(f,"putObject"),o.each(f,(function(t,n){e.prototype[n]=o.apiWrapper(n,t),function(e,t,n){o.each(["Cors","Acl"],(function(r){if(e.slice(-r.length)===r){var i=e.slice(0,-r.length)+r.toUpperCase(),a=o.apiWrapper(e,t),s=!1;n[i]=function(){!s&&console.warn("warning: cos."+i+" has been deprecated. Please Use cos."+e+" instead."),s=!0,a.apply(this,arguments)}}}))}(n,t,e.prototype)}))}},function(e,t){var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},r=function(e,t,n){var r={};return t.getAllResponseHeaders().trim().split("\n").forEach((function(e){if(e){var t=e.indexOf(":"),n=e.substr(0,t).trim().toLowerCase(),o=e.substr(t+1).trim();r[n]=o}})),{error:e,statusCode:t.status,statusMessage:t.statusText,headers:r,body:n}},o=function(e,t){return t||"text"!==t?e.response:e.responseText};e.exports=function(e,t){var i,a,s,c,u=(e.method||"GET").toUpperCase(),l=e.url;if(e.qs){var p=(i=e.qs,a=a||"&",s=s||"=",null===i&&(i=void 0),"object"==typeof i?Object.keys(i).map((function(e){var t=encodeURIComponent(n(e))+s;return Array.isArray(i[e])?i[e].map((function(e){return t+encodeURIComponent(n(e))})).join(a):t+encodeURIComponent(n(i[e]))})).filter(Boolean).join(a):c?encodeURIComponent(n(c))+s+encodeURIComponent(n(i)):"");p&&(l+=(-1===l.indexOf("?")?"?":"&")+p)}var f=new XMLHttpRequest;f.open(u,l,!0),f.responseType=e.dataType||"text";var d=e.headers;if(d)for(var h in d)d.hasOwnProperty(h)&&"content-length"!==h.toLowerCase()&&"user-agent"!==h.toLowerCase()&&"origin"!==h.toLowerCase()&&"host"!==h.toLowerCase()&&f.setRequestHeader(h,d[h]);return e.onProgress&&f.upload&&(f.upload.onprogress=e.onProgress),e.onDownloadProgress&&(f.onprogress=e.onDownloadProgress),e.timeout&&(f.timeout=e.timeout),f.ontimeout=function(e){var n=new Error("timeout");t(r(n,f))},f.onload=function(){t(r(null,f,o(f,e.dataType)))},f.onerror=function(n){var i=o(f,e.dataType);if(i)t(r(null,f,i));else{var a=f.statusText;a||0!==f.status||(a=new Error("CORS blocked or network error")),t(r(a,f,i))}},f.send(e.body||""),f}},function(e,t,n){var r=n(284),o=n(839),i=n(283).EventProxy,a=n(106);function s(e,t){var n=e.TaskId,s=e.Bucket,l=e.Region,p=e.Key,f=e.StorageClass,d=this,h={},m=e.FileSize,v=e.SliceSize,g=Math.ceil(m/v),y=0,b=a.throttleOnProgress.call(d,m,e.onHashProgress),x=function(t,n){var r=t.length;if(0===r)return n(null,!0);if(r>g)return n(null,!1);if(r>1&&Math.max(t[0].Size,t[1].Size)!==v)return n(null,!1);var o=function(i){if(i<r){var s=t[i];!function(t,n){var r=v*(t-1),o=Math.min(r+v,m),i=o-r;h[t]?n(null,{PartNumber:t,ETag:h[t],Size:i}):a.fileSlice(e.Body,r,o,!1,(function(e){a.getFileMd5(e,(function(e,r){if(e)return n(a.error(e));var o='"'+r+'"';h[t]=o,1,b({loaded:y+=i,total:m}),n(null,{PartNumber:t,ETag:o,Size:i})}))}))}(s.PartNumber,(function(e,t){t&&t.ETag===s.ETag&&t.Size===s.Size?o(i+1):n(null,!1)}))}else n(null,!0)};o(0)},w=new i;w.on("error",(function(e){if(d._isRunningTask(n))return t(e)})),w.on("upload_id_available",(function(e){var n={},r=[];a.each(e.PartList,(function(e){n[e.PartNumber]=e}));for(var o=1;o<=g;o++){var i=n[o];i?(i.PartNumber=o,i.Uploaded=!0):i={PartNumber:o,ETag:null,Uploaded:!1},r.push(i)}e.PartList=r,t(null,e)})),w.on("no_available_upload_id",(function(){if(d._isRunningTask(n)){var r=a.extend({Bucket:s,Region:l,Key:p,Headers:a.clone(e.Headers),Query:a.clone(e.Query),StorageClass:f,Body:e.Body},e);d.multipartInit(r,(function(e,r){if(d._isRunningTask(n)){if(e)return w.emit("error",e);var o=r.UploadId;if(!o)return t(a.error(new Error("no such upload id")));w.emit("upload_id_available",{UploadId:o,PartList:[]})}}))}})),w.on("has_and_check_upload_id",(function(e){e=e.reverse(),o.eachLimit(e,1,(function(e,t){d._isRunningTask(n)&&(r.using[e]?t():u.call(d,{Bucket:s,Region:l,Key:p,UploadId:e},(function(o,i){if(d._isRunningTask(n)){if(o)return r.removeUsing(e),w.emit("error",o);var a=i.PartList;a.forEach((function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""})),x(a,(function(r,o){if(d._isRunningTask(n))return r?w.emit("error",r):void(o?t({UploadId:e,PartList:a}):t())}))}})))}),(function(e){d._isRunningTask(n)&&(b(null,!0),e&&e.UploadId?w.emit("upload_id_available",e):w.emit("no_available_upload_id"))}))})),w.on("seek_local_avail_upload_id",(function(t){var o=r.getFileId(e.Body,e.ChunkSize,s,p),i=r.getUploadIdList.call(d,o);if(o&&i){var c=function(e){if(e>=i.length)w.emit("has_and_check_upload_id",t);else{var o=i[e];if(!a.isInArray(t,o))return r.removeUploadId.call(d,o),void c(e+1);r.using[o]?c(e+1):u.call(d,{Bucket:s,Region:l,Key:p,UploadId:o},(function(t,i){d._isRunningTask(n)&&(t?(r.removeUploadId.call(d,o),c(e+1)):w.emit("upload_id_available",{UploadId:o,PartList:i.PartList}))}))}};c(0)}else w.emit("has_and_check_upload_id",t)})),w.on("get_remote_upload_id_list",(function(){c.call(d,{Bucket:s,Region:l,Key:p},(function(t,o){if(d._isRunningTask(n)){if(t)return w.emit("error",t);var i=a.filter(o.UploadList,(function(e){return e.Key===p&&(!f||e.StorageClass.toUpperCase()===f.toUpperCase())})).reverse().map((function(e){return e.UploadId||e.UploadID}));if(i.length)w.emit("seek_local_avail_upload_id",i);else{var c,u=r.getFileId(e.Body,e.ChunkSize,s,p);u&&(c=r.getUploadIdList.call(d,u))&&a.each(c,(function(e){r.removeUploadId.call(d,e)})),w.emit("no_available_upload_id")}}}))})),w.emit("get_remote_upload_id_list")}function c(e,t){var n=this,r=[],o={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key},i=function(){n.multipartList(o,(function(e,n){if(e)return t(e);r.push.apply(r,n.Upload||[]),"true"===n.IsTruncated?(o.KeyMarker=n.NextKeyMarker,o.UploadIdMarker=n.NextUploadIdMarker,i()):t(null,{UploadList:r})}))};i()}function u(e,t){var n=this,r=[],o={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId},i=function(){n.multipartListPart(o,(function(e,n){if(e)return t(e);r.push.apply(r,n.Part||[]),"true"===n.IsTruncated?(o.PartNumberMarker=n.NextPartNumberMarker,i()):t(null,{PartList:r})}))};i()}function l(e,t){var n=this,r=e.TaskId,i=e.Bucket,s=e.Region,c=e.Key,u=e.UploadData,l=e.FileSize,f=e.SliceSize,d=Math.min(e.AsyncLimit||n.options.ChunkParallelLimit||1,256),h=e.Body,m=Math.ceil(l/f),v=0,g=e.ServerSideEncryption,y=e.Headers,b=a.filter(u.PartList,(function(e){return e.Uploaded&&(v+=e.PartNumber>=m&&l%f||f),!e.Uploaded})),x=e.onProgress;o.eachLimit(b,d,(function(e,t){if(n._isRunningTask(r)){var o=e.PartNumber,a=Math.min(l,e.PartNumber*f)-(e.PartNumber-1)*f,d=0;p.call(n,{TaskId:r,Bucket:i,Region:s,Key:c,SliceSize:f,FileSize:l,PartNumber:o,ServerSideEncryption:g,Body:h,UploadData:u,Headers:y,onProgress:function(e){v+=e.loaded-d,d=e.loaded,x({loaded:v,total:l})}},(function(o,i){n._isRunningTask(r)&&(o||i.ETag||(o='get ETag error, please add "ETag" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )'),o?v-=d:(v+=a-d,e.ETag=i.ETag),x({loaded:v,total:l}),t(o||null,i))}))}}),(function(e){if(n._isRunningTask(r))return e?t(e):void t(null,{UploadId:u.UploadId,SliceList:u.PartList})}))}function p(e,t){var n=this,r=e.TaskId,i=e.Bucket,s=e.Region,c=e.Key,u=e.FileSize,l=e.Body,p=1*e.PartNumber,f=e.SliceSize,d=e.ServerSideEncryption,h=e.UploadData,m=e.Headers||{},v=n.options.ChunkRetryTimes+1,g=f*(p-1),y=f,b=g+f;b>u&&(y=(b=u)-g);var x=["x-cos-traffic-limit","x-cos-mime-limit"],w={};a.each(m,(function(e,t){x.indexOf(t)>-1&&(w[t]=e)}));var S=h.PartList[p-1];o.retry(v,(function(t){n._isRunningTask(r)&&a.fileSlice(l,g,b,!0,(function(o){n.multipartUpload({TaskId:r,Bucket:i,Region:s,Key:c,ContentLength:y,PartNumber:p,UploadId:h.UploadId,ServerSideEncryption:d,Body:o,Headers:w,onProgress:e.onProgress},(function(e,o){if(n._isRunningTask(r))return e?t(e):(S.Uploaded=!0,t(null,o))}))}))}),(function(e,o){if(n._isRunningTask(r))return t(e,o)}))}function f(e,t){var n=e.Bucket,r=e.Region,i=e.Key,a=e.UploadId,s=e.SliceList,c=this,u=this.options.ChunkRetryTimes+1,l=e.Headers,p=s.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}}));o.retry(u,(function(e){c.multipartComplete({Bucket:n,Region:r,Key:i,UploadId:a,Parts:p,Headers:l},e)}),(function(e,n){t(e,n)}))}function d(e,t){var n=e.Bucket,r=e.Region,i=e.Key,a=e.AbortArray,s=e.AsyncLimit||1,c=this,u=0,l=new Array(a.length);o.eachLimit(a,s,(function(t,o){var a=u;if(i&&i!==t.Key)return l[a]={error:{KeyNotMatch:!0}},void o(null);var s=t.UploadId||t.UploadID;c.multipartAbort({Bucket:n,Region:r,Key:t.Key,Headers:e.Headers,UploadId:s},(function(e){var i={Bucket:n,Region:r,Key:t.Key,UploadId:s};l[a]={error:e,task:i},o(null)})),u++}),(function(e){if(e)return t(e);for(var n=[],r=[],o=0,i=l.length;o<i;o++){var a=l[o];a.task&&(a.error?r.push(a.task):n.push(a.task))}return t(null,{successList:n,errorList:r})}))}function h(e,t){var n=e.TaskId,r=e.Bucket,i=e.Region,a=e.Key,s=e.CopySource,c=e.UploadId,u=1*e.PartNumber,l=e.CopySourceRange,p=this.options.ChunkRetryTimes+1,f=this;o.retry(p,(function(e){f.uploadPartCopy({TaskId:n,Bucket:r,Region:i,Key:a,CopySource:s,UploadId:c,PartNumber:u,CopySourceRange:l},(function(t,n){e(t||null,n)}))}),(function(e,n){return t(e,n)}))}var m={sliceUploadFile:function(e,t){var n,o,c=this,u=new i,p=e.TaskId,d=e.Bucket,h=e.Region,m=e.Key,v=e.Body,g=e.ChunkSize||e.SliceSize||c.options.ChunkSize,y=e.AsyncLimit,b=e.StorageClass,x=e.ServerSideEncryption,w=e.onHashProgress;u.on("error",(function(n){if(c._isRunningTask(p)){var r={UploadId:e.UploadData.UploadId||"",err:n};return t(r)}})),u.on("upload_complete",(function(n){var r=a.extend({UploadId:e.UploadData.UploadId||""},n);t(null,r)})),u.on("upload_slice_complete",(function(t){var i={};a.each(e.Headers,(function(e,t){var n=t.toLowerCase();0!==n.indexOf("x-cos-meta-")&&"pic-operations"!==n||(i[t]=e)})),f.call(c,{Bucket:d,Region:h,Key:m,UploadId:t.UploadId,SliceList:t.SliceList,Headers:i},(function(e,i){if(c._isRunningTask(p)){if(r.removeUsing(t.UploadId),e)return o(null,!0),u.emit("error",e);r.removeUploadId.call(c,t.UploadId),o({loaded:n,total:n},!0),u.emit("upload_complete",i)}}))})),u.on("get_upload_data_finish",(function(t){var i=r.getFileId(v,e.ChunkSize,d,m);i&&r.saveUploadId.call(c,i,t.UploadId,c.options.UploadIdCacheLimit),r.setUsing(t.UploadId),o(null,!0),l.call(c,{TaskId:p,Bucket:d,Region:h,Key:m,Body:v,FileSize:n,SliceSize:g,AsyncLimit:y,ServerSideEncryption:x,UploadData:t,Headers:e.Headers,onProgress:o},(function(e,t){if(c._isRunningTask(p))return e?(o(null,!0),u.emit("error",e)):void u.emit("upload_slice_complete",t)}))})),u.on("get_file_size_finish",(function(){if(o=a.throttleOnProgress.call(c,n,e.onProgress),e.UploadData.UploadId)u.emit("get_upload_data_finish",e.UploadData);else{var t=a.extend({TaskId:p,Bucket:d,Region:h,Key:m,Headers:e.Headers,StorageClass:b,Body:v,FileSize:n,SliceSize:g,onHashProgress:w},e);s.call(c,t,(function(t,n){if(c._isRunningTask(p)){if(t)return u.emit("error",t);e.UploadData.UploadId=n.UploadId,e.UploadData.PartList=n.PartList,u.emit("get_upload_data_finish",e.UploadData)}}))}})),n=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),a.each(e.Headers,(function(t,n){"content-length"===n.toLowerCase()&&delete e.Headers[n]})),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],r=1048576,o=0;o<t.length&&!(n/(r=1024*t[o]*1024)<=c.options.MaxPartNumber);o++);e.ChunkSize=e.SliceSize=g=Math.max(g,r)}(),0===n?(e.Body="",e.ContentLength=0,e.SkipTask=!0,c.putObject(e,t)):u.emit("get_file_size_finish")},abortUploadTask:function(e,t){var n=e.Bucket,r=e.Region,o=e.Key,s=e.UploadId,u=e.Level||"task",l=e.AsyncLimit,p=this,f=new i;if(f.on("error",(function(e){return t(e)})),f.on("get_abort_array",(function(i){d.call(p,{Bucket:n,Region:r,Key:o,Headers:e.Headers,AsyncLimit:l,AbortArray:i},t)})),"bucket"===u)c.call(p,{Bucket:n,Region:r},(function(e,n){if(e)return t(e);f.emit("get_abort_array",n.UploadList||[])}));else if("file"===u){if(!o)return t(a.error(new Error("abort_upload_task_no_key")));c.call(p,{Bucket:n,Region:r,Key:o},(function(e,n){if(e)return t(e);f.emit("get_abort_array",n.UploadList||[])}))}else{if("task"!==u)return t(a.error(new Error("abort_unknown_level")));if(!s)return t(a.error(new Error("abort_upload_task_no_id")));if(!o)return t(a.error(new Error("abort_upload_task_no_key")));f.emit("get_abort_array",[{Key:o,UploadId:s}])}},uploadFile:function(e,t){var n=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,r=[],o=e.Body,i=o.size||o.length||0,s={TaskId:""};a.each(e,(function(e,t){"object"!=typeof e&&"function"!=typeof e&&(s[t]=e)}));var c=e.onTaskReady;e.onTaskReady=function(e){s.TaskId=e,c&&c(e)};var u=e.onFileFinish,l=i>n?"sliceUploadFile":"putObject";r.push({api:l,params:e,callback:function(e,n){u&&u(e,n,s),t&&t(e,n)}}),this._addTasks(r)},uploadFiles:function(e,t){var n=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,r=0,o=0,i=a.throttleOnProgress.call(this,o,e.onProgress),s=e.files.length,c=e.onFileFinish,u=Array(s),l=function(e,n,r){i(null,!0),c&&c(e,n,r),u[r.Index]={options:r,error:e,data:n},--s<=0&&t&&t(null,{files:u})},p=[];a.each(e.files,(function(e,t){!function(){var s=e.Body,c=s.size||s.length||0,u={Index:t,TaskId:""};r+=c,a.each(e,(function(e,t){"object"!=typeof e&&"function"!=typeof e&&(u[t]=e)}));var f=e.onTaskReady;e.onTaskReady=function(e){u.TaskId=e,f&&f(e)};var d=0,h=e.onProgress;e.onProgress=function(e){o=o-d+e.loaded,d=e.loaded,h&&h(e),i({loaded:o,total:r})};var m=e.onFileFinish,v=c>n?"sliceUploadFile":"putObject";p.push({api:v,params:e,callback:function(e,t){m&&m(e,t),l&&l(e,t,u)}})}()})),this._addTasks(p)},sliceCopyFile:function(e,t){var n=new i,r=this,s=e.Bucket,c=e.Region,u=e.Key,l=e.CopySource,p=l.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(p){var f=p[1],d=p[3],m=decodeURIComponent(p[4]),v=void 0===e.CopySliceSize?r.options.CopySliceSize:e.CopySliceSize;v=Math.max(0,v);var g,y,b=e.CopyChunkSize||this.options.CopyChunkSize,x=this.options.CopyChunkParallelLimit,w=0;n.on("copy_slice_complete",(function(n){var o={};a.each(e.Headers,(function(e,t){0===t.toLowerCase().indexOf("x-cos-meta-")&&(o[t]=e)}));var i=a.map(n.PartList,(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}}));r.multipartComplete({Bucket:s,Region:c,Key:u,UploadId:n.UploadId,Parts:i},(function(e,n){if(e)return y(null,!0),t(e);y({loaded:g,total:g},!0),t(null,n)}))})),n.on("get_copy_data_finish",(function(e){o.eachLimit(e.PartList,x,(function(t,n){var o=t.PartNumber,i=t.CopySourceRange,a=t.end-t.start;h.call(r,{Bucket:s,Region:c,Key:u,CopySource:l,UploadId:e.UploadId,PartNumber:o,CopySourceRange:i},(function(e,r){if(e)return n(e);y({loaded:w+=a,total:g}),t.ETag=r.ETag,n(e||null,r)}))}),(function(r){if(r)return y(null,!0),t(r);n.emit("copy_slice_complete",e)}))})),n.on("get_file_size_finish",(function(o){var i;if(function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,o=0;o<t.length&&!(g/(n=1024*t[o]*1024)<=r.options.MaxPartNumber);o++);e.ChunkSize=b=Math.max(b,n);for(var i=Math.ceil(g/b),a=[],s=1;s<=i;s++){var c=(s-1)*b,u=s*b<g?s*b-1:g-1,l={PartNumber:s,start:c,end:u,CopySourceRange:"bytes="+c+"-"+u};a.push(l)}e.PartList=a}(),(i="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:o)["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||o["x-cos-storage-class"],i=a.clearKey(i),"ARCHIVE"===o["x-cos-storage-class"]||"DEEP_ARCHIVE"===o["x-cos-storage-class"]){var l=o["x-cos-restore"];if(!l||'ongoing-request="true"'===l)return void t(a.error(new Error("Unrestored archive object is not allowed to be copied")))}delete i["x-cos-copy-source"],delete i["x-cos-metadata-directive"],delete i["x-cos-copy-source-If-Modified-Since"],delete i["x-cos-copy-source-If-Unmodified-Since"],delete i["x-cos-copy-source-If-Match"],delete i["x-cos-copy-source-If-None-Match"],r.multipartInit({Bucket:s,Region:c,Key:u,Headers:i},(function(r,o){if(r)return t(r);e.UploadId=o.UploadId,n.emit("get_copy_data_finish",e)}))})),r.headObject({Bucket:f,Region:d,Key:m},(function(o,i){if(o)o.statusCode&&404===o.statusCode?t(a.error(o,{ErrorStatus:m+" Not Exist"})):t(o);else if(void 0!==(g=e.FileSize=i.headers["content-length"])&&g)if(y=a.throttleOnProgress.call(r,g,e.onProgress),g<=v)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),r.putObjectCopy(e,(function(e,n){if(e)return y(null,!0),t(e);y({loaded:g,total:g},!0),t(e,n)}));else{var s=i.headers,c={"Cache-Control":s["cache-control"],"Content-Disposition":s["content-disposition"],"Content-Encoding":s["content-encoding"],"Content-Type":s["content-type"],Expires:s.expires,"x-cos-storage-class":s["x-cos-storage-class"]};a.each(s,(function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(c[t]=e)})),n.emit("get_file_size_finish",c)}else t(a.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')))}))}else t(a.error(new Error("CopySource format error")))}};e.exports.init=function(e,t){t.transferToTaskMethod(m,"sliceUploadFile"),a.each(m,(function(t,n){e.prototype[n]=a.apiWrapper(n,t)}))}},function(e,t){var n={eachLimit:function(e,t,n,r){if(r=r||function(){},!e.length||t<=0)return r();var o=0,i=0,a=0;!function s(){if(o>=e.length)return r();for(;a<t&&i<e.length;)a+=1,n(e[(i+=1)-1],(function(t){t?(r(t),r=function(){}):(a-=1,(o+=1)>=e.length?r():s())}))}()},retry:function(e,t,n){var r=function(o){t((function(t,i){t&&o<e?r(o+1):n(t,i)}))};e<1?n():r(1)}};e.exports=n},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=n(842),b=y.$compDiv,x=y.renderContentByState,w=y.renderDecibels,S=y.renderProcess,k=y.renderRecordingBox,O=n(140),E=n(0).isWxEnv,C=n(6),_=C.popUpModal,I=(C.loadingShadow,n(844)),P=n(7).getWxJSSDK;n(845);var T={defualt:0,recording:1,recorded:2,playing:3,empty:-1,onlyPlay:11},R=null,A=/^[A-Za-z0-9\-_]+$/,q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,r,i,a,c=h(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=c.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:""}),n.eqxScene.formManager.add(v(n)),n.ruleId=null,n.recordHandler=new I,n.recordHandler.onStopRecord(n.handlerEndedRecord.bind(v(n))),n.recordHandler.onPlayTimeUpdate(n.handlerPlayTimeupdate.bind(v(n)),16),n.recordHandler.onRecordTimeUpdate(n.handlerRecordTimeupdate.bind(v(n))),n.recordHandler.onPlayEnded(n.handlerEndedPlay.bind(v(n))),n.recordHandlerPause=n.recordHandler.pause.bind(n.recordHandler),n.currentState=T.defualt,n.uploadList=[],n.$recordShadow=null,n.duration=0,n.onlyReady=!1,n}return t=u,n=[{key:"getNextState",value:function(e){var t=e+1;switch(e){case T.empty:t=T.empty;break;case T.playing:t=this.onlyReady?T.onlyPlay:T.recorded;break;case T.onlyPlay:t=T.playing}return t}},{key:"setState",value:function(e){switch(this.currentState=Number(e),this.currentState){case T.defualt:case T.recording:}}},{key:"handlerPlayTimeupdate",value:function(e,t){this.currentState===T.playing&&(this.$li.find(".time-info").text((e/1e3).toFixed(0).padStart(2,0)),this.setProgress(e/t),e>t&&this.handlerEndedPlay())}},{key:"handlerRecordTimeupdate",value:function(e){this.currentState===T.recording&&this.$recordShadow&&this.$recordShadow.find(".time-info").text((e/1e3).toFixed(0).padStart(2,0))}},{key:"handlerEndedRecord",value:function(){this.currentState===T.recording&&this.endRecord()}},{key:"handlerEndedPlay",value:function(){var e=this;this.currentState===T.playing&&(this.clicked=!0,setTimeout((function(){e.clicked=!1}),300),this.eqxScene.soundManager.restoreAll(),this.nextState())}},{key:"endRecord",value:function(){var e=this;this.duration=this.recordHandler.duration/1e3,this.recordHandler.upload().then((function(t){e.setValue(t||e.recordHandler.serviceIds)})),this.eqxScene.soundManager.restoreAll(),this.nextState()}},{key:"nextState",value:(a=l(regeneratorRuntime.mark((function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentState!==T.defualt||E()){e.next=3;break}return _("请在微信环境打开",this.eqxPage),e.abrupt("return",!1);case 3:return e.next=5,P();case 5:if(t=function(){var e=w(),t=w(),n=$('<div class="time-info">00</div>');i.$li.find(".header").addClass("recording").html("").append([e,n,t])},n=function(){if(i.onlyReady)i.$li.find(".bottom").html("");else{var e='<div class="button action"></div>',t=$(e).attr("id","delete").text("删除"),n=$(e).attr("id","again").text("重新录制");i.$li.find(".bottom").html("").append([t,n])}},r=function(e){return console.error(e)},o=this.getNextState(this.currentState),this.currentState!==T.playing){e.next=12;break}return e.next=12,this.recordHandler.pause().catch((function(){}));case 12:this.$li.find(".emptyBox").removeClass("show"),this.$li.find(".recording-tip").removeClass("active"),this.$li.find(".bottom").addClass("active"),e.t0=o,e.next=e.t0===T.defualt?18:e.t0===T.recording?20:e.t0===T.recorded||e.t0===T.onlyPlay?30:e.t0===T.playing?38:e.t0===T.empty?46:48;break;case 18:return x(this.$li,this.currentState+1),e.abrupt("break",48);case 20:return this.eqxScene.soundManager.stopAll(),e.next=23,this.recordHandler.startRecord().catch((function(){throw new Error("录音授权失败")}));case 23:return this.$li.find(".red_circular").addClass("square"),this.$li.find(".recording-tip").addClass("active"),this.$li.find(".bottom").removeClass("active"),t(),this.renderRecordingBox(),R||(R=!0,(new Image).src="https://lib.eqh5.com/@eqxiu-res/form/images/playBtn.png"),e.abrupt("break",48);case 30:return this.$recordShadow&&this.closeShader(),this.clickAnyPuase(!0),this.$li.find(".red_circular").removeClass("square"),this.$li.find(".red_circular").addClass("triangle"),this.$li.find(".header").html("").append([$('<div class="duration"></div>').text("".concat(this.duration.toFixed(0).padStart(2,0),"秒"))]),this.$li.find(".center").removeClass("playing").find(".svg").remove(),n(),e.abrupt("break",48);case 38:return this.eqxScene.soundManager.stopAll(),e.next=41,this.recordHandler.play().catch(r);case 41:return this.$li.find(".center").addClass("playing").append(S()).find(".red_circular").addClass("playing").addClass("square").removeClass("triangle"),t(),n(),setTimeout((function(){i.clickAnyPuase()}),30),e.abrupt("break",48);case 46:return this.$li.find(".emptyBox").addClass("show"),e.abrupt("break",48);case 48:this.currentState=o;case 49:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"clickAnyPuase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"removeEventListener":"addEventListener";window[t]("click",this.recordHandlerPause,{once:!0,capture:!0,passive:!0})}},{key:"renderShader",value:function(){if(this.$recordShadow)return this.$recordShadow;var e=k(),t=$(document.body);return t.append(e),t.addClass("noScroll"),this.$recordShadow=e,e}},{key:"closeShader",value:function(){this.$recordShadow&&(this.$recordShadow.remove(),$(document.body).removeClass("noScroll"),this.$recordShadow=null)}},{key:"renderRecordingBox",value:function(){var e=this,t=this.renderShader(),n=this.$li[0].getBoundingClientRect(),r=n.top,o=n.left,i=this.$li.clone().css({top:r,left:o});i.find(".element-box").css({animation:"none"}),t.append(i),setTimeout((function(){var t,n=null===(t=e.$li)||void 0===t?void 0:t.find("#record")[0];if(n&&e.$recordShadow){n.scrollIntoViewIfNeeded&&n.scrollIntoViewIfNeeded();var r=e.$li[0].getBoundingClientRect(),o=r.top,a=r.left;i.css({top:o,left:a}),e.$recordShadow.on("click",".action",l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.closeShader(),t.next=3,e.recordHandler.stopRecord().catch(console.error);case 3:case"end":return t.stop()}}),t)}))))}}),800)}},{key:"create$li",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=f(g(u.prototype),"create$li",this)).call.apply(e,[this].concat(n)),this.$formComp.css(s(s({},this.eqxPage.getFormStyle("border")||{}),{},{backgroundColor:"#fff"})),x(this.$li,this.currentState),this.$li}},{key:"updateFormCompCss",value:function(e){var t=s(s({},e),{},{backgroundColor:"#fff"});f(g(u.prototype),"updateFormCompCss",this).call(this,t)}},{key:"setProgress",value:function(e){var t=Math.min(Math.max(150*(1-e)+210,210),360);this.$li.find(".svg .progress").css("stroke-dashoffset","".concat(t,"px"))}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=(e.pageId,e.type),r=e.properties,o=(r.title,r.formRelevant),i=void 0===o?{}:o,a=r.required,s=i.title.content,c=i.des.content;return this.name="eq[f_".concat(t,"]"),this.$context=b(t,n,s,c),this.$button=this.$context.find("button"),this.$upload=this.$context.find(".new-upload-outer-wraper"),this.required=a,this.$context}},{key:"check",value:function(){[T.playing,T.recording].includes(this.currentState)&&this.nextState();var e=this.getValue(),t=this.uploadList;e=this.ruleHide?"（跳过）":t.length?JSON.stringify(e):"";var n={success:!0,pageId:this.eqxPage.id,key:"eq[f_".concat(this.id,"]"),value:e,elementId:this.id,origin:t};return this.eqxScene.config.disableSubmit||!this.required||t.length||this.ruleHide||(n.success=!1,n.message="该项为必填项"),n}},{key:"getValue",value:function(){return this.uploadList.length>0?{upkey:this.uploadList.join(","),duration:this.duration}:null}},{key:"setValue",value:function(e){this.uploadList=e||[],this.triggerRule()}},{key:"autoFill",value:(i=l(regeneratorRuntime.mark((function e(t,n){var r,i,a,s,c,u,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!String(t).includes("（跳过）")){e.next=2;break}return e.abrupt("return");case 2:if("showLast"===n&&(this.onlyReady=!0),t.length){e.next=6;break}return this.onlyReady&&(this.currentState=T.empty,this.nextState()),e.abrupt("return");case 6:if("string"==typeof t&&(t=JSON.parse(t)),this.uploadList=Array.isArray(t)?t:null!==(r=null===(i=t)||void 0===i?void 0:i.upkey.split(","))&&void 0!==r?r:[],this.duration=parseFloat(t.duration||0),this.enabledRule&&this.triggerRule(),a=this.uploadList.length,!this.duration||!a){e.next=23;break}return this.currentState=T.playing,c="setVoiceUrl",u=this.uploadList[0],(a>1||A.test(this.uploadList[0]))&&(c="setServiceIds",u=o(this.uploadList)),e.next=18,P();case 18:this.recordHandler.setDuration(1e3*this.duration),null===(s=this.recordHandler[c](u))||void 0===s||s.catch((function(){return _("音频获取失败, 无法播放",l.eqxPage),!1})),this.nextState(),e.next=24;break;case 23:this.onlyReady&&(this.currentState=T.empty,this.nextState());case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"updateTitle",value:function(e){var t=this.$context.find("button").find("span");if(this.$resultWraper){if(!this.$newUploadBtn)return;var n="12";"+"==e&&(n="20"),(t=this.$newUploadBtn.find("span")).css({fontSize:"".concat(n,"px"),display:"inline-block"})}t.text(e)}},{key:"updateUploadNote",value:function(e){this.$boxContentDiv.find(".form-note-box").text(e),this.updateFormHeight()}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return f(g(u.prototype),"bindAfterRenderEvent",this).call(this,e,t),this.$li.on("click",".action",(function(e){var t=e.target.classList.contains("action")?e.target:$(e.target).parent(".action")[0];if(!n.clicked){n.clicked=!0;var r=function(){n.clicked=!1};switch(t.id){case"record":if(n.currentState===T.defualt&&!E())return _("请在微信环境打开",n.eqxPage),!1;if([T.defualt,T.recording].includes(n.currentState))n.renderShader();else if(n.currentState===T.playing)return r(),!1;n.nextState().catch((function(){n.closeShader()})).finally((function(){r()}));break;case"delete":case"again":n.currentState===T.playing&&n.recordHandler.pause().catch((function(){})),n.clearRecord(),"again"===t.id?(n.renderShader(),n.nextState().finally((function(){r()}))):r();break;default:r()}}})),!0}},{key:"clearRecord",value:function(){this.currentState=T.defualt,this.recordHandler.cleanRecord(),this.setValue([]),x(this.$li,this.currentState)}},{key:"bindRuleEvent",value:function(e){this.ruleId=e,this.enabledRule=!0}},{key:"triggerRule",value:function(){this.ruleIds=this.ruleIds||[],-1==this.ruleIds.indexOf(this.ruleId)&&this.ruleIds.push(this.ruleId),this.eqxPage.EqxFormRulesTrigger.listen(this.ruleIds,this.id,this.getValue(),!0)}},{key:"destory",value:function(){console.log(11)}}],r=[{key:"getStateTypes",value:function(){return s({},T)}}],n&&p(t.prototype,n),r&&p(t,r),u}(O);q.STATS=s({},T),e.exports=q},function(e,t,n){"use strict";var r=n(843),o=n(3).parse;e.exports={$compDiv:function(e,t,n,i,a,s,c){return $(o(r,{id:e,type:t,title:n,uploadDes:a,note:s}))},renderContentByState:function(e,t){var n=c[t];if(!n)return $("");var r=$(n);return e.find(".form-comp-box").html("").append(r),r},renderDecibels:function(){return $('<div class="decibels">\n    <img src="'.concat(u,'" alt="波形" />\n    </div>'))},renderProcess:function(){return $('<svg width="100%" height="100%" class="svg"  viewBox="0,0,50,50"  >\n    <circle r="24" cy="25" cx="25" stroke-width="1"  stroke-linejoin="round" stroke-linecap="round" fill="none">\n    </circle><circle class="progress" r="24" cy="25" cx="25" stroke-width="1" stroke="#1261ff" stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-dashoffset="1" &nbsp;="" stroke-dasharray="360px" >\n    </circle>\n    </svg>')},renderRecordingBox:function(){return $('<div class="renderRecordingBox"></div>')}};var i,a,s,c=(s='<div class="defualtBox">\n    <div class="header"></div>\n    <div class="center">\n        <div class="recordBtn action" id="record">\n            <div class="red_circular"></div>\n        </div>\n    </div>\n    <div class="bottom active"></div>\n    <div class="recording-tip">录音时请避免息屏、切屏</div>\n    <div class="emptyBox">\n    <img src="https://lib.eqh5.com/@eqxiu-res/form/images/empty.png" />\n    <p>未录制</p>\n    </div>\n    </div>',(a=0)in(i={})?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i);var u="https://lib.eqh5.com/@eqxiu-res/form/images/voiceWave.gif";(new Image).src=u},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{uploadDes}</div>\n</div>\n<div id="#{id}" ctype="#{type}" class="element form-comp-box" style="width: 100%; height: 100%"></div>\n'},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=new window.Audio,s=n(0).isWeixin,c=n(1),u=n(7).getWxJSSDK,l=n(4).resolveUrl,p=0,f=1,d=2,h=new Set,m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localIds=[],this.serverIds=[],this.voiceUrl="",this.currentPlay=0,this.duration=0,this.timeUpdateInterval=1e3,this.playTimeUpdateInterval=1e3,this.state=p,s()&&(this.wxJssdk=u()),h.add(this)}var t,n,r,m,v;return t=e,(n=[{key:"setDuration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.duration=e}},{key:"setVoiceUrl",value:function(e){this.voiceUrl=e}},{key:"setServiceIds",value:(v=o(regeneratorRuntime.mark((function e(t){var n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s()||!t.length){e.next=13;break}this.localIds=[],n=regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[n],e.next=3,new Promise((function(e,t){wx.downloadVoice({serverId:r,isShowProgressTips:1,success:function(t){e(t.localId)},fail:function(e){t(e)}})}));case 3:i=e.sent,o.localIds.push(i);case 5:case"end":return e.stop()}}),e)})),r=0;case 4:if(!(r<t.length)){e.next=9;break}return e.delegateYield(n(r),"t0",6);case 6:r++,e.next=4;break;case 9:return this.serviceIds=t,e.abrupt("return",this.localIds);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"onRecordTimeUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.timeUpdate=e,this.timeUpdateInterval=t}},{key:"setRecordInterval",value:function(){var e=this;this.startTime=(new Date).getTime(),this.interval=setInterval((function(){e.duration=(new Date).getTime()-e.startTime,e.timeUpdate&&e.timeUpdate(e.duration)}),this.timeUpdateInterval)}},{key:"cleanRecordInterval",value:function(){clearInterval(this.interval),this.duration=(new Date).getTime()-this.startTime,this.timeUpdate&&this.timeUpdate(this.duration)}},{key:"onStopRecord",value:function(e){this.stopRecordCallback=e}},{key:"stopOther",value:function(){var e=[];return Array.from(h).forEach((function(t){t.state===d&&e.push(t.pause().catch())})),Promise.all(e).catch((function(e){return console.log("暂停失败",e)}))}},{key:"startRecord",value:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stopOther();case 2:s()?(e.cleanRecord(),wx.startRecord({success:function(t){e.state=f,e.duration=0,e.setRecordInterval(),n(t)},fail:function(e){console.log("拒绝！"),r(e)},cancel:function(e){console.log("取消！"),r(e)}}),wx.onVoiceRecordEnd({complete:function(t){e.localIds.push(t.localId),e.localIds.length<10?wx.startRecord():e.stopRecordCallback&&(e.state=p,e.cleanRecordInterval(),e.stopRecordCallback())}})):r();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"stopRecord",value:function(){var e=this;return new Promise((function(t,n){s()?wx.stopRecord({success:function(n){e.state=p,e.cleanRecordInterval(),e.localIds.push(n.localId),e.stopRecordCallback&&e.stopRecordCallback(),t(n)},fail:function(e){n(e)}}):t()}))}},{key:"cleanRecord",value:function(){this.localIds=[],this.serverIds=[],this.voiceUrl="",this.duration=0,this.currentPlay=0}},{key:"onPlayTimeUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.playTimeUpdate=e,this.playTimeUpdateInterval=t}},{key:"setPlayInterval",value:function(){var e=this;this.playStartTime=(new Date).getTime(),this.playInterval=setInterval((function(){e.playDuration=(new Date).getTime()-e.playStartTime,e.playTimeUpdate&&e.playTimeUpdate(e.playDuration,e.duration)}),this.playTimeUpdateInterval)}},{key:"cleanPlayInterval",value:function(){clearInterval(this.playInterval),this.playDuration=0,this.playTimeUpdate&&this.playTimeUpdate(this.playDuration,this.duration)}},{key:"onPlayEnded",value:function(e){this.playEnded=e}},{key:"play",value:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stopOther();case 2:return t.next=4,new Promise((function(e){return setTimeout(e,30)}));case 4:e.localIds.length&&s()?(e.currentPlay=0,e.playDuration=0,e.setPlayInterval(),wx.playVoice({localId:e.localIds[0],success:function(t){e.state=d,n(t)},fail:function(e){r(e)}}),wx.onVoicePlayEnd({success:function(t){e.currentPlay<e.localIds.length-1?(e.currentPlay++,wx.playVoice({localId:e.localIds[e.currentPlay]})):(e.state=p,e.currentPlay=0,e.cleanPlayInterval(),e.playEnded&&e.playEnded())}})):e.voiceUrl?(a.src=l(c.TENCENTVIDEO,e.voiceUrl),e.setPlayInterval(),a.play().catch(console.error),a.onended=function(){e.state=p,e.cleanPlayInterval(),e.playEnded&&e.playEnded()},n()):n();case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"pause",value:function(){var e=this;return new Promise((function(t,n){e.localIds.length&&s()?wx.stopVoice({localId:e.localIds[e.currentPlay],success:function(n){e.state=p,e.currentPlay=0,e.cleanPlayInterval(),e.playEnded&&e.playEnded(),t(n)},fail:function(e){n(e)},complete:function(){e.cleanPlayInterval()}}):s()&&e.voiceUrl&&!a.paused?(a.pause(),e.state=p,e.cleanPlayInterval(),e.playEnded&&e.playEnded(),t()):t()}))}},{key:"upload",value:(m=o(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.localIds.length){e.next=12;break}this.serviceIds=[],t=regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.localIds[t],o=new Promise((function(e,t){wx.uploadVoice({localId:n,isShowProgressTips:1,success:function(t){e(t.serverId)},fail:function(){t()}})})),e.next=4,o;case 4:i=e.sent,r.serviceIds.push(i);case 6:case"end":return e.stop()}}),e)})),n=0;case 4:if(!(n<this.localIds.length)){e.next=9;break}return e.delegateYield(t(n),"t0",6);case 6:n++,e.next=4;break;case 9:return e.abrupt("return",this.serviceIds);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=m},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(5);var h=n(847),m=n(3).parse,v=n(51).isMobileNumber,g=n(6).popUpModal,y=n(141).$getSmsCode,b=n(35);n(848);var x=n(274).checkRepeat,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=o.call(this,e,t),$.extend(!0,n.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!1},compFont:{self:!0,fontColor:!0},advanceStyle:{required:!0}},trigger:!1,sound:!1,link:!1}),n.eqxScene.formManager.add(f(n)),n}return t=a,(n=[{key:"check",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.ruleHide?"（跳过）":this.$context.find(".telephone").val(),n=this.ruleHide?"（跳过）":this.$context.find(".smsInput").val(),r={success:!0,pageId:this.pageId,key:this.name,type:this.type,value:{phoneValue:t,smsValue:n},elementId:this.id};return this.ruleHide&&(r.ruleHide=!0),e&&(this.eqxScene.config.disableSubmit||this.ruleHide||(t?v(t)?n||(r.success=!1,r.message="请输入验证码"):(r.success=!1,r.message="手机号格式不正确"):(r.success=!1,r.message="请输入手机号"),t&&v(t)&&this.repeatCheckStatus(r))),r}},{key:"preCheck",value:function(){var e=this.ruleHide?"（跳过）":this.$context.find(".telephone").val(),t={success:!0};return e?v(e)||(t.success=!1,t.message="手机号格式不正确"):(t.success=!1,t.message="请输入手机号"),t}},{key:"repeatCheckStatus",value:function(e){var t=this.compJson.properties.formCheck||{};t.noRepeat&&t.repeatChecking?(e.success=!1,e.message="正在校验是否重复，请稍后..."):t.noRepeat&&t.repeatInput&&(e.success=!1,e.message="不允许重复提交")}},{key:"repeatCheck",value:function(){var e=this.compJson.properties.formCheck||{},t=this.$context.find(".telephone").val();return e.noRepeat&&t&&v(t)?(e.repeatChecking=!0,this.checkRequest=x(this.id,t).then((function(t){t.obj?e.repeatInput=!0:e.repeatInput=!1})).catch((function(){e.repeatInput=!0})).finally((function(){e.repeatChecking=!1})),this.checkRequest):Promise.resolve()}},{key:"cancelRepeatCheck",value:function(){var e=this.compJson.properties.formCheck;this.checkRequest&&Promise.race([this.checkRequest,new Promise((function(e){e()}))]),e.repeatInput=!1,e.repeatChecking=!1}},{key:"create$li",value:function(){var e=c(d(a.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle;return this.$formComp.css({border:"none",backgroundColor:"transparent",fontWeight:"normal"}),this.updateInputCss(t.border),this.updateSubmitCss(t.button),e}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.title,i=e.properties,a=i.required,s=i.ownerCss,c=i.formRelevant,u=void 0===c?{}:c,l=u.title.content,p=u.des.content,f=$(m(h,{id:t,type:r,title:o,formTitle:l,formDes:p}));return this.$context=f,this.updateInputCss(s,!0),this.required=a,this.title=o,this.type=r,this.name="eq[f_".concat(t,"]"),this.pageId=n,f}},{key:"updateInputCss",value:function(e,t){if(e){this.$context.find(".telephone").css(e),this.$context.find(".smsInput").css(e);var n={};if(["borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"].forEach((function(t){e[t]&&(n[t]=e[t])})),!t){var r=this.compJson.properties.ownerCss;Object.assign(r,e)}}}},{key:"updateSubmitCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=this.eqxPage.pageJson.properties.formStyle,n=i(i({},t.button||{}),e||{});this.$formComp.find(".smsButton").css({color:n.color,"border-color":n.backgroundColor,"border-radius":"3px","background-color":n.backgroundColor}),this.updatePageHeight()}}},{key:"updateInputBorderColor",value:function(e){this.$context.find(".telephone").css({borderColor:e}),this.$context.find(".smsInput").css({borderColor:e})}},{key:"bindAfterRenderEvent",value:function(){var e=this,t=!0,n=this.eqxScene.config.disableSubmit;return this.$context.find(".smsButton").bind("touchstart mousedown",(function(r){setTimeout((function(){if(t){var r=e.$context.find(".telephone").val(),o=e.preCheck(!0);e.repeatCheckStatus(o),n?g("预览模式无需获取验证码",e.eqxPage):o.success?(t=!1,y(r,e.eqxScene.meta.userId||e.eqxScene.meta.createUser).then((function(){var n=180,r=setInterval((function(){e.$context.find(".smsButton").text("重新发送"+n+"秒"),0==n&&(t=!0,e.$context.find(".smsButton").text("获取验证码"),clearInterval(r)),n-=1}),1e3)})).catch((function(n){!n.code||150005!=n.code&&150001!=n.code?g("发送失败，请重新发送",e.eqxPage):g(n.msg,e.eqxPage),t=!0}))):e.showFormErrMsg(o.message)}}),200)})),this.$context.find("input").not(".smsButton").on("focus",(function(){e.hideFormErrMsg()})).on("blur",(function(){e.repeatCheck().then((function(t){var n=e.preCheck();n.success?e.hideFormErrMsg():e.showFormErrMsg(n.message)}))})),!0}},{key:"updateFormCompCss",value:function(e){e&&(e.fontWeight="normal",this.updateInputCss(e),this.autoSizeTopDown(),this.updateFormHeight())}},{key:"getValue",value:function(){var e=this.$context.find(".telephone").val(),t=this.$context.find(".smsInput").val();return e&&v(e)&&t?$(this.$formComp.find(".smsInput")).val():""}},{key:"getValueInfo",value:function(){var e=c(d(a.prototype),"getValueInfo",this).call(this),t=this.$context.find(".telephone").val();return i(i({},e),{},{label:v(t)&&t||"",editLabel:"13888888888"})}},{key:"autoFill",value:function(e,t){if(!String(e).includes("（跳过）")){var n="[object Object]"===Object.prototype.toString.call(e)?e.phoneValue:e;this.$context.find(".telephone").val(n),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&s(t.prototype,n),r&&s(t,r),a}(b);e.exports=w},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{formTitle}</div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element editable-text comp_sms form-comp-box" style="width: 100%;height: 100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]">\n    <input class="telephone" type="tel" placeholder="请输入手机号">\n    <div style="width: 100%;height: 0.400rem;"></div>\n    <input class="smsInput" type="number" placeholder="验证码">\n    <button class="smsButton" type="button" value="">获取验证码</button>\n</div>\n\n\n'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(0).mobilecheck,n(0).isAndroidPhone;var h=n(35),m=n(850),v=n(3).parse,g=n(15).$loadAMap,y=n(851).popUpLocation,b=n(6).popCommonModal;n(852);var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=o.call(this,e,t);var r=t.eqxPage.eqxScene,i=(r=void 0===r?{}:r).config,s=(i=void 0===i?{}:i).mode;return n.innerNotHeight="edit"===s,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.variablesValue="",n.eqxScene.formManager.add(f(n)),n.address="",n.mapInited=!1,n}return t=a,r=[{key:"touchStartMouseDownStopPropagation",value:function(e){$(e).bind("touchstart mousedown",(function(e){e.stopPropagation()}))}}],(n=[{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.address,t={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id};return this.required&&!e&&(t.success=!1,t.message="该项为必填项"),t}},{key:"adaptFormHeight",value:function(){var e=this;this.$li.css({height:""}),["$formTitle","$formDes","$formNote","$formComp"].forEach((function(t){if(!(!e[t].length>0||"none"==e[t].css("display"))){e[t].css("height","");var n=e[t].outerHeight();e[t].css("height",n)}}));var t=this.$formComp.css("height");return this.$formComp.css("height","".concat(t)),this.$li.outerHeight()}},{key:"create$li",value:function(){c(d(a.prototype),"create$li",this).call(this);var e=this.eqxPage.getFormStyle();return this.$formComp.css(i(i(i({},e.input),e.border),{},{fontSize:14})),this.$li}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,p=l.title.content,f=l.des.content,d=c;return this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t,$(v(m,{id:t,type:r,placeholder:c,required:a,title:p,des:f,description:d}))}},{key:"setInputTitle",value:function(e){this.$context.find("span").text(e)}},{key:"initAMap",value:function(){var e=this,t=this.map=new AMap.Map(this.$mapContainer.get(0),{zoom:15});this.initSearch(),this.initMapGeocoder(),this.initMapGeolocation(),t.on("mapmove",(function(){if(!e.marker)return!1;var n=t.getCenter();e.marker.setPosition(n)})),t.on("moveend",(function(){var n=t.getCenter();e.marker&&e.marker.setPosition(n),e.geocoder.getAddress(n,(function(t,n){if("complete"===t&&"OK"===n.info){var r=n.regeocode.pois.slice(0,8);e.update$address(n.regeocode.formattedAddress),e.update$nearList(r)}}))}))}},{key:"initMarker",value:function(e){if(!this.marker){var t=this.marker=new AMap.Marker({position:e});this.map.add(t)}}},{key:"initSearch",value:function(){var e=this,t={input:this.$searchInput.get(0)},n=new AMap.Autocomplete(t);this.placeSearch=new AMap.PlaceSearch({map:this.map,pageSize:1,autoFitView:!0}),AMap.event.addListener(n,"select",(function(t){var n=t.poi.location,r=n.lng,o=n.lat,i=t.poi.address+" "+t.poi.name;e.update$address(i),e.map.panTo([r,o]),e.marker.setPosition([r,o]),e.geocoder.getAddress([r,o],(function(t,n){if("complete"===t&&"OK"===n.info){var r=n.regeocode.pois.slice(0,8);e.update$nearList(r)}}))}))}},{key:"initMapGeocoder",value:function(){this.geocoder=new AMap.Geocoder({extensions:"all",city:"全国",radius:1e3,batch:!0})}},{key:"initMapGeolocation",value:function(){var e=this,t=this.geolocation=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB",showMarker:!0,extensions:"all"});this.map.addControl(t),AMap.event.addListener(t,"complete",(function(t){var n=t.formattedAddress,r=t.pois;r.length>0&&(r=r.slice(0,8),e.update$nearList(r));var o=t.position.lng,i=t.position.lat;e.update$address(n),e.initMarker([o,i]),e.map.panTo([o,i])})),AMap.event.addListener(t,"error",(function(t){var n=e.address||"北京市东城区东华门街道天安门";e.update$address(n),b("定位失败，请手动输入位置",e.eqxPage,"fail"),e.initMarker([116.397428,39.90923])}))}},{key:"broadcastEvent",value:function(){this.$li.find("#".concat(this.id)).trigger("changeAddress")}},{key:"update$address",value:function(e){this.$address.text(e),this.address=e}},{key:"update$nearList",value:function(e){if(e.length<1)return!1;this.$nearList.children().length>0&&this.$nearList.empty();var t="";e.forEach((function(e){t+='<li>\n                        <div class="nearName">'.concat(e.name,'</div>\n                        <div class="nearAddress">').concat(e.address,"</div>\n                    </li>")})),this.$nearList.html(t)}},{key:"bindMapDomEvent",value:function(){var e=this,t=this;this.$ok.on("click",(function(){e.$context.find(".location_detail").addClass("showAddress").text(e.address),e.$context.find(".description").addClass("showAddress"),e.broadcastEvent(),e.$locationPopup.hide()})),this.$cancel.on("click",(function(){e.$locationPopup.hide()})),this.$nearList.on("click",(function(t){var n=t.target,r="";switch(n.tagName){case"UL":return;case"LI":r=$(n).find(".nearAddress").text()+" "+$(n).find(".nearName").text();break;case"DIV":var o=n.parentElement;r=$(o).find(".nearAddress").text()+" "+$(o).find(".nearName").text();break;default:return}e.update$address(r),e.$context.find(".location_detail").addClass("showAddress").text(e.address),e.$context.find(".description").addClass("showAddress"),e.broadcastEvent(),e.$locationPopup.hide()})),this.$searchInput.on("blur",(function(e){setTimeout((function(){$(".amap-sug-result").hide()}),4)}));var n=null;this.$searchButton.on("click",(function(e){var r=t.$searchInput.val().trim();if(!r)return!1;clearTimeout(n),n=setTimeout((function(){t.placeSearch.search(r)}),100)}))}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;$(e).find(".description").on("click",(function(){if("pcRender"===n.eqxPage.renderMode&&(console.log(n.eqxPage),setTimeout((function(){n.eqxPage.myScroll.scrollTo(0,0,0,!0),n.eqxPage.afterAutoMove(0)}),1500)),n.mapInited)n.$locationPopup.show(),n.geolocation.getCurrentPosition();else{var e=y(n.eqxPage);n.$locationPopup=e.$wrapper,n.$mapContainer=e.$mapContainer,n.$ok=e.$ok,n.$cancel=e.$cancel,n.$address=e.$address,n.$nearList=e.$nearList,n.$searchInput=e.$searchInput,n.$searchButton=e.$searchButton,n.$positionContainer=e.$positionContainer,n.$locationPopup.show(),g().then((function(){AMap.plugin(["AMap.Autocomplete","AMap.PlaceSearch","AMap.Geolocation","AMap.Geocoder"],(function(){n.initAMap(),n.bindMapDomEvent(),n.geolocation.getCurrentPosition(),n.mapInited=!0}))})).catch((function(){n.$cancel.on("click",(function(){n.$locationPopup.hide()}))}))}}))}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.bind("changeAddress",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getValue())}))}},{key:"getValue",value:function(){return this.$li.find(".location_detail").text()}},{key:"autoFill",value:function(e,t){String(e).includes("（跳过）")||(this.address=e,this.$context.find(".description").addClass("showAddress"),this.$context.find(".location_detail").addClass("showAddress").text(this.address),"showLast"===t&&this.$li.css("pointer-events","none"))}},{key:"compJsonToStr",value:function(){return c(d(a.prototype),"compJsonToStr",this).call(this)}}])&&s(t.prototype,n),r&&s(t,r),a}(h);e.exports=x},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="location_content_box form-comp-box" id="#{id}" ctype="#{type}">\n    <div class="location_wrap">\n        <div class="location_detail"></div>\n        <div class="description">\n            <i class="eqf-address-f" style=""></i>\n            <span class="getCurrentLocation">#{description}</span>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var r=n(0).isPc;e.exports={popUpLocation:function(e){var t=$('<div class="location_popup">\n                            <div class="searchContainer">\n                                <span class="back"><i class="eqf-left"></i></span>\n                                <input type="text" class="searchinput" placeholder="请输入地名">\n                                <button class="fr search eqc-btn blue">搜索</button>\n                            </div>\n                            <div class="aMap_container"></div>\n                            <div class="positionContainer">\n                                <div class="address_wrap">地址：\n                                    <span class="address"></span>\n                                </div>\n                                <button class="ok eqc-btn blue">确定</button>\n                            </div>\n                            <ul class="currentList">\n                            </ul>\n                        </div>');e.eqxSectionCover.prepend(t);var n=t.find(".searchinput"),o=t.find(".search"),i=t.find(".ok"),a=t.find(".aMap_container"),s=t.find(".address"),c=t.find(".currentList"),u=t.find(".back"),l=t.find(".positionContainer");r()||$(".location_popup").css({position:"fixed"});return{$wrapper:t,$searchInput:n,$searchButton:o,$ok:i,$mapContainer:a,$address:s,$nearList:c,$cancel:u,$positionContainer:l}}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(854);var d=n(285),h=n(859),m=n(3).parse,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e,t)}return t=a,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=(e.css,e.properties),i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,p=l.title.content,f=l.des.content;this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t;var d=$(m(h,{id:t,type:r,placeholder:c,required:a,title:p,des:f}));return this.$options=d.find(".options"),this.initContent(),this.innerNotHeight=!1,d}},{key:"initContent",value:function(){var e=this,t=this.compJson.choices.options,n=this.compJson.properties.formRelevant.fillInputType,r="";t.forEach((function(t){var o=t.fills;if(o.lLine&&(r+='<div class="fill-l-line"></div>'),o.hLine)for(var i=0;i<o.hLine;i++)r+='<div class="fill-h-line"></div>';r+='\n               <div class="fill-item fill-item-'.concat(t.id,'">\n                    <span class="text-des" pid="').concat(e.id,"_").concat(t.id,'">').concat(e.tranSpaceAndEnter(t.label),'</span>\n                    <div class="').concat(n,' fill-item-input" style="width: ').concat(o.css.width,'">\n                        <input class="comp_input" type="text" maxlength="100" id="').concat(e.id,"_").concat(t.id,'" name="eq[f_').concat(e.id,"_").concat(t.id,']">\n                    </div>\n                </div>\n            ')})),this.$options.find(".fill-item, .fill-h-line, .fill-l-line").remove(),this.$options.append(r)}},{key:"create$li",value:function(){var e=c(f(a.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle;return e.find(".text-des").css({color:t.title.color,fontSize:"14px",fontWeight:"normal"}),this.$options.find(".fill-item-input").css({borderBottomColor:t.title.color,color:t.title.color}),e}},{key:"updateInput",value:function(e){var t="underline"==e?"fillBox":"underline";this.$options.find(".fill-item-input").removeClass(t).addClass(e)}},{key:"updateTitleCss",value:function(e){c(f(a.prototype),"updateTitleCss",this).call(this,e),this.$options.find(".text-des").css({fontSize:"14px",fontWeight:"normal"}),this.$options.find(".fill-item-input").css({borderBottomColor:e.color,color:e.color})}},{key:"updateInputCss",value:function(e){if(e){var t={},n=this.eqxPage.getFormStyle("input")||{},r=this.eqxPage.getFormStyle("title")||{color:"#000"};["color"].forEach((function(n){t[n]=e[n]})),this.$formComp.find(".text-des").css(i(i({},t),{},{color:r.color})),this.$formComp.find(".fill-item-input").css(i(i({},t),{},{inputCss:n,borderBottomColor:r.color}))}}},{key:"updateFillInputWidth",value:function(e){this.$options.find(".fill-item-".concat(e.id," .fill-item-input")).css({width:e.fills.css.width}),this.updateFormHeight()}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("input");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.on("input",(function(){var e=t.getValue();e=e.find((function(e){return e.content}))?JSON.stringify(e):"",t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,e)}))}},{key:"answerRendered",value:function(e){var t=this;this.getValue().forEach((function(n,r){var o=t.getTruthy(n.content,r)?"correct":"error",i='<div class="comp-answer-item fill-blank '.concat(o,'">\n                            <div class="comp-answer-item-title-inline">').concat(t.tranSpaceAndEnter(n.value),'</div>\n                            <a class="comp-answer-item-des">').concat(n.content,"</a>\n                        </div>");e.append(i)}))}}])&&s(t.prototype,n),r&&s(t,r),a}(d);e.exports=v},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";var r=n(286);n(287);var o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.required,a=void 0===i?null:i,s=e.title,c=e.des,u=e.city,l=e.zone,p=$(o(r,{id:t,type:n,title:s,des:c,city:u,zone:l}));return p.find("#".concat(t)).attr("required",a),p},$option:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择",n='<option  class="comp_select_option" value="">'.concat(t,"</option>");return e.forEach((function(e){n+='\n            <option  class="comp_select_option" value="'.concat(e.c,'">').concat(e.n,"</option>\n        ")})),n},$appendZone:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'<div class="list zone">\n                <select style="line-height: 2.7"\n                    name="eq[f_#{id}]_zone"\n                    class="comp_drop_down_select"\n                    selectType = \'zone\'\n                    ctype="#{type}">\n                    <option value="">'.concat(t||"请选择","</option>\n                </select>\n            </div>")},$appendCity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'\n            <div class="list city">\n                <select style="line-height: 2.7"\n                    name="eq[f_#{id}]_city"\n                    class="comp_drop_down_select"\n                    selectType = \'city\'\n                    ctype="#{type}">\n                    <option value="">'.concat(t,"</option>\n                </select>\n            </div>\n            ")}}},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="fill-blank form-comp-box #{sizeType} #{styleType}" style="width:100%;height:auto" ctype="#{type}">\n    <div class="options"></div>\n</div>'},function(e,t,n){"use strict";e.exports={$option:function(e,t){var n=e.list,r=e.id,o=e.type,i=e.required,a="";return n.forEach((function(e){var n=t(e.label);a+='\n                <div class="option-list">\n                     <p class="text-des" pid="'.concat(r,"_").concat(e.id,'">').concat(n,'</p>\n                     <div class="textarea-wraper">\n                        <textarea id="').concat(r,"_").concat(e.id,'" ctype="').concat(o,'"\n                          required="').concat(i,'"\n                          class="element comp_input editable-text"\n                          maxlength="10000"\n                          name="eq[f_').concat(r,"_").concat(e.id,']"\n                          style="width: 100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto"></textarea>\n                     \n                     </div>\n                     \n                 </div>\n            ')})),a}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="row-fill-blank form-comp-box" style="width:100%;height:auto" ctype="#{type}">\n    <div class="options"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(0),l=(u.mobilecheck,u.iphoneCheck,n(194)),p=n(97),f=n(108),d=n(144).adapterDropDownCode;n(107);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.dataList={},n}return t=c,(n=[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.pageId,o=t.type,i=t.properties,a=i.formRelevant,s=void 0===a?{}:a,c=i.required,u=t.css,d=u.borderWidth,h=(u.backgroundColor,s.title.content),m=s.des.content;d||(t.css.borderWidth=0,t.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),this.name="eq[f_".concat(n,"]"),this.required=c,this.pageId=r;var v=this.getFormRelavent().options,g=l.$compDiv({id:n,type:o,required:c,title:h,des:m,name:v.province.name||"请选择"});return this.$firstGrade=g.find(".list.province").find("select"),g.find(".province_wrap").append(l.$appendCity(n,v.city.name||"请选择")),this.$secondGrade=g.find(".list.city").find("select"),g.find(".province_wrap").append(l.$appendZone(n,v.zone.name||"请选择")),this.$thirdGrade=g.find(".list.zone").find("select"),"view"==this.eqxScene.config.mode&&f.delayLoadJSAndCSS(p.schoolList,"js").then((function(){e.linkData=JSON.parse(JSON.stringify(eqxSchoolList)),e.$firstGrade.html(l.$option(e.linkData,v.province.name||"请选择"))})),this.$context=g,this.updateInputCss(t.css,!0),g}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=this.getFormRelavent().options;f.delayLoadJSAndCSS(p.schoolList,"js").then((function(){var o=n.$li;(t?e.replace(/[，]/g,",").split(","):d(n.compJson.type,e)).forEach((function(e,t){switch(o.find("select").eq(t).val(e),t){case 0:n.updateProvinceData(e,r);break;case 1:n.updateCityData(e,r)}}))})),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&o(t.prototype,n),r&&o(t,r),c}(n(145));e.exports=h},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="province_drop_down form-comp-box" style="width:100%;height:100%" id="#{id}" ctype="#{type}">\n    <div style="width: 100%;height: 100%" class="province_wrap">\n        <div class="list province">\n            <select style="line-height: 2.7" name="eq[f_#{id}]_province" class="comp_drop_down_select" selecttype="province" ctype="#{type}">\n                <option value="">#{name}</option>\n            </select>\n        </div>\n        \x3c!--<div class="list" style="display:#{city}">--\x3e\n            \x3c!--<select style="line-height: 2.7"--\x3e\n                    \x3c!--name="eq[f_#{id}]"--\x3e\n                    \x3c!--class="comp_drop_down_select"--\x3e\n                    \x3c!--ctype="#{type}">--\x3e\n            \x3c!--</select>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="list" style="display:#{zone}">--\x3e\n            \x3c!--<select style="line-height: 2.7"--\x3e\n                    \x3c!--name="eq[f_#{id}]"--\x3e\n                    \x3c!--class="comp_drop_down_select"--\x3e\n                    \x3c!--ctype="#{type}">--\x3e\n            \x3c!--</select>--\x3e\n        \x3c!--</div>--\x3e\n\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(145),l=n(194),p=n(97),f=n(108),d=n(144).adapterDropDownCode;n(107);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.dataList={},n}return t=c,(n=[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.pageId,o=t.type,i=t.properties,a=i.formRelevant,s=void 0===a?{}:a,c=i.required,u=t.css,d=u.borderWidth,h=u.backgroundColor,m=s.title.content,v=s.des.content;d||(t.css.borderWidth=0,t.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),h||(t.css.backgroundColor="#ffffff",this.$boxDiv.css("backgroundColor","#ffffff")),this.name="eq[f_".concat(n,"]"),this.required=c,this.pageId=r;var g=this.getFormRelavent().options,y=l.$compDiv({id:n,type:o,required:c,title:m,des:v,name:g.province.name||"学科"});return this.$firstGrade=y.find(".list.province").find("select"),y.find(".province_wrap").append(l.$appendCity(n,g.city.name||"专业名称")),this.$secondGrade=y.find(".list.city").find("select"),"view"==this.eqxScene.config.mode&&f.delayLoadJSAndCSS(p.majorList,"js").then((function(){e.linkData=JSON.parse(JSON.stringify(eqxMajorList)),e.$firstGrade.html(l.$option(e.linkData,g.province.name||"学科"))})),this.$context=y,this.updateInputCss(t.css,!0),y}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=this.getFormRelavent().options;f.delayLoadJSAndCSS(p.majorList,"js").then((function(){var o=n.$li;(t?e.replace(/[，]/g,",").split(","):d(n.compJson.type,e)).forEach((function(e,t){switch(o.find("select").eq(t).val(e),t){case 0:n.updateProvinceData(e,r);break;case 1:n.updateCityData(e,r)}}))})),"showLast"===t&&this.$li.css("pointer-events","none")}}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=h},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(190),p=n(864),f=(n(99),n(23).filterTags),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,c,l=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=l.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n}return t=d,(n=[{key:"create$context",value:function(){var e=this.compJson,t=this.eqxScene.config.mode,n=e.id,r=e.pageId,o=e.type,i=e.properties,a=i.required,s=i.formRelevant,c=void 0===s?{}:s,u=c.title&&c.title.content||"",l=c.des&&c.des.content||"";this.scoreSetting=this.getScoreSettings();var f=this.scoreSetting,d=f.tags,h=f.scoreLevel,m=void 0===h?5:h,v=(f.type,f.bgColor),g=f.color,y=p.$compDiv({id:n,type:o,required:a,formTitle:u,formDes:l,mode:t,bgColor:v,tags:d});return this.required=a,this.title=u,this.name="eq[f_".concat(n,"]"),this.pageId=r,this.updateIcons(m,y),"edit"==t&&this.createWrapper(m-1,y),y.find(".rating-icons").css({color:g}),this.$score=y.find('input[type="hidden"]'),this.$iconsDiv=y.find(".rating-icons"),y}},{key:"create$li",value:function(){var e=i(u(d.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle,n=this.getScoreSettings();return this.$formComp.css({"background-color":n.bgColor||t.input.backgroundColor}),setTimeout(this.updateEvaluateRealityHeight.bind(this),1600),e}},{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.getValue(),t=this.getScoreSettings().leastOne,n=(this.getTipTitle(),{success:!0,pageId:this.pageId,key:this.name,value:"object"===r(e)?JSON.stringify(e):e,elementId:this.id});return this.ruleHide||(this.required&&!e.value&&(n.success=!1,n.message="该项为必填项"),this.required&&e.value&&t&&!e.tags.length&&(n.success=!1,n.message="至少选择一个标签")),n}},{key:"getValue",value:function(){var e=this.$score.val(),t="",n=[];this.$tagWrapper&&(t=this.$tagWrapper.find(".rating-des").text(),this.$tagWrapper.find(".tag").each((function(e,t){$(t).hasClass("active")&&n.push($(t).text())})));var r="";return this.$evaluateWrapper&&this.$evaluateWrapper.find("textarea").length&&(r=this.$evaluateWrapper.find("textarea").val()),{value:e,des:t,tags:n,evaluate:r}}},{key:"getOptionHash",value:function(){for(var e={},t=this.getScoreSettings(),n=t.scoreLevel,r=t.levelDes,o=0;o<n;o++)e[o]={id:o+1,label:r[o]};return e}},{key:"getOptionList",value:function(){for(var e=[],t=this.getScoreSettings(),n=t.scoreLevel,r=t.levelDes,o=0;o<n;o++)e.push({id:o+1,label:r[o]});return e}},{key:"createWrapper",value:function(e,t){var n=this,r=this.scoreSetting.isEvaluate;this.createTag(e,t),this.createEvaluate(r,t),setTimeout((function(){return n.updateEvaluateRealityHeight()}),50)}},{key:"updateIcons",value:function(e,t){var n=t||this.$context,r=this.scoreSetting.type,o="edit"==this.eqxScene.config.mode?p.iconEdit:p.iconView,i=Array(e).fill(1).map((function(t,n){return o({ico:r,scoreLevel:e,index:n})})),a=n.find(".rating-icons");a.children().remove(),a.append(i),this.updateEvaluateRealityHeight()}},{key:"createTag",value:function(e,t){var n=this.scoreSetting.tags[e],r=this.scoreSetting.levelDes[e],o=this.scoreSetting.color,i=n.map((function(e,t){return e&&p.evaluateTags(f(e))})),a=p.$tagDiv(f(r),i.join(""));this.$tagWrapper&&(this.$tagWrapper.remove(),this.$tagWrapper=null),t.find(".rating-icons").after(a),this.$tagWrapper=t.find(".tag-wrapper"),this.updateEvaluateDesColor(o)}},{key:"createEvaluate",value:function(e,t){this.$evaluateWrapper&&(this.$evaluateWrapper.remove(),this.$evaluateWrapper=null),e&&(this.$tagWrapper.after(p.$evaluateDiv()),this.$evaluateWrapper=t.find(".evaluate-wrapper"))}},{key:"updateWrapper",value:function(e,t){this.createWrapper(e,t),this.ratingActiveToIndex(e),this.updateEvaluateRealityHeight()}},{key:"ratingActiveToIndex",value:function(e){var t=this.$li.find("i"),n=this.compJson.properties.formRelevant.scoreSettings.type.split("-"),r=n[0]+"-"+n[1];t.each((function(t,n){$(n).removeClass(r+"-f").addClass(r+"-l"),t<=e&&$(n).removeClass(r+"-l").addClass(r+"-f")}))}},{key:"updateViewEvaluateH",value:function(){var e,t=this.getFormRelavent(),n=this.compJson.css,r=this.$iconsDiv.height(),o=t.title.css.height,i=t.des.css.height,a=parseInt(n.paddingTop)+parseInt(n.paddingBottom)+o+i+r;this.update$li({height:(null===(e=this.$li)||void 0===e?void 0:e.outerHeight())||a}),this.eqxPage.EqxFormRulesTrigger.updatePage()}},{key:"updateEvaluateRealityHeight",value:function(){var e,t=this;if(this.$li){var n=this.getFormRelavent(),r=(this.compJson.css,this.$li.find(".rating-icons").height(),this.$li.find(".tag-wrapper").height()),o=(this.$evaluateWrapper&&this.$evaluateWrapper.height(),n.title.css.height,n.des.css.height,this.$li.outerHeight());r&&(o+=2),this.$formComp&&this.$formComp.css({height:"auto"}),this.$li.css({height:"auto"}),this.update$li({height:(null===(e=this.$li)||void 0===e?void 0:e.outerHeight())||o}),setTimeout((function(){t.eqxPage.EqxFormRulesTrigger&&t.eqxPage.EqxFormRulesTrigger.updatePage()})),this.updatePageHeight()}}},{key:"updateEvaluateDesColor",value:function(e){var t=this.eqxPage.pageJson.properties.formStyle;this.$tagWrapper.find(".rating-des").css({color:t.input.color})}},{key:"updateFormCompCss",value:function(e,t){i(u(d.prototype),"updateFormCompCss",this).call(this,e),"themeApply"==t&&this.$formComp.find(".rating-icons").css({color:"#FFB243"}),this.$tagWrapper.find(".rating-des").css({color:e.color}),this.updateFormRelevantJson(e,t)}},{key:"updateFormRelevantJson",value:function(e,t){var n=this.eqxPage.pageJson.properties.formStyle,r=this.compJson.properties.formRelevant.scoreSettings;Object.assign(r,{bgColor:e.backgroundColor?e.backgroundColor:n.input.backgroundColor,color:"themeApply"==t?"#FFB243":r.color})}},{key:"afterAppendToPage",value:function(){"edit"==this.eqxScene.config.mode?this.updateEvaluateRealityHeight():this.updateViewEvaluateH()}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=JSON.parse(e),o=r.tags;setTimeout((function(){n.$li.find("i").eq(r.value-1).trigger("click")}),20);var i=null,a=setInterval((function(){(i=n.$li.find(".tag")).length>0&&(clearInterval(a),i.each((function(e,t){o.includes($(t).text())&&$(t).addClass("active")})))}),200);"showLast"===t&&this.$li.css("pointer-events","none")}}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("i");this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.each((function(e,n){$(n).bind("click",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,e+1)}))}))}},{key:"getRealValueForTrigger",value:function(){return this.$score.val()}},{key:"bindAfterRenderEvent",value:function(e,t){return(t.properties.formRelevant&&t.properties.formRelevant.scoreSettings||{}).type||t.properties.icon,function(e,t,n,r){var o=$(e),i=o.find("i"),a=o.find("input"),s=t.properties.formRelevant.scoreSettings.type.split("-"),c=s[0]+"-"+s[1];i.each((function(t,n){$(n).attr("data-event","11211"),$(n).bind("click",(function(){!function(e){i.each((function(t,n){$(n).removeClass(c+"-f").addClass(c+"-l"),t<=e&&$(n).removeClass(c+"-l").addClass(c+"-f")}))}(t),setTimeout((function(){r.updateWrapper(t,r.$context),r.eqxPage.EqxFormRulesTrigger.updatePage(),function(e,t){$(e).find(".tag").each((function(e,t){$(t).bind("click",(function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")}))}))}(e),function(e,t){if(t.$evaluateWrapper){var n=t.$evaluateWrapper.find("a");n&&n.bind("click",(function(){$(this).remove(),t.$evaluateWrapper.append(p.$evaluateBox()),t.updateEvaluateRealityHeight(),t.eqxPage.EqxFormRulesTrigger.updatePage(),function(e){e.$evaluateWrapper.find("textarea").bind("input",(function(){var t=$(this).val().length;e.$evaluateWrapper.find("span").text("".concat(t,"/300"))}))}(t)}))}}(0,r)})),a.val(t+1),r.hideFormErrMsg()}))})),o.find(".rating-icons").bind("touchstart mousedown",(function(e){e.stopPropagation()}))}(e,t,0,this),!0}}])&&o(t.prototype,n),c&&o(t,c),d}(l);e.exports=d},function(e,t,n){"use strict";n(865);var r=n(866),o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.title,a=e.required,s=void 0===a?null:a,c=e.formTitle,u=e.formDes,l=e.des,p=e.mode,f=e.bgColor;return $(o(r,{id:t,type:n,title:i,formTitle:c,formDes:u,des:l,mode:p,bgColor:f})).attr("required",s)},iconEdit:function(e){var t=e.ico,n=(e.scoreLevel,e.index,t.split("-")),r=n[0]+"-"+n[1];return'<i class="'.concat(r,'-f"></i>')},iconView:function(e){var t=e.ico;return'<i class="'.concat(t,'"></i>')},evaluateTags:function(e){return'<li class="tag">'.concat(e,"</li>")},$tagDiv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n='\n        <div class="tag-wrapper">\n            <div class="rating-des">'.concat(e,'</div>\n            <ul class="rating-tags">').concat(t,"</ul>\n        </div>\n    ");return n},$evaluateDiv:function(){return'\n        <div class="evaluate-wrapper">\n            <a>\n                <em class="eqf-pen-l"></em>\n                <span>写评价</span>\n            </a>\n        </div>\n    '},$evaluateBox:function(){return'\n        <textarea placeholder="说说你的评价" maxlength="300" rows="4"></textarea>\n        <div>\n            <span>0/300</span>\n        </div>\n    '}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{formTitle}</div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element form-comp-evaluate form-comp-box" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;background-color:#{bgColor};" id="#{id}" ctype="#{type}" title="#{formTitle}" name="eq[f_#{id}]">\n    <div class="rating-icons rating-icons-#{mode}"></div>\n    <input type="hidden" name="eq[f_#{id}]" value="">\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(0).isWeixin,p=n(5),f=n(288),d=n(868),h=n(3).parse,m=n(289),v=n(7).getWxJSSDK,g=n(6).popUpModal,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(y,e);var t,r,c,p=s(y);function y(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),n=p.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},sound:!1,link:!1}),"view"===n.eqxPage.eqxScene.config.mode&&(n.wxJssdk=v()),n.soundKey=e.id.toString().substring(3),f[n.soundKey]=f[n.soundKey]||{},f[n.soundKey].wxpId=e.id,n}return t=y,c=[{key:"getDefaultSound",value:function(){return m}}],(r=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.css,o=r.width,i=r.height,a=r.lineHeight;return $(h(d,{id:t,type:n})).css({width:o,height:i,lineHeight:a,display:"inline-block"})}},{key:"bindAfterRenderEvent",value:function(e){var t=this;return $(e).on("mousedown touchstart",(function(e){window.event.stopPropagation(),e.preventDefault(),l()?t.soundPlay():(g("请在微信中按住我"),t.playDefaultSound())})),!0}},{key:"updateSize",value:function(e,t){this.$context.css({width:t.width,height:t.height,lineHeight:t.height+"px"}),this.compJson.css.lineHeight=t.height+"px",i(u(y.prototype),"updateSize",this).call(this,e,t)}},{key:"soundPlay",value:function(){var e=this,t=this;if(f[this.soundKey].soundId){var n=f[this.soundKey].soundId;this.eqxScene.soundManager.onPlay({type:4}),this.wxJssdk.then((function(){wx.playVoice({localId:n})}))}else this.compJson.serverId?this.wxJssdk.then((function(){wx.downloadVoice({serverId:e.compJson.serverId,success:function(n){var r=n.localId;e.eqxScene.soundManager.onPlay({type:4}),wx.playVoice({localId:r}),f[t.soundKey].soundId=r},error:function(){e.playDefaultSound()}})})):this.playDefaultSound();this.wxJssdk.then((function(){wx.onVoicePlayEnd({success:function(){e.eqxScene.soundManager.onEnd({type:4})}})}))}},{key:"playDefaultSound",value:function(){var e=this;this.defaultSound||(this.defaultSound=document.createElement("audio"),this.defaultSound.src=n(289)),this.defaultSound.paused?(this.eqxScene.soundManager.onPlay({type:4}),this.defaultSound.play(),$(this.defaultSound).bind("ended",(function(){e.eqxScene.soundManager.onEnd({type:4})}))):(this.eqxScene.soundManager.onEnd({type:4}),this.defaultSound.pause())}}])&&o(t.prototype,r),c&&o(t,c),y}(p);e.exports=y},function(e,t){e.exports='<a id="#{id}" class="element comp_wechat_play" ctype="#{type}"><span style="font-size:0.800rem;" class="eqf-volume-high"></span></a>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(870);var l=n(0).isWeixin,p=n(7).saveWxCompData,f=n(7).generateUserKey,d=n(5),h=n(288),m=n(7).getWxJSSDK,v=n(6).popUpModal,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,c=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),"view"===(n=c.call(this,e,t)).eqxPage.eqxScene.config.mode&&(n.wxJssdk=m()),n.soundKey=e.id.toString().substring(3),h[n.soundKey]=h[n.soundKey]||{},h[n.soundKey].wxrId=e.id,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},sound:!1,link:!1}),n}return t=d,(n=[{key:"create$context",value:function(){var e=this.compJson,t=document.createElement("a");return t.innerHTML=e.properties.title,t.id=e.id,t.setAttribute("class","element comp_wechat_hear"),t.setAttribute("ctype",e.type),t.setAttribute("data-event","1120612"),$(t).css({width:e.css.width,height:e.css.height,display:"inline-block"}),$(t)}},{key:"bindAfterRenderEvent",value:function(e){var t,n=this;return l()?$(e).on("touchstart",(function(e){window.event.stopPropagation(),e.preventDefault(),t=setTimeout((function(){n.soundRecord()}),100)})).on("touchend",(function(){clearTimeout(t),t=null,n.soundStopRecord()})):$(e).on("mousedown",(function(e){v("请在微信中按住我！")})),!0}},{key:"updateSize",value:function(e,t){this.$context.css({width:t.width,height:t.height,lineHeight:t.height+"px"}),this.compJson.css.lineHeight=t.height+"px",i(u(d.prototype),"updateSize",this).call(this,e,t)}},{key:"soundRecord",value:function(){var e=this;this._recordAllowed=!0,this.wxJssdk.then((function(){e.eqxScene.soundManager.stopAll(),wx.startRecord({success:function(){e._recordAllowed?(e.second=0,e.openPlayState()):(wx.stopRecord(),e._recordAllowed=!1)}}),e.$context.addClass("recording").text("松开 结束")}))}},{key:"openPlayState",value:function(){var e=this;this.voicePanel=$("<div class='voice-panel'><span class='icon eqf-volume-high'></span><div class='voice-tip'>松开手指 停止录音</div></div>").prependTo(this.$li.parent()),this.calculateTime=setInterval((function(){e.second++,e.second>=50&&$(e.voicePanel).text(60-e.second),60===e.second&&e.soundStopRecord()}),1e3)}},{key:"soundStopRecord",value:function(){var e=this;this._recordAllowed&&(this._recordAllowed=!1,clearInterval(this.calculateTime),this.calculateTime=null,this.$context.removeClass("recording").text("按住 说话"),this.eqxScene.soundManager.restoreAll(),$(this.voicePanel).remove(),wx.stopRecord({success:function(t){e.second=0,e.wechatUploadVoice(t.localId)}}))}},{key:"wechatUploadVoice",value:function(e){var t=this;h[this.soundKey].soundId=e,wx.uploadVoice({localId:e,isShowProgressTips:1,success:function(e){var n=e.serverId;f(),p(h[t.soundKey].wxpId,n)}})}}])&&o(t.prototype,n),r&&o(t,r),d}(d);e.exports=g},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{self:!0,compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"create$context",value:function(){return i(u(l.prototype),"create$context",this).call(this).wrapInner('<div class="textDiv" style="width: 100%;"></div>')}},{key:"updateContent",value:function(e){if(this.compJson.content=e,this.$context.children().text(e),e){var t=this.$context.children().height()+.3*parseInt(this.compJson.css.fontSize)*2;this.update$li({height:t})}}},{key:"autoAdjustSize",value:function(){var e=this.$context.children().height()+.3*parseInt(this.compJson.css.fontSize)*2;this.update$li({height:e})}},{key:"updatePadding",value:function(e){var t,n,r,o=this.compJson.css,i=parseInt(o.paddingTop),a=parseInt(o.paddingBottom),s=parseInt(o.height);if(this.update$li((t={},n=e.padKey,r=parseInt(e.padValue),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),"paddingLeft"==e.padKey||"paddingRight"==e.padKey){var c=.3*parseInt(this.compJson.css.fontSize)*2;s=this.$context.find(".textDiv").height()+c+i+a}else{var u=parseInt(o[e.padKey]);s=s+parseInt(e.padValue)-u}this.update$li({height:s}),this.autoSizeTopDown()}}])&&o(t.prototype,n),r&&o(t,r),l}(n(138));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(102),l=n(187),p=n(136).isSupportStyle,f=n(873),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{self:!0},trigger:{self:!1}}),n}return t=c,r=[{key:"getDefaultImg",value:function(){return f}}],(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.scratch,i=r.imgStyle,a=r.maskSrc,s=r.filter,c=(s=void 0===s?{}:s).type;e.properties.isReplace=e.properties.isReplace||!1;var u=this._getContextImgSrc();if(Number.isInteger(c)&&c>0)var f=$(l.filterImg({id:t,type:n,src:u,filterType:c}));else f=$(l.img({id:t,type:n,src:u}));return p("WebkitMaskBoxImage")&&a&&this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image":"url(".concat(a,")")}),i&&f.css(i),o&&this.addScratch(),this.$boxContentDiv.css("overflow","hidden"),f}},{key:"updatePadding",value:function(e){var t,n,r,o=parseInt(this.compJson.css.paddingLeft),i=parseInt(this.compJson.css.paddingRight),a=parseInt(this.compJson.css.width),s=parseInt(this.compJson.css.height);if("paddingLeft"==e.padKey||"paddingRight"==e.padKey)"paddingLeft"==e.padKey?i=a-(o=e.padValue)-120:o=a-(i=e.padValue)-120,this.update$li({paddingLeft:o,paddingRight:i});else{var c=parseInt(this.compJson.css[e.padKey]);s+=parseInt(e.padValue)-c,this.update$li((t={height:s},n=e.padKey,r=parseInt(e.padValue),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}this.autoSizeTopDown()}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=d},function(e,t,n){e.exports=n.p+"images/wx_default-e032d2.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(0).isWeixin,p=n(102),f=n(7).saveWxCompData,d=n(7).generateUserKey,h=n(875),m=n(7).getWxJSSDK,v=n(6).popUpModal,g=[],y=!1;function b(e){g.push(e),y||function e(){if(y=!0,g.length>0){g.shift()().then((function(){e()}))}else y=!1}()}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{self:!0},link:!1,sound:!1,trigger:{self:!1}}),"view"===n.eqxPage.eqxScene.config.mode&&(n.wxJssdk=m()),n}return t=p,r=[{key:"getDefaultImg",value:function(){return h}}],(n=[{key:"create$context",value:function(){var e=i(u(p.prototype),"create$context",this).call(this),t=this.compJson.serverId,n=this;return e[0].setAttribute("data-event","1120611"),t&&l()&&(e.css("display","none"),b((function(){return new Promise((function(e){n.wxJssdk.then((function(){wx.downloadImage({serverId:t,success:function(t){n.responsiveImage(t.localId),e()}})}))}))}))),e}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return l()?$(e).click((function(){n.uploadImage()})):$(e).click((function(){v("请在微信中点击我")})),!0}},{key:"uploadImage",value:function(){var e=this;this.wxJssdk.then((function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var n=t.localIds;setTimeout((function(){wx.uploadImage({localId:n.toString(),isShowProgressTips:1,success:function(t){e.responsiveImage(n.toString());var r=t.serverId;d(),f(e.compJson.id,r)}})}),100)}})}))}},{key:"responsiveImage",value:function(e){var t=this;window.__wxjs_is_wkwebview?this.wxJssdk.then((function(){console.log("responsiveImage getLocalImgData start",e),wx.getLocalImgData({localId:e,fail:function(e){console.error("responsiveImage getLocalImgData Error",e)},success:function(e){console.log("responsiveImage getLocalImgData");var n=e.localData;t._responsiveImage(n)}})})):this._responsiveImage(e)}},{key:"_responsiveImage",value:function(e){var t=new Image;t.src=e;var n=this;t.onload=function(){var r,o,i=window.parseInt(n.compJson.css.width,10),a=window.parseInt(n.compJson.css.height,10);t.width/t.height>=i/a?(r=i,o=t.height*(i/t.width)):(o=a,r=t.width*(a/t.height)),n.$context.css({display:"block",width:r+"px",height:o+"px","margin-top":(window.parseInt(n.$li.height(),10)-o)/2+"px","margin-left":(window.parseInt(n.$li.width(),10)-r)/2+"px"}).attr("src",e)}}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=x},function(e,t,n){e.exports=n.p+"images/wechat_image-0d2e62.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(877);var l=n(0).isWeixin,p=n(5),f=n(878).textVoteTpl,d=n(290).alertTpl,h=n(75).$isVoted,m=n(75).$postVote,v=n(37).randomId,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1},advanceStyle:{}},trigger:{self:!1},sound:!1,link:!1,flexLine:"e,w,r"}),n.ids=[],n}return t=p,(n=[{key:"getMinWidth",value:function(){return 300}},{key:"updateSize",value:function(e,t){var n=this.getMinWidth();t.width&&t.width<e.width&&(!t.left||t.left===e.left)&&t.width<n&&this.$li.css({width:n}),t.left&&t.left>e.left&&t.width&&t.width<n&&this.$li.css({left:e.left,width:n});var r=this.$context.height();r!=t.height&&this.$li.height(r),i(u(p.prototype),"updateSize",this).call(this,e,t)}},{key:"update$li",value:function(e){var t=this.compJson.css,n=this.getMinWidth();e.width&&e.width<t.width&&(!e.left||e.left===t.left)&&e.width<n&&(e.width=n),e.left&&e.left>t.left&&e.width&&e.width<n&&(delete e.left,delete e.width),e.height&&(e.height=this.$context.height()),i(u(p.prototype),"update$li",this).call(this,e)}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.title,i=void 0===o?"请投票":o,a=r.selectType,s=r.buttonColor,c=void 0===s?"#08A1EF":s,u=r.children,l=void 0===u?[]:u;a="single"==a?"单选":"多选";var p=f({id:t,type:n}),h=$(p);if(this.$title=$('<div class="vote-view-title">'.concat(i,"（").concat(a,"）</div>")),h.append(this.$title),l.length){this.$options=$('<ul class="vote-view-options"></ul>'),this.childrenOption=l.map((function(e){var t=e.id,n=e.label;return $('<li class="vote-view-option" id="'.concat(t,'"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">').concat(n,"</div></li>"))})),this.$submit=$('<div class="vote-view-button">投票</div>'),this.$options.append(this.childrenOption),h.append(this.$options),h.append(this.$submit);var m=d();this.$tpl=$(m).appendTo(h),this.updateButtonColor(c)}return h}},{key:"updateButtonColor",value:function(e){this.$submit.css({backgroundColor:e})}},{key:"updateTitle",value:function(e,t){t="single"==t?"单选":"多选",this.$title.text("".concat(e,"（").concat(t,"）"))}},{key:"updateOptions",value:function(e){this.$options.find("#".concat(e.id," .vote-view-text")).text(e.label)}},{key:"deleteOption",value:function(e){this.compJson.properties.children.splice(e,1),this.childrenOption.splice(e,1)[0].remove(),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"addOption",value:function(e){var t={id:v(),label:"选项".concat(this.compJson.properties.children.length+1)};this.compJson.properties.children.splice(e+1,0,t);var n=$('<li class="vote-view-option" id="'.concat(t.id,'"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">').concat(t.label,"</div></li>"));this.childrenOption.splice(e+1,0,n),$(this.$options.children()[e]).after(n),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;l()?this.isVoted().then((function(){n.$options.children().on("click",(function(e){var r=$(e.currentTarget).find(".eqf-yes");r.is(":hidden")?"single"==t.properties.selectType&&1==n.ids.length?(n.$options.find(".eqf-yes").hide(),n.ids[0]=e.currentTarget.id,r.show()):"multi"==t.properties.selectType&&n.ids.length==t.properties.selectCount?n.alertTpl("最多选择".concat(t.properties.selectCount,"项")):(r.show(),n.ids.push(e.currentTarget.id)):(r.hide(),n.ids.splice(n.ids.indexOf(e.currentTarget.id),1))})),n.$submit.on("click",(function(){var e=t.sceneId,r=t.pageId;n.ids.length?m(e,t.id,{pageId:r,data:JSON.stringify(n.ids)}).then((function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then((function(){n.showVoted(e.map),n.$submit.off(),n.$options.children().off()}))})):n.alertTpl("请至少选择一项")}))})):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise((function(n,r){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:2}),window.setTimeout((function(){t.$tpl.css({opacity:0,zIndex:-2}),n()}),2e3)}))}},{key:"showVoted",value:function(e){var t=this;this.$options.find(".eqf-yes").hide();var n=[],r=0;this.compJson.properties.children.forEach((function(o){var i=o.id;n.push({id:i,count:e[i]||0}),r+=e[i]||0,e[i]&&t.ids.push(i)})),n.forEach((function(e){$('<em style="float:right">'.concat(e.count,"  (").concat((e.count/r*100).toFixed(2)," % 100)</em>")).prependTo(t.$options.find("#".concat(e.id)))})),this.$li.height(""),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"isVoted",value:function(){var e=this;return new Promise((function(t,n){var r=e.compJson.properties.endTime;if(r&&new Date(r)<Date.now())e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),n();else if(l()){var o=e.compJson,i=o.sceneId,a=o.pageId,s=o.id;h(s,{sceneId:i,pageId:a}).then((function(r){r.obj?(e.showVoted(r.map),n()):t()}))}else n()}))}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=g},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={textVoteTpl:function(e){var t=e.id,n=e.type;return e.title,e.selectType,'<div  id="'.concat(t,'" ctype="').concat(n,'" class="vote-view">\n    </div>')}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(881);var l=n(1),p=n(15).$loadSliders,f=n(5),d=n(0).isWeixin,h=n(290).alertTpl,m=n(75).$isVoted,v=n(75).$postVote,g=n(882),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,c=s(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this,e,t)).intervalObj={},n.descIds=[],$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n}return t=f,(n=[{key:"updateSize",value:function(e,t){this.$slider.width(t.width),this.plugin.update(),i(u(f.prototype),"updateSize",this).call(this,e,t)}},{key:"create$context",value:function(){var e=this;this.descArr=[],this.imgArr=[],this.loadPlugin=Promise.resolve();var t=this.compJson,n=t.id,r=t.type,o=t.css,a=o.width,s=(o.height,t.properties),c=(s=void 0===s?{}:s).title,p=void 0===c?"请投票":c,d=s.selectType,m=s.buttonColor,v=void 0===m?"#08A1EF":m,y=s.children,b=void 0===y?[]:y,x=s.bgColor;d="single"==d?"单选":"多选";var w=$('<div id="'.concat(n,'" ctype="').concat(r,'" class="vote-img"></div>')).css({"background-color":x,height:442});if(i(u(f.prototype),"updateSize",this).call(this,{height:""},{height:442}),b.length){b.forEach((function(t){var n=t.src,r=t.desc,o=t.id,i=n?"".concat(l.FILE+n):g;e.imgArr.push($('<div style="background-image:url('.concat(i,'); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>'))),e.descArr.push($('<li id="'.concat(o,'">').concat(r,"</li>")))})),this.$title=$('<div class="vote-img-prev-title"><h1>'.concat(p,'</h1><span class="vote-img-sing-double">(').concat(d,")</span></div>")),w.append(this.$title),this.$slider=$('<div class="slides" style="width: '.concat(a,'px;"></div>'));var S=$('<ul class="vote-img-desc"></ul>');S.append(this.descArr),this.$slider.append(this.imgArr),this.loadPlugin=this.initSlider(S),w.append(this.$slider),this.$submit=$('<a class="btn-main">提交</a>'),w.append(this.$submit);var k=h();this.$tpl=$(k).appendTo(w),this.updateButtonColor(v)}return this.$context=w,w}},{key:"updateButtonColor",value:function(e){this.$submit.css({backgroundColor:e})}},{key:"updateOptions",value:function(e,t){this.plugin.goto(t+1),this.descArr[t].text(e.desc),this.imgArr[t].css({backgroundImage:"url(".concat(l.FILE).concat(e.src,")")})}},{key:"updateTitle",value:function(e,t){t="single"==t?"单选":"多选",this.$title.find("h1").text(e),this.$title.find(".vote-img-sing-double").text("(".concat(t,")"))}},{key:"initSlider",value:function(e){var t=this;return this.$em=$('<span class="eqf-yes-l"></span>'),p().then((function(){return t.$slider.slidesjs({width:300,height:329,navigation:{active:!1},callback:{loaded:function(){e.children().css({display:"none"}),t.descArr[0].css({display:"inline-block"}),t.$slider.append(e),t.$slider.find(".slidesjs-container").append(t.$em)},complete:function(n){e.children().css({display:"none"}),t.descArr[n-1].css({display:"inline-block"});var r=t.descArr[n-1].attr("id");-1==t.descIds.indexOf(r)?t.$em.removeClass("active"):t.$em.addClass("active")}}}),t.plugin=t.$slider.data("plugin_slidesjs"),t.plugin}))}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return d()?this.loadPlugin.then((function(){return n.isVoted()})).then((function(){n.$em.on("click",(function(e){e.preventDefault(),e.stopPropagation();var r=n.descArr[n.plugin.data.current].attr("id");-1==n.descIds.indexOf(r)?"single"==t.properties.selectType&&1==n.descIds.length?(n.descIds[0]=r,n.$em.addClass("active")):"multi"==t.properties.selectType&&n.descIds.length==t.properties.selectCount?n.alertTpl("最多选择".concat(t.properties.selectCount,"项")):(n.descIds.push(r),n.$em.addClass("active")):(n.descIds.splice(n.descIds.indexOf(r),1),n.$em.removeClass("active"))})),n.$submit.on("click",(function(e){e.preventDefault(),e.stopPropagation();var r=t.sceneId,o=t.pageId;n.descIds.length?v(r,t.id,{pageId:o,data:JSON.stringify(n.descIds)}).then((function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then((function(){n.showVoted(e.map),n.$em.off(),n.$submit.off()}))})):n.alertTpl("请至少选择一项")}))})):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票"),!1}},{key:"showVoted",value:function(e){var t=this;this.descIds=[],this.$em.remove(),this.plugin.stop(),this.$slider.remove();var n={},r=[],o=0;this.compJson.properties.children.forEach((function(i){var a=i.id,s=i.desc;n[a]=s,r.push({id:a,count:e[a]||0}),o+=e[a]||0,e[a]&&t.descIds.push(a)}));var i=$('<ul class="vote-img-ul"></ul>');r.forEach((function(e){i.append($("<li id = '".concat(e.id,'\' class="vote-img-li"><em style="float: right">').concat(e.count," (").concat((e.count/o*100).toFixed(2)," %)</em> ").concat(n[e.id],"</li>")))})),i.insertBefore(this.$submit),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise((function(n,r){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:1001}),window.setTimeout((function(){t.$tpl.css({opacity:0,zIndex:-2}),n()}),2e3)}))}},{key:"isVoted",value:function(){var e=this;return new Promise((function(t,n){if(e.compJson.properties.endTime&&new Date(e.compJson.properties.endTime)<new Date&&(e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),n()),d()){var r=e.compJson,o=r.sceneId,i=r.pageId,a=r.id;m(a,{sceneId:o,pageId:i}).then((function(r){r.obj?(e.showVoted(r.map),n()):t()}))}else n()}))}},{key:"startPlay",value:function(){var e=this;this.playInterval=setInterval((function(){e.plugin&&e.plugin.next()}),5e3)}},{key:"stopPlay",value:function(){this.playInterval&&(clearInterval(this.playInterval),this.playInterval=null)}},{key:"eleHide",value:function(){i(u(f.prototype),"eleHide",this).call(this),this.stopPlay()}},{key:"eleShow",value:function(){i(u(f.prototype),"eleShow",this).call(this),this.startPlay()}}])&&o(t.prototype,n),r&&o(t,r),f}(f);e.exports=y},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/defaultImg-a4295b.svg"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(884);var l=n(5),p=n(83),f=n(4).addUrlParam,d=n(0).isWeixin,h=n(0).isPc,m=n(7).getWxJSSDK,v=n(10).COMP_KEY,g=n(7).addCompKey,y="ontouchstart"in window,b=y?"touchstart":"mousedown",x=y?"touchmove":"mousemove",w=y?"touchend":"mouseup",S={},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).wxJssdk=m(),$.extend(!0,n.$ability,{style:{compFont:{self:!1}},trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"updateSize",value:function(e,t){this.setCanvasSize(t.width,t.height);var n=this.compJson.properties.imgSrc;n&&(this.clearCanvas(),this.drawingImage(n)),i(u(l.prototype),"updateSize",this).call(this,e,t)}},{key:"create$context",value:function(){var e=$('<div style="position: relative; height: 100%;overflow: hidden;"></div>');this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d");var t=this.compJson,n=t.css,r=n.width,o=n.height,i=t.properties,a=i.imgSrc,s=i.boardColor,c=i.qiniuSrc;return this.setCanvasSize(r,o),this.setCanvasBgColor(s),a&&this.drawingImage(a),c&&(S[this.compJson.id]=c),this.$alert=$('<div class="board-bg" style="display: none"><span class="board-alert">正在保存...</span></div>'),this.$penBtn=$('<span class="board-pen eqf-brush"></span>'),this.$closeBtn=$('<span class="board-close eqf-delete-f" style="display: none"></span>'),e.append(this.$alert),e.append(this.$penBtn),e.append(this.$closeBtn),this.$cancelBtn=$('<a class="board-btn board-reset" style="display: none">取消</a>'),this.$endBtn=$('<a class="board-btn board-end" style="display: none">完成</a>'),e.append(this.$cancelBtn),e.append(this.$endBtn),e.append(this.canvas),e}},{key:"setCanvasSize",value:function(e,t){this.canvas.width=e,this.canvas.height=t}},{key:"setCanvasBgColor",value:function(e){this.canvas.style.backgroundColor=e}},{key:"drawingImage",value:function(e,t){var n=this.compJson.css,r=n.width,o=n.height,i="";i="base64"==t?e:this.getImgSrc(e,{width:r,height:o});var a=new Image;a.setAttribute("crossOrigin","anonymouse");var s=this;a.onload=function(){var e=0,t=0,n=r,i=o;this.width/r>this.height/o?(n=this.width/(this.height/o),e=(r-n)/2):(i=this.height/(this.width/r),t=(o-i)/2),s.ctx.drawImage(a,e,t,n,i)},a.src=i}},{key:"clearCanvas",value:function(){var e=this.compJson.css,t=e.width,n=e.height;this.ctx.clearRect(0,0,t,n)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=!1,o=!1,i=0,a=0;return this.$penBtn.on("click",(function(){if(r)return!1;n.clearCanvas(),r=!0,n.$cancelBtn.css({display:"inline-block"}),n.$endBtn.css({display:"inline-block"}),n.$closeBtn.css({display:"inline-block"}),!y&&n.canvas.classList.add("boarding")})),this.$cancelBtn.on("click",(function(){n.clearCanvas(),r=!1,n.$cancelBtn.hide(),n.$endBtn.hide(),n.$closeBtn.hide(),!y&&n.canvas.classList.remove("boarding"),n.compJson.properties.imgSrc&&n.drawingImage(n.compJson.properties.imgSrc)})),this.$closeBtn.on("click",(function(){n.clearCanvas()})),this.$endBtn.on("click",(function(){r=!1,n.$cancelBtn.hide(),n.$endBtn.hide(),n.$closeBtn.hide(),!y&&n.canvas.classList.remove("boarding"),"view"==n.eqxScene.config.mode&&window==window.top&&n.saveImage()})),this.canvas.addEventListener(b,(function(e){if(!r)return!1;e.preventDefault(),e.stopPropagation(),o=!0;var t=n.canvas.getBoundingClientRect();e=y?e.targetTouches[0]:e,i=y?e.pageX-t.left:e.offsetX,a=y?e.pageY-t.top:e.offsetY+20})),this.canvas.addEventListener(x,(function(e){if(!r||!o)return!1;var s=n.canvas.getBoundingClientRect();e=y?e.targetTouches[0]:e;var c=y?e.pageX-s.left:e.offsetX,u=y?e.pageY-s.top:e.offsetY+20;n.ctx.beginPath(),n.ctx.moveTo(i,a),n.ctx.lineTo(c,u),n.ctx.strokeStyle=t.properties.penColor,n.ctx.lineWidth=t.properties.penSize,n.ctx.lineCap="round",n.ctx.stroke(),i=c,a=u})),this.canvas.addEventListener(w,(function(e){o=!1})),this.canvas.addEventListener("mouseleave",(function(e){o=!1})),!0}},{key:"saveImage",value:function(){var e=this;this.$alert.show(),p.$getUploadToken("image").then((function(t){var n=e.canvas.toDataURL("image/png");return p.$uploadBase64(t.map.token,n.substring(22))})).then((function(t){return S[e.compJson.id]=t.key,p.$saveCompInfoByCompKey(v,S)})).then((function(){var t=f("compKey",v,window.location.href);if(d()?e.wxJssdk.then((function(){g(t,v)})):window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t),h()&&window.top===window){var n=$("#codeImg");n.length&&(n.empty(),n.qrcode({render:"canvas",size:200,text:t}))}e.$alert.hide()}))}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=k},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(291);var p=n(5),f=n(3).parse,d=n(28).$getUserWxInfo,h=n(7).hrefToWxAuth,m=n(7).setWeChatUser,v=n(886),g=n(292),y=n(0),b=y.isWeixin,x=y.isWxEnv,w=n(4).getUrlParam,S=n(23).filterTags,k=n(889),O=n(7).getWeChatUser,E=n(6).popMsgModal,C=n(9).qiniuZoom,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,u=c(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=u.call(this,e,t)).isAbsolute=!1,n.compJson.css.zIndex=99999,n}return t=p,(n=[{key:"updateCss",value:function(e){a(l(p.prototype),"updateCss",this).call(this,e),this.compJson.css.zIndex=99999}},{key:"create$context",value:function(){var e=this,t=this.compJson.content,n=$(f(k,{content:t}));return g.getComments(this.compJson.sceneId).then((function(t){if(e.comments=t.list,e.comments.length)n.find(".default-msg").css("display","none"),n.append((i=e.comments,a="",i.forEach((function(e,t){a+='\n            <li class="clearfix comment-'.concat(e.id,'">\n                <div class="head-img" style="background-image: url(\'').concat(C(e.wxImage),'\')"></div>\n                <div class="msg-content">\n                    <div class="visitor-box">\n                        <div>\n                            <div class="name-tag">\n                                <span class="name">').concat(e.wxName,'</span>\n                                <div class="tag" style="display: ').concat(e.top?"inline-block":"none",';">\n                                    <span>置顶</span>\n                                </div>\n                            </div>\n                            <a class="comment-like give-like ').concat(e.msgLike?"active":"",'" index="').concat(t,'">\n                                <em class="eqf-zan-l"></em>\n                                <em class="eqf-zan-f"></em>\n                                <span>').concat(e.msgLikeCount||0,"</span>\n                            </a>\n                        </div>\n                        <p>").concat(S(e.msg),'</p>\n                    </div>\n                    <div class="author-box" style="display: ').concat(e.reply?"block":"none",'">\n                        <div>\n                            <span class="name">作者</span>\n                            <a class="comment-like give-reply-like ').concat(e.replyLike?"active":"",'" index="').concat(t,'">\n                                <em class="eqf-zan-l"></em>\n                                <em class="eqf-zan-f"></em>\n                                <span>').concat(e.replyLikeCount||0,"</span>\n                            </a>\n                        </div>\n                        <p>").concat(S(e.reply),"</p>\n                    </div>\n                </div>\n            </li>\n        ")})),'\n        <div class="message-box">\n            <div class="msg-title clearfix">\n                <span>精选留言</span>\n                <span class="comment">写留言</span>\n            </div>\n            <ul class="msg-ul">'.concat(a,"</ul>\n        </div>\n    "))),e.eqxPage.dealAppend();else if("showLast"===w("sourceType")&&!scene.property.boughtLabel&&!scene.property.removeLabel){var r=n.find(".default-msg")[0];r.style.textAlign="right",r.style.lineHeight="3.7em",r.style.paddingRight="20px"}var i,a;!function(e,t){if(b()||x()&&t.eqxScene.isCardScene){var n=O();t.$li.find("span.comment").on("click",(function(){n.nickname?v.initMsgBoardModal(t.eqxPage):r()})),e.find("a.comment-like").on("click",(function(e){if(n.nickname){var o=$(e.currentTarget),i=o.hasClass("give-like")?"give":"reply",a=o.attr("index"),s=o.hasClass("active");if(s?o.removeClass("active"):o.addClass("active"),"give"==i)var c=g.giveLike({id:t.compJson.sceneId,msgId:t.comments[a].id,wxId:n.openid,like:!s});else c=g.getReplyLike({id:t.compJson.sceneId,msgId:t.comments[a].id,wxId:n.openid,replyId:t.comments[a].replyId,like:!s});c.then((function(e){200==e.code&&t.updateLikeNum(o,!s)}))}else r()}))}else e.find("a.comment-like,span.comment").on("click",(function(){E("请在微信环境中使用","comment-list",t.eqxPage)}));function r(){d().then(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.obj)&&void 0!==n&&n.nickname){e.next=4;break}return e.next=3,h();case 3:t=e.sent;case 4:m(t.obj);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}())}}(n,e)})),this.$context=n,this.eqxPage.messageBoard=this,n}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"updateLikeNum",value:function(e,t){var n=e.find("span"),r=parseInt(n.text());t?r++:r--,n.text(r)}},{key:"removeComment",value:function(e){var t=".comment-".concat(e),n=this.$context.find(t);n.length&&(n.remove(),this.eqxPage.dealAppend())}},{key:"calMessageHeight",value:function(){return this.getAbsolutePos(!0).height()}}])&&i(t.prototype,n),r&&i(t,r),p}(p);e.exports=_},function(e,t,n){"use strict";var r=n(9);n(887),n(291);var o=n(888),i=n(0).isPc,a=n(7).getWeChatUser,s=n(292),c=n(6).popMsgModal,u=n(6).popMsgSuccessModal;e.exports={initMsgBoardModal:function(e){e.eqxSectionCover.prepend(o);var t=e.eqxSectionCover.find(".msg-board-modal");i()&&e&&("pc"!=e.previewMode?t.addClass("wxViewInPc"):$(".preview-outer-wraper").css("z-index",1e4)),$(".msg-board-modal").on("DOMMouseScroll mousewheel",(function(e){e.stopPropagation()})),t.find(".content-import").on("input",(function(e){var n=e.target.value,r=n.length+n.split("\n").length-1;t.find(".content-words").html(r+"/200")}));var n=$(window).scrollTop(),l=$("body").css("overflow-y");$("body").css({position:"fixed","overflow-y":"hidden",top:-n});var p=a(),f={pageId:e.eqxScene.meta.id,name:p.nickname,url:p.headimgurl,content:t.find(".content-import").val(),userId:e.eqxScene.meta.userId,wxId:p.openid};!function(e,t){var n=Object.assign({},{id:e.pageId,wxId:e.wxId});s.getMsgList(n).then((function(e){if(200==e.code&&e.list.length){var n=t.eqxSectionCover.find(".msg-board-modal").find(".msg-ul");e.list.forEach((function(e){var t='<li class="clearfix" style="margin-bottom: 24px;">\n                    <div class="head-img" style="background-image: url(\''.concat(e.wxImage,'\')"></div>\n                    <div class="msg-content" style="background-color: transparent">\n                        <div class="visitor-box" style="margin-bottom: ').concat(e.reply?"0px":"10px",';">\n                            <div>\n                                <span class="name">').concat(e.wxName,'</span>\n                            </div>\n                            <p style="color: #333333;">').concat(e.msg,'</p>\n                        </div>\n                        <div class="author-box" style="display: ').concat(e.reply?"block":"none",';margin-bottom: 10px;margin-top: 16px;">\n                            <div>\n                                <span class="name">作者</span>\n                            </div>\n                            <p style="color: #333333;">').concat(e.reply,'</p>\n                        </div>\n                        <a class="deleteBtn btn').concat(e.id,'" data-msgId="').concat(e.id,'" data-wxId="').concat(e.openId,'" style="color: #4B9DEA;font-size: 12px;">删除</a>\n                    </div>\n                </li>');n.prepend(t),$(".msg-title").css("visibility","visible")}))}})).catch((function(e){console.log(e)}))}(f,e),t.on("click",".deleteBtn",(function(t){var n=this;c("确定删除留言吗？","",e).then((function(){var t={msgId:$(n).attr("data-msgId"),wxId:$(n).attr("data-wxId")};s.deleteMsg(t).then((function(n){200==n.code&&($(".btn"+t.msgId).parents("li").remove(),$(".msg-board-modal .msg-ul li").length||$(".msg-title").css("visibility","hidden"),e.messageBoard.removeComment(t.msgId))})).catch((function(t){console.log(t),c(t.msg,"comment-list",e)}))})).catch((function(){}))}));var d=!1;t.find(".msg-btn").click((function(){var n,o=$.trim(t.find(".content-import").val());o&&!d&&(d=!0,Object.assign(f,{content:(n=o,n.replace(/<[^>]+>/g,""))}),s.commitMsg(f).then((function(t){if(200==t.code&&t.obj){var n=$(".msg-board-modal .msg-ul"),o='<li class="clearfix" style="margin-bottom: 24px;">\n                        <div class="head-img" style="background-image: url(\''.concat((0,r.qiniuZoom)(t.obj.wxImage),'\')"></div>\n                        <div class="msg-content" style="background-color: transparent">\n                            <div class="visitor-box" style="margin-bottom: 10px;">\n                                <div>\n                                    <span class="name">').concat(t.obj.wxName,'</span>\n                                </div>\n                                <p style="color: #333333;">').concat(t.obj.msg,'</p>\n                            </div>\n                            <a class="deleteBtn btn').concat(t.obj.id,'" data-msgId="').concat(t.obj.id,'" data-wxId="').concat(t.obj.openId,'" style="color: #4B9DEA;font-size: 12px;">删除</a>\n                        </div>\n                </li>');n.prepend(o),$(".msg-title").css("visibility","visible"),$(".content-import").val(""),$(".content-words").text("0/200"),u(e),d=!1}})).catch((function(t){d=!1,c(t.msg||"提交失败，请重试","comment-list",e)})))})),$(".close-btn").click((function(){$("body").css({position:"static","overflow-y":l,top:"0px"}),$(window).scrollTop(n),$(".msg-board-modal").remove(),$(".preview-outer-wraper").css("z-index","")}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="msg-board-modal" style="z-index: 10;">\n    <div class="msg-content-import">\n        <textarea class="content-import" placeholder="留言将由作者筛选后显示，对所有人可见。" maxlength="200"></textarea>\n        <div class="content-select">\n            <span class="content-words">0/200</span>\n        </div>\n    </div>\n    \x3c!--<div class="msg-emoji"></div>--\x3e\n    <div class="msg-btn-wrapper clearfix">\n        <a class="close-btn">返回</a>\n        <a class="msg-btn">留言</a>\n    </div>\n    <div class="msg-title" style="visibility: hidden;">我的留言</div>\n    <div class="message-board" style="height: calc(100% - 11.250rem);\n        padding: 0.800rem;\n        overflow-y: auto;\n         /*position:absolute;*/\n         /*z-index:1;*/\n         width:100%;\n         /*bottom:0;*/\n         /*-webkit-overflow-scrolling: touch;*/\n         /*-webkit-backface-visibility: hidden;*/\n         /*-webkit-transform: translate3d(0,0,0);*/\n        box-sizing: border-box;">\n        <div class="message-box" style="box-sizing: border-box;background-color: transparent;padding: 0px;min-height: calc(100% + 0.250rem);">\n            <ul class="msg-ul">\n            </ul>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="element message-board">\n    <div class="default-msg">\n        <span class="comment">#{content}</span>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(5),l=n(29),p=l.addGlobalStyle,f=l.addSuffixPx,d=n(891),h=n(3).parse,m=n(1),v={},g=n(892).parse,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0}},link:!0}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.content,o=e.sceneId,i=e.css,a=i.fontFamily,s=i.fontSize,c=i.writingMode,u=i.marginTop,l=void 0===u?"0px":u,f=i.marginBottom,d=void 0===f?"0px":f,h=e.properties.anim,y=void 0===h?[]:h;r=r||"+yyyy";var x=new Date,w=b({id:t,type:n,content:g(x,r),marginTop:l,marginBottom:d,css:{fontFamily:a,fontSize:s,writingMode:c}});return function(e){var t=e.fontFamily,n=e.sceneId;if("view"===e.mode&&window.scene&&t&&!v[t]){var r="@font-face{font-family:'"+t+"';src: url('"+m.FONT+"formfonts/"+n+"_"+window.scene.publishTime+"/"+t+".woff') format('woff'),url('"+m.FONT+"formfonts/"+n+"_"+window.scene.publishTime+"/"+t+".ttf') format('truetype');}";p(r),v[t]=!0}}({mode:this.eqxScene.config.mode,fontFamily:a,sceneId:o}),y[0]&&"typer"===y[0].type&&w.css({opacity:0}),w}},{key:"updateContent",value:function(e){e=e||this.compJson.content||"+yyyy";var t=new Date,n=g(t,e);this.$context.children().html(n)}},{key:"autoAdjustSize",value:function(){var e=12,t=96,n=this.compJson.properties,r=n.adjustWHMode,o=n.adjustFSMode,i=arguments.length?arguments[0]:null;return r?c(this,i):o?s(this,i):a(this);function a(e){var t=e.$context,n=e.$context.children(),r=parseInt(t.css("padding-left")||0),o={height:n.height()+2*r};return e.update$li(o),{height:parseInt(e.$li.css("height")),width:parseInt(e.$li.css("width"))}}function s(e,t){if(null!=t){var n=e.$context,r=e.$context.children(),o=l(r);if(o<n.width()){var i={width:o+2*parseInt(n.css("padding-left")||0)};e.update$li(i),e.update$boxDiv(i),n.css(i)}else if(o>=n.width())for(var s=r.height(),c=n.height(),p=n.width();s>c&&p<320;)u(e),s=r.height(),c=n.height(),p=n.width();return a(e)}}function c(n,r){if(null!=r){var o=n.$context,i=n.$context.children();if(1===r){for(;p(o,i,r)&&f(o)>e;)d(n);if(p(o,i,r)&&f(o)<=e)return a(n)}else{if(0!==r)return a(n);for(;p(o,i,r)&&f(o)<t;)h(n);p(o,i,r)||d(n)}return{height:parseInt(n.$li.css("height")),width:parseInt(n.$li.css("width"))}}}function u(e){var t=e.$context,n={width:parseFloat(t.css("width"))+1+"px"};e.update$li(n),e.update$boxDiv(n),t.css(n)}function l(e){var t=e.css("display","inline").width();return e.css("display","block"),t}function p(e,t,n){return n?t.height()>e.height():t.height()<e.height()}function f(e){return parseInt(e.css("font-size"))}function d(t){var n=t.$context,r=f(n);if(r>e){var o={fontSize:r-1+"px"};t.update$li(o),t.update$boxDiv(o),n.css(o)}}function h(e){var n=e.$context,r=f(n);if(r<t){var o={fontSize:r+1+"px"};e.update$li(o),e.update$boxDiv(o),n.css(o)}}}}])&&o(t.prototype,n),r&&o(t,r),c}(u);function b(e){var t=e.id,n=e.type,r=e.marginTop,o=e.marginBottom,i=e.css,a=e.content,s=void 0===a?"":a;return i.cursor="default",i.minHeight="inherit",i.fontSize&&(i.fontSize=f(i.fontSize)),$(h(d,{id:t,type:n,content:s,marginTop:r,marginBottom:o})).css(i)}e.exports=y},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 0.250rem;width: 100%;height: 100%;">\n    <span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all;">\n        #{content}\n    </span>\n</div>'},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o={YEAR_MIN:1890,YEAR_MAX:2100,map:[1750378,339370,6020516,405156,314698,4934293,371351,279894,2804405,346837,8115922,419666,331429,4961866,394827,297627,3880278,370026,281433,1759058,345938,6019877,412453,313931,4936875,377517,288107,1764201,355753,7093650,429714,331045,4954701,395862,303798,3872181,370388,282281,1769106,347794,6016294,402731,313943,4936374,379738,296660,2821833,354121,7075475,420499,329003,5991003,387757,304490,3881813,371620,281417,1759891,346773,7058733,402742,314029,4945322,378290,290213,2825546,363850,8120981,412311,329046,5999285,387797,304850,3878565,372389,280138,2796695,338587,7066970,402794,314217,4945746,387922,289573,3864139,354891,8123563,410285,320877,5999465,396713,306578,3882277,372005,10246733,428630,336566,6006197,403157,315049,4947602,388754,298278,2812502,346711,8123606,418650,321237,4953801,395081,304787,3872043,361771,272987,1758554,337258,7060309,412580,322377,4938387,379541,288045,3861165,346805,9172394,419282,331173,6004042,396618,306325,3880238,361814,273077,1758642,345810,6008485,403237,312907,4934807,371883,288090,2812630,355177,11269970,420690,330533,6003275,387659,296107,4916571,361901,273258,1760082,347538,7068965,404773,313941,4936877,378038,279989,2813354,356041,8142482,421522,331046,5999190,387671,296150,3868373,362325,280393,2797203,337555,7058731,402731,305755,4937050,378218,289637,3864394,355146,8125077,420501,320813,5991085,387765,304554,3869605,363941,281930,2808981,339094,7059790,402774,314037,4937138,378578,290469,3870282,345675,8113303,410795,320859,5991126,387946,304978,3880741,363301,273035,1750171,337067],monthNames:["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"],dayNames:["","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],heavenlyStems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],earthlyBranches:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarPeriods:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],solarPeriodsMap:[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758]},i={zddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["sun","mon","tue","wed","thu","fri","sat"],Ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DDD:["SUN","MON","TUE","WED","THU","FRI","SAT"],Dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dddd:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],DDDD:["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],mmm:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mmmm:["January","February","March","April","May","June","July","August","September","October","November","December"]},a={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一",2015:"二零一五",2016:"二零一六",2017:"二零一七",2018:"二零一八",2019:"二零一九",2020:"贰零贰零"};function s(e,t){t.map=8191&e,t.day=e>>13&31,t.month=e>>18&1,t.leapMonth=e>>20&15,t.hasLeapMonth=!!(e&1<<19)}function c(e){var t=e.year-1890+26;return e.gYear=t%10,e.zYear=t%12,e.animal=e.zYear,e}function u(e){var t=e._date.getFullYear(),n=e._date.getMonth(),r=e._date.getDate(),i=o.map,a=t-o.YEAR_MIN,u={};e.year=t,s(i[a],u),(n<u.month||n===u.month&&r<u.day)&&(a-=1,e.year=t-1,s(i[a],u));for(var l=new Date(e.year,u.month,u.day),p=(e._date.getTime()-l.getTime())/864e5>>0,f=0,d=0,h=0;h<14;){if(p<(f+=d=u.map&1<<h?30:29)){e.day=d-(f-p)+1;break}h+=1}return e.leap=!1,u.hasLeapMonth&&(h===u.leapMonth+1&&(e.leap=!0),h>u.leapMonth&&(h-=1)),e.month=h,c(e),e}var l=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?(t instanceof Date&&(this._date=t,u(this)),this):this}var t,n,i;return t=e,(n=[{key:"convert",value:function(){return u(this)}},{key:"toDate",value:function(){return this._date}},{key:"isValid",value:function(){return!!this._date}},{key:"format",value:function(e){return this._date?(e=e||"农历gYzY年MD").replace("gY",o.heavenlyStems[this.gYear]).replace("zY",o.earthlyBranches[this.zYear]).replace("gM",o.heavenlyStems[this.gMonth]).replace("zM",o.earthlyBranches[this.zMonth]).replace("gD",o.heavenlyStems[this.gDay]).replace("zD",o.earthlyBranches[this.zDay]).replace("M",(this.leap?"闰":"")+o.monthNames[this.month]).replace("D",o.dayNames[this.day]):"Invalid Date"}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(e.chinese&&(t={year:o.heavenlyStems[this.gYear]+o.earthlyBranches[this.zYear],month:o.monthNames[this.month],day:o.dayNames[this.day],gYear:o.heavenlyStems[this.gYear],zYear:o.earthlyBranches[this.zYear],animal:o.animals[this.animal],leap:this.leap?"闰":""}),"array"===e.type)return[t.year,t.month,t.day,t.leap];var n=t,r=n.year,i=n.month,a=n.day,s=n.leap,c=n.gYear,u=n.zYear,l=n.animal;return{year:r,month:i,day:a,leap:s,gYear:c,zYear:u,animal:l}}},{key:"toString",value:function(){return this.format()}}])&&r(t.prototype,n),i&&r(t,i),e}(),p=function(e){if(e){if(!(e instanceof Date))throw new Error("date parameter must be Date/Array/Object")}else e=new Date;return new l(e)};function f(e){return{year:e.getFullYear(),month:e.getMonth(),mDay:e.getDate(),wDay:e.getDay()}}var d=[""," ","  ","   ","    ","     ","      ","       ","        ","         "];function h(e,t,n){if((t-=(e+="").length)<=0)return e;if(n||0===n||(n=" ")," "===(n+="")&&t<10)return d[t]+e;for(var r="";1&t&&(r+=n),t>>=1;)n+=n;return r+e}function m(e,t){return(e=""+e).substr(e.length-t)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zyyy zy cy yyyy yy MMMM Mmmm mmmm MMM Mmm mmm mm m DDDD dddd DDD ddd dd d ",n=f(e),r=p(e).toJSON({chinese:!0});return t.replace("+zyyy",a[n.year]).replace("+zy",a[m(n.year,2)]).replace("+yyyy",n.year).replace("+yy",m(n.year,2)).replace("+MMMM",i.mmmm[n.month].toUpperCase()).replace("+Mmmm",i.mmmm[n.month]).replace("+mmmm",i.mmmm[n.month].toLowerCase()).replace("+MMM",i.mmm[n.month].toUpperCase()).replace("+Mmm",i.mmm[n.month]).replace("+mmm",i.mmm[n.month].toLowerCase()).replace("+mm",h(n.month+1,2,"0")).replace("+zm",a[n.month+1]).replace("+m",n.month+1).replace("+DDDD",i.dddd[n.wDay].toUpperCase()).replace("+dddd",i.dddd[n.wDay]).replace("+Dddd",i.dddd[n.wDay].charAt(0).toUpperCase()+i.dddd[n.wDay].substr(1)).replace("+ddd",i.dddd[n.wDay].substr(0,3)).replace("+Ddd",i.dddd[n.wDay].charAt(0).toUpperCase()+i.dddd[n.wDay].substr(1,2)).replace("+DDD",i.dddd[n.wDay].substr(0,3).toUpperCase()).replace("+zddd",i.zddd[n.wDay]).replace("+dd",h(n.mDay,2,"0")).replace("+zd",a[n.mDay]).replace("+d",n.mDay).replace("+cy",r.year).replace("+cm",r.month).replace("+cd",r.day)}e.exports={parse:v}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(894);var l=n(5),p=n(895),f=n(3).parse,d=n(15).$loadQRCode,h=n(1),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0},advanceStyle:{paddingTop:!1,borderRadius:!1}},trigger:{click:!1},flexLine:"ne,se,sw,nw,r"}),n}return t=l,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.address,i=r.logoImg,a=r.img,s=e.css,c=s.width,u=s.height;if(this.$context=$(f(p,{id:t,type:n,content:""})),a&&a.trim()){var l=this.getImgSrc(a,{width:c,height:u});this.generateQrcodeImg(this.$context,l)}else o||(this.compJson.properties.address=o="".concat(h.VIEW_HOST,"s/").concat(this.eqxScene.meta.code)),this.generateQrcodeAddress(this.$context,o,i,c);return this.$context}},{key:"updateSize",value:function(e,t){var n=this;i(u(l.prototype),"updateSize",this).call(this,e,t),clearTimeout(this._updateTimeOut),this._updateTimeOut=setTimeout((function(){n.updateQrcodeAddress()}),300)}},{key:"generateQrcodeAddress",value:function(e,t,n,r){var o=this;d().then((function(){var i={render:"image",ecLevel:"H",size:r,text:t};if(o.compJson.properties.showLogoImg&&n){var a=h.FILE+n,s=new Image;s.setAttribute("crossOrigin","anonymous"),s.onload=function(){var t=s.height,n=s.width;if(t!==n){var r,o,a,c,u=document.createElement("canvas"),l=u.height=u.width=100;t>n?(a=l,c=Math.abs(n/t*l),o=0,r=Math.abs((l-c)/2)):(c=l,a=Math.abs(t/n*l),r=0,o=Math.abs((l-a)/2)),u.getContext("2d").drawImage(s,r,o,c,a);var p=new Image;p.src=u.toDataURL(),p.onload=function(){Object.assign(i,{mode:4,mSize:.25,image:p}),e.qrcode(i),p.onload=null}}else Object.assign(i,{mode:4,mSize:.25,image:s}),e.qrcode(i);s.onload=null},s.src=a}else e.qrcode(i)}))}},{key:"generateQrcodeImg",value:function(e,t){var n="<img src=".concat(t,">");e.append(n)}},{key:"updateQrcodeAddress",value:function(){this.$context.empty(),this.compJson.properties.img="";var e=this.compJson,t=e.properties,n=t.address,r=t.logoImg,o=e.css.width;this.generateQrcodeAddress(this.$context,n,r,o)}},{key:"updateQrcodeImg",value:function(e){var t=this.$context;t.empty(),this.generateQrcodeImg(t,e)}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=m},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<span id="#{id}" ctype="#{type}" class="element eqx-qrcode">\n    #{content}\n</span>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(195);var l=n(5),p=(n(1),n(38)),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=l,(n=[{key:"getFtEditableProps",value:function(){var e=i(u(l.prototype),"getFtEditableProps",this).call(this),t=this.FtEditableProps;return e.concat([t.link.url,t.internalLink.internalLink,t.telephone.number])}},{key:"create$context",value:function(){var e=this.compJson,t=e.content,n=e.properties,r=n.imgStyle,o=n.src;return this.$context=p.$defaultAd({content:t,imgStyle:r,src:o}),this.$context}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(195);var u=n(5),l=n(38),p=n(6).adPopUpModal,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.content,n=e.css,r=(n.height,n.width,e.properties),o=r.src,i=r.config;return this.$context=l.$configAd({content:t,src:o,config:i}),this.$context}},{key:"bindAfterRenderEvent",value:function(e,t){var n=t.properties.config;if(2==n.clickType){var r=this.eqxPage;$(this.$context).find(".lpAdvertise-content").click((function(){p(n,r)}))}}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}n(195);var p=n(5),f=n(95),d=n(1),h=n(0),m=h.isPc,v=(h.isMobile,n(38)),g=n(108),y=(n(899),n(4).getUrlParam),b=n(38).$adOpenBar,x=n(105).get$Ad,w=(n(16).getRatio,n(9).qiniuZoom),S=(n(901),window._adConfigForFlow,n(0));var k=null;window.initAdFunction=function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window._adConfigForFlow,!(!app||!app.isRemoveAd||null!==(n=app)&&void 0!==n&&n.isRemoveAd()||r&&!1===r.isAd)&&r){e.next=3;break}return e.abrupt("return");case 3:return o="yqxiu"===f.DOMAIN?"".concat(d.FLOW_AD_RESOURCES[0],"eqx.ad.render/").concat(d.FLOW_AD_RESOURCES[1]):"".concat(d.FLOW_AD_RESOURCES[0],"eqx.ad.render/").concat(r.versionNum,"/").concat(d.FLOW_AD_RESOURCES[1]),e.next=6,Promise.all([g.delayLoadJSAndCSS("".concat(o,".js"),"js"),g.delayLoadJSAndCSS("".concat(o,".css"),"css")]);case 6:return i=app.meta.id,a=r.adType,s=r.pCodeArr,c=void 0===s?[]:s,k=new Promise((function(e,n){var r,o,s,u,l="pop_container_"+parseInt(1e4*Math.random(),10),p=y("f_b_video")&&!m();null!=c&&c.includes("pop-return")&&!p&&(u="pop-return"),t.eqxSectionCover.addClass(l);var f={id:i,media:"eform",adDemand:a,backBtnPcode:u,backBtnAdSelector:S.isMobile()?"":".".concat(l),init:function(t){var r=t.code,o=t.Render,i=t.msg;200==r?e(o):n(i)}};null!==(r=window.scene)&&void 0!==r&&null!==(o=r.ext)&&void 0!==o&&null!==(s=o.yqc)&&void 0!==s&&s.ad&&(f.timestamp=window.scene.ext.yqc.ad);new window.EqxAdRender(f)})),e.next=11,k;case 11:return u=e.sent,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).isAbsolute=!1,n.zIndex=function(e){var t=0;return e.eqxPage.pageJson.elements.forEach((function(e){var n=e.css.zIndex;n>t&&(t=n)})),t}(t)+1,n._isBaseLayerElement=!0,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.content,n=(e.css.height,e.properties),r=n.src,o=n.labelConfig;if(this.eqxScene.isRemoveAd())return $("");var i,a=window._adConfigForFlow,s=a&&a.pCodeArr||[],c=this.eqxScene.sceneJson&&this.eqxScene.sceneJson.validateData&&this.eqxScene.sceneJson.validateData.disableSubmit;if(e.properties.config&&e.properties.config.adType&&!s.includes("tail")&&(!s.includes("tail-error")||![d.noScene,d.noVerify,d.notDeployed].includes(scene.id))&&(!s.includes("tail-exception")||!c))return this.eqxScene.adHeight=0,this.compJson.css.height=0,this.$li.css({opacity:0}),void this.updatePageHeight();var u=d.BOTTOM_MARK_TEMPLATEID;i=u[Math.floor(Math.random()*u.length)];var l="".concat(d.LONG_HOST,"mobile/create.html?sourceId=").concat(i,"&type=lc");if(o&&Object.keys(o).length&&!/(http|https):\/\/([\w.]+\/?)\S*/.test(o.adLink)){var p=o.adLink.replace.replace(/，/g,",").split(","),f=Math.floor(Math.random()*p.length);p[f]&&!isNaN(p[f])&&(l="".concat(d.LONG_HOST,"mobile/create.html?sourceId=").concat(p[f],"&type=lc"))}if(s.includes("tail-error")||s.includes("tail-exception")){this.$context=v.$newFlowAd({content:t,src:w(r),href:l});var h=this.$context.find(".lpAdvertise-flow-content-new")[0];this.adContainerId=h&&h.id}else this.$context=$();return this.$context}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;if(this.loadFlow(),this.hasScrollAd()){var r=!1,o=!1,i=!1,a=this.eqxPage.renderMode,s=this.eqxPage.$pageDiv[0].clientHeight,c=this.eqxScene.$ele.get(0).clientHeight;if("pcRender"===a)this.eqxPage.onEventListener("scroll",(function(e){var t=n.eqxPage.$section.parent(".nr").get(0);(i=t.scrollHeight-(t.scrollTop+t.clientHeight+1)<=1)&&n.promise&&!r&&(r=!0,n.promise.then((function(e){var t="pop_container_"+parseInt(1e4*Math.random(),10);n.eqxPage.eqxSectionCover.addClass(t),new e.pop(S.isMobile()?"":".".concat(t),{pCode:"pop-slide"}).exposure({closeAd:function(){console.log("弹框广告关闭了")},isLimitCallback:function(e){}})})))}));else if(c<s||c===s&&s>document.body.clientHeight)setTimeout((function(){n.eqxPage.onEventListener("scroll",(function(e){var t=n.eqxPage.$section.parent(".nr").get(0);(i=t.scrollHeight-(t.scrollTop+t.clientHeight+1)<=1)&&o&&n.promise&&!r&&(r=!0,n.promise.then((function(e){var t="pop_container_"+parseInt(1e4*Math.random(),10);n.eqxPage.eqxSectionCover.addClass(t),new e.pop(S.isMobile()?"":".".concat(t),{pCode:"pop-slide"}).exposure({closeAd:function(){console.log("弹框广告关闭了")},isLimitCallback:function(e){}})}))),i&&!o&&setTimeout((function(){var e=n.eqxPage.$section.parent(".nr").get(0);e.scrollTop=e.scrollTop-4,o=!0}),500)}))}),500);else{var u="touchmove";"mobileRender"!==this.eqxPage.renderMode&&(u="wheel"),document.querySelector(".main-page").addEventListener(u,(function(e){var t=n.eqxPage.$section.parent(".nr").get(0);t.scrollHeight-(t.scrollTop+t.scrollHeight+1)<=1&&n.promise&&!r&&(r=!0,n.promise.then((function(e){var t="pop_container_"+parseInt(1e4*Math.random(),10);n.eqxPage.eqxSectionCover.addClass(t),new e.pop(S.isMobile()?"":".".concat(t),{pCode:"pop-slide"}).exposure({closeAd:function(){console.log("弹框广告关闭了")},isLimitCallback:function(e){}})})))}),!1)}}}},{key:"loadFlow",value:function(){var e,t=this,n=this.compJson.properties.config;return this.eqxScene.isRemoveAd()?$(""):n?(e="yqxiu"===f.DOMAIN?"".concat(d.FLOW_AD_RESOURCES[0],"eqx.ad.render/").concat(d.FLOW_AD_RESOURCES[1]):"".concat(d.FLOW_AD_RESOURCES[0],"eqx.ad.render/").concat(n.versionNum,"/").concat(d.FLOW_AD_RESOURCES[1]),Promise.all([this.loadFlowExecJs(e),this.loadFlowExecCss(e)]).then((function(e){try{var n=t,r=t.eqxPage.flowAd={},o=r.flowAdType=n.compJson.properties.config.adType,i=window._adConfigForFlow,a=i&&i.pCodeArr||[],s=function(e){t.$li.css({display:"none",opacity:0});var n=e?$(".gbSetting-popUp-box"):m()?$(".main-page.z-current .m-img"):$("#con");e?n.find(".item-comp").remove():"pcRender"==t.eqxPage.renderMode?n.remove(t.$li):function(){var e=$(".main-page.z-current .m-img"),n=($(t.$li).height(),e.parent().height()),r=parseInt($(t.$li).css("top"));if(r+$(t.$li).height()<n-30||r+$(t.$li).height()>n-30&&r<=n-30&&$(t.$li).height(),"pcRender"!==t.eqxPage.renderMode){t.eqxPage.EqxFormRulesTrigger&&t.eqxPage.EqxFormRulesTrigger.updatePage();var o=t.eqxPage,i=t.eqxPage.calPageHeight(o.renderMode);"mobileRender"===t.eqxPage.renderMode?o.changeMoveToScroll(i,o.renderMode):o.changeMoveToIscroll(i,o.renderMode)}}()};t.promise||(t.promise=k||new Promise((function(e,t){var r,i,s,c,u="pop_container_"+parseInt(1e4*Math.random(),10),l=y("f_b_video")&&!m();null!=a&&a.includes("pop-return")&&!l&&(c="pop-return"),n.eqxPage.eqxSectionCover.addClass(u);var p={id:n.eqxScene.meta.id,media:"eform",adDemand:o,backBtnPcode:c,backBtnAdSelector:S.isMobile()?"":".".concat(u),init:function(n){var r=n.code,o=n.Render,i=n.msg;200==r?e(o):t(i)}};null!==(r=window.scene)&&void 0!==r&&null!==(i=r.ext)&&void 0!==i&&null!==(s=i.yqc)&&void 0!==s&&s.ad&&(p.timestamp=window.scene.ext.yqc.ad),new window.EqxAdRender(p)}))),t.promise.then((function(e){r.flowRender=e;var n=t.eqxScene.sceneJson&&t.eqxScene.sceneJson.validateData&&t.eqxScene.sceneJson.validateData.disableSubmit;if(o.includes("tail"))new r.flowRender.tail("#".concat(t.adContainerId),{pCode:"tail"}).exposure();else if(n&&a.includes("tail-exception"))$(".gbSetting-popUp-box").append(t.$li.clone(!0).css({position:"static",zIndex:99999,height:"auto"})),new r.flowRender.tail(".gbSetting-popUp-box #".concat(t.adContainerId),{pCode:"tail-exception"}).exposure({closeAd:function(){s(!0)}}),t.$li.css({opacity:0,display:"none",height:0}),t.eqxPage.awitUpdate();else if(t.isTailAd())new r.flowRender.tail("#".concat(t.adContainerId),{pCode:"tail-error"}).exposure({closeAd:function(){s()}}),t.$li.css({height:"auto"}),setTimeout((function(){t.$li.css({height:"auto"});var e=t.$li.outerHeight(),n=t.eqxPage.calRenderHeight()+12;t.eqxScene.adHeight=e,t.update$li({height:e,top:n}),t.eqxPage.awitUpdate()}),300);else if(t.eqxPage.isSubmitPage()){t.submitAdWarp();var i=window._adConfigForFlow;window._adConfigForFlow&&i.pCodeArr&&i.pCodeArr.includes("tail-eform")&&(new r.flowRender.tail("#flowAd-box",{pCode:"tail-eform",interaResGlobal:1,fold:!0}).exposure({closeAd:function(){t.offsetAd()}}),"form"==y("applet")&&window.wx&&wx.miniProgram)}else t.update$li({display:"none",opacity:0}),t.eqxScene.adHeight=0,t.eqxPage.awitUpdate();return e})).catch((function(e){console.error(e),t.eqxPage.isSubmitPage()?t.renderDefaultAd():(window!==window.top&&(t.$li.css({height:0,opacity:0}),t.eqxScene.adHeight=0),s())}))}catch(e){console.log(e)}}))):void this.renderDefaultAd()}},{key:"isTailAd",value:function(){if(!window._adConfigForFlow)return!0;var e=window._adConfigForFlow,t=e&&e.pCodeArr||[],n=[d.noScene,d.noVerify,d.notDeployed].includes(scene.id)&&t.includes("tail-error");return n||(this.compJson.properties.appendElement=!1),n}},{key:"loadFlowExecJs",value:function(e){return g.delayLoadJSAndCSS("".concat(e,".js"),"js")}},{key:"loadFlowExecCss",value:function(e){return g.delayLoadJSAndCSS("".concat(e,".css"),"css")}},{key:"renderDefaultAd",value:function(){var e=this;x(d.AD_AFTER_SUBMIT).then((function(t){e.submitAdWarp(),e.$contentsDiv.html(""),e.$contentsDiv.append(t)}))}},{key:"hasScrollAd",value:function(){return!this.eqxScene.isRemoveAd()&&!this.eqxPage.getSubmitButton()&&this.eqxPage.isContent}},{key:"submitAdWarp",value:function(){var e=this;this.$contentsDiv.attr("id","flowAd-box");var t=this.eqxPage.getWindowHeight();this.eqxPage.changeScrollHeight(t),this.eqxPage.lockHeight=!0;var n=S.isMobile()?"fixed":"absolute";this.update$li({position:n,height:"auto",opacity:1,bottom:0,left:0,top:"unset"}),this.$li.remove(),this.eqxPage.eqxSectionCover.append(this.$li),this.$boxDiv.css({background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 100%)"}),this.$boxContentDiv.css({height:"auto"}),this.$li.css({height:"auto"}),this.$contentsDiv.html("");var r=this.eqxScene.sceneRenderReady();e.$adOpenBar=b(),e.$boxDiv.find(".flow-ad-outer-box").length&&e.$adOpenBar.addClass("flowAd"),e.$boxDiv.find("#flowAd-box").before(e.$adOpenBar),e.$li.on("click",".eqf-down",e.offsetAd.bind(e));var o=function(){var t=l(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$li){t.next=2;break}return t.abrupt("return");case 2:if(!e.eqxPage.updateTimer){t.next=7;break}return e.eqxScene.subscribe("page.heightChange",o),t.abrupt("return",!0);case 7:e.eqxScene.remove(o);case 8:e.eqxScene.adHeight=e.$li.outerHeight(),n=e.$li.outerHeight(),Number(e.eqxPage.getPageActualHeight())+n<=e.eqxScene.$ele.outerHeight()&&e.offsetAd();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Promise.all([new Promise((function(e){return setTimeout(e,300)})),r]).then(o)}},{key:"offsetAd",value:function(){var e=this;this.$adOpenBar&&this.$adOpenBar.remove(),this.$adOpenBar=null,this.$li.remove(),this.eqxPage.$section.append(this.$li),function(){e.isAbsolute=!1;var t="ad03"===e.type?"0":"-22px";e.update$li({position:"relative",height:"auto",left:0,marginTop:t,bottom:0,zIndex:99999,background:"none"}),e.$boxDiv.css("background","transparent")}();var t=this.$li.height(),n=this.eqxPage.getLayerHeight(),r=this.eqxPage.calPageHeight(),o=this.eqxPage.getPageMinHeight();t+n<=o&&t+r<=o&&(this.update$li({position:"absolute"}),this.eqxPage.updatePageHeight(o,1))}}])&&o(t.prototype,n),r&&o(t,r),c}(p);e.exports=O},function(e,t,n){"use strict";n(900),e.exports=function(){return{restrict:"A",scope:{},controller:function(e,t,n,r,o){e.createAdComp=function(){var e=r.getCurrentPage(),i=o.getItemByUser("editorScale2")||1,a=e.pageJson.properties.longPage,s=n.getDefaultJson(i,300,a),c=e.initEqxCompByJson(s);c&&(e.renderEqxComp(c),t.$broadcast("wsComp.add",c))}},link:function(e,t){t.on("click.ad",(function(){e.$apply((function(){return e.createAdComp()}))}))}}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";e.exports={maxHeight:9999999,minHeight:476}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(5),d=(n(903),n(904)),h=n(907),m=n(38).createWeappAd,v=n(3).parse,g=n(6).adPopUpModal,y=n(0),b=y.isApplet,x=y.isVoteSceneAd,w=n(56),S=w.getAd,k=(w.getIomAd,n(1)),O=(n(1).PATH,n(108).delayLoadJSAndCSS),E=n(9).qiniuZoom;n(908);var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,o,l=u(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,e,t)).innerNotHeight=!1,n.isAbsolute=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),n.eqxScene.isRemoveAd()&&n.eqxPage.isSubmitPage()&&(n.compJson.css.height=0),n.compJson.css.zIndex=99999,n.$report=null,O(k.REPORT,"js"),n}return t=f,(n=[{key:"updateCss",value:function(e){s(p(f.prototype),"updateCss",this).call(this,e),this.compJson.css.zIndex=99999}},{key:"create$context",value:function(){var e,t,n=this,r=this.compJson,o=r.content,i=r.properties.config,a=i.isShowReport,s=i.labelText,c=$(v(h,{content:o,labelText:s,sceneName:this.eqxScene.sceneName}));(this.eqxScene.meta.property.boughtLabel||this.eqxScene.meta.property.removeLabel)&&(c.children(".lpBottomMark-support, .lpBottomMark-logo, .lpBottomMark-download").remove(),this.eqxPage.isContent||c.css("display","none"));var u=this.compJson.pageId.toString().startsWith("sub:");return!this.eqxScene.isRemoveAd()&&x()?(this.createVoteSceneAd$context(u,c).then((function(e){n.$context&&n.$context.append(e)})),$(v(c,{content:o,isShowReport:a}))):(S([k.AD_TECHNICAL_SUPPORT,k.AD_FORM_LOGO,k.DOWNLOAD_APP]).then((function(e){var t=e.list,n=T(t,k.AD_TECHNICAL_SUPPORT),r=T(t,k.AD_FORM_LOGO),o=T(t,k.DOWNLOAD_APP),i='<a target="_blank" style=\'display:inline-block;width: 100%; color: #676767\'  rdt="3" cat="尾页组件" act="'.concat(u?"自定义提交页-":"",'易企秀技术支持" loc="').concat(window.scene.name,'尾页" href="').concat(n.linkUrl,'">\n                    ').concat(n.content,"</a>"),a='<a target="_blank" class="mark-ad" rdt="3" cat="尾页组件" act="易企秀" loc="'.concat(window.scene.name,'尾页"  href="').concat(r.linkUrl,'">\n                    <img style="width: 100%; pointer-events: none" src="').concat(E(r.picSrc),'"/></a>'),s='<a target="_blank" class="download-ad" rdt="3" cat="尾页组件" act="下载APP" loc="下载APP"  href="'.concat(o.linkUrl,'">\n            <img class="download-ad-img" style="pointer-events: none" src="').concat(E(o.picSrc),'"/></a>');c.find(".lpBottomMark-support.new").append(i),u||c.find(".lpBottomMark-logo.new").append(a),!u&&s&&o.picSrc&&c.find(".lpBottomMark-download").append(s),n.content||(c.find(".lpBottomMark-support.new").hide(),c.find(".lpBottomMark-support.default").show()),r.picSrc||u||(c.find(".lpBottomMark-logo.new").hide(),c.find(".lpBottomMark-logo.default").show())})),u&&(function(e){_.apply(this,arguments)}(c),c.find(".new-report").hide()),[k.noScene,k.noVerify,k.notDeployed].includes(null===(e=window)||void 0===e||null===(t=e.scene)||void 0===t?void 0:t.id)&&c.find(".new-report").hide(),$(v(c,{content:o,isShowReport:a})))}},{key:"createVoteSceneAd$context",value:(o=i(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,s,c,u,l,p,f,d,h,v,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[k.VOTE_AD_IDS.support,k.VOTE_AD_IDS.logo,k.VOTE_AD_IDS.downloadApp],e.next=3,S(i);case 3:if(a=e.sent,s=a.list,c=T(s,k.VOTE_AD_IDS.support),u=T(s,k.VOTE_AD_IDS.logo),l=T(s,k.VOTE_AD_IDS.downloadApp),t||(l.picSrc&&(p=m('<div class="download-app"><img class="download-ad-img" style="pointer-events: none" src="'.concat(E(l.picSrc),'"/></div>'),l),n.find(".lpBottomMark-download").append(p)),f=m('<div class="logo"><img src="'.concat(E(u.picSrc),'" /></div>'),u),n.find(".lpBottomMark-logo.new").append(f)),d=n[0].getBoundingClientRect(),h=d.height,v=c,t&&(v.mediaName=v.mediaName+"-自定义提交页"),g=m('<div class="support">'.concat(v.content,"</div>"),v,0,h),n.find(".lpBottomMark-support.new").append(g),!t){e.next=21;break}return e.next=17,I(n);case 17:y=e.sent,n.find(".lpBottomMark-logo.new").append(y).addClass("submit-topMark-right"),n.find(".lpBottomMark-support").addClass("submit-topMark-left"),n.find(".new-report").hide();case 21:return n.find(".lpBottomMark-support").css("min-width","100px"),[k.noScene,k.noVerify,k.notDeployed].includes(null===(r=window)||void 0===r||null===(o=r.scene)||void 0===o?void 0:o.id)&&n.find(".new-report").hide(),e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"create$li",value:function(){return s(p(f.prototype),"create$li",this).call(this),(this.eqxScene.meta.property.boughtLabel||this.eqxScene.meta.property.removeLabel)&&this.$li.find(".element-box").css("background-color","#fff"),this.$li}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,r=this.eqxPage;[".lpBottomMark-report",".lpBottomMark-support.default",".lpBottomMark-logo.default",".new-report"].forEach((function(o){n.$li.on("click",o,(function(i){i.stopPropagation();var a=n.eqxScene.meta;if(".lpBottomMark-report"==o)d.openReportModal(e,r,a);else if(".new-report"==o){var s=document.body.scrollHeight-document.body.clientHeight;window.handleReport({appKey:"eqxiu",title:window.scene.title,productKey:"form_works",sceneId:window.scene.id,sceneCode:window.scene.code,onShow:function(){var e=document.getElementById("audio-music");if(e){e.pause();var t=document.getElementById("bgm-btn-wraper");t&&(t.style.display="none")}document.body.scrollTop=s},onHide:function(){document.scrollingElement.scrollTop=s;var e=document.getElementById("audio-music"),t=document.getElementById("bgm-btn-wraper");t&&(t.style.display="block"),e&&e.play()},onRemove:function(){document.scrollingElement.scrollTop=s;var e=document.getElementById("audio-music"),t=document.getElementById("bgm-btn-wraper");t&&(t.style.display="block"),e&&e.play()}})}else{var c=(t.properties.config.scenes||"").split(",");if(2==t.properties.config.clickType)g(t.properties.config,r);else{var u=t.properties.config.adLink;if(c.includes("mini")&&b())if(u){var l=u.indexOf("?");u=-1!=l?u+"&sceneId="+t.sceneId:u+"?sceneId="+t.sceneId,wx&&wx.miniProgram.navigateTo({url:u})}else wx&&wx.miniProgram.switchTab({url:"/page/mall/mall"});else window.location.href=u}}}))}))}}])&&a(t.prototype,n),r&&a(t,r),f}(f);function _(){return(_=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(k.SUBMIT_TOP_ICON).then((function(e){var n=e.list;if(0!==n.length){var r=n.find((function(e){return e.mediaId==k.SUBMIT_TOP_ICON}))||{},o='<a style="color: #1261ff;" cat="尾页组件" act="自定义提交页-提交后创建表单" loc="'.concat(window.scene.name,'尾页"    target="_blank" href="').concat(r.linkUrl,'">').concat(r.content,"</a>");$(".lpBottomMark-logo").css({width:"auto",textAlign:"right"}),t.find(".lpBottomMark-logo.new").append(o).addClass("submit-topMark-right"),t.find(".lpBottomMark-support").addClass("submit-topMark-left")}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return P.apply(this,arguments)}function P(){return(P=i(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(k.VOTE_AD_IDS.submitTop);case 2:if(n=e.sent,(r=n.list).length){e.next=6;break}return e.abrupt("return");case 6:return o=T(r,k.VOTE_AD_IDS.submitTop),i='<a class="submit-top-ad" style="color: #1261ff;" target="_blank">'.concat(o.content,"</a>"),a=t[0].getBoundingClientRect(),s=a.height,t.find(".lpBottomMark-logo").css({width:"auto",textAlign:"right"}),e.abrupt("return",m(i,o,0,s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return e.find((function(e){return e.mediaId==t}))||{}}e.exports=C},function(e,t,n){},function(e,t,n){"use strict";n(905);var r=n(906),o=n(3).parse,i=n(0).isPc,a=n(139).$postReport,s=n(6).popUpModal,c=n(139).$getReportOptions,u=!1,l=[],p=[{id:14258,name:"内容涉及违规",value:1},{id:14259,name:"诱导浏览者分享",value:2},{id:14260,name:"场景内容侵权",value:3},{id:14302,name:"内容夸大宣传",value:4},{id:14303,name:"违背易企秀用户协议",value:5},{id:14304,name:"其它原因",value:6}];e.exports={openReportModal:function(e,t,f){if(e.report)return e.report.show();(!0===u?new Promise((function(){})):(u=!0,new Promise((function(e,t){return l.length?e(l):c().then((function(n){(l=n.list).length?e(l):t()})).catch((function(){return e(l=p)}))})))).then((function(c){var l,p,d,h=(l={imgSrc:n(293),reasonList:c},p=l.imgSrc,d=l.reasonList.map((function(e,t){e.id;var n=e.name,r=e.value,o=0==t?'class="active"':"";return'<li value="'.concat(r,'" ').concat(o,"><span>").concat(n,"</span></li>")})).join(""),$(o(r,{imgSrc:p,reasons:d})));e.report=h;var m=e.parents(".nr");h.appendTo(m),i()&&"pc"!=t.previewMode||e.report.css({position:"fixed"}),h.find("li").click((function(e){e.stopPropagation(),$(this).siblings().removeClass("active"),$(this).addClass("active")})),$("#reportSubmit").click((function(n){n.stopPropagation();var r=h.find("li.active").val(),o=h.find("li.active span").text(),i=f.id;a({sceneId:i,type:r,msg:o}).then((function(){return s("举报成功！",t)})).then((function(){})).finally((function(){e.report.hide(),u=!1}))})),e.report.on("click",(function(t){var n=$("#report0");n.is(t.target)||0!==n.has(t.target).length||e.report.hide()}))}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var r='<div class="reportModal">\n    <div id="report0">\n        <div id="report1">\n            <div id="report2">\n                <p><img src="'+n(103)(n(293))+'" style="width: 2.500rem;height: 2.500rem"></p>\n                <h1>请选择举报原因</h1>\n            </div>\n            <div id="report3">\n                <ul id="reportList">\n                    #{reasons}\n                </ul>\n            </div>\n            <div id="report4">\n                <a id="reportSubmit" data-event="11203">提交举报</a>\n            </div>\n        </div>\n    </div>\n</div>';e.exports=r},function(e,t){e.exports='<div class="lpBottomMark-wrapper clearfix">\n    <div class="lpBottomMark-download"></div>\n    <div class="lpBottomMark-logo button new"></div>\n    <div class="lpBottomMark-support button new"></div>\n    <div class="new-report">\n        <img src="//asset.eqh5.com/Fu6fh9-3Jk2sSwj6Fk5-xq1CGUyb">\n        <span>举报</span>\n    </div>\n</div>'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="option-group" option-id="#{optionId}">\n    <label class="option-label" for="#{id}_#{ranId}" data-event="11208">\n        <div class="eqx-radio eqx-#{inputType}" name="eq[f_#{compId}]">\n            <i class="eqf-yes"></i>\n            <input class="option" id="#{id}_#{ranId}" type="#{inputType}" style="opacity: 0" name="#{id}_#{ranId}" value="#{optionId}">\n        </div>\n        <span>#{optionLabel}</span>\n        <input type="text" class="otherOptionBlank">\n    </label>\n</div>\n'},function(e,t){e.exports='<div class="radio-title form-title-box">\n    <div>\n        <span class="head-title">\n            #{formTitle}\n        </span>\n        <span class="title-extra">\n            #{extraTitle}\n        </span>\n    </div>\n</div>\n<div class="radio-des form-des-box">\n    <div>\n        #{formDes}\n    </div>\n</div>\n<div class="element comp_radio editable-text form-comp-box" id="#{id}" ctype="#{type}" style="width: 100%;height: 100%;">\n    <div class="options #{className}-imageScore clearfix"></div>\n</div>\n'},function(e,t,n){"use strict";e.exports={optionsRendered:function(e,t,n,r){return'<div class="comp-answer-item '.concat(t||""," ").concat(n,'">\n                <div class="comp-answer-radio"></div>\n                <span>').concat(r(e.label),"</span>\n            </div>")}}},function(e,t,n){"use strict";n(914);var r=n(915),o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.title,a=e.required,s=void 0===a?null:a,c=e.formTitle,u=e.formDes,l=e.minValue,p=void 0===l?"":l,f=e.maxValue,d=void 0===f?"":f,h=e.mode,m=e.bgColor;return $(o(r,{id:t,type:n,title:i,formTitle:c,formDes:u,minValue:p,maxValue:d,mode:h,bgColor:m})).attr("required",s)},numScale:function(e,t,n){return'<i style="background-color: '.concat(t,";border-color: ").concat(t,'" class="').concat(e,' active">').concat(n,"</i>")},render:function(e,t,n){var r=e.baseNum,o=e.scoreLevel,i=e.contentOption,a=e.type,s=e.bgColor,c=e.color,u=i.optionsList,l=i.list;return"radio"===a?function(e){var t=e.optionsList,n=(e.type,e.list),r=e.id,o=(e.baseNum,e.mode,"<tr><th></th><th><table><tr>"),i=t.length;return t.forEach((function(e){o+='<th class="opt-content" style="width:'.concat(100/i,'%">').concat(e.content,"</th>")})),o+="</tr></table></tr></th>",n.forEach((function(e,n){var a=0==n?"specPadding":"";o+="<tr>",o+='<td class="title '.concat(a,'"><div>').concat(e.content,'</div></td><td  class="wrap ').concat(a,'"><table><tr>');for(var s=0;s<i;s++)o+='<td style="width:'.concat(100/i,'%" class="matrix-radio-item"><input type="radio" name="scoreMartix_').concat(r,"_").concat(e.id,'" value="').concat(t[s].id,'"></td>');o+="</tr></table></td></tr>"})),o}({optionsList:u,type:a,list:l,bgColor:s,color:c,mode:t,id:n,baseNum:r}):function(e){var t=e.scoreLevel,n=e.list,r=e.type,o=(e.bgColor,e.color),i=e.mode,a=e.id,s=t,c=100/s+"%",u="",l=r.replace(/^([a-z]*)-([a-z]*)-[a-z]*/,"$1-$2-"),p=l+"l",f=l+"f",d="eqf-score-scale"===r?"border-color:".concat(o,";background-color:").concat(o):"";return n.forEach((function(e){u+='<tr class="score-list-wraper">\n                    <td class="title">\n                        <div>\n                            '.concat(e.content,'\n                            <input name="scoreMartix_').concat(a,"_").concat(e.id,'" type="hidden" value=""/>\n                        </div>\n                    </td>'),u+="<td><table><tr>";for(var t=0;t<s;t++){var n="",l="";l="edit"===i&&t<s-1?f:p,"eqf-score-scale"===r&&(n=t+1,l+=" score-number"),u+='<td class="star-item" list-id="'.concat(e.id,'" style="width:').concat(c,'">\n                        <i class="').concat(l,'" style="color:').concat(o,";").concat(d,'">').concat(n,"</i>\n                    </td>")}u+="</tr></table></td></tr>"})),u}({scoreLevel:o,list:l,type:a,bgColor:s,color:c,mode:t,id:n})}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{formTitle}</div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element new_comp_rating editable-text form-comp-box" style="position:relative;width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;background-color:#{bgColor}" id="#{id}" ctype="#{type}" title="#{formTitle}" name="eq[f_#{id}]">\n    <div class="table-wraper table-container-wraper" style="" class="">\n        <div class="table-outer-wraper">\n            <table class="scoreMatrix-table">\n\n            </table>\n        </div>\n\n        <div class="scroll-rect" style="position:absolute;bottom:0px;left:0px;width:100%;height:0.500rem;background-color:transparent;border:0px solid #CCD5DB;">\n            <div class="scroll-wraper" style="position:absolute;bottom:0.100rem;top:0px;left:0px;width:100%;height:100%">\n                <div class="scroll-content" style="width:100%;height:100%;"></div>\n            </div>\n        </div>\n    </div>\n\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle,n=this.getScoreSettings();return this.$formComp.css({"background-color":n.bgColor}),e.find(".scoreMatrix-table").css("color",t.input.color),e.find(".scoreMatrix-table td").css("color","inherit"),this.$context.find(".star-item .eqf-score-f").css({"background-color":n.color,"border-color":n.color}),e}}])&&o(t.prototype,n),r&&o(t,r),l}(n(294));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(9).qiniuZoom,p=n(197);n(930),n(199);var f=n(931),d=n(198).getOptionDom,h=n(297),m=n(109),v=(m.getVoteIconShow,m.getVoteIconType,n(16).getRatio,n(3).parse),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=c.call(this,e,t)).$context=null,n.dataLen=0,n.positions=[],n.adaptPositions=[],n.cache={},n.isMutipleAdapt=!1,n}return t=p,(n=[{key:"create$context",value:function(){this.positions=[];var e=this.compJson,t=e.id,n=(e.pageId,e.type),r=e.properties,o=(r.required,r.formRelevant),i=o.title,a=o.des,s=o.voteSettings,c=r.formCheck,u=void 0===c?{}:c,l=s.list,p=i.content,d=a.content,h=s.arrayType,m="";if(u.max&&"multiple"===s.chooseModal){var g=u.max,y=(g=void 0===g?{limit:0,checked:!0}:g).limit,b=void 0===y?0:y,x=g.checked,w=u.min,S=(w=void 0===w?{limit:0,checked:!0}:w).limit,k=void 0===S?0:S,O=w.checked;x&&O&&b!==k&&0!==k&&0!==b?m="（选".concat(k,"-").concat(b,"项）"):x&&O&&b==k&&0!==b?m="（选".concat(b,"项）"):O&&!x&&0!==k?m="（最少选".concat(k,"项）"):!O&&x&&b&&(m="（最多选".concat(b,"项）"))}var E=$(v(f,{id:t,type:n,className:h,formTitle:p,extraTitle:m,formDes:d}));if(p?E.find(".title-extra").attr("style","display:inline-block"):E.find(".title-extra").attr("style","display: none"),this.eqxScene.config.mode,this.name="eq[f_vote_".concat(t,"]"),this.initVirtualManager({adaptPositions:this.adaptPositions[0]}),l.length?E.removeClass("empty"):E.addClass("empty"),this.isCanDirectVote){var C=this.eqxPage.pageJson.properties.formStyle.button||{};E.find(".vote-button").css(C)}return s.openAdaption&&E.find(".new-video-vote").addClass("adaption"),E}},{key:"updateVoteImage",value:function(e,t){this.$context.find(e).find("img").attr("src",l(t))}},{key:"updateItems",value:function(e){var t=this,n=e.start,r=e.show,o=e.cache;this.cache=o;var i=[],a=this.groupListManager.showOptionList;a=a.filter((function(e){return!t.optionsHided.find((function(t){return t===e.id}))})),i=this.isMutipleAdapt&&n+r>a.length?a.slice(n):a.slice(n,n+r);var s=this.compJson.id,c=this.$context.find("ul"),u=i.map((function(e){var n=".vote_".concat(s,"_").concat(e.id),r=c.find(n),o=r;return r.length?(o=r).attr("data-index",e.index):o=$(d(e,t)),t.isMutipleAdapt&&t.positions[e.index]&&o.css({left:t.positions[e.index].left,top:t.positions[e.index].top}),t.positions[e.index]&&(o.find("img").css({height:t.positions[e.index].imgHeight}),o.css({height:"auto"})),t.getOpenAdaption()&&e.ratio?o.find("img").css({objectFit:"cover"}):o.find("img").css({objectFit:"contain"}),o}));c.children().each((function(e,t){return!u.map((function(e){return e.get(0)})).includes(t)&&$(t).find("img").attr("src","")})),c.html(u),requestAnimationFrame((function(){t.showResult(!0)}))}},{key:"create$li",value:function(){var e=this.eqxPage.pageJson.properties.formStyle.input||{};return i(u(p.prototype),"create$li",this).call(this),i(u(p.prototype),"updateVoteOptionCss",this).call(this,e),this.$li}},{key:"updateFormCompCss",value:function(e){i(u(p.prototype),"updateFormCompCss",this).call(this,e),i(u(p.prototype),"updateVoteOptionCss",this).call(this,e),this.$context.css("background-color","transparent")}},{key:"addAdaptionClass",value:function(){this.$li.find(".new-video-vote").addClass("adaption").removeClass("no-adaption")}},{key:"removeAdaptionClass",value:function(){this.$li.find(".new-video-vote").removeClass("adaption").addClass("no-adaption")}},{key:"updateOptionContent",value:function(e,t){e&&this.$li.find(".vote_".concat(this.id,"_").concat(e)).find("span").html(this.tranSpaceAndEnter(t))}},{key:"bindAfterRenderEvent",value:function(e,t){i(u(p.prototype),"bindAfterRenderEvent",this).call(this,e,t);var n=this.$li,r=this,o=this.videoVoteAgent=new h(this,this.eqxScene.soundManager);n.find("video").on("play",(function(){r.videoPlaying=!0;var e=$(this).parents(".video-li-wrap").index();!function(e){n.find("video").each((function(t,n){t==e||n.paused||n.pause()}))}(e),o.play(e)})).on("pause",(function(){o.isPlay()||o.end()}))}}])&&o(t.prototype,n),r&&o(t,r),p}(p);e.exports=g},function(e,t,n){"use strict";n(919);var r=n(920),o=n(3).parse,i=n(0).mobilecheck;e.exports={openVoteTip:function(e,t,n,a){var s=a.find(".vote-tip-modal");s[0]&&s.remove();var c=t.properties.formRelevant.voteSettings,u=$(n).parent().attr("data"),l=a,p=c.list.filter((function(e){return e.id==parseInt(u)})),f=p[0].des&&p[0].des.replace(/<\/?.+?>/g,"").replace(/(\r\n)|(\n)/g,"<br>"),d=p[0].content&&p[0].content.replace(/<\/?.+?>/g,"");$(o(r,{des:f,content:d,showDes:d?"block":"none"})).appendTo(l);var h=$(window).scrollTop(),m=$("body").css("overflow-y");i()?($(".vote-tip-modal").css({position:"fixed"}),$("body").css({position:"fixed","overflow-y":"hidden",top:-h})):$(".vote-tip-modal").css({position:"absolute"}),setTimeout((function(){$(".vote-tip-wrapper").addClass("in")}),200);var v=a.find(".vote-tip-modal");function g(){i()&&($("body").css({position:"static","overflow-y":m,top:"0px"}),$(window).scrollTop(h))}v.find(".vote-tip-close").children().on("click",(function(){v.hide(),g()})),v.on("click",(function(e){var t=$(".vote-tip-wrapper");t.is(e.target)||0!==t.has(e.target).length||(v.hide(),g())}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="vote-tip-modal">\n    <div class="vote-tip-wrapper">\n        <div class="vote-tip-close">\n            <em class="eqf-no"></em>\n        </div>\n        <div class="vote-tip-container">\n                <div class="tip-option-content" style="display: #{showDes}">#{content}</div>\n                <div class="tip-option-des">#{des}</div>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";n(922);var r=n(923),o=n(3).parse;e.exports={openVoteTipPC:function(e,t,n,i){var a=i.find(".vote-tip-pc-wrapper");a[0]&&a.remove();var s=t.properties.formRelevant.voteSettings,c=$(n).parent().attr("data"),u=i,l=s.list.filter((function(e){return e.id==parseInt(c)})),p=l[0].des&&l[0].des.replace(/<\/?.+?>/g,""),f=l[0].content&&l[0].content.replace(/<\/?.+?>/g,"");$(o(r,{des:p,content:f,showDes:f?"block":"none"})).appendTo(u);var d=e.find(".info-".concat(c)),h=$(window).width(),m=h-d.offset().left-(h-u.offset().left-u.width()),v=u.width()-m,g="";m>300?($(".vote-tip-pc-wrapper").css({left:v+30}),g="left"):($(".vote-tip-pc-wrapper").css({right:m+30}),g="right"),$(window).height();var y=d.offset().top-u.offset().top,b=u.height()-60-y;b<$(".vote-tip-pc-wrapper").height()?($(".vote-tip-pc-wrapper").css({bottom:b}),g+="-bottom"):($(".vote-tip-pc-wrapper").css({top:y}),g+="-up"),$(".vote-tip-pc-wrapper").addClass(g),$(".vote-tip-pc-wrapper").on("DOMMouseScroll mousewheel",(function(e){e.stopPropagation()})),i.off("mousedown.voteTip").on("mousedown.voteTip",(function(e){$(e.target).hasClass("vote-tip-pc-wrapper")||$(e.target).parents(".vote-tip-pc-wrapper").length>0||(a=i.find(".vote-tip-pc-wrapper")).remove()}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='\x3c!--<div class="vote-tip-pc-modal">--\x3e\n    <div class="vote-tip-pc-wrapper">\n\n        <div style="overflow: auto;padding: 0.400rem;max-height: 8rem;box-sizing: border-box;">\n            <div class="vote-tip-pc-container">\n                <div class="tip-option-content" style="display: #{showDes}">#{content}</div>\n                <div class="tip-option-des">#{des}</div>\n            </div>\n        </div>\n    </div>\n\x3c!--</div>--\x3e'},function(e,t,n){"use strict";var r=n(46),o=(r.getItem,r.setItem);e.exports={adapterAdroidJump:function(e){var t=e.eqxPage,n=e.eqxScene,r=(t.getEqxItems(),n.formManager.check(!1).data),i={jumped:!0};r.forEach((function(e){var n=t.getEqxCompById(e.elementId);if(n&&!n.ruleHide){var r=e.code||e.origin||e.value;r&&(i[e.elementId]=r)}})),i.scrollTop=function(e){var t=0;t="mobileRender"==e.renderMode?document.scrollingElement.scrollTop||0:e.myScroll.absStartY||0;return t}(t),o("Form_Adapter_Android_Records",i)}}},function(e,t){e.exports='<div class="vote-search-box">\n    <label class="inputBox icon-input">\n        <em class="eqf-search-l"></em>\n        <form action="">\n            <input type="search" placeholder="#{searchDesc}">\n        </form>\n        <em class="eqf-no-f clearSearch" style="display: none"></em>\n    </label>\n    <div class="vote-search-empty">\n        <img src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/v1/noSearch.png">\n        <span>暂无结果</span>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var r=n(99).htmlEncode,o=n(255)().wordsLengthCalc;e.exports={getVoteGroupDom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:280,n=e.showList;if(0===n.length)return"";var i=e.current,a=0,s=0;n.map((function(e,n){var i=o(r(e.name),42,124,"12px")+14+8;(a+=i)>t&&(a=i,s=n)}));var c=n.map((function(e,t){var n=e.id==i,o="vote-group-item";return void 0===n&&NaN==i&&(n=!0),t>=s&&(o="vote-group-item not-grow"),'<div data-id="'.concat(void 0!==e.id?e.id:"-1",'" data-name="').concat(e.name,'" data-active="').concat(n,'" class="').concat(o,'">').concat(r(e.name),"</div>")}));return'<div class="vote-group-box">\n                <div class="vote-group-list">\n                    '.concat(c.join(""),"\n                </div>\n            </div>")},getEmptyVoteGroupDom:function(){return'\n        <div class="vote-group-empty">\n            <img src="https://lib.eqh5.com/@eqxiu-res/form/images/emptys/v1/empty_v1.png" />\n            <span>该分组下没有内容</span>\n        </div>\n    '}}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(){var e=function(){function e(t,n){var o,i,a,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!=t&&null!==(o=t.properties)&&void 0!==o&&null!==(i=o.formRelevant)&&void 0!==i&&null!==(a=i.voteSettings)&&void 0!==a&&a.list||(t.properties.formRelevant.voteSettings.list=[]),this.compJson=t,this.list=t.properties.formRelevant.voteSettings.list,this.otherInput={},this.optionsHided=[],this.groupManager=n,this.searchKey=null,n.optionList=this.list,this.selectedArray=[],n.getCurrentList=function(){var e,t=s.getCurrentList();return n.showOptionList.splice(0),(e=n.showOptionList).push.apply(e,r(t)),t}}var t,n,o;return t=e,(n=[{key:"insert",value:function(e,t){if(!t)return this.list.push(e),void this.groupManager.checkUnGroup();var n=this.list.findIndex((function(e){return e.id===t}));-1===n?(this.list.push(e),this.groupManager.checkUnGroup()):(this.list.splice(n+1,0,e),this.groupManager.checkUnGroup())}},{key:"batchInsert",value:function(e,t){var n;if(!t)return(n=this.list).push.apply(n,r(e)),void this.groupManager.checkUnGroup();var o,i,a=this.list.findIndex((function(e){return e.id===t}));-1===a?((o=this.list).push.apply(o,r(e)),this.groupManager.checkUnGroup()):((i=this.list).splice.apply(i,[a+1,0].concat(r(e))),this.groupManager.checkUnGroup())}},{key:"del",value:function(e){var t=this.list.findIndex((function(t){return t.id===e}));this.selectedArray.findIndex((function(t){return t.id===e}))>-1&&this.selectedArray.splice(t,1),t>-1&&(this.list.splice(t,1),this.groupManager.checkUnGroup())}},{key:"getById",value:function(e){return this.list.find((function(t){return t.id===e}))}},{key:"move",value:function(e,t){if(this.groupManager.hasGroup(t)){var n=this.list.find((function(t){return t.id===e}));n&&(n.groupId=t),this.groupManager.checkUnGroup()}}},{key:"moveBatch",value:function(e,t){var n=this;this.groupManager.hasGroup(t)&&(e.forEach((function(e){var r=n.list.find((function(t){return t.id===e}));r&&(r.groupId=t)})),this.groupManager.checkUnGroup())}},{key:"isSelected",value:function(e){return!!this.selectedArray.find((function(t){return t.id===e}))}},{key:"isAllSelected",value:function(e){var t=this,n=this.groupManager.current;this.groupManager.select(e);var r=this.groupManager.getCurrentList(),o=!!r.find((function(e){return!t.selectedArray.find((function(t){return t.id===e.id}))}));return r.length&&this.selectedArray.length||(o=!0),this.groupManager.select(n),!o}},{key:"toggleSelectAll",value:function(e){return this.isAllSelected(e)?(this.cleanSelected(),!1):(this.selectAll(e),!0)}},{key:"cleanSelected",value:function(){this.selectedArray.splice(0)}},{key:"selectAll",value:function(e){var t,n=this.groupManager.current;this.cleanSelected(),this.groupManager.select(e);var o=this.groupManager.getCurrentList();(t=this.selectedArray).push.apply(t,r(o)),this.groupManager.select(n)}},{key:"toggleSelect",value:function(e){this.isSelected(e)?this.cancelSelect(e):this.select(e)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.compJson.properties.formRelevant.voteSettings,r=void 0===n?{}:n;if(t&&"single"==r.chooseModal&&this.selectedArray.splice(0),!this.isSelected(e)){var o=this.getById(e);o&&this.selectedArray.push(o)}}},{key:"selectByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.select(e,t)}},{key:"cancelSelectByIndex",value:function(e){this.cancelSelect(e)}},{key:"cancelSelect",value:function(e){if(this.isSelected(e)){var t=this.selectedArray.findIndex((function(t){return t.id===e}));t>-1&&this.selectedArray.splice(t,1)}}},{key:"updateOtherInput",value:function(e,t){this.otherInput[e]=t}},{key:"setOptionsHided",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.optionsHided=e}},{key:"getSelectedValue",value:function(){for(var e=this,t=[],n=function(n){var r,o=e.selectedArray[n],i=o.id;if(e.optionsHided.find((function(e){return e===o.id})))return"continue";o.isOtherOption&&"textVote"===e.compJson.type&&e.otherInput[o.id]&&(i+="-"+(null!==(r=e.otherInput[o.id])&&void 0!==r?r:"")),t.push(i)},r=0;r<this.selectedArray.length;r++)n(r);return t.join(",")}},{key:"updateIndex",value:function(e,t){var n=this,r=[];e.forEach((function(e){var t=n.list.findIndex((function(t){return t.id===e.id}));r.push(t)}));for(var o=0;o<r.length;o++)this.list.splice(r[o],1,t[o])}},{key:"getCurrentList",value:function(){var e=this;return this.searchKey?this.searchByContext(this.searchKey):this.groupManager.current||0===this.groupManager.current?0===this.groupManager.current?this.list.filter((function(e){return!e.groupId})):this.list.filter((function(t){return t.groupId===e.groupManager.current})):r(this.list)}},{key:"searchByContext",value:function(e){var t,n=this;this.searchKey=e;var o=this.list.filter((function(t){return String(t.content).includes(e)&&!n.optionsHided.map(String).includes(String(t.id))}));return this.groupManager.showOptionList.splice(0),(t=this.groupManager.showOptionList).push.apply(t,r(o)),o}}])&&i(t.prototype,n),o&&i(t,o),e}();return{createOptionManager:function(t,n){return new e(t,n)}}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div>\n        <span class="head-title">\n            #{formTitle}\n        </span>\n        <span class="title-extra">\n            #{extraTitle}\n        </span>\n    </div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element form-comp-box new-video-vote new-vote-multiple-wraper new-vote-container-wrap" id="#{id}" ctype="#{type}" name="eq[f_#{id}]">\n    <div class="infinite-list-phantom">\n        <ul class="clearfix #{className} video-item-list"></ul>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(933);var d=n(197),h=n(934),m=n(296).getOptionDom,v=n(935).previewImage,g=n(3).parse,y=(n(50).convertNum,n(9).qiniuZoom),b=n(16).getRatio,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,n.dataLen=0,n.positions=[],n.adaptPositions=[],n.$context=null,n.voteSettings=null,n.isMutipleAdapt=!1,n.isEnd=!1,n}return t=a,(n=[{key:"create$context",value:function(){this.positions=[];var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=r.formRelevant,i=o.title,a=o.des,s=o.voteSettings,c=r.formCheck,u=void 0===c?{}:c;this.voteSettings=s;var l=s.list,p=i.content,f=a.content,d=s.arrayType,m=s.openAdaption,v="";if(u.max&&"multiple"===s.chooseModal){var y=u.max,b=(y=void 0===y?{limit:0,checked:!0}:y).limit,x=void 0===b?0:b,w=y.checked,S=u.min,k=(S=void 0===S?{limit:0,checked:!0}:S).limit,O=void 0===k?0:k,E=S.checked;w&&E&&x!==O&&0!==O&&0!==x?v="（选".concat(O,"-").concat(x,"项）"):w&&E&&x==O&&0!==x?v="（选".concat(x,"项）"):E&&!w&&0!==O?v="（最少选".concat(O,"项）"):!E&&w&&x&&(v="（最多选".concat(x,"项）"))}var C=$(g(h,{id:t,type:n,className:d,formTitle:p,extraTitle:v,formDes:f}));if(p?C.find(".title-extra").attr("style","display:inline-block"):C.find(".title-extra").attr("style","display: none"),this.$context=C,this.initVirtualManager({adaptPositions:this.adaptPositions[0]}),l.length?C.removeClass("empty"):C.addClass("empty"),this.isCanDirectVote){var _=this.eqxPage.pageJson.properties.formStyle.button||{};C.find(".vote-button").css(_)}return this.name="eq[f_vote_".concat(t,"]"),m&&C.find(".new-image-vote").addClass("adaption"),C}},{key:"perfectSrc",value:function(e,t){var n=b();return y(e,{single:560,list:560,multiple:320}[t]*n,null,!0)}},{key:"updateItems",value:function(e){var t=this,n=e.start,r=e.show,o=[],i=this.groupListManager.showOptionList;i=i.filter((function(e){return!t.optionsHided.find((function(t){return t===e.id}))})),o=this.isMutipleAdapt&&n+r>i.length?i.slice(n):i.slice(n,n+r);var a=this.compJson.id,s=this.$context.find("ul");"multiple"===this.voteSettings.arrayType&&"pcRender"===this.eqxPage.renderMode&&s.find("li").css({marginRight:"20px"});var c=o.map((function(e){var n=".vote_".concat(a,"_").concat(e.id),r=s.find(n),o=r;return r.length?(o=r).attr("data-index",e.index):o=$(m(e,t)),t.isMutipleAdapt&&t.positions[e.index]&&o.css({left:t.positions[e.index].left,top:t.positions[e.index].top,marginBottom:"16px"}),t.positions[e.index]&&(o.find("img").css({height:t.positions[e.index].imgHeight}),o.css({height:"auto"})),t.getOpenAdaption()&&e.ratio?o.find("img").css({objectFit:"cover"}):o.find("img").css({objectFit:"contain"}),o}));s.children().each((function(e,t){return!c.map((function(e){return e.get(0)})).includes(t)&&$(t).find("img").attr("src","")})),s.html(c)}},{key:"create$li",value:function(){var e=i(i({},this.eqxPage.getFormStyle("input")),this.eqxPage.getFormStyle("border"));return c(f(a.prototype),"create$li",this).call(this),c(f(a.prototype),"updateVoteOptionCss",this).call(this,e),this.$li}},{key:"updateFormCompCss",value:function(e){c(f(a.prototype),"updateFormCompCss",this).call(this,e),this.$context.css("background-color","transparent"),c(f(a.prototype),"updateVoteOptionCss",this).call(this,e)}},{key:"addAdaptionClass",value:function(){this.$li.find(".new-image-vote").addClass("adaption").removeClass("no-adaption")}},{key:"removeAdaptionClass",value:function(){this.$li.find(".new-image-vote").removeClass("adaption").addClass("no-adaption")}},{key:"updateVoteImage",value:function(e,t){this.$context.find(e).find("img").attr("src",y(t))}},{key:"bindAfterRenderEvent",value:function(e,t){c(f(a.prototype),"bindAfterRenderEvent",this).call(this,e,t);var n=this;this.$context.find(".image-preview").on("click",(function(e){e.preventDefault(),e.stopPropagation(),v(e,n)}))}}])&&s(t.prototype,n),r&&s(t,r),a}(d);e.exports=x},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div>\n        <span class="head-title">\n            #{formTitle}\n        </span>\n        <span class="title-extra">\n            #{extraTitle}\n        </span>\n    </div>\n</div>\n<div class="form-des-box">\n    <div>#{formDes}</div>\n</div>\n<div class="element form-comp-box new-image-vote new-vote-container-wrap" id="#{id}" ctype="#{type}" name="eq[f_#{id}]">\n\n    <div class="infinite-list-phantom">\n        <ul class="clearfix #{className}-vote"></ul>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n(936);var r=n(3).parse,o=n(937),i=n(0).mobilecheck,a=n(29).preFixCss;e.exports={previewImage:function(e,t){var n=t.eqxPage.previewMode,s=n?1e3:i()?$("body").width():320,c=n||i()?$("body"):$(".nr").length>1?$($(".nr")[1]):$(".nr"),u=n?"image-vote-pc":i()?"image-vote-phone":"",l=$(e.currentTarget).prev(),p=$(e.currentTarget).parents(".new-image-vote").find(".item-box>img"),f=p.length,d=p.index(l)+1,h="";p.each((function(e,t){var n=$(t).attr("src");if(n.indexOf("?imageMogr2")>-1){var r=n.lastIndexOf("/"),o=i()?2*s:s;n=n.slice(0,r)+"/".concat(o,"x")}var a="".concat((e-d+1)*s,"px"),c="transform: translate(".concat(a,", 0);\n                    -ms-transform: translate(").concat(a,", 0);\n                    -moz-transform: translate(").concat(a,", 0);\n                    -webkit-transform: translate(").concat(a,", 0);\n                    -o-transform: translate(").concat(a,", 0);");h+='\n            <li style="'.concat(c,';top: 0;">\n                <img draggable="false" src="').concat(n,'">\n            </li>\n        ')}));var m,v,g=$(r(o,{content:h,curIndex:d,length:f,className:u})),y=g.find("li"),b=g.find(".currentNum");function x(e,t,n){var r="start"==t?e:0;y.each((function(e,t){a(t,"Transform","translate(".concat((e+1-n)*s+r,"px, 0px)"))}))}function w(e){var t="start"==e?{transition:""}:{transition:"all .3s"};y.each((function(e,n){$(n).css(t)}))}function S(e){return e.preventDefault(),e.stopPropagation(),"touchend"==e.originalEvent.type?i()?e.originalEvent.changedTouches[0]:e:i()?e.originalEvent.targetTouches[0]:e}g.find(".close").on("click",(function(){g.remove()})),g.find("ul").on("mousedown touchstart",(function(e){var t=S(e),n="LI"==e.target.nodeName?$(e.target):$(e.target).parent(),r=y.index(n)+1,o=t.pageX,i=t.pageY,a=0;m=Date.now(),w("start"),$(this).off("mousemove touchmove").on("mousemove touchmove",(function(e){var t=S(e),n=t.pageX,s=t.pageY;a=n-o,Math.abs(s-i)<=Math.abs(a)&&x(a,"start",r)})),$(this).off("mouseup mouseleave touchend touchleave").on("mouseup mouseleave touchend touchleave",(function(e){var t=0,n=S(e),c=n.pageX,u=n.pageY;if(v=Date.now(),w("end"),Math.abs(c-o)<5&&Math.abs(u-i)<5&&v-m<300)return g.remove(),void $(this).off("mouseup mouseleave touchend touchleave mousemove touchmove");1==r&&a>0||r==f&&a<0||Math.abs(u-i)>Math.abs(a)?x(0,"start",r):Math.abs(a)>20&&(a>0?x(s,"end",r+(t=-1)):x(-s,"end",r+(t=1))),b.text(r+t),$(this).off("mouseup mouseleave touchend touchleave mousemove touchmove")}))})),g.find(".move-btn").on("click",(function(e){var t=parseInt(b.text()),n=$(e.currentTarget).hasClass("left-image")?1e3:-1e3;if(!(1==t&&n>0||t==f&&n<0)){var r=n>0?--t:++t;b.text(r),"0s"==y.css("transition-duration")&&w("end"),x(n,"end",r)}})),$(".vote-image-preview").length||c.append(g.get(0))}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="vote-image-preview #{className}">\n    <div class="close">\n        <em class="eqf-no"></em>\n    </div>\n    <div class="image-preview-wraper">\n        <ul>\n            #{content}\n        </ul>\n        <div class="vote-image-num">\n            <span class="currentNum">#{curIndex}</span> / #{length}\n        </div>\n        <div class="left-image move-btn">\n            <em class="eqf-left"></em>\n        </div>\n        <div class="right-image move-btn">\n            <em class="eqf-right"></em>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(939);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(197);n(940),n(199);var h=n(3).parse,m=n(941),v=n(50).convertNum,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,r,a=l(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=a.call(this,e,t)).$context=null,n}return t=p,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=(e.pageId,e.type),r=e.properties,o=(r.required,r.formRelevant),i=o.title,a=o.des,s=o.voteSettings,c=r.formCheck,u=void 0===c?{}:c,l=s.list,p=i.content,f=a.content,d=s.arrayType,v="";if(u.max&&"multiple"===s.chooseModal){var g=u.max,y=(g=void 0===g?{limit:0,checked:!0}:g).limit,b=void 0===y?0:y,x=g.checked,w=u.min,S=(w=void 0===w?{limit:0,checked:!0}:w).limit,k=void 0===S?0:S,O=w.checked;x&&O&&b!==k&&0!==k&&0!==b?v="（选".concat(k,"-").concat(b,"项）"):x&&O&&b==k&&0!==b?v="（选".concat(b,"项）"):O&&!x&&0!==k?v="（最少选".concat(k,"项）"):!O&&x&&b&&(v="（最多选".concat(b,"项）"))}return this.$context=$(h(m,{id:t,type:n,className:d,formTitle:p,extraTitle:v,formDes:f})),this.initVirtualManager({needTransform:!0}),p?this.$context.find(".title-extra").attr("style","display:inline-block"):this.$context.find(".title-extra").attr("style","display: none"),l.length?this.$context.removeClass("empty"):this.$context.addClass("empty"),this.name="eq[f_vote_".concat(t,"]"),this.$context}},{key:"updateItemsSize",value:function(){var e=this;if(!this.$li||!this.$li.is(":hidden")){c(f(p.prototype),"updateItemsSize",this).call(this,!0);var t=this.groupListManager.showOptionList,n=[],r=[],o=this.start||0,i=this.positions||[],a=0;t.forEach((function(t){e.optionsHided.find((function(e){return e===t.id}))?n.push({height:0}):(r.push(t),n.push({}))}));for(var s=0;s<n.length;s++)i[o+s]&&Object.assign(i[o+s],n[s]);for(var u=0;u<i.length;u++)i[u].top=a,a+=i[u].height,i[u].bottom=a;this.VirtualManager&&this.VirtualManager.setPositions(i),this.correctHeight()}}},{key:"updateItems",value:function(e){var t=this,n=e.start,r=e.show,a=[],s=this.groupListManager.showOptionList,c=[];if(this.start!==n||JSON.stringify(this.lastShowList)!=JSON.stringify(s)||!(this.show==r||this.start+this.show>s.length&&n+r>s.length)){this.start=n,this.show=r,this.lastShowList=i(s),s.forEach((function(e){t.optionsHided.find((function(t){return t===e.id}))||c.push(e)})),a=c.length<50?c:c.slice(n,n+r);var u=this.compJson.id,l=this.$context.find("ul"),p=a.map((function(e){var n=".vote_".concat(u,"_").concat(e.id),r=l.find(n),i=r;return r.length||(i=$((0,o.getOptionDom)(e,t))),i}));l.html(p),this.showResult(!0)}}},{key:"create$li",value:function(){c(f(p.prototype),"create$li",this).call(this);var e=this.compJson,t=e.css,n=e.properties.formRelevant.voteSettings.list,r=this.eqxPage.getFormStyle("input");return this.$formComp.css({"border-width":n.length>0?r.borderWidth||t.borderWidth:"0px","background-color":r.backgroundColor||t.backgroundColor,color:r.color||t.color,"border-radius":r.borderRadius||t.borderRadius,"font-size":"14px",height:"auto"}),this.$li.css({height:"auto"}),this.$li}},{key:"handlerShowOption",value:function(e,t){if(c(f(p.prototype),"handlerShowOption",this).apply(this,arguments),!t){var n=this.$li.find("li[option-id]:visible");n.each((function(e,t){e<n.length-1?$(t).removeClass("last"):$(t).addClass("last")}))}}},{key:"updateFormCompCss",value:function(e){c(f(p.prototype),"updateFormCompCss",this).call(this,Object.assign({},e||{},{fontSize:12}))}},{key:"updateResult",value:function(e){var t=this.$formComp.find(".text-vote-progress-bar");e?t.css("display","block"):t.css("display","none"),this.autoSizeTopDown(),this.updateFormHeight()}},{key:"_updateSize",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=c(f(p.prototype),"_updateSize",this)).call.apply(e,[this].concat(n)),this.$li&&this.$li.css("height","auto"),this.$formComp&&this.$formComp.css("height","auto")}},{key:"updateVoteResult",value:function(e){var t=this;Object.keys(this.voteResult).forEach((function(n){var r=t.voteResult[n],o=v(r),i=!r/e?" / 0%":"/"+parseFloat(r/e*100).toFixed(1)+"%";t.$li.find(".vote_".concat(t.id,"_").concat(n)).find(".vote-result").text("".concat(o,"票").concat(i)).show();var a=i.split("/")[1];t.$li.find(".vote_".concat(t.id,"_").concat(n)).find(".blue-bar").css("width",a)}))}}])&&s(t.prototype,n),r&&s(t,r),p}(d);e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptionDom=function(e,t){var n=t.id,r=t.voteSettings,o=r.chooseModal,i=r.showResult,a=t.tranSpaceAndEnter,s=t.voteOptionsService,c=Math.floor(1e8*Math.random()),u="multiple"===o?"checkbox":"radio",l=e.isOtherOption?"otherOptionBlank":"otherOptionBlank hide",p=e.des?"inline-flex":"none",f=i?"block":"none";return'\n        <li option-id="'.concat(e.id,'"  class="vote_').concat(n,"_").concat(e.id,'">\n            <label class="option-wrap" for="vote_').concat(n,"_").concat(e.id,"_").concat(c,'">\n                <div class="vote-select-mode video-radio text-vote-radio ').concat(u,"_vote ").concat(s.isSelected(e.id)?"active":"",'">\n                    <i class="eqf-yes"></i>\n                    ').concat(s.isSelected(e.id)?'<input class="radioOrCheckbox" checked="true" type="'.concat(u,'" name="eq[f_').concat(n,']" value="').concat(e.id,'" id="vote_').concat(n,"_").concat(e.id,"_").concat(c,'" />'):'<input class="radioOrCheckbox" type="'.concat(u,'" name="eq[f_').concat(n,']" value="').concat(e.id,'" id="vote_').concat(n,"_").concat(e.id,"_").concat(c,'" />'),'\n                </div>\n                <span class="item-option-').concat(e.id,'">').concat(a(e.content),'</span>\n                <input type="text" class="').concat(l,'">\n                <div class="item-option-info info-').concat(e.id,'" data="').concat(e.id,'" style="display: ').concat(p,'">\n                    <em class="eqf-info-l"></em>\n                </div>\n            </label>\n            \n            <div class="text-vote-progress-bar" style="display:').concat(f,'">\n                <div class="white-bar">\n                    <div class="blue-bar"></div>\n                </div>\n                <div class="vote-result">\n                    <span>0票 / 0%</span>\n                </div>\n            </div>\n        </li>\n    ')}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="textVote-title form-title-box">\n    <div>\n        <span class="head-title">\n            #{formTitle}\n        </span>\n        <span class="title-extra">\n            #{extraTitle}\n        </span>\n    </div>\n</div>\n<div class="textVote-des form-des-box">\n    <div>\n        #{formDes}\n    </div>\n</div>\n<div class="element form-comp-box new-text-vote new-text-vote-container new-vote-container-wrap" id="#{id}" ctype="#{type}" name="eq[f_#{id}]">\n    <div class="infinite-list-phantom">\n        <ul class="clearfix #{className} video-item-list"></ul>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(943);var u=n(944),l=n(5),p=n(3).parse,f=n(141).$getSubmitCount,d=n(130).$getVoteResultAll,h=function(e){return e<1e4?e:e>=999e4?"999w+":parseInt(parseInt(e)/1e3)/10+"w"},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{flexLine:""}),n}return t=c,(n=[{key:"create$context",value:function(){var e,t,n,r=this,o=this.compJson,i=o.participantsTitle,a=o.votedCountTitle,s=o.trafficTitle,c=o.participants,l=o.votedCount,m=o.traffic,v=o.trafficInit,g=o.css,y=g.backgroundColor,b=g.textColor,x=g.numberColor,w=this.eqxPage.getFormStyle("button");return y=this.compJson.css.backgroundColor=y||w.backgroundColor,b=this.compJson.css.textColor=b||w.color,x=this.compJson.css.numberColor=x||w.color,e=0,t=["imageVote","videoVote","textVote"],"edit"!==r.eqxScene.config.mode&&r.eqxPage.getEqxComps().forEach((function(n){t.includes(n.type)&&(e+=n.compJson.properties.formRelevant.voteSettings.list.length)})),c=e,(n={votedCount:0,traffic:0},new Promise((function(e,t){if("edit"!==r.eqxScene.config.mode){var o=f(window.scene.id,r.compJson.pageId,window.scene.code).then((function(e){var t=e&&e.map||{pv:0};n.traffic=t.pv})),i=d(r.compJson.pageId,r.eqxScene.meta.code).then((function(e){var t=["imageVote","videoVote","textVote"],o=[];if("edit"===r.eqxScene.config.mode)return 0;r.eqxPage.getEqxComps().forEach((function(e){t.includes(e.type)&&o.push(e)})),o.map((function(e){return e.id})).forEach((function(t){var r=o.find((function(e){return parseInt(e.id)===parseInt(t)}));if(r){var i=r.compJson.properties.formRelevant.voteSettings;if(e.obj[t]){var a=function(r){i.list.findIndex((function(e){return e.id==r}))>-1&&(n.votedCount+=e.obj[t][r])};for(var s in e.obj[t])a(s)}if(i.hasInitValue){var c=i.initValue||0;n.votedCount+=c*r.voteSettings.list.length}}}))}));Promise.all([o,i]).finally((function(){e(n)}))}else e(n)}))).then((function(e){r.updateStatistic(e)})),setTimeout((function(){r.updateColor({backgroundColor:y,textColor:b,numberColor:x})}),0),$(p(u,{participants:h(c),votedCount:h(l),traffic:h(m+v),participantsTitle:i,votedCountTitle:a,trafficTitle:s,backgroundColor:y,textColor:b,numberColor:x}))}},{key:"update",value:function(e){var t=e.participantsTitle,n=e.votedCountTitle,r=e.trafficTitle,o=e.trafficInit,i=e.css,a=i.backgroundColor,s=i.textColor,c=i.numberColor,u=this.compJson.traffic,l=void 0===u?0:u;this.compJson.participantsTitle=t,this.compJson.votedCountTitle=n,this.compJson.trafficTitle=r,this.compJson.trafficInit=o;var p=(parseInt(o)||0)+(parseInt(l)||0);this.$context.find(".participantsTitle").html(t),this.$context.find(".votedCountTitle").html(n),this.$context.find(".trafficTitle").html(r),this.$context.find(".traffic").html(h(p)),this.updateColor({backgroundColor:a,textColor:s,numberColor:c})}},{key:"updateStatistic",value:function(e){var t=e.votedCount,n=e.traffic,r=this.compJson.trafficInit,o=(parseInt(void 0===r?0:r)||0)+(parseInt(n)||0),i=this.$context.find(".votedCount").html()!==h(t),a=this.$context.find(".traffic").html()!==h(o);i&&this.$context.find(".votedCount").html(h(t)),a&&this.$context.find(".traffic").html(h(o))}},{key:"updateColor",value:function(e){var t=e.backgroundColor,n=e.textColor,r=e.numberColor,o=this.eqxPage.pageJson.properties.formStyle;this.compJson.css.backgroundColor=t||o.button.backgroundColor,this.compJson.css.textColor=n||o.button.color,this.compJson.css.numberColor=r||o.button.color;var i=this.$context.css("backgroundColor")!==t,a=this.$context.css("color")!==n,s=this.$context.find(".count").css("color")!==r;i&&this.$context.css("backgroundColor",t),a&&this.$context.css("color",n),s&&this.$context.find(".count").css("color",r)}},{key:"updateSubmitCss",value:function(e){this.updateColor({backgroundColor:e.backgroundColor,textColor:e.color,numberColor:e.color})}}])&&o(t.prototype,n),r&&o(t,r),c}(l);e.exports=m},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<ul class="vote-statistic-container">\n    <li>\n        <span>\n            <span class="eqf-userface-f margin-right4 icon"></span>\n            <span class="participantsTitle">#{participantsTitle}</span>\n        </span>\n        <span class="count">#{participants}</span>\n    </li>\n    <li>\n        <span>\n            <span class="eqf-yes-sf margin-right4 icon"></span>\n            <span class="votedCountTitle">#{votedCountTitle}</span>\n        </span>\n        <span class="count votedCount">#{votedCount}</span>\n    </li>\n    <li>\n        <span>\n            <span class="eqf-customer margin-right4 icon"></span>\n            <span class="trafficTitle">#{trafficTitle}</span>\n        </span>\n        <span class="count traffic">#{traffic}</span>\n    </li>\n</ul>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(193),l=n(946),p=n(3).parse;n(947);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),n.defaultEvaluate={type:"3",matchType:"5",score:10,perKeyScore:1,answers:[{id:1,answer:""}],answerKeys:""},n}return t=c,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,f=void 0===u?{}:u,d=f.title.content,h=f.des.content;return this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t,$(p(l,{id:t,type:r,placeholder:c,required:a,title:d,des:h}))}},{key:"check",value:function(){var e=this,t=this.ruleHide?"（跳过）":this.$li.find("#".concat(this.id)).val(),n=this.compJson.properties,r=n.formCheck,o=0,i=t;n.formRelevant.showScoreAndAnswer&&(o=this.calcScore(t),-1==i.indexOf("跳过")&&-1==i.indexOf("（".concat(o,"分）"))&&(i+="（".concat(o,"分）")));var a={success:!0,pageId:this.pageId,key:this.name,value:i,setValue:JSON.stringify({content:t,score:o}),elementId:this.id,score:o};return a.value=JSON.stringify({content:i,score:o}),t?function(t){var n,o,i,s;if(r&&!e.ruleHide)null!==(n=r.min)&&void 0!==n&&n.checked&&null!==(o=r.min)&&void 0!==o&&o.limit&&t.length<r.min.limit?(a.success=!1,a.message="".concat("该项","最少填").concat(r.min.limit,"个字")):null!==(i=r.max)&&void 0!==i&&i.checked&&null!==(s=r.max)&&void 0!==s&&s.limit&&t.length>r.max.limit&&(a.success=!1,a.message="".concat("该项","最多填").concat(r.max.limit,"个字"))}(t):this.required?(a.success=!1,a.message="".concat("该项","为必填项")):(a.value="",a.setValue=""),a}},{key:"getTruthy",value:function(e){if(this.ruleHide)return 0;var t=this.evaluate,n=t.answers,r=t.matchType;r=parseInt(r);var o=n[0].answer;if(!o&&!e)return 0;var i=o.split("；").filter((function(e){return e}));if(0==i.length)return-1;switch(r){case 5:return i.some((function(t){return t==e}))?1:0;case 6:var a=0;return i.forEach((function(t){e.includes(t)&&a++})),a}return 0}},{key:"calcScore",value:function(e){var t=0;if(this.ruleHide)return 0;var n=this.evaluate,r=n.type,o=n.score,i=n.matchType,a=n.perKeyScore,s=n.answers[0].answer,c=s.split("；").filter((function(e){return e}));r=parseInt(r),i=parseInt(i);var u=this.getTruthy(e);if(0==u&&5!=i)return 0;if(-1==u)return o||0;if(5==i&&(s&&e==s||u))t=o;else if(6==i&&4==r&&u==c.length)t=o;else{if(5==i||6==i&&4==r)return 0;t=3==r&&u<c.length?u*a:o}return isNaN(parseInt(t))?0:t}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=f},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="short-answer form-comp-box" style="width:100%;height:auto" ctype="#{type}">\n    <div class="options">\n            <textarea id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" style="width: 100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto"></textarea>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,r=t.choices;"string"==typeof r&&(r=JSON.parse(r));var o=$("<div>");return r.options.length,r.options.forEach((function(t,i){var a=t.id==r.default,s=Math.floor(1e8*Math.random()),c=e.$option({compId:n,index:i,optionId:t.id,optionLabel:t.label,inputType:"radio",checked:a,ranId:s});o.append(c)})),o.html()}}])&&o(t.prototype,n),r&&o(t,r),c}(n(89));e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(52),p=n(950),f=n(3).parse,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=e.properties,i=o.required,a=void 0===i?null:i,s=o.placeholder,c=void 0===s?null:s,u=o.formRelevant,l=void 0===u?{}:u,d=l.title.content,h=l.des.content;this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.placeholder=c,this.id=t;var m=this.getFormRelavent(),v=m.size,g=m.styleType;return $(f(p,{id:t,type:r,placeholder:c,required:a,title:d,des:h,styleType:g,sizeType:v}))}},{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);return e.find(".element-box").css("height","100%"),e}},{key:"setInputTitle",value:function(e){this.$context.find("textarea").attr("placeholder",e)}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=d},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="fill-blank form-comp-box #{sizeType} #{styleType}" style="width:100%;height:auto" ctype="#{type}">\n    <div class="options">\n        <div class="option-list">\n            <textarea id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" style="width: 100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none;overflow:auto"></textarea>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(952);var h=n(97),m=n(108),v=n(0).mobilecheck,g=n(953),y=n(3).parse,b=n(35),x=n(15).$loaderLayDate,w=n(15).$loaderLCalendar,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.eqxScene.formManager.add(f(n)),n}return t=a,(n=[{key:"create$li",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c(d(a.prototype),"create$li",this)).call.apply(e,[this].concat(n)),this.$formComp.css(i(i({},this.eqxPage.getFormStyle("input")),this.eqxPage.getFormStyle("border"))||{}),this.$li}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.pageId,o=t.type,i=t.properties,a=i.required,s=void 0===a?null:a,c=i.placeholder,u=void 0===c?null:c,l=i.formRelevant,p=void 0===l?{}:l,f=p.title.content,d=p.des.content;this.required=s,this.name="eq[f_".concat(n,"]"),this.pageId=r,this.placeholder=u,this.id=n;var b=$(y(g,{id:n,type:o,placeholder:u,required:s,title:f,des:d})),S=b.find("input").get(0);function k(e,t){var n="pc"==e?x:w;return Promise.all([n(),m.delayLoadJSAndCSS(t,"css")])}return v()?k("phone",h.LCalendarCss).then((function(){e.time=new LCalendar,e.time.init({trigger:S,type:"date",minDate:"1900-1-1",maxDate:"2050-12-31"})})):k("pc",h.laydateCss).then((function(){e.time=laydate.render({elem:S,min:"1900-1-1",max:"2050-12-31",trigger:"click"})})),b}},{key:"setInputTitle",value:function(e){this.$context.find("input").attr("placeholder",e)}},{key:"check",value:function(){var e=this.$context.find("input").val(),t=this.ruleHide?"（跳过）":"".concat(e),n={success:!0,pageId:this.pageId,key:this.name,value:t,elementId:this.id};return!t&&this.required&&(n.success=!1,n.message="".concat("该项","为必填项")),n}},{key:"bindRuleEvent",value:function(e){var t=this,n=this.$li.find("#".concat(this.id));this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),n.on("blur",(function(){setTimeout((function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getValue())}),100)}))}},{key:"bindAfterRenderEvent",value:function(){var e=this,t=this;this.$context.find("input").on("click",(function(t){t.stopPropagation(),e.hideFormErrMsg()})),v()||setTimeout((function(){$(t.$formComp.parents(".nr")[0]).off("click.layui").on("click.layui",(function(e){var t=$(".layui-laydate");t.length&&t.remove()}))}))}},{key:"getValueInfo",value:function(){return i(i({},c(d(a.prototype),"getValueInfo",this).call(this)),{},{editLabel:"2020-02-02"})}},{key:"compJsonToStr",value:function(){return c(d(a.prototype),"compJsonToStr",this).call(this)}}])&&s(t.prototype,n),r&&s(t,r),a}(b);e.exports=S},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box new-date-wrapper">\n    <input id="#{id}" ctype="#{type}" placeholder="#{placeholder}" required="#{required}" class="element comp_input editable-text" maxlength="10000" name="eq[f_#{id}]" style="width: 100%;height:100%;cursor:pointer;" readonly="readonly">\n    \n    <div class="time-icon">\n        <em class="eqf-calendar-l"></em>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(35),m=n(301).$compDiv,v=n(301).createTimeOption,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0},advanceStyle:{required:!0}},trigger:{self:!1},link:!1,flexLine:"r"}),n.eqxScene.formManager.add(f(n)),n}return t=a,(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,r=e.type,o=(e.css,e.properties),i=o.required,a=void 0===i?null:i,s=(o.placeholder,o.formRelevant),c=void 0===s?{}:s,u=c.title.content,l=c.des.content;this.required=a,this.name="eq[f_".concat(t,"]"),this.pageId=n,this.id=t;var p=m({id:t,type:r,required:a,title:u,des:l});return this.$context=p,this.$hourSelect=p.find(".time-hours select"),this.$minuteSelect=p.find(".time-minutes select"),this.$hourSelect.append(v(c.options.hours,"hours")),this.$minuteSelect.append(v(c.options.minutes,"minutes")),p}},{key:"create$li",value:function(){var e=c(d(a.prototype),"create$li",this).call(this),t=this.eqxPage.pageJson.properties.formStyle;return this.$formComp.css({"border-width":"0px","background-color":"transparent","border-radius":"0px"}),this.$formComp.find(".time-select-box").css({"background-color":t.input.backgroundColor,"border-radius":t.border.borderRadius,"border-width":t.border.borderWidth,"border-style":t.border.borderStyle,"border-color":t.border.borderColor,color:t.input.color}),e}},{key:"changeOptionContent",value:function(e){var t="hours"==e?this.$hourSelect:this.$minuteSelect,n=this.getFormRelevant().options[e].content;t.find("option:eq(0)").text(n)}},{key:"updateFormCompCss",value:function(e){e&&(this.updateSelectCss(e),this.updateCss(e),this.autoSizeTopDown(),this.updateFormHeight())}},{key:"updateSelectCss",value:function(e){if(e){var t={};["borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius","borderWidth","borderStyle","borderColor","backgroundColor","color"].forEach((function(n){t[n]=e[n]})),this.$context.find(".time-select-box").css(t)}}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),this.$context.find("select").on("change",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger())}))}},{key:"getRealValueForTrigger",value:function(){return this.isSelectAll()?this.getValue():""}},{key:"isSelectAll",value:function(){var e=!0;return this.$li.find("select").each((function(t,n){$(n).val()||(e=!1)})),e}},{key:"getValue",value:function(){var e=[];return this.$li.find("select").each((function(t,n){e.push($(n).find("option:selected").text())})),e.join(".")}},{key:"getValueInfo",value:function(){var e=c(d(a.prototype),"getValueInfo",this).call(this),t=e.value.replace(".",":");return t.includes("分钟")&&(t=""),i(i({},e),{},{label:t,editLabel:"21:52"})}},{key:"check",value:function(){var e=this.$hourSelect.find("option:selected"),t=this.$minuteSelect.find("option:selected"),n=e.val()?e.text():"",r=t.val()?t.text():"",o=this.ruleHide?"（跳过）":n||r?"".concat(n,":").concat(r):"",i={success:!0,pageId:this.pageId,key:this.name,value:o,elementId:this.id,origin:e.val()+","+t.val()};return!o&&this.required&&(i.success=!1,i.message="".concat("该项","为必填项")),i}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){this.$hourSelect.find("option:selected");var r=[];if(e.indexOf(":")>0){var o=e.split(":");this.$hourSelect.find("option").each((function(e,t){$(t).text()===o[0]&&r.push($(t).val())})),this.$minuteSelect.find("option").each((function(e,t){$(t).text()===o[1]&&r.push($(t).val())}))}else r=e.split(",");r.forEach((function(e,t){0===t&&n.$hourSelect.val(e),1===t&&n.$minuteSelect.val(e)})),"showLast"===t&&this.$li.css("pointer-events","none")}}},{key:"compJsonToStr",value:function(){return c(d(a.prototype),"compJsonToStr",this).call(this)}}])&&s(t.prototype,n),r&&s(t,r),a}(h);e.exports=g},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box time-comp-wrapper" id="#{id}" ctype="#{type}">\n    <div class="time-select-box time-hours">\n        <select name="eq[f_#{id}]" class="time_drop_down_select" ctype="#{type}">\n        </select>\n    </div>\n    <span>:</span>\n    <div class="time-select-box time-minutes">\n        <select name="eq[f_#{id}]" class="time_drop_down_select" ctype="#{type}">\n        </select>\n    </div>\n</div>'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,r=t.choices;"string"==typeof r&&(r=JSON.parse(r));var o=$("<div>");return r.options.length,r.options.forEach((function(t,i){var a=t.id==r.default,s=Math.floor(1e8*Math.random()),c=e.$option({compId:n,index:i,optionId:t.id,optionLabel:t.label,inputType:"radio",checked:a,ranId:s});o.append(c)})),o.html()}}])&&o(t.prototype,n),r&&o(t,r),c}(n(89));e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(145),h=n(15).$loaderRegionData,m=n(959),v=n(144).adapterDropDownCode,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,n}return t=a,(n=[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.pageId,o=t.type,i=t.properties,a=i.formRelevant,s=void 0===a?{}:a,c=i.addType,u=i.required,l=t.css,p=l.borderWidth,f=l.backgroundColor,d=s.title.content,v=s.des.content;p||(t.css.borderWidth=0,t.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","0"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),f||(t.css.backgroundColor="#ffffff",this.$boxDiv.css("backgroundColor","#ffffff")),this.name="eq[f_".concat(n,"]"),this.required=u,this.pageId=r;var g="address"==c,y=this.getFormRelavent().options,b=m.$compDiv({id:n,type:o,required:u,title:d,des:v,name:y.province.name||"请选择"});return this.$firstGrade=b.find(".list.province").find("select"),g&&(b.find(".province_wrap").append(m.$appendCity(n,y.city.name||"请选择")),this.$secondGrade=b.find(".list.city").find("select"),b.find(".province_wrap").append(m.$appendZone(n,y.zone.name||"请选择")),this.$thirdGrade=b.find(".list.zone").find("select"),b.find(".province_wrap").parent().append(m.$appendStreet(n,y.street.name||"街道信息"))),"view"==this.eqxScene.config.mode&&h().then((function(){e.linkData=window.provinceCityList,e.$firstGrade.html(m.$option(e.linkData,y.province.name||"请选择"))})),this.$context=b,this.updateInputCss(t.css,!0),b}},{key:"updateDefaultNames",value:function(){var e=this,t=this.getFormRelavent().options;Object.values(t).forEach((function(t){var n=t.type,r=t.name;e.$context.find(".list.".concat(n)).find("select").find("option:eq(0)").text(r||"请选择"),"street"==n&&e.$context.find("textarea").text(r||"街道信息")}))}},{key:"updateInputCss",value:function(e){if(e){var t={};["borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius","borderWidth","borderStyle","borderColor","backgroundColor","color"].forEach((function(n){t[n]=e[n]}));var n=this.eqxPage.getFormStyle();this.$context.find(".list").css(i(i(i({},t),n.input||{}),n.border||{})).end().find("select").css("color",n.input.color||t.color),this.$context.find("textarea").css(i(i({},t),n.border||{}))}}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),this.$context.find("select").on("change",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger())})),this.$context.find("textarea").on("input",(function(){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger())}))}},{key:"isSelectAll",value:function(){var e,t=!0;return this.$li.find("select").each((function(e,n){$(n).val()||(t=!1)})),e=!!this.$context.find("textarea").val(),t&&e}},{key:"getValue",value:function(){var e=[];return this.$li.find("select").each((function(t,n){var r=$(n).val()?$(n).find("option:selected").text():"";e.push(r)})),e.push(this.$li.find("textarea").val()),e.filter((function(e){return!!e})).join("，")}},{key:"getCode",value:function(){var e=[];return this.$li.find("select").each((function(t,n){var r=$(n).val()?$(n).find("option:selected").attr("code"):"";e.push(r)})),e.push(this.$li.find("textarea").val()),e.filter((function(e){return!!e})).join(",")}},{key:"getRealValueForTrigger",value:function(){return this.isSelectAll()?this.getRealValue():""}},{key:"getRealValue",value:function(){var e=[];return this.$li.find("select").each((function(t,n){e.push($(n).val())})),e.push(this.$li.find("textarea").val()),e.join(",")}},{key:"updateStreetData",value:function(e){e&&this.$li.find("textarea").val(e)}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）")){var r=this.getFormRelavent().options;h().then((function(){var o=n.$li;(t?e.replace(/[，]/g,",").split(","):v(n.compJson.type,e)).forEach((function(e,t){if(o.find("select").eq(t).val(e),e)switch(t){case 0:n.updateProvinceData(e,r);break;case 1:n.updateCityData(e,r);break;default:n.updateStreetData(e)}}))})),"showLast"===t&&this.$li.css("pointer-events","none")}}},{key:"compJsonToStr",value:function(){return c(f(a.prototype),"compJsonToStr",this).call(this)}}])&&s(t.prototype,n),r&&s(t,r),a}(d);e.exports=g},function(e,t,n){"use strict";var r=n(960);n(107);var o=n(3).parse;e.exports={$compDiv:function(e){var t=e.id,n=e.type,i=e.required,a=void 0===i?null:i,s=e.title,c=e.des,u=e.city,l=e.zone,p=e.name,f=$(o(r,{id:t,type:n,title:s,des:c,city:u,zone:l,name:p}));return f.find("#".concat(t)).attr("required",a),f},$option:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择",n='<option  class="comp_select_option" value="" code="">'.concat(t,"</option>");return e.forEach((function(e){n+='\n            <option  class="comp_select_option" value="'.concat(e.n,'" code="').concat(e.c,'">').concat(e.n,"</option>\n        ")})),n},$appendZone:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'<div class="list zone">\n                <select style="line-height: 2.7"\n                    name="eq[f_'.concat(e,']_zone"\n                    class="comp_drop_down_select"\n                    selectType = \'zone\'\n                    ctype="#{type}">\n                    <option value="" code="">').concat(t||"请选择","</option>\n                </select>\n            </div>")},$appendCity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请选择";return'\n            <div class="list city">\n                <select style="line-height: 2.7"\n                    name="eq[f_#{id}]_city"\n                    class="comp_drop_down_select"\n                    selectType = \'city\'\n                    ctype="#{type}">\n                    <option value="" code="">'.concat(t,"</option>\n                </select>\n            </div>\n            ")},$appendStreet:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"街道信息";return'<textarea\n            class="element comp_input editable-text"\n            placeholder="'.concat(t,'"\n            maxlength="10000"\n            name="eq[f_').concat(e,']_street"\n            type="text"\n            style="width: 100%;height:80px;margin-top: 8px;\n            border-width: var(--border-borderWidth,1);\n            border-style: var(--border-borderStyle,solid);\n            border-color: var(--border-borderColor,#eee);\n            border-radius:var(--border-borderReadius, 3px);"></textarea>')}}},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="province_drop_down form-comp-box" style="width:100%;height:100%" id="#{id}" ctype="#{type}">\n    <div style="width: 100%;" class="province_wrap">\n        <div class="list province">\n            <select style="line-height: 2.7" name="eq[f_#{id}]_province" class="comp_drop_down_select" selecttype="province" ctype="#{type}">\n                <option value="">#{name}</option>\n            </select>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(962);var u=n(5),l=n(3).parse,p=n(1),f=n(0),d=n(963),h=n(964).getRecommendScenes,m=n(96).domainParam,v=n(4).getUrlHost,g=[/eqxiu\.com/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/,/eqxiul\.com/,/ebdan\.net/],y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e,t)}return t=c,(n=[{key:"create$context",value:function(){var e,t=this,n=this.compJson,r=n.id,o=n.type,i=$(l(d,{id:r,type:o})),a=this.eqxScene.meta,s=v(window.location.href);e=g.some((function(e){return e.test(s)}))?"eqxiuDomain":m(s)?"flowDomain":"otherDomain";var c=this.eqxScene.sceneName;return this.eqxScene.config.isInnerView||h({bizType:a.bizType,userType:a.userType,domain:e}).then((function(e){if(Object.keys(e.map).length){var n=function(e){var t;if(f.isMobile())if(f.isWeixin()){if(t="wap",f.isMountAppletParam())return e[t].mini}else t="notWx";else t="pc";return e[t].browser}(e.map),r=Object.values(n),o=Object.keys(n),i="";r.forEach((function(e,t){e&&(i+=function(e,t,n){return'\n        <li class="recommend-li" scene-id="'.concat(e.id,'">\n            <a rdt="3" cat="pc_form" act="推荐广告位_').concat(t,'"  loc="').concat(n,'作品推荐" _tracker_click_="_tracker_click_">\n                <img src="').concat(p.FILE).concat(e.cover,'">\n                <div class="title">').concat(e.title,'</div>\n                <div class="des">').concat(e.description||"","</div>\n            </a>\n        </li>\n    ")}(e,o[t],c))})),t.$context.find("ul").append(i),t.update$li({height:t.$context.css("height")}),t.bindSkipEvent(r),t.eqxPage.dealAppend(t.eqxPage.renderMode)}else t.$li.remove()})).catch((function(e){console.log(e)})),i}},{key:"getHeight",value:function(){return this.$context.find("li").length?this.$context.css("height"):0}},{key:"bindSkipEvent",value:function(e){this.$context.find("ul").bind("click",(function(t){var n=$(t.target).parents("li.recommend-li"),r=e.filter((function(e){return e.id==n.attr("scene-id")}))[0];if(r)if(f.isMountAppletParam()){var o="/page/preview/sample/SamplePreview?from=sample&type=scene&id=".concat(r.id,"&code=").concat(r.code,"&title=").concat(r.title,"&price=").concat(r.price||0,"&sourceId=").concat(r.sourceId,"&cover=").concat(r.cover);wx&&wx.miniProgram&&wx.miniProgram.navigateTo({url:o})}else f.isPc()?window.open().location="".concat(p.VIEW_HOST,"ls/").concat(r.code):window.location.href="".concat(p.VIEW_HOST,"ls/").concat(r.code)}))}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=y},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element recommend-wrapper">\n    <div>\n        <div class="recommend-title">\n            <em class="eqf-star-line"></em>\n            <span>更多推荐</span>\n        </div>\n        <ul></ul>\n    </div>\n</div>'},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={getRecommendScenes:function(e){var t="".concat(o.LONG_PAGE_PREVIEW,"lp/recommend");return r({type:"GET",url:t,data:$.param(e)})}}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="image-score-option-group image-score-option-group-#{optionId}" option-id="#{optionId}">\n    <div class="image-item">\n        <img src="#{src}">\n    </div>\n    <div class="option-item option-group">\n        <label class="option-label" for="#{id}_#{ranId}" data-event="11208">\n            <div class="eqx-radio eqx-#{inputType}" name="eq[f_#{compId}]">\n                <i class="eqf-yes"></i>\n                <input class="option" id="#{id}_#{ranId}" type="#{inputType}" style="display:none !important" name="#{id}_#{ranId}" value="#{optionId}">\n            </div>\n            <span>#{optionLabel}</span>\n            \x3c!--<input type="text" class="otherOptionBlank">--\x3e\n        </label>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableImg:!0,gSensor:!0,scratch:!0,replace:!0}}}),n.isArrangEditor=n.eqxScene.config.isArrangEditor,n}return t=l,(n=[{key:"isEditable",get:function(){return!1}},{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);return"edit"===this.eqxScene.config.mode&&e.attr("title","头图"),e}}])&&o(t.prototype,n),r&&o(t,r),l}(n(102));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(74),p=n(303),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableText:!0,adjustMode:!0,replace:!0}},link:!0,flexLine:"n,s,w,e,r"}),n}return t=l,(n=[{key:"isEditable",get:function(){return!1}},{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);return"edit"===this.eqxScene.config.mode&&e.attr("title",p[this.eqxScene.meta.bizType]+"标题"),e}},{key:"update$boxDiv",value:function(e){i(u(l.prototype),"update$boxDiv",this).call(this,e),this.$li.css(e),this.$li.find(".element").css({backgroundColor:"transparent"}),this.$li.find(".new-text").css({color:e.color,fontSize:e.fontSize,backgroundColor:"transparent"})}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(74),p=n(303);n(970);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=c.call(this,e,t),$.extend(!0,n.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,bgColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0,variableText:!0,adjustMode:!0,replace:!0}},link:!0,flexLine:"n,s,w,e,r"}),n}return t=l,(n=[{key:"isEditable",get:function(){return!1}},{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);if(this.compJson.content=="双击添加"+p[this.eqxScene.meta.bizType]+"说明"&&"view"==this.eqxScene.config.mode&&(this.ruleHide=!0,this.eqxPage.awitUpdate()),"edit"==this.eqxScene.config.mode){var t=p[this.eqxScene.meta.bizType]+"说明";e.attr("title",t),this.compJson.content=="双击添加"+t&&this.updateCompCss()}return e}},{key:"updateCompCss",value:function(){this.compJson.content=="双击添加"+p[this.eqxScene.meta.bizType]+"说明"?this.$li.addClass("no-content-border"):this.$li.removeClass("no-content-border")}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=f},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(9).qiniuZoom,p=n(3).parse,f=n(5),d=n(972),h=n(973),m=n(974),v=n(975);n(976);var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,c=s(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this,e,t)).$ability={style:{self:!0,compStyle:{self:!0},commonStyle:{self:!0,title:!0,display:!1,status:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0,zIndex:!0}},anim:!0},n}return t=f,(n=[{key:"isEditable",get:function(){return!1}},{key:"create$li",value:function(){return i(u(f.prototype),"create$li",this).call(this)}},{key:"create$context",value:function(){var e=this.compJson.properties,t=e.formRelevant,n=t.logo,r=t.name,o=t.contactWay,i=e.formRelevant;""===r&&(r="北京中网易企秀科技有限公司");var a,s="";s=""===n.src?"//asset.eqh5.com/material/1627455610724-q3debfr8cu.png":n.src,a=this.eqxPage.renderMode?"phone"===o||i[o].src?"phone"===o&&""===i[o]?$(p(h,{logo:l(s),name:r})):$(p(d,{logo:l(s),name:r})):$(p(h,{logo:l(s),name:r})):$(p(d,{logo:l(s),name:r}));var c=l(i[o].src),u=new Image;return u.onload=function(){},u.src=c,a}},{key:"updateName",value:function(e){var t=e;0===e.length&&(t="北京中网易企秀科技有限公司"),this.$li.find(".sponsor-name").text(t)}},{key:"changeLogo",value:function(e){var t=l(e);this.$li.find(".sponsor-logo-src").attr("src",t)}},{key:"showPrewQrCode",value:function(){var e=this.compJson.properties,t=e.formRelevant.contactWay,n=e.formRelevant,r=$(p(m,{src:l(n[t].src),closeIcon:v}));$("body").append(r),$("body").css({overflowY:"hidden"}),$(".sponsor-preview-close").on("click",(function(e){e.preventDefault(),e.stopPropagation(),$(".sponsor-preview-wrapper").remove(),$("body").css({overflowY:"auto"})}))}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;i(u(f.prototype),"bindAfterRenderEvent",this).call(this,e,t),this.$context.find(".sponsor-contact").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=n.compJson.properties.formRelevant,r=t.contactWay,o=t.phone;"phone"!==r?n.showPrewQrCode():window.location.href="tel:".concat(o)}))}}])&&o(t.prototype,n),r&&o(t,r),f}(f);e.exports=g},function(e,t){e.exports='<div class="sponsor-box">\n    <div class="sponsor-logo">\n        <img class="sponsor-logo-src" src="#{logo}">\n    </div>\n    <div class="sponsor-name">#{name}</div>\n    <div class="sponsor-contact">联系TA</div>\n</div>'},function(e,t){e.exports='<div class="sponsor-box">\n    <div class="sponsor-logo">\n        <img class="sponsor-logo-src" src="#{logo}">\n    </div>\n    <div class="sponsor-name">#{name}</div>\n</div>'},function(e,t){e.exports='<div class="sponsor-preview-wrapper">\n    <img src="#{src}">\n    <div class="sponsor-preview-text">长按识别或扫描二维码联系主办方</div>\n    <div class="sponsor-preview-close"></div>\n</div>'},function(e,t,n){e.exports=n.p+"images/close-21ae28.png"},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(978),n(979);var h=n(980),m=n(982),v=n(35),g=(n(984),n(986)),y=n(3).parse,b=n(987).getBookCompInfo,x=n(988),w=x.blockTpl,S=x.resultLabel,k=x.lessLabel,O=n(4).getUrlParam,E=n(306),C=E.showDetail,_=E.getIdByOneValue,I=(n(34).t,n(989).isString),P=n(6).showToast,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{flexLine:""}),n.eqxScene.formManager.add(f(n)),n.init(),n}return t=a,(n=[{key:"init",value:function(){this.options=this.getProp("dateSetting"),this.openId=null,this.calendars={},this.value={}}},{key:"create$context",value:function(e){if(e)return e;var t=this.compJson,n=t.id,r=t.type,o=t.properties,i=o.required,a=o.formRelevant,s=a.title,c=a.des;this.required=i,this.name="eq[f_reservations_".concat(n,"]"),this.timestamp=this.eqxScene.config.currentTime,this.openId=null;var u=s.content,l=c.content;this.$reservation={resTitle:u,resDes:l};var p=this.$context=$(y(g,{id:n,type:r,title:u,des:l}));return this.$options={},"showLast"===O("sourceType")?(p.find(".reservation-content").html(C(this)),p.find(".reservation-content").css({height:"100%",paddingBottom:0})):(this.options.forEach(this.renderOption.bind(this)),1===this.options.length&&(this.openId=this.options[0].id,this.$options[this.openId].find(".reservation_option_label").addClass("hide")),this.updateOpen()),this.value={},this.updateFormCompCss(),setTimeout(this.updateHeight.bind(this),300),this.$context}},{key:"renderOption",value:function(e){var t=e.id,n=e.title,r=e.isDefault,o=void 0!==r&&r,i=e.dateStyle.type,a=this.getProp("isMultiple"),s=$(y(w,{id:t,title:n}));a&&s.addClass("mutilple");var c=this.eqxPage.getFormStyle("border")||{};s.css({borderStyle:c.borderStyle,borderColor:c.color}),this.$context.find(".reservation-content").append(s);var u=s.find(".dateBox");o&&(this.openId=t);var l=m;0==~~i&&(l=h);var p=new l({$container:u,comp:this,timestamp:this.timestamp,data:e,setValue:this.setValueByOption.bind(this,t)});this.calendars[t]=p,this.$options[t]=s}},{key:"updateOpen",value:function(){var e=this.openId;this.$context.find(".reservation_option").each((function(t,n){Number(n.dataset.id)===Number(e)?$(n).addClass("open"):$(n).removeClass("open")})),this.updateHeight()}},{key:"create$li",value:function(){return c(d(a.prototype),"create$li",this).call(this),this.$formComp.css({"border-width":"0px"}),this.$li}},{key:"updateBookInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calendars[e];return t?(t.update(),t instanceof m&&t.bindEvent(),!0):(Object.values(this.calendars).forEach((function(e){e.update(),e instanceof m&&e.bindEvent()})),!0)}},{key:"getBookInfo",value:function(e){return b(Object.assign(e,{pageId:this.eqxPage.id,elementIds:this.id}))}},{key:"bindAfterRenderEvent",value:function(){var e=this;"showLast"!==O("sourceType")&&(this.$formComp.on("click",".toast",(function(e){e.currentTarget.dataset.hint&&P(e.currentTarget.dataset.hint)})),this.$formComp[0].addEventListener("click",(function(t){var n=t.target;if(t.target.classList.contains("reservation_option_label")&&(~~e.openId==~~t.target.dataset.id?e.openId=null:e.openId=t.target.dataset.id,e.updateOpen(),t.stopPropagation()),n.classList.contains("cancelValue")){var r=n.dataset.scopeid,o=$(n).parents(".reservation_option").data("id");e.calendars[o].setValue(r)}})),this.options&&this.options.map((function(t){return e.calendars[t.id].bindEvent.call(e.calendars[t.id])})))}},{key:"updateSetting",value:function(e){var t=e.dateSetting,n=e.isMultiple,r=e.dateSeq;this.setProps({dateSetting:t,isMultiple:n,dateSeq:r}),this.init(),this.updateRender()}},{key:"updateRender",value:function(){var e=this;this.updateCompForRender(),setTimeout((function(t){e.$li&&(e.$li.css({height:""}),e.update$li({height:e.$li.outerHeight()}))}))}},{key:"check",value:function(){var e=this.ruleHide?"（跳过）":this.getValue(),t={success:!0,pageId:this.pageId,key:this.name,value:e,elementId:this.id};return e&&","!=e||!this.required||(t.success=!1,t.message="".concat("该项","为必填项")),t}},{key:"bindRuleEvent",value:function(e){var t=this;this.ruleIds=this.ruleIds||[],this.ruleIds.push(e),this.on("value.change",(function(e){t.eqxPage.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getValue())}))}},{key:"getValue",value:function(){var e="";return this.value?(e=this.getValueToBackend(e)).length?JSON.stringify(e):"":e}},{key:"getValueToBackend",value:function(){var e=this,t=1===this.options.length;return Object.keys(this.value).map((function(n){if(!e.value[n].length)return null;var r=e.options.find((function(e){return~~e.id==~~n})),o=r.id,i=r.title,a=r.dateStyle.type;return{id:o,title:t?"":i,type:a,periods:e.value[n]}})).filter((function(e){return e}))}},{key:"getValueInfo",value:function(){var e=c(d(a.prototype),"getValueInfo",this).call(this),t=1===this.options.length,n=this.getProp("isMultiple"),r=this.options.filter((function(e){return n||e.isDefault})).map((function(e){return"".concat(!t&&e.title+"："||"","2020-02-02")+(1===Number(e.dateStyle.type)?" 21:00-23:00":"")})).join("\r\n");e.editLabel=r;var o=this.getValueToBackend();if(!o)return e;var s=o.map((function(e){return"".concat(!t&&e.title+"："||"").concat(e.periods.map((function(e){return"".concat(e.date)+(e.scope?" ".concat(e.scope):"")})).join("、"))})).join("\r\n");return i(i({},e),{},{value:o,label:s})}},{key:"setValueByOption",value:function(e,t){var n=t;if(I(t[0])&&(n=t.map((function(e){return{id:null,scope:null,date:e}}))),!this.getProp("isMultiple")){var r=Object.keys(this.value)[0];r&&~~e!=~~r&&this.calendars[r]&&(this.value={},this.calendars[r].clearValue())}this.value[e]=n,this.eqxPage.EqxFormRulesTrigger&&this.ruleIds&&this.eqxPage.EqxFormRulesTrigger.listen(this.ruleIds,this.id,this.getValue()),this.updateResult()}},{key:"updateResult",value:function(){var e=this;this.options.forEach((function(t){var n=t.id,r=t.maxChose,o=t.dateStyle.type,i=e.value[n],a=e.$options[n];if(a.find(".resBox").html(""),r>1){var s=a.find(".lessBox");s&&0!==s.length||(a.find(".resBox").append($(y(k,{dateStr:o?"时间段":"日期"}))),s=a.find(".lessBox")),s.find(".lessNum").text(r-(i&&i.length||0))}var c="addClass";i&&i.length||(c="removeClass"),a.find(".muitlIcon")[c]("active"),i&&i.forEach((function(e){a.find(".resBox").append($(y(S,{id:_(e),content:"已选：".concat(e.date," ").concat(e.scope||"")})))}))})),this.updateHeight()}},{key:"getRealValueForTrigger",value:function(){return this.getValue()}},{key:"updateHeight",value:function(){var e=this;if(this.$li){var t=this.getProp("formRelevant").des.content;if(this.$formDes&&!t&&this.updateFormDes(this.compJson.properties.formRelevant.des.content),this.$li.css({height:""}),this.$li.find(".form-comp-box").css({height:"auto"}),this.observer&&this.observer.disconnect(),!this.$li[0].offsetHeight)return this.observer=new MutationObserver((function(){e.observer.disconnect(),e.$li&&e.updateHeight()})),void this.observer.observe(this.$li[0],{attributes:!0,childList:!0,subtree:!0});this.update$li({height:this.$li.outerHeight()}),this.updatePageHeight()}}},{key:"updateFormCompCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(i({},this.eqxPage.getFormStyle("border")||{}),e);Object.values(this.$options).forEach((function(e){e.css({borderStyle:t.borderStyle,borderColor:t.borderColor,borderWidth:Math.min(~~t.borderWidth,4)})}))}},{key:"autoFill",value:function(e,t){var n=this;if(!String(e).includes("（跳过）"))try{var r=JSON.parse(e);if(!Array.isArray(r))throw new Error("格式错误");r.forEach((function(e){var r=e.id,o=e.periods,i=void 0===o?[]:o,a=e.type,s=n.calendars[r];s&&~~s.props.dateStyle.type===a&&s.autoFill(i,t)}))}catch(t){console.log("预约 回显格式错误",e)}}}])&&s(t.prototype,n),r&&s(t,r),a}(v);e.exports=T},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(981),l=n(3).parse,p=n(304),f=(n(4).getUrlParam,n(305)),d=f.isAdvanceTime,h=f.isOutAfterDay,m=p.weekArr,v=function(){function e(t){var n=t.timestamp,r=t.comp,o=t.$container,i=t.data,s=t.setValue;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=a(a({},i),{},{setValue:s}),this.timestamp=n,this.$container=o,this.comp=r,this.eqxPage=r.eqxPage,this.value=[];var c=p.getDateDetail(this.timestamp),u=c.year,l=c.month,f=c.day;this.year=u,this.month=l,this.render(u,l,f),this.id=this.comp.id,this.isSlectedDate=!0,this.lastValue=[]}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=this.date.currentDate;this.render(e.year,e.month,1)}},{key:"render",value:function(e,t,n){var r=this;this.$container.empty(),this.initDate(e,t,n),this.createHead(),this.createBody(),this.bindData().then((function(){r.addSelected(),r.update$liHeight()})).catch((function(){}))}},{key:"createHead",value:function(){var e=this.date.currentDate.month>this.month||this.date.currentDate.year>this.year?"flex":"none",t=this.date.nextDate,n=t.year,r=t.month,o=t.day,i=void 0===o?[]:o,a="".concat(n,"-").concat(r,"-").concat(i[0]),s="flex",c=this.disabledDateOther(a),p=this.props.dateScope,f=p.type,d=p.endTime;(c&&"out"===c.type||f&&this.disabledBeforeDate(a,d))&&(s="none");var h=$(l(u,{month:this.date.currentDate.month,year:this.date.currentDate.year,display:e,dispalyNext:s,selectDate:this.date.selectDate}));this.$container.append(h)}},{key:"createBody",value:function(){var e,t="",n="",r=Math.ceil(this.dateArr.length/7);m.forEach((function(e){t+='<div class="week">'.concat(e,"</div>")}));for(var o=0;o<r;o++){n+='<div class="day-line">';for(var i=0;i<7;i++)n+=this.createTd(this.dateArr[i+7*o]),6===i&&(n+="</div>")}e=$('<div class="calendar-title">\n                    '.concat(t,'\n                </div>\n                <div class="calendar-body">\n                    ').concat(n,"\n                </div>")),this.$month=e,this.$container.find(".reservation-wraper").html(e)}},{key:"createTd",value:function(e){var t=this.disabledDateOther(e.y),n=t?"readOnly":"";n=this.disabledBeforeDate(e.y)?"disabled":n;var r="";return t&&"disabled"!==n&&(n+=" toast",r="before"===t.type?"该项目需提前".concat(t.time,"天预约"):"只能预约".concat(t.time,"天内的时段")),'<div class="day '.concat(t?"":e.cssName," ").concat(n,'" data-date="').concat(e.y,'" data-year="').concat(e.year,'" data-month="').concat(e.month,'"\n        data-hint="').concat(r,'"\n        ><span class="default">').concat(e.d,'</span><div><span class="date">').concat(e.d,'</span><span class="text" ></span></div>\n</div>')}},{key:"dateStatus",value:function(e,t){var n=this.disabledDateOther(t);return e>99||null===e||""===e?{text:"充足",className:"active",disabled:n}:e>0&&e<100?{text:"余"+e,className:"active",disabled:n}:e<=0?{text:"约满",className:"active no",disabled:!0}:void 0}},{key:"showStatus",value:function(e,t){var n=new Date(e[0]).getTime(),r=new Date(e[1]).getTime(),o=new Date(t).getTime(),i=this.disabledBeforeDate(t);return o>=n&&o<=r&&!i}},{key:"disabledBeforeDate",value:function(e,t){return t||(t=e,e=(new Date).toLocaleDateString()),(e=e.replace(/-/g,"/"))!==(t=t.replace(/-/g,"/"))&&new Date(t).getTime()-new Date(e).getTime()<0}},{key:"disabledDateOther",value:function(e){var t=this.props,n=t.advanceTime,r=t.maxAfterDay;return n&&!d(e,n)?{type:"before",time:n}:!(!r||!h(e,r))&&{type:"out",time:r}}},{key:"bindData",value:function(){var e,t=this,n=this.props,r=n.dateStyle,o=r.scope,i=r.enable,a=n.dateScope,s=a.type,c=a.startTime,u=a.endTime,l={};o.forEach((function(e){l[e.week]=e.num}));var p=Array.from(this.dateArr,(function(e,t){var n=t%7==0?7:t%7;return{date:e.y,week:n,num:l[n]}})),f=this.comp.eqxScene.config,d=f.mode,h=f.disableSubmit;if("view"!==d||h){this.date.currentDay;var m={};(p=p.filter((function(e){return void 0!==l[e.week]&&(e.num=l[e.week]),0!=s?void 0!==l[e.week]&&!t.disabledBeforeDate(c,e.date)&&!t.disabledBeforeDate(e.date,u):void 0!==l[e.week]}))).forEach((function(e){m[e.date]=e.num})),e=Promise.resolve(m)}else{var v=this.getMonthRange(),g=v.startTime,y=v.endTime;e=new Promise((function(e,n){t.comp.getBookInfo({type:0,startTime:g,endTime:y}).then((function(r){var o=r.obj.find((function(e){return~~e.id==~~t.props.id}))||{dataList:{}};r.success?e(t.adaptBookData(o.dataList,p)):n()}))}))}return e.then((function(e){e&&Object.keys(e).forEach((function(n){var r=t.$month.find("[data-date=".concat(n,"]"));if(r.length>0&&!r.hasClass("disabled")){var o=t.dateStatus(i?e[n]:null,n);r.find(".default").addClass("hide"),r.find(">div").addClass("".concat(o.className," show")).find(".text").text(o.text).data("title",o.text),o.disabled||r.addClass("active")}}))}))}},{key:"adaptBookData",value:function(e,t){var n=this;return t.forEach((function(t){void 0!==e[t.date]&&(e[t.date]=null===t.num||void 0===t.num||""===t.num?null:t.num-(e[t.date]||0)),n.lastValue.includes(t.date)&&(e[t.date]=(~~e[t.date]||0)+1)})),e}},{key:"getMonthRange",value:function(){var e=this.date,t=e.preDate,n=e.nextDate,r=e.currentDate;return{startTime:t.day.length?this.joinDate(t.year,this.perfectNum(t.month),this.perfectNum(t.day[0])):this.joinDate(r.year,this.perfectNum(r.month),this.perfectNum(r.day[0])),endTime:n.day.length?this.joinDate(n.year,this.perfectNum(n.month),this.perfectNum(n.day[n.day.length-1])):this.joinDate(r.year,this.perfectNum(r.month),this.perfectNum(r.day[r.day.length-1]))}}},{key:"bindEvent",value:function(){var e=this;this.$container.on("click",".calendar-head .left",(function(t){var n=$(t.currentTarget).attr("type");e[n]&&e[n]()})),this.$container.on("click",".calendar-body .day.active .active,.calendar-body .day .selected.no ",(function(t){var n=$(t.currentTarget).parent(),r=n.data("date"),o=n.data("month"),i=n.data("year"),a=e.date.currentDate,s=a.year,c=a.month;return s==i&&c<o||s<i&&c>o?e.next():s==i&&c>o||s>i&&c<o?e.pre():e.select(r),e.setValue(r,t.currentTarget)}))}},{key:"select",value:function(e){this.$month.find("[data-date=".concat(e,"] .active")).addClass("selected").show().find(".text").html("已选")}},{key:"updateDomByValue",value:function(){var e=this;this.$month.find(".day .active").each((function(t,n){var r=$(n),o=r.parent().data("date");if(e.value.includes(o))r.addClass("selected").show().find(".text").html("已选");else{var i=r.find(".text").data("title");r.removeClass("selected").find(".text").html(i)}}))}},{key:"clearValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.value=[],this.updateDomByValue(),e&&this.props.setValue(this.value),this.comp.fire("value.change")}},{key:"setValue",value:function(e){if(this.value.includes(e))this.value=this.value.filter((function(t){return t!==e}));else{var t=~~this.props.maxChose;this.value.length>=t&&this.value.pop(),this.value.push(e)}this.updateDomByValue(),this.props.setValue(this.value),this.comp.fire("value.change")}},{key:"update$liHeight",value:function(){this.comp.$li.css({height:""}),this.comp.update$li({height:this.comp.$li.outerHeight()})}},{key:"next",value:function(){var e=this.date.nextDate,t=e.year,n=e.month;this.render(t,n,1)}},{key:"pre",value:function(){var e=this.date.preDate,t=e.year,n=e.month;this.render(t,n,1)}},{key:"addSelected",value:function(){this.value&&this.value.forEach(this.select.bind(this))}},{key:"getValue",value:function(){return this.value}},{key:"autoFill",value:function(e,t){var n=this;e.map((function(e){var t=e.date;n.lastValue.push(t),n.setValue(t)}))}},{key:"initDate",value:function(e,t,n){var r=p.getCalendarDays(e,t,n),o=r.preDate,i=r.currentDate,a=r.nextDate,s=r.currentDay;this.date={preDate:o,currentDate:i,nextDate:a,selectDate:"",currentDay:this.joinDate(s.year,this.perfectNum(s.month),this.perfectNum(s.day))},this.getDays()}},{key:"getDays",value:function(){var e,t,n,o=this.date,i=o.preDate,a=o.currentDate,s=o.nextDate;this.dateArr=[],i.day.length&&(e=this.dateArr).push.apply(e,r(this.formatDate(i,"pre"))),(t=this.dateArr).push.apply(t,r(this.formatDate(a,"current"))),s.day.length&&(n=this.dateArr).push.apply(n,r(this.formatDate(s,"next")))}},{key:"formatDate",value:function(e,t){var n=this,r="pre"==t||"next"==t?"grey":"";return e.day.map((function(t){var o=n.perfectNum(e.month),i=n.perfectNum(t),a="".concat(e.year,"-").concat(o,"-").concat(i);return{year:e.year,month:e.month,d:t,y:a,num:null,cssName:r}}))}},{key:"perfectNum",value:function(e){return e<10?"0"+e:e}},{key:"joinDate",value:function(e,t,n){return e+"-"+t+"-"+n}}])&&c(t.prototype,n),o&&c(t,o),e}();e.exports=v},function(e,t){e.exports='<div style="overflow: hidden">\n    <div class="calendar-head">\n        <div class="left month-pre" type="pre" style="display:#{display}"><i class="eqf-left"></i></div>\n        <div class="text">#{year}年<span>#{month}月</span></div>\n        <div class="left right month-next" type="next" style="display:#{dispalyNext}"><i class="eqf-right"></i></div>\n    </div>\n    <div class="reservation-wraper"></div>\n    \x3c!-- <div class="select-date">已选择时间：<span>未选择</span></div> --\x3e\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(126),h=d.dateFormat,m=d.getWeekDayNumber,v=n(306).getIdByOneValue,g=n(983),y=n(305),b=y.isAdvanceTime,x=y.isOutAfterDay,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,r,o=l(a);function a(e){var t,n=e.timestamp,r=e.comp,s=e.$container,c=e.data,u=e.setValue;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).props=i(i({},c),{},{setValue:u}),t.timestamp=n||+new Date,t.comp=r,t.$outContainer=s,t.required=r.compJson.properties.required,t.lastValue=[],t.init(),t.render(),t}return t=a,(n=[{key:"scopeData",get:function(){return this.props.dateStyle.scope||[]}},{key:"init",value:function(){this.value=[],this.selectNumId="",this.offsetDay=0,this.currentDateStr=h(new Date(this.timestamp),"yyyy-MM-dd"),this.weekDayData={},this.props.dateStyle.differenceType;var e=this.scopeData,t={};e.filter(this.filterDay.bind(this,this.timestamp)).forEach((function(e){t[e.startTime+"-"+e.endTime]=0})),this.weekDayData[this.currentDateStr]=t}},{key:"render",value:function(){c(f(a.prototype),"render",this).call(this),this.renderHeader(),this.renderSubHeader(),this.renderBody(),this.bindData(),this.initDomStatusClass(),this.$outContainer.append(this.$container)}},{key:"update",value:function(){this.$container,c(f(a.prototype),"updateRender",this).call(this),this.renderHeader(),this.renderSubHeader(),this.renderBody(),this.bindData(),this.initDomStatusClass()}},{key:"renderHeader",value:function(){var e=this.get7Days(),t=$("<span>".concat(h(e[0],"yyyy年MM月dd日")+" - "+h(e[6],"yyyy年MM月dd日"),"</span>"));this.$header.append(t)}},{key:"renderSubHeader",value:function(){var e=this.get7Days(),t=$('<ul class="sub-title"></ul>');e.forEach((function(e){var n='<li data-date-str="'.concat(h(e,"yyyy-MM-dd"),'"><span>周').concat("日一二三四五六".charAt(e.getDay()),"</span><span>").concat(h(e,"MM.dd"),"</span></li>");t.append(n)})),this.$subHeader.append(t)}},{key:"renderBody",value:function(){var e=this,t=this.getTimeRanges(),n=Object.keys(t);n=this.sortTimes(n);var r=$('<ul class="time-range-list"></ul>');if(this.scopeData,n.length>0)n.forEach((function(n){var o=e.getStatusClassAndDesc(e.currentDateStr,n,t[n]),i=o.id,a=o.desc,s=o.cls,c=o.hint;if(!i)return null;var u='<li class="time-range-item '.concat(s,'" data-id="').concat(i,'" data-date-time-str="').concat(e.currentDateStr+" "+n,'" data-num="').concat(t[n],'"   data-hint="').concat(c,'"\n                ><span class="time">').concat(n,'</span><span class="status" data-title="').concat(a,'">').concat(a,"</span></li>");r.append(u)}));else{var o="无可预约时间段";this.props.dateStyle.scope.length<1&&(o="暂未设置预约时段"),r.append('<li class="time-no">'.concat(o,"</li>"))}this.$body.append(r),this.comp.updateHeight()}},{key:"bindEvent",value:function(){c(f(a.prototype),"bindEvent",this).call(this),this.bindNextAndPreEvent(),this.bindEventForSubHeader(),this.bindEventForSelectTimeRange()}},{key:"bindNextAndPreEvent",value:function(){var e=this;this.$header.on("click",".month-pre",(function(t){e.offsetDay-=7,e.updateRender(),e.bindData()})),this.$header.on("click",".month-next",(function(t){e.offsetDay+=7,e.updateRender(),e.bindData()}))}},{key:"bindEventForSubHeader",value:function(){var e=this;this.$subHeader.on("click","li:not(.disable)",(function(t){var n=$(t.currentTarget).data("dateStr");e.currentDateStr=n,e.showActiveDate(n),e.updateTimeRangeRender()}))}},{key:"bindEventForSelectTimeRange",value:function(){var e=this;this.$body.on("click",".time-range-list li.able",(function(t){var n=$(t.currentTarget).data("dateTimeStr"),r=$(t.currentTarget).data("id");e.setValue(r,n)}))}},{key:"filterDay",value:function(e,t){return 0===this.props.dateStyle.differenceType||m(e)===t.week}},{key:"showActiveDate",value:function(e){this.$subHeader.find("li").removeClass("active"),this.$subHeader.find("[data-date-str=".concat(e,"]")).addClass("active")}},{key:"updateSubHeaderSelected",value:function(){var e=this;this.$subHeader.find("li").removeClass("selectd"),this.value.forEach((function(t){var n=t.date;e.$subHeader.find("[data-date-str=".concat(n,"]")).addClass("selectd")}))}},{key:"clearValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.value=[],this.updateTimeRangeRender(),this.updateSubHeaderSelected(),e&&this.props.setValue(this.value),this.comp.fire("value.change")}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=v({id:e,date:String(t).split(" ")[0]}),r=t;if(this.value.find((function(e){return v(e)===n})))this.value=this.value.filter((function(e){return v(e)!==n}));else{var o=~~this.props.maxChose||1;if(this.value.length>=o&&this.value.pop(),!r){var i=this.props.dateStyle.scope,a=void 0===i?[]:i,s=a.find((function(e){return~~e.id==~~n}));if(!s)return;r="".concat(this.currentDateStr," ").concat(s.startTime,"-").concat(s.endTime)}this.value.push({id:~~e,date:t.split(" ")[0],scope:t.split(" ")[1]})}this.props.setValue(this.value),this.updateTimeRangeRender(),this.updateSubHeaderSelected(),this.comp.fire("value.change")}},{key:"select",value:function(e,t){this.setValue(t,e)}},{key:"updateRender",value:function(){c(f(a.prototype),"updateRender",this).call(this),this.renderHeader(),this.updatePreAndNext(),this.renderSubHeader(),this.updateSubHeaderSelected(),this.renderBody(),this.bindEvent()}},{key:"updateTimeRangeRender",value:function(){this.$body.empty(),this.renderBody()}},{key:"bindData",value:function(){var e,t=this,n=this.comp.eqxScene.config,r=n.mode,o=n.disableSubmit;if("view"!==r||o){var i=this.getInitData();e=Promise.resolve(i)}else{var a=this.get7Days(),s=h(a[0],"yyyy-MM-dd"),c=h(a[6],"yyyy-MM-dd");e=this.comp.getBookInfo({type:1,startTime:s,endTime:c}).then((function(e){return(e.obj.find((function(e){return~~e.id==~~t.props.id}))||{dataList:t.getInitData()}).dataList}))}e.then((function(e){t.weekDayData=e||{},t.initDomStatusClass(),t.currentDateStr=t.$subHeader.find("li.active").data("date-str"),t.updateTimeRangeRender()}))}},{key:"getInitData",value:function(){var e=this,t={},n=this.props.dateStyle.scope,r=this.props.dateStyle.weeks;return this.get7Days().forEach((function(o){var i=o.getDay();if(i=0==i?7:i,r.includes(i)){var a=t[h(o,"yyyy-MM-dd")]={};n.filter(e.filterDay.bind(e,o)).forEach((function(e){a[e.startTime+"-"+e.endTime]=0}))}h(o,"yyyy-MM-dd")})),t}},{key:"initDomStatusClass",value:function(){var e=this,t=this.props.dateScope,n=this.props.dateStyle.weeks;this.get7Days().forEach((function(r){var o=r.getDay();o=0==o?7:o;var i=h(r,"yyyy-MM-dd"),a=e.props.maxAfterDay;n.includes(o)&&"disable"!==function(e){if(0==t.type)return"";var n=t.startTime;n=n.replace(/-/g,"/");var r=t.endTime;return r=r.replace(/-/g,"/"),new Date(e)-new Date(r)>0||new Date(e)-new Date(n)<0?"disable":""}(r)?a&&x(r.toLocaleDateString(),a)&&(e.$subHeader.find("[data-date-str=".concat(i,"]")).addClass("disable toast"),e.$subHeader.find("[data-date-str=".concat(i,"]")).attr("data-hint","只能预约".concat(a,"天内的时段"))):e.$subHeader.find("[data-date-str=".concat(i,"]")).addClass("disable")})),$(this.$subHeader.find("li:not(.disable)")[0]).addClass("active")}},{key:"updatePreAndNext",value:function(){var e=this.offsetDay>0?"flex":"none";this.$header.find(".month-pre").css("display",e);var t=this.props.dateScope,n=this.props.maxAfterDay,r=this.get7Days();if(n&&x(new Date(r[6]).toLocaleDateString(),n)&&this.$header.find(".month-next").css("display","none"),0!=t.type){var o=t.endTime;o=o.replace(/-/g,"/"),new Date(r[6])-new Date(o)>0&&this.$header.find(".month-next").css("display","none")}}},{key:"get7Days",value:function(){return[0,1,2,3,4,5,6].map(this.getDateFromOffsetDate.bind(this))}},{key:"getDateFromOffsetDate",value:function(e){var t=this.props.dateScope,n=new Date(this.timestamp),r=String(t.startTime).replace(/-/g,"/");return 1==t.type&&this.timestamp<new Date(r).getTime()&&(n=new Date(r)),n.setDate(n.getDate()+this.offsetDay+e),n}},{key:"getTimeRanges",value:function(){return this.weekDayData[this.currentDateStr]||{}}},{key:"getStatusClassAndDesc",value:function(e,t,n){var r=this.getTotalNum(t,e),o=r.id,i=r.totalNum;if(!o)return{};var a=this.props,s=a.advanceTime,c=a.advanceType,u=a.maxAfterDay;n=a.dateStyle.enable?i-n:100,this.lastValue.includes("".concat(e," ").concat(t))&&(n+=1);var l={desc:"",cls:"able",id:o},p=e.replace(/-/g,"/")+" "+t.split("-")[0];return new Date(this.timestamp).getTime()-new Date(p).getTime()>0?(l.cls="expired",l.desc="",l):(n>99?l.desc="充足":n>0?l.desc="余"+n:n<=0&&(l.desc="约满",l.cls="full-appoint"),this.value.map((function(e){var t=e.date,n=e.scope;return"".concat(t," ").concat(n)})).includes("".concat(e," ").concat(t))&&(l.cls="selected able",l.desc="已选"),s&&!b(p,s,1===c?"day":"time")&&(l.cls="readOnly toast",l.hint="该项目需提前".concat(s).concat(1===c?"天":"小时","预约")),u&&x(p.split(" ")[0],u)&&(l.cls="readOnly  hint--top hint--rounded hint--panel",l.hint="只能预约".concat(u,"天内的时段")),l)}},{key:"getTotalNum",value:function(e,t){var n=this.props.dateStyle,r=n.scope,o=n.differenceType,i=r.find((function(n){return(1!==o||~~n.week===m(t))&&n.startTime==e.split("-")[0]&&n.endTime==e.split("-")[1]}));return i?{totalNum:null==i.num||""===i.num?1/0:i.num-0,id:i.id}:{}}},{key:"getValue",value:function(){return""!==this.value?this.value.replace(" ",",")+","+this.selectNumId:this.value}},{key:"autoFill",value:function(e,t){var n=this;e.forEach((function(e){var t=e.id,r=e.date,o=e.scope;n.lastValue.push("".concat(r," ").concat(o)),n.setValue(t,"".concat(r," ").concat(o))}))}},{key:"sortTimes",value:function(e){return e.sort((function(e,t){return e.localeCompare(t)}))}}])&&s(t.prototype,n),r&&s(t,r),a}(g);e.exports=w},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"render",value:function(){this.$container=$('<div class="appointment-comp-box"></div>'),this.$header=$('<div class="appointment-comp-box-header"><div class="left month-pre"><i class="eqf-left"></i></div><div class="left right month-next"><i class="eqf-right"></i></div></div>'),this.$subHeader=$('<div class="appointment-comp-box-sub-header"></div>'),this.$body=$('<div class="appointment-comp-box-body"></div>'),this.$container.append(this.$header,this.$subHeader,this.$body)}},{key:"updateRender",value:function(){this.$container.empty(),this.$header=$('<div class="appointment-comp-box-header"><div class="left month-pre"><i class="eqf-left"></i></div><div class="left right month-next"><i class="eqf-right"></i></div></div>'),this.$subHeader=$('<div class="appointment-comp-box-sub-header"></div>'),this.$body=$('<div class="appointment-comp-box-body"></div>'),this.$container.append(this.$header,this.$subHeader,this.$body)}},{key:"bindEvent",value:function(){}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(985),a=n(3).parse,s=n(304),c=s.weekArr,u=s.getCalendarDays(),l=u.preDate,p=u.currentDate,f=u.nextDate,d=([].concat(l.day,p.day,f.day),[]),h=[];function m(e){var t,n,o;e?d=e:((t=d).push.apply(t,r(g(l,"pre"))),(n=d).push.apply(n,r(g(p,"current"))),(o=d).push.apply(o,r(g(f,"next"))));console.log(JSON.parse(JSON.stringify(d)));var i,a,s,u="",m="";c.forEach((function(e){u+='<div class="week">'.concat(e,"</div>")}));for(var y=0;y<6;y++){m+='<div class="day-line">';for(var b=0;b<7;b++)m+=(i=d.shift(),a=void 0,s=void 0,a=v(i.y)?"disabled":"",s=function(e){var t={};(-1==e||null==e||e>99)&&(t={text:"充足",className:"active"});e>0<100&&(t={text:"余"+e,className:"active"});0==e&&(t={text:"约满",className:"active no",disabled:!0});return t}(i.num),'<div class="day '.concat(i.cssName," ").concat(a,'" data-date="').concat(i.y,'">\n      <span class="default">').concat(i.d,'</span>\n      <div class="').concat(s.className," ").concat(function(e,t){var n=new Date(e[0]).getTime(),r=new Date(e[1]).getTime(),o=new Date(t).getTime(),i=v(t);return o>=n&&o<=r&&!i}(h,i.y)?"show":"",'"><span>').concat(i.d,'</span><span class="text" data-title="').concat(s.text,'">').concat(s.text,"</span></div>\n    </div>")),6===b&&(m+="</div>")}return'<div class="calendar-title">\n      '.concat(u,'\n    </div>\n    <div class="calendar-body">\n      ').concat(m,"\n    </div>")}function v(e){var t=(new Date).format("yyyy-M-d");return new Date(e).getTime()-new Date(t).getTime()<0}function g(e,t){var n="pre"==t||"next"==t?"grey":"";return e.day.map((function(t){return{d:t,y:"".concat(e.year,"-").concat(e.month,"-").concat(t),num:1,cssName:n}}))}e.exports={renderCalendar:function(e){return e.id,e.type,e.resTitle,e.resDes,"\n        ".concat(m(),"\n    ")},toggleMonth:function(e,t,n,o,c){var u,l=c.y,p=c.m,f=c.d,d=[];u=s.getCalendarDays(l,p,f),d.push.apply(d,r(g(u.preDate,"pre"))),d.push.apply(d,r(g(u.currentDate,"current"))),d.push.apply(d,r(g(u.nextDate,"next")));var h=m(d);return a(i,{id:e,type:t,htmlStr:h,resTitle:n,resDes:o})},currentDate:p}},function(e,t){e.exports='<div id="reservation-weapper-#{id}" ctype="#{type}" class="element reservation-wrapper form-title-box">\n    <div class="title head-title">#{resTitle}</div>\n    <div class="des">#{resDes}</div>\n    <div class="fe-calendar-container" id="calendar-#{id}">\n        <div class="calendar-head">\n            <div class="left month-pre"><i class="eqf-left"></i></div>\n            <div class="text">2020年<span>x月</span></div>\n            <div class="left right month-next"><i class="eqf-right"></i></div>\n        </div>\n        #{htmlStr}\n    </div>\n</div>'},function(e,t){e.exports='<div class="form-title-box">\n    <div class="head-title">#{title}</div>\n</div>\n<div class="form-des-box">\n    <div>#{des}</div>\n</div>\n<div class="form-comp-box">\n    <div class="reservation-content">\n\n    </div>\n</div>'},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={getBookCompInfo:function(e){var t=e.pageId;return r({type:"GET",url:o.LONG_PAGE_PREVIEW+"form/element/reservation/".concat(t),data:e})}}},function(e,t,n){"use strict";e.exports={blockTpl:'\n    <div data-id="#{id}" class="reservation_option">\n        <div class="reservation_option_label" data-id="#{id}">\n        <em class="muitlIcon" />\n        <span class="reservation_option_title">#{title}</span>\n        <em class="eqf-menu-down openIcon" />\n        </div>\n        <div class="dateBox"></div>\n        <div class="resBox"></div>\n    </div>\n',resultLabel:"\n<div class=\"resultLabel\" date-scopeid='#{id}' >\n#{content}\n<em class=\"eqf-no cancelValue\" data-scopeid='#{id}' />\n</div>\n",lessLabel:'<div class="lessBox">还可选<span class="lessNum">0</span>个#{dateStr}</div>'}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])m(c)||!x(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return g(o)||(o=l(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(k(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return p(n)}var u,x="",O=!1,E=["{","}"];(d(n)&&(O=!0,E=["[","]"]),k(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),S(n)&&(x=" "+p(n)),0!==a.length||O&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=O?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)I(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,O)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,x,E)):E[0]+x+E[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return x(e)&&"[object RegExp]"===O(e)}function x(e){return"object"==typeof e&&null!==e}function w(e){return x(e)&&"[object Date]"===O(e)}function S(e){return x(e)&&("[object Error]"===O(e)||e instanceof Error)}function k(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=x,t.isDate=w,t.isError=S,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(990);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",_(),t.format.apply(t,arguments))},t.inherits=n(991),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(T,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(123))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";n(993);n(0).mobilecheck;var r=n(0).isPc,o=n(1);function i(e){e.layout,e.hasLink;var t=e.src,n=e.text,r=(e.link,e.icon),i=e.modalParam,a=i.popUpPic?"".concat(o.FILE).concat(i.popUpPic):t,s=i.adLink,c=$('<div class="moadl-content"></div>');c.prepend('<img src="'.concat(a,'"/>'));var u=$('<div class="moadl-btn"><img src="'.concat(r,'"><span>').concat(n,"</span></div>")),l=$('<div class="moadl-close"><span class="eqf-no-l submit-close" style="font-size: 24px;color: #fff;"></span></div>');return s&&c.on("click",(function(){location.href=s})),$('<div class="moadl-box">').append($('<div class="moadl-form">').append(c,u,l))}e.exports={$img:function(e){var t=e.id,n=e.type,r=e.src,o=(e.css,e.padding),i='<div style="height:100%"><button style="display: block;width: 100%;height: 100%; padding: '.concat(o,';" data-event="11201"\n                        id="').concat(t,'" ctype="').concat(n,'" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="').concat(r,'" />\n                </button></div>');return $(i)},$btn:function(e){var t=e.id,n=e.type,r=e.title,o=e.css,i=r?r.replace(/ /g,"&nbsp;"):"",a='<div style="height:100%"><button style="display: block;width: 100%;height: 100%;background-color:'.concat(o.backgroundColor,'" \n                        id="').concat(t,'" ctype="').concat(n,'" data-event="11201"\n                        class="element comp_button editable-text" >').concat(i,"</button></div>");return $(a)},modal:function(e,t,n,o,i,a,s,c){var u=function(e){var t=e.layout,n=e.hasLink,r=e.src,o=e.text,i=e.link,a=$('<div class="feedback-content"><span>'.concat(o,"</span></div>")),s=$('<div class="feedback-btn"></div>');r&&("rating-m"===t?a.prepend('<img class="up" src="'.concat(r,'"/>')):"rating-s"===t?a.append('<img class="down" src="'.concat(r,'"/>')):"rating-l"===t&&a.prepend('<img class="up ico" src="'.concat(r,'"/>')));n?s.append('<a class="feedback-close left">关闭</a><a class="right" href="'.concat(i,'">查看详情</a>')).addClass("line"):s.append('<a class="feedback-close">关闭</a>');return $('<div class="feedback-box">').append($('<div class="feedback-form">').append(a,s))}({layout:t,hasLink:n,src:o,text:i,link:a}),l=$(e).parents(".nr");u.appendTo(l);var p=u.find(".feedback-form"),f=u.find(".feedback-close");(!r()||c&&"pc"==c.previewMode)&&p.css({position:"fixed"});f.on("click",(function(){u.animate({opacity:0},{duration:300,complete:function(e){return u.remove()}})}))},newWrapper:i,newModal:function(e,t,n,o,a,s,c,u,l,p){var f=i({layout:t,hasLink:n,src:o,text:a,link:s,icon:l,modalParam:p}),d=$(e).parents(".nr");f.appendTo(d);var h=f.find(".moadl-form"),m=f.find(".submit-close");(!r()||u&&"pc"==u.previewMode)&&h.css({position:"fixed"});m.on("click",(function(){f.animate({opacity:0},{duration:300,complete:function(e){return f.remove()}})}))}}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(61),p=(n(86).perfectPage,n(33).perfectComp,n(146),n(4).getUrlParam,n(0).isPc,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e,t)).css.zIndex=500,n}return t=l,(n=[{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);return e.css("z-index","500"),e.find(".comp_button").css("cursor","pointer"),e}},{key:"handlerClick",value:function(){"view"===this.eqxScene.config.mode&&window.initAdFunction&&window.initAdFunction(this.eqxPage),this.eqxScene,this.eqxScene.changeCurrentPage(2)}},{key:"pauseVideo",value:function(){this.eqxPage.getEqxComps().forEach((function(e){"o"===e.type&&e.pauseVideo()}))}}])&&o(t.prototype,n),r&&o(t,r),l}(l));e.exports=p},function(e,t,n){e.exports=n.p+"images/bottomMark-8858cd.gif"},function(e,t,n){e.exports=n.p+"images/flowAd-9eac91.jpg"},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(101).scoreFormat,p=(n(1),n(29).addGlobalStyle,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"dynamicContent",value:function(){var e=this.eqxScene,t=e.config,n=t.mode,r=(t.isInnerView,t.renderMode,t.selector),o=t.isSubmitTemplate,i=e.formManager.totalScore,a=i;"view"===n&&-1===r.indexOf("thumbnail-sub")&&(o||(a=parseFloat(i).toFixed(1),a=l(a)));var s=this.eqxPage.getProp("condition").max;return"edit"!==n||o||(a=void 0===s?100:s),{type:"showScore",score:a}}},{key:"updateContent",value:function(e){$(".main-page li[eqx-id=".concat(this.id,"] .new-text")).html(e),this.$li.css({height:"auto"}),this.update$li({height:this.$li.outerHeight()}),this.autoAdjustSize()}}])&&i(t.prototype,n),r&&i(t,r),u}(n(60)));e.exports=p},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(61),p=n(4).openUrl,f=n(6).linkRiskIframeModal,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e,t)}return t=l,(n=[{key:"create$li",value:function(){var e=i(u(l.prototype),"create$li",this).call(this);return e.find(".comp_button").css("cursor","pointer"),e}},{key:"handlerClick",value:function(){var e=this,t=this.getProp("link");String(t).includes("//")||(t="//".concat(t)),this.eqxScene.formManager.checkGcVerifyCode(t).then((function(t){var n=t.risk,r=t.link;n?f(r,e.eqxScene):p(r)}))}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(73),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),c.call(this,e,t)}return t=p,(n=[{key:"create$li",value:function(){var e=i(u(p.prototype),"create$li",this).call(this);return e.find(".comp_button").css("cursor","pointer"),e}},{key:"handlerClick",value:function(){l.renderVoteResult(this.eqxScene.getFormPage(),"",{})}}])&&o(t.prototype,n),r&&o(t,r),p}(n(61));e.exports=p},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(1002),p=n(61),f=(n(16).getRatio,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=c.call(this,e,t)).innerNotHeight=!1,$.extend(!0,n.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1,initSubmitCount:0,flexLine:"w,e"}),n}return t=p,(n=[{key:"create$li",value:function(){var e,t=this,n=this.compJson.properties.config.mode;if(e=i(u(p.prototype),"create$li",this).call(this),n){var r=parseInt(this.compJson.css.height,10);this.loadContent=l.renderRankingList(e,this.compJson,this.eqxScene.getFormPage()).then((function(e){var n,o;t.diffHeight=e-(null===(n=t.$li)||void 0===n||null===(o=n.find(".ranking-table"))||void 0===o?void 0:o.outerHeight())||r,t.diffHeight&&"view"===t.eqxScene.config.mode&&(t.$li.css({height:"auto"}),e=t.$li.outerHeight(),t.diffHeight=e-r,t.update$li({height:t.$li.outerHeight()}),t.updateCss({height:t.$li.outerHeight()}),t.eqxPage.awitUpdate())}))}else e.find(".comp_button").css("cursor","pointer");return e}},{key:"handlerClick",value:function(){this.compJson.properties.config.mode||l.renderRankingPage(this.eqxScene.getFormPage(),this.compJson)}},{key:"updateSize",value:function(e,t){var n=this.compJson.properties.config,r=n.showOtherInfo,o=n.showHeadPortrait,a=n.showName;if(n.mode){var s=2;r&&(s+=1),o&&(s+=1),a&&(s+=1);var c=60*s;parseInt(t.width)<c&&(t.width=c)}i(u(p.prototype),"updateSize",this).call(this,e,t)}},{key:"updateConfig",value:function(e){var t=this.compJson.properties.config,n=t.mode,r=t.showOtherInfo,o=t.showHeadPortrait,i=t.showName;this.compJson.properties.config=Object.assign(this.compJson.properties.config,e);var a=this.compJson.properties.config,s=a.mode,c=a.showNumber,u=a.showOtherInfo,l=a.showHeadPortrait,p=a.showName,f=u!==r||l!==o||p!==i;if(s){var d=52*c+48;this.compJson.css.height="".concat(d,"px")}n===s||s?n!==s?(this.compJson.css.top=parseInt(this.compJson.css.top,10)-82+"px",this.compJson.properties.config.btnWidth=this.compJson.css.width,this.compJson.properties.config.btnLeft=this.compJson.css.left,this.compJson.css.width=this.compJson.properties.config.tableWidth||"320px",this.compJson.css.left=this.compJson.properties.config.tableLeft):s&&f&&this.updateSize(this.compJson.css,JSON.parse(JSON.stringify(this.compJson.css))):(this.compJson.properties.config.tableWidth=this.compJson.css.width,this.compJson.properties.config.tableLeft=this.compJson.css.left,this.compJson.css.width=this.compJson.properties.config.btnWidth||"148px",this.compJson.css.height="36px",this.compJson.css.left=this.compJson.properties.config.btnLeft,this.compJson.css.top=parseInt(this.compJson.css.top,10)+82+"px"),this.updateCompForRender(),this.autoAdjustSize()}}])&&o(t.prototype,n),r&&o(t,r),p}(p));e.exports=f},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(1003);var i,a,s,c,u,l,p=n(16).getRatio,f="https://lib.eqh5.com/%40eqxiu-res/form/images/submitPage/",d=n(0),h=n(148).$getRankingList,m=n(148).$getMockRankingList,v=n(7).getWeChatUser,g="".concat(f,"headPortrait.png"),y="".concat(f,"first.png"),b="".concat(f,"second.png"),x="".concat(f,"third.png"),w="".concat(f,"headBackground.png"),S="".concat(f,"cup.png"),k=(n(56).getAd,n(3).parse);n(1),n(38).createWeappAd;e.exports={renderRankingPage:function(e,t){var n=function(e){var t,n,r="pcRender"===e.renderMode?"pc-render":d.mobilecheck()?"mobile":"",o=$('<div class="ranking-list-box '.concat(r,'">\n                <div>\n                    <div class="head">\n                        <img class="back-image" src="').concat(w,'" />\n                        <span class="title">考试排行榜</span>\n                        <img class="cup" src="').concat(S,'" />\n                    </div>\n                    <div class="content"></div>\n                </div>\n                </div>')),i=e.eqxSectionCover;if(function(e,t){var n=$(k('<div class="buttonBox">\n        <div class="back"><em class="eqf-left"></em></div>\n        <div class="vote" style="background-color: #{btnBackgroundColor};\n        color: #{btnColor};opacity: #{opacity}" >#{btnTxt}</div>\n        </div>',{btnBackgroundColor:"#1261ff",btnColor:"#fff",opacity:1,btnTxt:"我也要创建表单"})),r=d.mobilecheck();"pcRender"===t.renderMode?n.addClass("pcRender"):r?n.addClass("fixed"):n.addClass("pcRender virtual-mobile");window.scene.property.boughtLabel,window.scene.property.removeLabel;n.find(".vote").remove();n.find(".back").on("click",(function(){var n,r,o,i,a,s,c,u;(e.remove(),$(".form-submit-box").css({display:"block"}),null!==(n=t.eqxScene)&&void 0!==n&&null!==(r=n.currentPage)&&void 0!==r&&r.myScroll&&"pcRender"==t.renderMode)?(null===(o=t.eqxScene)||void 0===o||null===(i=o.currentPage)||void 0===i||i.dealAppend("pcRender"),null===(a=t.eqxScene)||void 0===a||null===(s=a.currentPage)||void 0===s||s.afterAutoMove(C),null===(c=t.eqxScene)||void 0===c||null===(u=c.currentPage)||void 0===u||u.myScroll.scrollTo(0,C)):(document.body.classList.remove("disableScorll"),document.scrollingElement.scrollTop=C)})),e.append(n)}(o,e),i.prepend(o),null!==(t=e.eqxScene)&&void 0!==t&&null!==(n=t.currentPage)&&void 0!==n&&n.myScroll&&"pcRender"==e.renderMode){var a,s,c;C=null===(a=e.eqxScene)||void 0===a||null===(s=a.currentPage)||void 0===s||null===(c=s.myScroll)||void 0===c?void 0:c.y}else C=document.scrollingElement.scrollTop,document.scrollingElement.scrollTop=0,document.body.classList.add("disableScorll");return o}(e);return E=n,P($(n).find(".content"),t,e),I(t,e).then((function(r){R($(n).find(".content"),t,r,e)}))},renderRankingList:function(e,t,n){return e.empty(),E=e,P(e,t,n),I(t,n).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=r.length*Math.ceil(52*p())+Math.ceil(48*p());return R(e,t,r,n),o}))}};var O,E,C=0;function _(e){try{e=(e=JSON.parse(e).content).replace(/\（\d+\.?\d*分\）$/,"")}catch(e){console.log("null or not an object")}return e}function I(e,t){var o,i;o=n(131),i=(new XMLSerializer).serializeToString(o.render()),O=$('<div class="ranking-list-loading">'.concat(i,"</div>")),E.append(O);var a=t.eqxScene,s=e.properties.config,c=s.showNumber,u=s.showName,l=s.wechatName;return("edit"===a.config.mode||a.config.isInnerView?m(e,g):h(window.scene.id,e.id).then((function(e){return e.obj=e.obj.map((function(e){return e.customValue=_(e.customValue),u&&!l&&(e.name=_(e.name)),e})),e}))).then((function(n){O.remove();var o,i=r(n.obj||[]),s=1,u=1;if("edit"!==a.config.mode&&!a.config.isInnerView){var l,p,f=function(e,t){var n,r,o,i=e.properties.config,a=i.showHeadPortrait,s=i.showName,c=i.wechatName,u=i.nameInput,l=i.showOtherInfo,p=i.otherInfo.input,f={},d=parseFloat(null===(n=t.eqxScene)||void 0===n||null===(r=n.formManager)||void 0===r?void 0:r.totalScore);(s&&c||a)&&(o=v());var h=t.getEqxComps();a&&(f.wxImg=o.headimgurl);if(s&&!c){var m=h.find((function(e){return e.id===u}));f.name=m?m.getValueInfo().label:"匿名"}else s&&c&&(f.name=o.nickname||"匿名");if(l){var g=h.find((function(e){return e.id===p}));f.customValue=g?g.getValueInfo().label:""}return f.score=d,f}(e,t),d=null===(l=window.app)||void 0===l||null===(p=l.formManager)||void 0===p?void 0:p.orderNumber,h=void 0!==d?i.findIndex((function(e){return e.num===d})):-1;h>-1&&i.splice(h,1),i.unshift(f)}return(i=i.sort((function(e,t){return t.score-e.score}))).forEach((function(e){void 0!==o&&e.score!==o?(s+=u,u=1):void 0!==o&&(u+=1),e.ranking=s,o=e.score})),i.length>c&&i.splice(c),i}))}function P(e,t,n){var r=t.properties.config,o=r.mode,p=r.showHeadPortrait,f=r.showName,d=r.wechatName,h=r.nameInput,m=r.showOtherInfo,v=r.otherInfo,g=v.title,y=v.input,b=r.tableHead,x=(b=void 0===b?{}:b).color,w=b.backgroundColor,S=b.textAlign,k=r.btnTableHead,O=(k=void 0===k?{}:k).color,E=k.backgroundColor,C=k.textAlign,_=n.eqxScene.getFormPage(),I=T(h,_),P=T(y,_),R=P?P.properties.formRelevant.title.content||P.title:g;P||(m=!1,t.properties.config.showOtherInfo=!1),!f||d||I||(f=!1,t.properties.config.showName=!1),o||(x=O,w=E,S=C),e.addClass("ranking-list-container"),l=$('<div class="ranking-table"></div>');var A="color: ".concat(x,"; background: ").concat(w,";text-align: ").concat(S,";"),q=f||m?"flex-grow: 0;":"flex-grow: 1;",j=f||m?"flex-shrink:0;":"flex-shrink:1;";return i=$('<div style="'.concat(q,' flex-shrink: 0; width: 54px">\n                    <div class="title-cell flex-lay" style="').concat(A,'padding-left:6px;">排名</div></div>')),a=$('<div style="'.concat(q," ").concat(j,' width: 48px">\n                            <div class="title-cell flex-lay" style="').concat(A,'">头像</div></div>')),s=$('<div style="flex-grow: 1;flexShrink: 1;min-width: 60px;">\n                    <div class="title-cell" style="'.concat(A,' padding-left: 10px">姓名</div></div>')),c=$('<div style="flex-grow: 1;flexShrink: 1;min-width: 60px;">\n                    <div class="title-cell" style="'.concat(A,' padding-left: 10px;">').concat(R,"</div></div>")),u=$('<div style="'.concat(q," ").concat(j,' width: 54px">\n                    <div class="title-cell flex-lay" style="').concat(A,'padding-right: 16px;justify-content: flex-end">分数</div></div>')),l.append(i),p&&l.append(a),f&&l.append(s),m&&l.append(c),l.append(u),l}function T(e,t){if(e)return t.pageJson.elements.find((function(t){return t.id==e}))}function R(e,t,n,r){var o,p,f=t.properties.config,d=f.mode,h=f.showHeadPortrait,m=f.showName,v=f.showOtherInfo,w=f.tableBody,S=w.color,k=w.backgroundColor,O=w.alternateColor,E=w.alternateBackgroundColor,C=w.textAlign,_=f.btnTableBody,I=_.color,P=_.backgroundColor,T=_.alternateColor,R=_.alternateBackgroundColor,A=_.textAlign;d||(S=I,k=P,O=T,E=R,C=A),"rgba(0,0,0,0)"===O&&(O=S),"rgba(0,0,0,0)"===E&&(E=k),n.forEach((function(e,t){var n=S,r=k;t%2&&(n=O,r=E);var o,l,p,f,d,w="color: ".concat(n,"; background: ").concat(r,";text-align: ").concat(C,";");o=$('<div class="table-cell flex-lay" style="'.concat(w,'">\n                        <img src="').concat(e.wxImg,'" onerror="javascript:this.src=\'').concat(g,'\'"\n                         style="width:28px; height: 28px;border-radius: 3px;" />\n                        </div>')),1===e.ranking?l=$('<div class="table-cell flex-lay" style="'.concat(w,'width: 100%;padding-left:6px;">\n                        <img src="').concat(y,'" style="width:25px; height: 32px" />\n                        </div>')):2===e.ranking?l=$('<div class="table-cell flex-lay" style="'.concat(w,'width: 100%;padding-left:6px">\n                        <img src="').concat(b,'" style="width:25px; height: 32px" />\n                        </div>')):3===e.ranking?l=$('<div class="table-cell flex-lay" style="'.concat(w,'width: 100%;padding-left:6px">\n                        <img src="').concat(x,'" style="width:25px; height: 32px" />\n                        </div>')):e.ranking>3&&(l=$('<div class="table-cell flex-lay" title="'.concat(t,'"\n                                style="').concat(w,'padding-left:6px">').concat(e.ranking,"</div>"))),d=$('<div class="table-cell" title="'.concat(e.score,'" \n            style="color: ').concat(n,"; background: ").concat(r,';text-align:right;padding-right: 16px;font-weight:600;font-size:16px;">').concat(e.score,"</div>")),p=$('<div class="table-cell" title="'.concat(e.name||"",'"\n                                style="').concat(w,'padding-left: 10px;">').concat(e.name||"匿名","</div>")),f=$('<div class="table-cell" title="'.concat(e.customValue||"",'"\n                                style="').concat(w,'padding-left: 10px;">').concat(e.customValue||"","</div>")),i.append(l),h&&a.append(o),m&&s.append(p),v&&c.append(f),u.append(d)})),e.append(l),null!==(o=r.eqxScene)&&void 0!==o&&null!==(p=o.currentPage)&&void 0!==p&&p.myScroll&&"pcRender"==r.renderMode&&setTimeout((function(){var e,t,n,o,i;null===(e=r.eqxScene)||void 0===e||null===(t=e.currentPage)||void 0===t||null===(n=t.myScroll)||void 0===n||n.scrollTo(0,0),null===(o=r.eqxScene)||void 0===o||null===(i=o.currentPage)||void 0===i||i.changeMoveToIscroll(r.eqxSectionCover.find(".ranking-list-box").outerHeight(),"pcRender")}),100)}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(60),f=n(148).$getRanking,d=n(148).$getMockRanking,h=n(34),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,u=c(p);function p(){return o(this,p),u.apply(this,arguments)}return t=p,(n=[{key:"dynamicContent",value:function(){var e=this,t=1,n=this.eqxScene.formManager.totalScore;return new Promise((function(r){if("edit"===e.eqxScene.config.mode||e.eqxScene.config.isInnerView)return e.eqxScene.config.isInnerView?r(d(parseInt(n,10))):r(t);f(window.scene.id,parseInt(n,10)).then((function(e){return t=e.obj||1,r(t=t>999?"999+":t)})).catch((function(){return r(t)}))}))}},{key:"create$li",value:function(){var e=this,t=a(l(p.prototype),"create$li",this).call(this);return t.find(".element-box").css({height:"inherit"}),t.attr("comp-name",h[this.compJson.type]),this.loadContent=new Promise((function(n){e.dynamicContent().then((function(r){var o=t.find(".new-text");o.text(""),e.addFontFamily(r).then((function(){o.html(r),e.$li.css({height:"auto"}),e.update$li({height:e.$li.outerHeight()}),""===r||void 0===r?e.$li.addClass("hide"):e.$li.removeClass("hide"),e.autoAdjustSize(),n()}))}))})),t}},{key:"updateTextCss",value:function(e){var t=this;Object.keys(e).includes("fontFamily")&&(e.fontFamily?this.dynamicContent().then((function(n){t.addFontFamily(n),a(l(p.prototype),"updateTextCss",t).call(t,e),t.autoAdjustSize()})):this.$li&&this.$li.find(".element").css({fontFamily:""})),a(l(p.prototype),"updateTextCss",this).call(this,e),this.autoAdjustSize()}}])&&i(t.prototype,n),r&&i(t,r),p}(p);e.exports=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(61),p=n(308),f=n(6).popUpModal,d=n(0).isWxEnv,h=n(75).getVoteHistoty,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(m,e);var t,n,r,c,u,l=s(m);function m(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),l.call(this,e,t)}return t=m,(n=[{key:"handlerClick",value:(c=regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.eqxScene.getFormPage()).initStatManager().hasVoteAllowRegister()){e.next=19;break}return n=d(),e.prev=4,e.next=7,h({pid:scene.id});case 7:r=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),f(e.t0.msg),e.abrupt("return");case 14:o=t.pageJson.properties,i=o.voteTimes,n?0===r.obj?p.renderVoteSignUpBySinger(t,"pcRender"==t.renderMode):0!==r.obj&&p.renderVoteSuccessBySinger(t,"pcRender"==t.renderMode,0===i||r.obj<i,r.list):f("请在微信环境中打开"),e.next=20;break;case 19:f("没有可参与的投票项目",this.eqxPage);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=c.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(){return u.apply(this,arguments)})}])&&i(t.prototype,n),r&&i(t,r),m}(l);e.exports=m},function(e,t,n){"use strict";e.exports='<div class="successBox">\n<em class="eqf-yes-f" ></em>\n<div class="successTitle">您的报名已经提交，谢谢您的参与！</div>\n<p>报名经主办方审核通过后，将展示在投票选项中</p>\n<button id=\'cancelBtn\' class="closeBtn">返回</button>\n</div>'},function(e,t,n){"use strict";e.exports=function(){return{getDefaultJson:function(e,t,n){return{content:"",css:{width:"320px",height:"81px",left:"0px",top:"0px",backgroundColor:"#ffffff",borderColor:"#CCD5DB",borderWidth:"1px",borderStyle:"solid",paddingTop:"7px",paddingBottom:"7px",paddingRight:"20px",paddingLeft:"20px",borderRadius:"3px",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomRightRadius:"3px",borderBottomLeftRadius:"3px"},num:1,properties:{initType:1,anim:[],formRelevant:{title:{content:"下拉题",css:{height:"27px",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14px",lineHeight:1.4,fontWeight:"bold"}},des:{content:"",css:{height:"0",display:"none",paddingBottom:"8px",textAlign:"left",color:"#666666",fontSize:"12px",lineHeight:1.4,fontWeight:"normal"}}}},choices:{options:[{value:0,label:"请选择",selected:!0},{value:1,label:"请输入内容",selected:!1},{value:2,label:"请输入内容",selected:!1},{value:3,label:"请输入内容",selected:!1}]},isInput:1,title:"下拉题",type:"z"}}}}},function(e,t,n){"use strict";e.exports={isObject:function(e){return e instanceof Object},deepFind:function(e,t){return t.match(/([a-zA-Z0-9]+)/g).reduce((function(e,t){return void 0===e?e:e[t]}),e)},deepFind2:function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)]/g,".$1")).replace(/^\./,"")).split("."),r=0,o=n.length;r<o;++r){var i=n[r];if(!(i in e))return;e=e[i]}return e},sortObj:function(e,t){var n={},r=Object.keys(e);t=t.filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return r.includes(e)}));var o=0;return r.forEach((function(r){if(t.includes(r)){var i=t[o++];n[i]=e[i]}else n[r]=e[r]})),n},findKey:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return Object.keys(e).find((function(r){return n(e[r],t)}))}}},function(e,t,n){"use strict";var r=n(34),o=n(1010);e.exports=function(){return{getDefaultJson:function(e,t,n,i){var a=r[e]||"选择题";return{content:"",css:{width:"320px",height:"147px",left:"0px",top:o.getComDefaultTop(t,n,i),color:"#676767",lineHeight:1,borderWidth:"1",borderStyle:"solid",borderColor:"#CCD5DB",fontSize:"14px",paddingRight:"20px",paddingLeft:"20px",borderRadius:"3px",paddingTop:"7px",paddingBottom:"7px",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomRightRadius:"3px",borderBottomLeftRadius:"3px"},num:1,properties:{formRelevant:{title:{content:"单选",css:{height:"27px",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14px",lineHeight:1.4,fontWeight:"bold"}},des:{content:"",css:{height:"0",display:"none",paddingBottom:"8px",textAlign:"left",color:"#666666",fontSize:"12px",lineHeight:1.4,fontWeight:"normal"}}},titleStyle:{backgroundColor:"#1261ff",color:"#ffffff"},optionStyle:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#1261ff"},initType:1,anim:[]},choices:{seq:3,options:[{id:1,label:"选项1",default:!1},{id:2,label:"选项2",default:!1},{id:3,label:"选项3",default:!1}]},isInput:1,title:a,type:e}}}}},function(e,t,n){"use strict";e.exports={getComDefaultTop:function(e,t,n){var r="0px";if(n){var o=$(".workspace").scrollTop();r=e>1?o/(1.25*e)+(486-t)/2+"px":o+(486-t)/2+"px"}else r=(486-t)/2+"px";return r}}},function(e,t,n){"use strict";var r=n(142),o=n(53).getChildCategory;e.exports=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"showEvaluationStyle",t=r.secondCategory,n=scene.bizType,i=parseInt(o(n));if(t[e]&&Array.isArray(t[e]))return-1!==t[e].indexOf(i);console.error("查询失败",e)};return{getDefaultJson:function(t){return{content:"",css:{color:"#676767",width:"320px",height:"88px",left:"0",top:"0",borderWidth:"1",borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:"3px",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomRightRadius:"3px",borderBottomLeftRadius:"3px",backgroundColor:"#ffffff",textAlign:"left",fontSize:"14px",lineHeight:1.2,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px"},id:null,num:1,pageId:null,properties:{placeholder:"",initType:1,anim:[],formRelevant:{title:{content:"单项填空",css:{height:"27px",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14px",lineHeight:1.4,fontWeight:"bold"}},evaluate:{matchType:"5",score:10,answers:[{id:1,answer:""}],answerKeys:""},des:{content:"",css:{height:"0",display:"none",paddingBottom:"8px",textAlign:"left",color:"#666666",fontSize:"12px",lineHeight:1.4,fontWeight:"normal"}},styleType:"input",size:"min",showScoreAndAnswer:!t&&e(),validateType:{value:null,isOpen:!1}}},isInput:1,sceneId:null,title:"单项填空",type:"5210"}},getDefaultEvaluate:function(){return{matchType:"5",score:10,answers:[{id:1,answer:""}],answerKeys:""}}}}},function(e,t,n){"use strict";var r=n(142),o=n(53).getChildCategory;e.exports=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"showEvaluationStyle",t=r.secondCategory,n=scene.bizType,i=parseInt(o(n));if(t[e]&&Array.isArray(t[e]))return-1!==t[e].indexOf(i);console.error("查询失败",e)};return{getDefaultJson:function(t){return{content:"",css:{color:"#676767",width:"320px",height:"143px",left:"0",top:"0",borderWidth:"1",borderStyle:"solid",borderColor:"#CCD5DB",borderRadius:"3px",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomRightRadius:"3px",borderBottomLeftRadius:"3px",backgroundColor:"#ffffff",textAlign:"left",fontSize:"14px",lineHeight:1.2,paddingTop:"7px",paddingBottom:"7px",paddingLeft:"20px",paddingRight:"20px"},id:null,num:1,pageId:null,properties:{placeholder:"",initType:1,anim:[],formRelevant:{title:{content:"简答题",css:{height:"27px",paddingBottom:"8px",textAlign:"left",color:"#333",fontSize:"14px",lineHeight:1.4,fontWeight:"bold"}},des:{content:"",css:{height:"0",display:"none",paddingBottom:"8px",textAlign:"left",color:"#666666",fontSize:"12px",lineHeight:1.4,fontWeight:"normal"}},evaluate:{type:"3",matchType:"5",score:10,perKeyScore:1,answers:[{id:1,answer:""}],answerKeys:""},showScoreAndAnswer:!t&&e()}},isInput:1,sceneId:null,title:"简答题",type:"5214"}},getDefaultEvaluate:function(){return{type:"3",matchType:"5",score:10,perKeyScore:1,answers:[{id:1,answer:""}],answerKeys:""}}}}},function(e,t,n){e.exports=n.p+"images/qrCode-557765.png"},function(e,t,n){"use strict";e.exports={ErrorWarpTpl:"\n    <div class=\"errorWarp\">\n        <img />\n        <p class=\"info\"></p>\n         <div class='vote-success-back'>\n                    <div class='vote-back-btn'>\n                        <em class='eqf-left'></em>\n                    </div>\n                </div>\n    </div>\n"}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(278),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c=s(p);function p(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),c.call(this,e,t)}return t=p,(n=[{key:"create$li",value:function(){var e=i(u(p.prototype),"create$li",this).call(this);return e.find(".comp_button").css("cursor","pointer"),e}},{key:"handlerClick",value:function(){l.render(this.eqxScene.getFormPage())}}])&&o(t.prototype,n),r&&o(t,r),p}(n(61));e.exports=p},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(61),f=n(16).getRatio,d=n(1018),h=d.createSceensWarp,m=d.createQRBox,v=n(0),g=v.isPc,y=v.isIOS,b=v.isSafari,x=v.isChrome,w=n(6).loadingShadow,S=n(131),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(k,e);var t,r,u,p,d,v=c(k);function k(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),(n=v.call(this,e,t)).clicked=!1,n}return t=k,(r=[{key:"create$li",value:function(){return a(l(k.prototype),"create$li",this).call(this)}},{key:"handlerClick",value:(p=regeneratorRuntime.mark((function e(){var t,r,o,i,a,s,c,u,l,p,d,v,k,O,E,C,_,I,P,T,R,A,q,j,L,M,D,B,F,N,H,z,J,V,U,W,G,K,X,Q,Y,Z,ee,te=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.clicked){e.next=2;break}return e.abrupt("return");case 2:if(this.clicked=!0,t=this.eqxScene,r=function(){},o=setTimeout((function(){r=w((new XMLSerializer).serializeToString(S.render()),t)}),600),e.prev=6,s=t.eqxPageList.findIndex((function(e){return e===te.eqxPage})),t.toJson(),c=523,u=null,l="pcRender"===t.config.renderMode?768:320,p=this.getProps(),d=p.cutParams,v=d.hideELementIds,k=void 0===v?[]:v,O=d.bottom,E=void 0===O?c:O,C=d.isRenderQR,_=void 0!==C&&C,I=d.top,P=void 0===I?0:I,T=d.left,R=void 0===T?0:T,A=d.right,q=void 0===A?0:A,!_){e.next=17;break}return e.next=16,m(t);case 16:u=e.sent;case 17:return j=(P+(t.isRemoveAd()?0:30))*f(),E=(E+(t.isRemoveAd()?0:30))*f(),L=$('<div class="shot-box"></div>'),M=n(110),L.empty(),D=this.eqxScene.config.isInnerView,B=M.copyScene(L,this.eqxScene,{isPc:!1,toPageIndex:s,disableSubmit:!0,offVoteDetail:!0,disableReport:!0,disableGetVoteData:!1,disableCompAnim:!0,disableBGM:!0,isOnlyView:!0,isSubmitTemplate:!1,renderMode:this.eqxScene.config.renderMode,disablePageScroll:!0,isInnerView:D},{removeAd:!0}),F=0,_&&(L.append(u),F=100*f()),(N=B.currentPage).hideElements(k),H=Math.min(null!==(i=E-j)&&void 0!==i?i:c,null!==(a=N.pageJson.properties.longPage*f())&&void 0!==a?a:c*f()),L.css({width:(l-q-R)*f(),height:H+F}),L.find(".main-page.z-current").css({position:"static",height:H,overflow:"hidden",minHeight:H}),L.find(".z-current .layer").css({transform:"translateY(".concat(-j,"px) translateX(").concat(-R*f(),"px)")}),z=$('<div style="position:fixed;top:-2000px;"></div>'),window._DEBUG_&&(z=$('<div  style="position:fixed;top:0px;z-index:2;background:#fff"></div>')),L.find(".main-page:not(.z-current)").remove(),z.append(L),(J=n(252)).videoToImg(L),document.body.appendChild(z[0]),V=new J({isIOS:y()||b()&&!x()}),U="",W={scale:2},G=window.FontFamilyCache,M.dataAutoFill(this.eqxScene,B),e.next=46,B.sceneRenderReady();case 46:return e.next=48,V.dom2canvas(L[0],W,G).catch((function(e){return null}));case 48:if(K=e.sent){e.next=57;break}return alert("绘图失败："+V.error),B.destroy(),L.remove(),z.remove(),r(),this.clicked=!1,e.abrupt("return");case 57:U=K.toDataURL("image/png"),window.__DEBUG__&&V.error&&alert(V.error),B.destroy(),L.remove(),z.remove(),g()?(X=document.createElement("a"),Q=new MouseEvent("click"),Y=t.meta.title,X.download="".concat(Y,"_结果截图"),X.href=U,X.dispatchEvent(Q),this.clicked=!1):(Z=h(),(H+F+180)*f()<=window.innerHeight?Z.find(".canvasBox").removeClass("ver").addClass("hoz"):Z.find(".canvasBox").css({height:window.innerHeight-200}),(ee=new Image).src=U,ee.onload=function(){document.body.appendChild(Z[0]),te.clicked=!1},ee.onerror=function(e){console.error(e)},ee.onclick=function(e){return e.stopPropagation(),!1},Z.find(".canvasBox").append(ee),Z.on("click",".eqf-no-l",(function(){Z.remove()}))),e.next=72;break;case 65:e.prev=65,e.t0=e.catch(6),alert("截图失败"+e.t0.message),alert(e.t0.description),alert(e.t0.number),alert(e.t0.name),this.clicked=!1;case 72:clearTimeout(o),r();case 74:case"end":return e.stop()}}),e,this,[[6,65]])})),d=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=p.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(){return d.apply(this,arguments)})}])&&i(t.prototype,r),u&&i(t,u),k}(p);e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}n(1019);var o=n(23).filterTags,i=n(1),a=n(15).$loadQRCode,s=n(4),c=(s.getUrlHost,s.getPathName,s.addProtocol),u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$('<div class="qrBox">\n    <div id="result-qr-code"></div>\n    <div class="content">\n        <p class="title">'.concat(o(t.meta.title),'</p>\n        <div class="des">\n            <span>长按识别或扫描二维码</span>\n        </div>\n    </div>\n</div>')),e.next=3,a();case 3:return n.find("#result-qr-code").qrcode({render:"canvas",size:80,text:c("".concat(i.NEWVIEW_HOST,"ls/").concat(window.scene.code))}),r=0,s=function(e){r=setInterval((function(){var t=n.find("canvas");t.length&&(clearInterval(r),setTimeout((function(){var n=t[0].toDataURL("image/png"),r=new Image;r.onload=e,r.src=n,t[0].parentNode.replaceChild(r,t[0])}),60))}))},e.next=8,new Promise(s);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();e.exports={createSceensWarp:function(){return $('\n    <div class="shotBox">\n        <div class="canvasBox ver"></div>\n        <p>长按保存图片到相册</p>\n        <em class="eqf-no-l"></em>\n    </div>')},createQRBox:u}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1),n(29).addGlobalStyle;var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"setTargetId",value:function(e){this.setProp("targetElementId",e),this.updateCompForRender()}},{key:"dynamicContent",value:function(){var e=this.eqxScene.config,t=(e.mode,e.renderMode,e.selector,e.isSubmitTemplate,this.getProp("targetElementId")),n=this.eqxScene.getFormPage().getEqxComps().find((function(e){return e.id===t})),r="edit"===this.eqxScene.config.mode;if(n&&"function"==typeof n.getValueInfo){var o=n.getValueInfo();return(r?o.editLabel:o.label).replace(/(\r\n)|(\n)/g,"<br/>")}return r||this.eqxScene.config.isInnerView?"已填信息":""}}])&&i(t.prototype,n),r&&i(t,r),u}(n(60));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1),n(29).addGlobalStyle;var l=n(1022).dateParse,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"setContent",value:function(e){this.compJson.content=e,this.updateCompForRender()}},{key:"dynamicContent",value:function(){var e=this.eqxScene,t=e.config,n=(t.mode,t.renderMode,t.selector,t.isSubmitTemplate,e.formManager.totalScore,this.compJson.content||"+yyyy"),r=new Date;return l(r,n)}}])&&i(t.prototype,n),r&&i(t,r),u}(n(60));e.exports=p},function(e,t,n){"use strict";var r={YEAR_MIN:1890,YEAR_MAX:2100,map:[1750378,339370,6020516,405156,314698,4934293,371351,279894,2804405,346837,8115922,419666,331429,4961866,394827,297627,3880278,370026,281433,1759058,345938,6019877,412453,313931,4936875,377517,288107,1764201,355753,7093650,429714,331045,4954701,395862,303798,3872181,370388,282281,1769106,347794,6016294,402731,313943,4936374,379738,296660,2821833,354121,7075475,420499,329003,5991003,387757,304490,3881813,371620,281417,1759891,346773,7058733,402742,314029,4945322,378290,290213,2825546,363850,8120981,412311,329046,5999285,387797,304850,3878565,372389,280138,2796695,338587,7066970,402794,314217,4945746,387922,289573,3864139,354891,8123563,410285,320877,5999465,396713,306578,3882277,372005,10246733,428630,336566,6006197,403157,315049,4947602,388754,298278,2812502,346711,8123606,418650,321237,4953801,395081,304787,3872043,361771,272987,1758554,337258,7060309,412580,322377,4938387,379541,288045,3861165,346805,9172394,419282,331173,6004042,396618,306325,3880238,361814,273077,1758642,345810,6008485,403237,312907,4934807,371883,288090,2812630,355177,11269970,420690,330533,6003275,387659,296107,4916571,361901,273258,1760082,347538,7068965,404773,313941,4936877,378038,279989,2813354,356041,8142482,421522,331046,5999190,387671,296150,3868373,362325,280393,2797203,337555,7058731,402731,305755,4937050,378218,289637,3864394,355146,8125077,420501,320813,5991085,387765,304554,3869605,363941,281930,2808981,339094,7059790,402774,314037,4937138,378578,290469,3870282,345675,8113303,410795,320859,5991126,387946,304978,3880741,363301,273035,1750171,337067],monthNames:["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"],dayNames:["","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],heavenlyStems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],earthlyBranches:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"]},o={zddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["sun","mon","tue","wed","thu","fri","sat"],Ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DDD:["SUN","MON","TUE","WED","THU","FRI","SAT"],Dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dddd:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],DDDD:["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],mmm:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mmmm:["January","February","March","April","May","June","July","August","September","October","November","December"]},i={0:"零",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一"},a={year:"",month:"",day:"",gYear:"",zYear:"",animal:"",leap:""};function s(e,t){t.map=8191&e,t.day=e>>13&31,t.month=e>>18&1,t.leapMonth=e>>20&15,t.hasLeapMonth=!!(e&1<<19)}function c(e){var t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),i=r.map,c=t-r.YEAR_MIN,u={};a.year=t,s(i[c],u),(n<u.month||n===u.month&&o<u.day)&&(c-=1,a.year=t-1,s(i[c],u));for(var l,p,f=new Date(a.year,u.month,u.day),d=(e.getTime()-f.getTime())/864e5>>0,h=0,m=0,v=0;v<14;){if(d<(h+=m=u.map&1<<v?30:29)){a.day=m-(h-d)+1;break}v+=1}return a.leap=!1,u.hasLeapMonth&&(v===u.leapMonth+1&&(a.leap=!0),v>u.leapMonth&&(v-=1)),a.month=v,p=(l=a).year-1890+26,a.gYear=p%10,a.zYear=p%12,a.animal=l.zYear,a.year=r.heavenlyStems[a.gYear]+r.earthlyBranches[a.zYear],a.month=r.monthNames[a.month],a.day=r.dayNames[a.day],a.gYear=r.heavenlyStems[a.gYear],a.zYear=r.earthlyBranches[a.zYear],a.animal=r.animals[a.animal],a.leap=a.leap?"闰":"",a}function u(e){var t=e.getTimezoneOffset(),n=e.getTime(),r=new Date(n+60*t*1e3+288e5);return{year:r.getFullYear(),month:r.getMonth(),mDay:r.getDate(),wDay:r.getDay()}}function l(e,t){var n="";t?(""+e).split("").map((function(e,t){n+=i[e]+""})):n=i[e];return n}function p(e,t){return(e=""+e).substr(e.length-t)}function f(e,t,n){if((e=""+e).length>=t)return e;var r=0;for(e=e.split("");r<t-e.length;)e.unshift(n),r++;var o="";return e.map((function(e){o+=e})),o}e.exports={dateParse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zyyy zy cy yyyy yy MMMM Mmmm mmmm MMM Mmm mmm mm m DDDD dddd DDD ddd dd d ",n=u(e),r=c(e);return t.replace("+zyyy",l(n.year,!0)).replace("+zy",l(p(n.year,2))).replace("+yyyy",n.year).replace("+yy",p(n.year,2)).replace("+MMMM",o.mmmm[n.month].toUpperCase()).replace("+Mmmm",o.mmmm[n.month]).replace("+mmmm",o.mmmm[n.month].toLowerCase()).replace("+MMM",o.mmm[n.month].toUpperCase()).replace("+Mmm",o.mmm[n.month]).replace("+mmm",o.mmm[n.month].toLowerCase()).replace("+mm",f(n.month+1,2,"0")).replace("+zm",l(n.month+1)).replace("+m",n.month+1).replace("+DDDD",o.dddd[n.wDay].toUpperCase()).replace("+dddd",o.dddd[n.wDay]).replace("+Dddd",o.dddd[n.wDay].charAt(0).toUpperCase()+o.dddd[n.wDay].substr(1)).replace("+ddd",o.dddd[n.wDay].substr(0,3)).replace("+Ddd",o.dddd[n.wDay].charAt(0).toUpperCase()+o.dddd[n.wDay].substr(1,2)).replace("+DDD",o.dddd[n.wDay].substr(0,3).toUpperCase()).replace("+zddd",o.zddd[n.wDay]).replace("+dd",f(n.mDay,2,"0")).replace("+zd",l(n.mDay)).replace("+d",n.mDay).replace("+cy",r.year).replace("+cm",r.leap+r.month).replace("+cd",r.day)},getHM:function(){var e=(new Date).getHours();e<10&&(e="0"+e);var t=(new Date).getMinutes();return t<10&&(t="0"+t),"".concat(e,":").concat(t)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1),n(97),n(29).addGlobalStyle;var f=n(60),d=n(104).formatNowTime,h=n(1024).nowTimeTypes,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,e);var t,n,r,l,f,m=u(v);function v(){return i(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"setContent",value:function(e,t){this.compJson.content=e,this.updateContent(e,t),this.updateCompForRender()}},{key:"dynamicContent",value:function(){var e=this.compJson.content||"hh:mm:ss",t=h.find((function(t){return t.value===e})).name;return"edit"===this.eqxScene.config.mode?t:d(e,this.eqxScene.formManager.submitTimeStamp)}},{key:"addFontFamily",value:(l=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(p(v.prototype),"addFontFamily",this).call(this,"0123456789零一二三四五六七八九十PM时分秒上午下午:"));case 2:case"end":return e.stop()}}),e,this)})),f=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=l.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(){return f.apply(this,arguments)})},{key:"updateContent",value:function(e,t){var n="edit"===this.eqxScene.config.mode?t:d(e,this.eqxScene.formManager.submitTimeStamp);this.$li&&this.$li.find(".new-text").html(n)}}])&&a(t.prototype,n),r&&a(t,r),v}(f);e.exports=m},function(e,t,n){"use strict";e.exports={nowTimeTypes:[{value:"hh:mm:ss",name:"13:22:15"},{value:"hh:mm",name:"13:22"},{value:"hh:mm:ss+A",name:"1:22:15 PM"},{value:"hh:mm+A",name:"1:22 PM"},{value:"hh时mm分ss秒",name:"13时22分15秒"},{value:"hh时mm分",name:"13时22分"},{value:"hh时mm分ss秒+cn",name:"十三时二十二分十五秒"},{value:"hh时mm分+cn",name:"十三时二十二分"},{value:"A+hh时mm分ss秒",name:"下午 1时22分15秒"},{value:"A+hh时mm分",name:"下午 1时22分"},{value:"A+hh时mm分ss秒+cn",name:"下午 一时二十二分十五秒"},{value:"A+hh时mm分+cn",name:"下午 一时二十二分"}]}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1),n(29).addGlobalStyle;var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"dynamicContent",value:function(){var e=this.eqxScene.formManager.orderNumber;return!1===e?"":e||1}}])&&i(t.prototype,n),r&&i(t,r),u}(n(60));e.exports=l},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1);var m=n(5),v=n(1027),g=v.oneVoteShare,y=v.contentHtml,b=n(3).parse,x=n(130).$getVoteResultAll,w=n(10).FORM_VOTE_COMPS,S=n(309),k=n(9).qiniuZoom,O=n(6),E=n(4),C=E.replaceLocationHref,_=E.addUrlParam,I=n(7),P=(I.webWeChartShare,I.changeWxLocationUrl),T=n(0),R=n(183),A=n(73).initWeChartShare,q=n(16).getRatio,j=n(50).convertNum,L=n(185),M={title:"选项名",des:"当前排名第1，超过后一名221票",src:n(1029)},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,o,a=f(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=a.call(this,e,t),$.extend(!0,n.$ability,{link:!1,flexLine:"",sound:!1}),n.loadContent=null,n.options=[s({},c.formatOtherStyleToOneBlock(n.getProp("otherStyle"),s({},M)))],n}return t=c,n=[{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.on("click",".vote-share-share",(function(t){var n,r=t.currentTarget.dataset,o=r.title,i=r.cover,a=r.optionid,s=r.elementid,c=e.eqxPage,u=e.eqxScene.config.isInnerView,l="textVote"===(null===(n=e.eqxScene.getFormPage().getEqxItems().find((function(e){return e.id.toString()===s.toString()})))||void 0===n?void 0:n.type);l&&(i=k(e.eqxScene.meta.cover,600));var p=l?window.location.href:_("VDP","".concat(s,"-").concat(a));!u&&C(p);var f={};l||(f.label=o,f.elementid=s,f.optionid=a,f.cover=k(i,640,null,!0)),T.isWeixin()||T.isPc()?(P(p),T.isWeixin()&&A(o,i),l?O.openPcShareImg(c,""):L.renderPoster(e.eqxPage,f)):l?R.openShareBox(c):L.renderPoster(e.eqxPage,f)}))}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,r=t.type,o=(this.getProp("count"),this.getProp("otherStyle"),[]);this.loadContent=new Promise((function(t){e.resolve=t})),"edit"===this.eqxScene.config.mode?(o=this.createDefaultOptions(),setTimeout((function(){return e.reloadHeight()}))):this.dynamicContent();var i=$(b(y,{id:n,type:r}));return this.$context=i,this.options=o,this.renderOptions(),this.$context}},{key:"createDefaultOptions",value:function(){var e=this.getProps(),t=e.count,n=e.otherStyle;return-1!==t?new Array(t).fill(1).map((function(){return c.formatOtherStyleToOneBlock(n,s({},M))})):[c.formatOtherStyleToOneBlock(n,s({},M)),c.formatOtherStyleToOneBlock(n,s(s({},M),{},{src:null}))]}},{key:"dynamicContent",value:(o=i(regeneratorRuntime.mark((function e(){var t,n,r,o,a,s,u,l,p,f,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.eqxScene.meta,n=t.id,r=t.code,o=this.getProp("count"),e.next=4,x(n,r);case 4:a=e.sent,s=a.obj,this.eqxScene.getFormPage().getEqxItems(),u=this.eqxScene.formManager.fromCompList.filter((function(e){return w.includes(e.type)})).map((function(e){return{value:e.getValue(),id:e.compJson.id,info:e.getVoteSettings().list}})),l=[],u.forEach((function(e){var t=e.value,n=e.id,r=e.info;t&&(String(t).includes(",")?String(t).split(",").forEach((function(e){l.push({optionId:Number(e),elementId:n,voteResult:s[n]||{},info:r.find((function(t){return~~t.id===Number(e)}))})})):l.push({optionId:Number(t),elementId:n,voteResult:s[n],info:r.find((function(e){return~~e.id===Number(t)}))}))})),p=this.getProp("otherStyle"),f=[],l=l.map((function(e){var t=e.optionId,n=e.voteResult,r=e.info,o=e.elementId;f.push({label:r.content,elementid:o,optionid:t,cover:k(r.cover,640,null,!0)});var i=S.createRankInfo(t,n,!0,!1,0)||{},a=i.rank,s=i.distence,u=k(r.cover,48)||null,l=r.content;"textVote"===d.eqxScene.getFormPage().getEqxItems().find((function(e){return o===e.id})).type&&(u=null);var h="当前排名".concat(a<9?"第":"").concat(a||1,"，").concat(1===a?"超过后一名":"距上一名".concat(s<999?"还差":"")).concat(j(s),"票");return 0!==a&&s&&!["--","― ―"].includes(s)||(h=h.split("，")[0]),c.formatOtherStyleToOneBlock(p,{src:u,cover:r.cover,title:l,des:h,optionId:t,elementId:o})})),-1!==o&&(l.length=Math.min(o,l.length),f.length=Math.min(o,f.length)),this.eqxScene.config.isInnerView&&!l.length&&(l=this.createDefaultOptions()),this.options=l,this.renderOptions(),setTimeout((function(){return d.reloadHeight()})),this.eqxScene.config.disableSubmit||setTimeout(i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<f.length&&t<5)){e.next=8;break}return n=new L(d.eqxPage,f[t]),e.next=5,n.createCache();case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e)}))),1600);case 20:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"renderOptions",value:function(){this.$context.append(this.options.map(this.create$OneBlock.bind(this))),this.updateOneBlockCss()}},{key:"updateBorderRadius",value:function(){this.$boxDiv[0].style.setProperty("--voteShareBorderRadius","".concat(Number(this.css.borderRadius||0),"px"))}},{key:"reloadHeight",value:function(){var e,t,n=72*this.options.length+(null!==(e=this.css.paddingTop)&&void 0!==e?e:0)+(null!==(t=this.css.paddingBottom)&&void 0!==t?t:0);this.$li&&this.options.length?this.$li.removeClass("hide"):this.$li&&(n=1,this.$li.addClass("hide")),this.diffHeight=n*q()-this.css.height,this.diffHeight&&(this.update$li({height:n*q()}),this.autoAdjustSize(),"view"===this.eqxScene.config.mode&&this.eqxPage.awitUpdate()),this.resolve&&this.resolve()}},{key:"setCount",value:function(e){var t=this,n=this.getProp("count");if(e!==n){if(this.setProp("count",e),-1===n||-1===e)return void this.updateCompForRender();var r=this.$li.find(".vote-share-one-block");if(n>e)r.eq(e-1).nextAll().remove(),this.options.length=e;else{var o=new Array(e-n).fill(1).map((function(){return s({},c.formatOtherStyleToOneBlock(t.getProp("otherStyle"),s({},M)))}));this.options=this.options.concat(o),this.$context.append(o.map(this.create$OneBlock.bind(this))),this.updateOneBlockCss()}this.reloadHeight()}}},{key:"create$OneBlock",value:function(e){var t=$(g(e)),n=this.compJson.css,r=n.borderWidth,o=n.borderStyle,i=n.borderColor;return t.css({borderWidth:r,borderStyle:o,borderColor:i})}},{key:"update$boxDiv",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s({},e),n=["borderWidth","borderColor","borderRadius","borderStyle","backgroundColor"];n.forEach((function(e){delete t[e]})),l(h(c.prototype),"update$boxDiv",this).call(this,s({},t)),this.updateCss(e),this.updateOneBlockCss()}},{key:"updateOtherStyle",value:function(e,t){if(this.compJson.properties.otherStyle[e]=t,!this.$li)return!0;var n=".vote-share-".concat(e);"share"===e&&t.color?this.$li.find(n).each((function(e,n){n.style.setProperty("--shareColor","".concat(t.color))})):this.$li.find(n).css(t)}},{key:"updateOneBlockCss",value:function(){var e=this.css,t=e.borderWidth,n=e.borderColor,r=(e.borderRadius,{borderWidth:t,borderStyle:e.borderStyle,borderColor:n,backgroundColor:e.backgroundColor});this.$boxDiv.css({border:"none",backgroundColor:"transparent"}),this.$context.find(".vote-share-one-block").css(r),this.updateBorderRadius()}},{key:"resetAllStyle",value:function(){var e=this;this.updateOneBlockCss();var t=this.getProp("otherStyle");Object.keys(t).forEach((function(n){e.updateOtherStyle(n,t[n])}))}}],r=[{key:"formatOtherStyleToOneBlock",value:function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]={content:t[r],css:s({},e[r])},"title"===r?n[r].src=t.src:"share"===r&&(n.share.cover=t.cover,n.share.content="给TA拉票",n.share.elementId=t.elementId,n.share.optionId=t.optionId)})),n}}],n&&u(t.prototype,n),r&&u(t,r),c}(m);e.exports=D},function(e,t,n){"use strict";n(1028);e.exports={oneVoteShare:function(e){var t=e.title,n=void 0===t?{content:"",src:null,css:{}}:t,r=e.des,o=void 0===r?{content:"",css:{}}:r,i=e.share,a=void 0===i?{content:"给他拉票",cover:null,elementId:elementId,optionId:optionId,css:{}}:i;return'<div class="vote-share-one-block">\n        <div class="vote-share-info" >\n            <div class="vote-share-title" style="color:'.concat(n.css.color,'">\n                <img class="vote-share-title-img" ').concat(n.src?'src="'.concat(n.src,'"'):"noimg"," />\n                ").concat(n.content,'\n            </div>\n            <div class="vote-share-des" style="color:').concat(o.css.color,'">').concat(o.content,'</div>\n        </div>\n        <div class="vote-share-share"\n         data-title="').concat(n.content,'" data-cover="').concat(a.cover||n.src,'" \n         data-elementId="').concat(a.elementId||"",'" data-optionId="').concat(a.optionId||"",'"\n         style="--shareColor:').concat(a.css.color,'">\n         <div class="vote-share-share-bg"></div>\n         ').concat(a.content,"\n         </div>\n    </div>")},contentHtml:'<div class="element form-comp-box" id="#{id}" ctype="#{type}"\nstyle="width: 100%;height: 100%;">\n</div>'}},function(e,t,n){"use strict";n.r(t)},function(e,t,n){e.exports=n.p+"images/exampleCover-a45455.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1);var u=n(7).getWeChatUser,l=n(102),p=n(187),f=n(1031),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e,t),$.extend(!0,n.$ability,{style:{self:!0},trigger:{self:!1},flexLine:"ne,se,sw,nw,r",sound:!1}),n.compJson.properties.src=f,n}return t=c,r=[{key:"getDefaultImg",value:function(){return"https://lib.eqh5.com/@eqxiu-res/form/images/wxDefualtAvatar.png"}}],(n=[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,r=e.properties,o=(r.scratch,r.imgStyle,r.maskSrc,r.filter),i=(o=void 0===o?{}:o).type,a=u()||{};e.properties.isReplace=e.properties.isReplace||!1;var s=a.headimgurl||c.getDefaultImg();if(a.headimgurl&&this.css.width>76&&(s=String(s).replace(/\/132$/,"/0")),Number.isInteger(i)&&i>0)var l=$(p.filterImg({id:t,type:n,src:s,filterType:i}));else l=$(p.img({id:t,type:n,src:s}));return this.$boxContentDiv.css("overflow","hidden"),l}}])&&o(t.prototype,n),r&&o(t,r),c}(l);e.exports=d},function(e,t,n){e.exports=n.p+"images/wxDefualtAvatar-c58176.png"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(7).getWeChatUser,p=(n(1),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"dynamicContent",value:function(){var e;return null!==(e=(l()||{}).nickname)&&void 0!==e?e:"微信昵称"}}])&&i(t.prototype,n),r&&i(t,r),u}(n(60)));e.exports=p},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1),i=n(4).resolveUrl,a=n(1034),s=n(3).parse,c=n(9),u=n(0),l=n(1035),p=n(1036),f=0,d=1,h=2,m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.compJson=t,this.eqxScene=n.eqxScene,this.eqxScene.config.EqxGravity.disableGravityMotion?this.gravityMode=f:u.mobilecheck()?this.gravityMode=d:this.gravityMode=h,this.gravityPromise=null,this.gravity=null}var t,n,m;return t=e,(n=[{key:"updateBgHeight",value:function(e){this.$gravity.css({height:e})}},{key:"updateCss",value:function(e){this.$gravity.css(e)}},{key:"create$gravity",value:function(){var e=this,t=this.compJson,n=t.id,r=t.properties.imgSrc,u=t.css,f=u.top,m=u.left,v=u.width,g=u.height,y=this.eqxScene,b=y.width,x=y.height;if(r){var w=i(o.FILE,r),S=$(s(a,{id:n,src:w}));this.$gravity=S,this.gravityPromise=c.loadImg(w).then((function(){switch(S.find("img").css({transform:"translate3d("+m+"px,"+f+"px,0)",width:v,height:g}),e.gravityMode){case d:e.gravity=new p(n,$(S.find("img")),f,m,b,x),e.gravity.init();break;case h:l(S,{innerW:v,innerH:g,outerW:b,outerH:x})}}))}return this.$gravity}},{key:"delete$gravity",value:function(){var e=this;this.gravityMode===d&&this.gravityPromise&&this.gravityPromise.then((function(){e.gravity.destroy()})),this.$gravity&&this.$gravity.remove()}},{key:"update$gravity",value:function(){this.delete$gravity(),this.create$gravity()}}])&&r(t.prototype,n),m&&r(t,m),e}();e.exports=m},function(e,t){e.exports='<div id="wrapper-gravity#{id}" class="eqx-bg-img" style="position: absolute;z-index: 0;width: 100%;height:100%;">\n    <div class="layer" data-depth="0.5">\n        <img src="#{src}" alt="" style="position:absolute;">\n    </div>\n</div>'},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){r.$loadParallax().then((function(){var n=t.innerW,r=t.innerH,o=t.outerW,i=t.outerH,a=t.scalarX,s=void 0===a?100:a,c=t.scalarY,u=void 0===c?100:c;console.log("重力感应 Parallax Starts!",t);var l={calibrateX:!0,calibrateY:!0,invertX:!0,invertY:!0,limitX:parseInt(n)-parseInt(o),limitY:parseInt(r)-parseInt(i),scalarX:s,scalarY:u,frictionX:1,frictionY:1,originX:.5,originY:.5};new Parallax(e[0],l)}))}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.bgHeight=0,this.bgWidth=0,this.offsetLeft=o,this.offsetTop=r,this.screenHeight=a,this.screenWidth=i,this.isFirst=!0,this.firstGamma=0,this.firstBeta=0,this.lastGama=0,this.lastBeta=0,this.targetLeft=0,this.targetTop=0,this.bg=n}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.targetLeft=this.nowLeft=this.offsetLeft,this.targetTop=this.nowTop=this.offsetTop,this.bindEvent(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.raf=requestAnimationFrame(this.requestAnimationFrame)}},{key:"bindEvent",value:function(){var e=this;$(window).on("deviceorientation.".concat(e.id),(function(t){var n=t.originalEvent;n.g=n.gamma,n.b=n.beta,e.isFirst&&(e.bgHeight=e.bg.height(),e.bgWidth=e.bg.width(),e.nowGama=e.lastGama=e.firstGamma=n.g,e.nowBeta=e.lastBeta=e.firstBeta=n.b,e.isFirst=!1),(Math.abs(n.g-e.lastGama)>3||Math.abs(n.b-e.lastBeta)>3)&&(e.targetLeft=Math.round(e.offsetLeft+(e.firstGamma-n.g)*e.bgWidth/180),e.targetTop=Math.round(e.offsetTop+(n.b-e.firstBeta)*e.bgHeight/180),e.nowBeta=e.lastBeta=n.b,e.nowGama=e.lastGama=n.g,e.targetLeft>=0?e.targetLeft=0:e.targetLeft<e.screenWidth-e.bgWidth&&(e.targetLeft=e.screenWidth-e.bgWidth),e.targetTop>=0?e.targetTop=0:e.targetTop<e.screenHeight-e.bgHeight&&(e.targetTop=e.screenHeight-e.bgHeight))}))}},{key:"requestAnimationFrame",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=0,t=0;this.isFirst||(e=.1*(this.targetLeft-this.nowLeft),t=.1*(this.targetTop-this.nowTop),this.nowLeft+=+e.toFixed(5),this.nowTop+=+t.toFixed(5),this.bg.css({transform:"translate3d("+this.nowLeft+"px,"+this.nowTop+"px,0)","-ms-transform":"translate3d("+this.nowLeft+"px,"+this.nowTop+"px,0)","-webkit-transform":"translate3d("+this.nowLeft+"px,"+this.nowTop+"px,0)"})),this.raf=requestAnimationFrame(this.requestAnimationFrame)}))},{key:"destroy",value:function(){window.cancelAnimationFrame(this.raf),$(window).off("deviceorientation.".concat(this.id))}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";e.exports=[{name:"红包",types:["9"]},{name:"新文本",types:["7"]},{name:"爆款文本",types:["1"]},{name:"文本",types:["2","x","298","299"]},{name:"微信昵称",types:["201"]},{name:"背景",types:["3"]},{name:"图片",types:["4"]},{name:"微信头像",types:["401"]},{name:"微信照片",types:["403"]},{name:"输入框",types:["5","501","502","503","504","505","506","507","508"]},{name:"提交按钮",types:["6","601"]},{name:"电话",types:["8"]},{name:"评分",types:["a"]},{name:"留言板",types:["b"]},{name:"复选框",types:["c"]},{name:"统计",types:["d"]},{name:"广告",types:["g"]},{name:"形状",types:["h"]},{name:"计数",types:["i"]},{name:"链接",types:["l"]},{name:"锚点",types:["anchor"]},{name:"地图",types:["m"]},{name:"随机图片",types:["n"]},{name:"图集",types:["p"]},{name:"单选框",types:["r"]},{name:"音效",types:["s"]},{name:"图表",types:["t"]},{name:"视频",types:["v"]},{name:"互动视频",types:["o"]},{name:"模板视频",types:["mixVideo"]},{name:"微信声音",types:["w01","w02"]},{name:"下拉列表",types:["z"]},{name:"计时",types:["e","f"]},{name:"投票倒计时",types:["voteCountdown"]},{name:"投票",types:["j","k"]},{name:"重力感应",types:["q"]},{name:"画板",types:["u"]},{name:"打赏",types:["11"]},{name:"随机事件",types:["10"]},{name:"上传图片",types:["upload"]},{name:"日期",types:["14"]},{name:"验证码",types:["12"]},{name:"照片墙",types:["13"]},{name:"长按按钮",types:["16"]},{name:"微信卡券",types:["17"]},{name:"幸运转盘抽奖",types:["18"]},{name:"砸金蛋",types:["19"]},{name:"一刮千金",types:["20"]},{name:"微信红包",types:["21"]},{name:"幸运九宫格",types:["22"]},{name:"二维码",types:["23"]},{name:"点击截图",types:["24"]},{name:"新饼图",types:["lpPie"]},{name:"新折线图",types:["lpLine"]},{name:"新柱状图",types:["lpBarCol"]},{name:"新条形图",types:["lpBarRow"]},{name:"表格",types:["lpFormTable"]},{name:"列表",types:["lpListTable"]},{name:"新留言板",types:["messageBoard"]},{name:"NPS量表",types:["scoreScale"]},{name:"新评分",types:["score"]},{name:"选择题",types:["scoreRadio","scoreCheckbox"]},{name:"NPS矩阵",types:["scoreMatrixNps"]},{name:"图片投票",types:["imageVote"]},{name:"文字投票",types:["textVote"]},{name:"视频投票",types:["videoVote"]},{name:"投票统计",types:["voteStatistic"]},{name:"上传文件",types:["uploadNew"]},{name:"录音",types:["musicRecord"]},{name:"省市区",types:["5201"]},{name:"位置",types:["5202"]},{name:"新日期",types:["5203"]},{name:"性别",types:["5204"]},{name:"时间",types:["5205"]},{name:"年龄单选",types:["5206"]},{name:"职业",types:["5207"]},{name:"行业",types:["5208"]},{name:"其他信息",types:["5209"]},{name:"单项填空",types:["5210"]},{name:"多项填空",types:["5211"]},{name:"年龄多选",types:["5212"]},{name:"横向填空",types:["5213"]},{name:"简答题",types:["5214"]},{name:"学历",types:["5215"]},{name:"地址",types:["5216"]},{name:"院校",types:["5217"]},{name:"专业",types:["5218"]},{name:"作品推荐",types:["recommend"]},{name:"评价",types:["5219"]},{name:"图片选择题",types:["scoreImageRadio","scoreImageCheckbox"]},{name:"头图",types:["lpHeadFigure"]},{name:"表单标题",types:["lpHeadFormTitle"]},{name:"表单说明",types:["lpHeadFormDes"]},{name:"主办方信息",types:["sponsor"]},{name:"单项目预约",types:["feReservation"]},{name:"分数组件",types:["showScore"]},{name:"投票排名",types:["voteRank"]},{name:"考试排行榜",types:["rankingList"]},{name:"考试排名",types:["testRanking"]},{name:"投票报名",types:["voteRegister"]},{name:"答案解析",types:["answerAnalysis"]},{name:"外链组件",types:["externalLink"]},{name:"一键截图",types:["oneClickScreenshot"]},{name:"提交日期",types:["nowDate"]},{name:"提交时间",types:["nowTime"]},{name:"已填信息",types:["formValue"]},{name:"提交序号",types:["orderNumber"]},{name:"拉票组件",types:["voteShare"]},{name:"微信投票",types:["wxAvatar"]},{name:"微信昵称",types:["wxNickname"]}]},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(201),s=n(311),c=n(37).randomId,u=n(132),l=n(22).EQX_EVENT,p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t,this.isArrangEditor=t.eqxScene.config.isArrangEditor}var t,n,o;return t=e,(n=[{key:"layer",get:function(){return this.page.getCurrentLayer()}},{key:"insertItem2Group",value:function(e,t){e.group=t,t.eqxItems.push(e),e.$item&&t.$ul.append(e.$item)}},{key:"changeEqxItemVerticalPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(e){var o=e.group;if(o){var i=this.reLayout(o),a=i.findIndex((function(t){return t===e}));if(a<0||0===t)return null;if(t<0)for(var s=a;s>0&&t<0;s--,t++)i[s]=[i[s-1],i[s-1]=i[s]][0];else if(t>0)for(var c=a;c<i.length-1&&t>0;c++,t--)i[c]=[i[c+1],i[c+1]=i[c]][0];l(i,u(i)),this.reLayout(i,n)}}function u(e){return Math.min.apply(Math,r(e.map((function(e){return e.getAbsolutePos().top}))))}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n].getAbsolutePos().top;e[n].updateTop(t+n-r)}}}},{key:"reLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.layer,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(Array.isArray(e))var n=e.slice();else if(e instanceof a)n=r(e.eqxItems.slice());else{if(!(e instanceof s))return[];n=r(e.getDirectItems().slice())}return o(n);function r(e){return e.sort((function(e,t){return e.getAbsolutePos().top-t.getAbsolutePos().top})),e}function o(e){for(var n=1;n<e.length;n++){var r=e[n],o=e[n-1],i=r.getAbsolutePos().top,a=o.getAbsolutePos().top+o.getAbsolutePos().height+t;e[n].updateTop(a-i)}return e}}},{key:"extractComps",value:function(e){var t=[];return e.forEach((function(e){e.isGroupItem()?t.push.apply(t,r(e.getAllSubEqxComps())):t.push(e)})),t}},{key:"copyItems",value:function(e,t,n,r){var o=this,i=[];return e.sort((function(e,t){return e.zIndex-t.zIndex})).forEach((function(e){e.isGroupItem()?i.push(o._copyGroupItem(e,t,n,r)):i.push(o._copyCompItem(e,t,n,r))})),i}},{key:"_copyGroupItem",value:function(e,t,n,r){var o=this,i=[];e.eqxItems.slice().sort((function(e,t){return e.zIndex-t.zIndex})).forEach((function(e){i.push(e.isGroupItem()?o._copyGroupItem(e,0,n,r):o._copyCompItem(e,0,n,r))}));var a=this.combineItems(i.map((function(e){return e.id}))),s=e.group;return e.isFunTemplate(!0)&&(a.json=Object.assign({},e.json,a.json)),this.isArrangEditor&&e.json.css&&Object.keys(e.json.css).length&&(Object.assign(a.json.css,e.json.css),a.update$li(a.json.css)),a&&t&&s&&(a.group=s,this.insertItem2Group(a,s),s.autoSize()),a.sourceEqxItem=e,a}},{key:"_copyCompItem",value:function(e,t,n,r){var o=this,i=JSON.parse(JSON.stringify(e.compJson)),a=e.compJson.id;e.isBaseLayerElement||(1===n?i.css.left+=10:2===n&&(i.css.top+=10)),r=r.filter((function(e){return"e"===e.sourceType&&e.sourceId===i.id})).map((function(e){return delete e.$$hashKey,JSON.parse(JSON.stringify(e))})),delete i.id,delete i.css.zIndex,delete i.arrIndex;var s=this.page.addCompJson(i),c=s?this.page.initEqxCompByJson(s):null,u=s.properties;if(!c)return null;var p=c.eqxPage.getProp("triggerGroup"),f=p.find((function(e){return e.targetId===a&&e.targetState===l.link})),d=[];if(p.forEach((function(e){var t=e;f&&e.targetId===c.id&&e.targetState===l.play&&(t.targetState=f.targetState,t.targetContent=f.targetContent),d.push(e)})),this.page.setProps({triggerGroup:d}),this.page.renderEqxComp(c),r.length&&r.forEach((function(e){e.sourceId===e.targetId&&(e.targetId=s.id),e.sourceId=s.id;var t=o.page.pageJson.properties;-1===t.triggerGroup.findIndex((function(t){return e.targetId===t.targetId&&e.sourceId===t.sourceId&&e.eventType===t.eventType&&e.targetState===t.targetState}))&&t.triggerGroup.push(e)})),1==u.initType?c.startAnimation({maxCount:1,reset:!0}):c.eleHide(),c&&t&&e.group){var h=e.group;c.group=h,this.insertItem2Group(c,h),h.autoSize()}return c.sourceEqxItem=e,c}},{key:"breakUpGroupItem",value:function(e){var t,n=this.layer,o=n.eqxItems.find((function(t){return t.isGroupItem()&&t.id===e})),i=o.group;if(this._includeFunTemplates([o]))return[];if(!o)return[];var a=o.eqxItems.slice(),s=u.parseTransform(o.getTransform()).rotate;i&&(t=i.eqxItems).push.apply(t,r(a)),(i||n).$ul.append(a.map((function(e){var t=e.getAbsolutePos(),n=t.left,r=t.top;if(i){var o=i.getAbsolutePos();n-=o.left,r-=o.top}if(e.$item.css({left:n,top:r}),s){var a=u.parseTransform(e.getTransform()).rotate;e.$item.css({transform:"rotateZ(".concat(a,"deg)")})}return e.$item}))),o.$group.remove(),o.$group=null,o.$groupBox=null,o.$ul=null,a.forEach((function(e){e.group=i||null,e.parent=i||n}));var c=n.eqxItems.findIndex((function(e){return e===o}));return c>-1&&(n.eqxItems.splice(c,1),o.replaceGroupByComp(c)),i&&(c=i.eqxItems.findIndex((function(e){return e===o})))>-1&&i.eqxItems.splice(c,1),a}},{key:"combineItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=this.page,i=this.layer,s=e.map((function(e){return o.getEqxItem(e)}));if(this._includeFunTemplates(s))return null;if(p(s),this.isExistNested(s))return null;var c=this._findCommonAncestor(s);if(this._limitNestDepth(c,s,n),this._updateIndexCrossLayer(s),!s||!s.length)return null;s.forEach((function(e){if(e.group){var n=e.group.eqxItems.findIndex((function(t){return t===e}));n>-1&&e.group.eqxItems.splice(n,1),e.group!==c&&t._clearEmptyGroup(e.group)}e.eqxLayer!==i&&t._changeItemCrossLayer(e)}));var u=-1;c!==i&&c.isGroupItem()&&(u=i.eqxItems.findIndex((function(e){return e===c}))),e=s.map((function(e){return e.id}));var l=new a({id:this._generateGroupId(),compIds:e},i);return i.initEqxItem(l,u).renderEqxItem(l),l.adjustPosition(),c!==i&&c.isGroupItem()&&(this.insertItem2Group(l,c),l.group=c,l.parent=c),this.updateCompsIndex(),l.autoSize(),l;function p(e){var t=e.filter((function(e){return e.isGroupItem()||"16"!==e.type}));e.length=0,e.push.apply(e,r(t))}}},{key:"_includeFunTemplates",value:function(e){return e.some((function(e){return e.isFunTemplate()}))}},{key:"_limitNestDepth",value:function(e,t,n){var o=[],i=c(e),a=this;function c(e){if(e){if(e instanceof s)return 0;for(var t=1;e.group;)t++,e=e.group;return t}return-1}-1===i||i>=n?t.length=0:(i<n&&t.forEach((function(e){e.isGroupItem()?o.push.apply(o,r(function e(t,n){var r=c(t);return r>=n?(function(e){for(var t=e.hasGroupItem();t;)a.breakUpGroupItem(t.id),t=e.hasGroupItem()}(t),a.breakUpGroupItem(t.id)):(t.eqxItems.slice().forEach((function(t){t.isGroupItem()&&e(t,r+1)})),[t])}(e,n-i))):o.push(e)})),t.length=0,t.push.apply(t,o))}},{key:"removeEmptyGroups",value:function(){for(var e=[],t=this,n=r();n;)e.push(n),t._clearEmptyGroup(n),n=r();function r(){return t.page.getEqxItems().filter((function(e){return e.isGroupItem()})).find((function(e){return!e.eqxItems.length}))}return e}},{key:"isExistNested",value:function(e){for(var t=0;t<e.length;t++)for(var n=e[t];n.group;){if(-1!==e.indexOf(n.group))return n;n=n.group}return!1}},{key:"traceTopItemsContain",value:function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n];r.group;)r=r.group;-1===t.indexOf(r)&&t.push(r)}return t}},{key:"filterNestedItems",value:function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],o=r,i=!1;r.group;){if(-1!==e.indexOf(r.group)){i=!0;break}r=r.group}i||t.push(o)}return t}},{key:"_updateIndexCrossLayer",value:function(e){var t=this;if(this._isCrossLayer(e)){var n=[],r=[];e.forEach((function(e){e.eqxLayer!==t.layer?r.push(e):n.push(e)})),n.sort((function(e,t){return e.zIndex-t.zIndex})),r.push.apply(r,n),r.forEach((function(e,t){return e.zIndex=t+1}))}}},{key:"_changeItemCrossLayer",value:function(e){var t=this;e.isGroupItem()&&e.eqxItems.forEach((function(e){t._changeItemCrossLayer(e)}));var n=e.eqxLayer.eqxItems.findIndex((function(t){return t===e}));n>-1&&e.eqxLayer.eqxItems.splice(n,1),e.eqxLayer=t.layer,e.eqxLayer.eqxItems.push(e)}},{key:"updateCompsIndex",value:function(){var e=function e(t){var n=[];return t.forEach((function(t){return t.isGroupItem()?n.push.apply(n,r(e(t.eqxItems))):n.push(t)})),n}(this.layer.getLayerTreeStructure());this.layer.updateCompsIndex(e)}},{key:"_clearEmptyGroup",value:function(e){if(e&&e.isGroupItem()&&!e.eqxItems.length){var t=e.group;e.eqxLayer.removeEqxItem(e),this._clearEmptyGroup(t)}}},{key:"_findCommonAncestor",value:function(e){if(1===e.length&&!e[0].isGroupItem())return e[0].group||this.layer;if(this._isCrossLayer(e))return this.layer;for(var t=e[0],n=1;n<e.length;n++)t=this._find2CommonAncestor(t,e[n]);return t}},{key:"_isCrossLayer",value:function(e){for(var t=0;t<e.length;t++)if(e[t].eqxLayer!==this.layer)return!0;return!1}},{key:"_find2CommonAncestor",value:function(e,t){if(e===this.layer||t===this.layer)return this.layer;var n=this._computeLinkLength(e),r=this._computeLinkLength(t),o=Math.abs(n-r);if(n<r){var i=[t,e];e=i[0],t=i[1]}for(;o--;)e=e.group;for(;e&&t;){if(e===t)return e;e=e.group,t=t.group}return this.layer}},{key:"_computeLinkLength",value:function(e){for(var t=0;e;)t++,e=e.group;return t}},{key:"_generateGroupId",value:function(){return"group:".concat(c())}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=p},function(e,t,n){"use strict";var r=n(133);e.exports={createRect:function(e){for(var t=e[0],n=t,o=t,i=t,a=t,s=1;s<e.length;s++)(t=e[s]).x<a.x&&(a=t),t.x>o.x&&(o=t),t.y<n.y&&(n=t),t.y>i.y&&(i=t);var c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER;[n,o,i,a].forEach((function(e){e.x>c&&(c=e.x),e.x<u&&(u=e.x),e.y>l&&(l=e.y),e.y<p&&(p=e.y)}));var f=new Point(u,p),d=new Point(c,l);return new r(f,d)}}},function(e,t,n){"use strict";var r=n(134);function o(){switch(arguments.length){case 2:this.p1=arguments[0],this.p2=arguments[1],this.A=this.p1.y-this.p2.y,this.B=this.p2.x-this.p1.x,this.C=this.p1.x*this.p2.y-this.p2.x*this.p1.y;break;case 3:this.A=arguments[0],this.B=arguments[1],this.C=arguments[2];break;default:throw new Error("Invalid arguments for Line")}}o.prototype.toString=function(){},o.prototype.distanceTo=function(e){if(e instanceof r)return this.distance2Point(e);if(e instanceof o)return this.distance2Line(e);throw new Error("Unknown geo type")},o.prototype.whichSide=function(e){return this.A*e.x+this.B*e.y+this.C},o.prototype.distance2Point=function(e){return Math.abs(this.A*e.x+this.B*e.y+this.C)/Math.sqrt(this.A*this.A+this.B*this.B)},o.prototype.distance2Line=function(e){return Math.abs(this.C-e.C)/Math.sqrt(this.A*this.A+this.B*this.B)},o.prototype.slope=function(){return-this.A/this.B},o.getIncludedAngle=function(e,t){var n=e.slope(),r=t.slope(),o=Math.abs((r-n)/(1+n*r));return 180*Math.atan(o)/Math.PI},window.Line=o,e.exports=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t}var t,n,o;return t=e,(n=[{key:"screens",get:function(){return this.page.eqxLayerList.sort((function(e,t){return e.zIndex-t.zIndex}))}},{key:"currentScreen",get:function(){return this.page.getCurrentLayer()}},{key:"currentScreenIndex",get:function(){var e=this;return this.screens.findIndex((function(t){return t===e.currentScreen}))}},{key:"copyScreen",value:function(e){var t=this.screens[e],n=this.page.addEmptyEqxLayer(e+1),r=this.page.groupManager,o=this.page.pageJson.properties.triggerGroup,i=t.getDirectItems(),a=r.copyItems(i,0,0,o);n.addEqxItems(a)}},{key:"addScreen",value:function(){this.page.addEmptyEqxLayer(),this.showCurrentScreen()}},{key:"deleteScreen",value:function(e){var t=this.screens[e];this.page.deleteEqxLayer(t)}},{key:"showCurrentScreen",value:function(){var e=this;this.screens.forEach((function(t){t===e.currentScreen?(t.$layer&&t.$layer.show(),t.setAllowOperate(!0)):(t.$layer&&t.$layer.hide(),t.setAllowOperate(!1))}))}},{key:"switchScreen",value:function(e){var t=this.screens[e];this.page.switchCurrentLayer(t),this.showCurrentScreen()}},{key:"getCompsInScreen",value:function(e){return e?e.eqxItems.slice().filter((function(e){return!e.isGroupItem()})):[]}},{key:"findImageCompInScreen",value:function(e){return this.getCompsInScreen(e).find((function(e){return!!e.compJson.properties.pip}))}},{key:"updateCompsTranslateZ",value:function(e,t,n){if(e&&e.length){var r=n||this.currentScreen,o=this.screens.findIndex((function(e){return e===r}));return e.forEach((function(e){e.compJson.properties.translate3dZ=o*(t||320)})),e}}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(22),i=o.RAW_EVENT,a=o.EQX_EVENT,s=n(45).throttle,c="ontouchstart"in window,u=c?"touchstart":"mousedown",l=c?"touchmove":"mousemove",p=c?"touchend":"mouseup",f=c?"touchcancel":"mouseleave",d=n(4).openUrl,h=n(6).linkRiskIframeModal,m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n||this.iteratorScene(t)}var t,o,m;return t=e,(o=[{key:"iteratorScene",value:function(e){var t=this,n=null;e.pageJson.properties.triggerGroup&&e.pageJson.properties.triggerGroup instanceof Array&&e.pageJson.properties.triggerGroup.forEach((function(r){var o=e;if("e"==r.targetType&&(o=e.getEqxCompById(r.targetId)),o)if(r.eventType===i.click){var a=(n=e.getEqxCompById(r.sourceId))?n.$li?n.$li:n.$group:null;a&&(setTimeout((function(){a.find(".element").css({cursor:"pointer"})}),800),a.on("click",(function(n){n.preventDefault(),n.stopPropagation(),t.triggerEleByState(o,r,e)})))}else r.eventType===i.shake?t.addPageTrigger(o,r,e):r.eventType===i.taphold?(n=e.getEqxCompById(r.sourceId))&&n.$li&&t.addTapholdTrigger(n,o,r,e):r.eventType===i.slide?(n=e.getEqxCompById(r.sourceId))&&n.$li&&t.addSlideTrigger(n,o,r,e):r.eventType===i.mediaEnded?(n=e.getEqxCompById(r.sourceId))&&n.$context&&("o"===n.compJson.type?n.$context.on("ended",(function(){t.triggerEleByState(o,r,e)})):n.soundAgent&&$(n.soundAgent.audio).on("ended",(function(){t.triggerEleByState(o,r,e)}))):r.eventType===i.mediaCanplay?(n=e.getEqxCompById(r.sourceId))&&n.$context&&("o"===n.compJson.type?n.$context.on("canplay",(function(){t.triggerEleByState(o,r,e)})):n.soundAgent&&$(n.soundAgent.audio).on("canplay",(function(){t.triggerEleByState(o,r,e)}))):r.eventType===i.mediaPlaying?(n=e.getEqxCompById(r.sourceId))&&n.$context&&("o"===n.compJson.type?n.$context.on("playing",(function(){t.triggerEleByState(o,r,e)})):n.soundAgent&&$(n.soundAgent.audio).on("playing",(function(){t.triggerEleByState(o,r,e)}))):r.eventType===i.animStart?(n=e.getEqxCompById(r.sourceId))&&n.$boxDiv&&n.$boxDiv.on("animationstart",(function(){t.triggerEleByState(o,r,e)})):r.eventType===i.animEnd?(n=e.getEqxCompById(r.sourceId))&&n.$boxDiv&&n.$li.on("animationend",(function(){t.triggerEleByState(o,r,e)})):r.eventType===i.animIteration&&(n=e.getEqxCompById(r.sourceId))&&n.$boxDiv&&n.$boxDiv.on("animationiteration",(function(){t.triggerEleByState(o,r,e)}))}))}},{key:"addSlideTrigger",value:function(e,t,n,r){var o=0,i=0,a=this,f=e.compJson.css,d=f.left,h=f.top;function m(u){u.stopPropagation();var l=c?u.originalEvent.targetTouches[0].pageX:u.pageX,p=c?u.originalEvent.targetTouches[0].pageY:u.pageY;h=p-i,d=l-o,(Math.abs(d-f.left)>10||Math.abs(h-f.top)>10)&&s((function(e,t){a.triggerEleByState(e,t,r)}),50,100)(t,n),e.$li.css({top:h+"px",left:d+"px"})}function v(){d=f.left,h=f.top,e.$li.css({top:h,left:d}),$(e.$li).off(l,m),$(document).off(p,v)}e.$li.on(u,(function(t){t.preventDefault(),t.stopPropagation();var n=c?t.originalEvent.targetTouches[0].pageX:t.pageX,r=c?t.originalEvent.targetTouches[0].pageY:t.pageY;o=n-d,i=r-h,$(e.$li).on(l,m),$(document).on(p,v)}))}},{key:"addTapholdTrigger",value:function(e,t,n,r){var o=0,i=null,s=this,d=0,h=0,m=!1;function v(e){var t=c?e.originalEvent.targetTouches[0].pageX:e.pageX,n=c?e.originalEvent.targetTouches[0].pageY:e.pageY;(Math.abs(t-d)>10||Math.abs(n-h)>10)&&y()}function g(){(new Date).getTime()/1e3-o>=2?(s.triggerEleByState(t,n,r),m=!0):i=setTimeout(g,500)}function y(){if(m){if(n.targetStateReverse){var o=JSON.parse(JSON.stringify(n));switch(o.targetState){case a.show:o.targetState=a.hide,s.triggerEleByState(t,o,r);break;case a.hide:o.targetState=a.show,s.triggerEleByState(t,o,r);break;case a.play:s.triggerEleByState(t,n,r)}}m=!1}clearTimeout(i),e.$li.unbind(p,y).unbind(f,y).unbind(l,v)}e.$li.find("img").addClass("taphold_image"),e.$li.on(u,(function(t){t.preventDefault(),t.stopPropagation(),d=c?t.originalEvent.targetTouches[0].pageX:t.pageX,h=c?t.originalEvent.targetTouches[0].pageY:t.pageY,e.$li.bind(p,y).bind(f,y).bind(l,v),o=(new Date).getTime()/1e3,g()}))}},{key:"addPageTrigger",value:function(e,t,r){if(window.DeviceMotionEvent){this.shakeAudio||(this.shakeAudio=document.createElement("audio"),this.shakeAudio.src=n(1043));var o=this,i=0,a=0,s=0,c=0,u=100;window.addEventListener("devicemotion",(function(n){var l=n.accelerationIncludingGravity,p=l.x,f=l.y,d=l.z,h=(new Date).getTime();if(h-i>u){var m=parseInt(h-i);i=h,Math.abs(p+f+d-a-s-c)/m*1e4>4e3&&r.displayed?(u=2e3,o.triggerEleByState(e,t,r)):u=100,a=p,s=f,c=d}}),!1)}}},{key:"triggerEleByState",value:function(e,t,n){switch(window._tracker_api_&&window._tracker_api_.trigger&&window._tracker_api_.trigger("".concat(n.pageJson.id,"_").concat(t.sourceId),t.eventType),t.targetState){case a.show:setTimeout((function(){e.eleShow(),e.triggerHide=!1}),1e3*t.delay);break;case a.hide:setTimeout((function(){e.eleHide(),e.triggerHide=!0}),1e3*t.delay);break;case a.random:e.busy||(e.busy=!0,setTimeout((function(){e.showRandomImg(),e.busy=!1}),1e3*t.delay));break;case a.play:"o"==e.compJson.type?e.playVideo():e.soundAgent&&(e.soundAgent.audio.paused?e.soundAgent.startPlay():e.soundAgent.stopPlay(),$(e.soundAgent.audio).on("ended",(function(){return e.soundAgent.manager.onEnd(e.soundAgent)})));break;case a.link:setTimeout((function(){t.targetContent.startsWith("http://")&&window.location.href.startsWith("https://")&&(t.targetContent=t.targetContent.replace("http://","https://"));var e=decodeURIComponent(t.targetContent);n.eqxScene.formManager.checkGcVerifyCode(e).then((function(e){var t=e.risk,r=e.link;if(t)h(r,n.eqxScene);else{var o=r.replace(/.*?eqs\/link\?id=\d+&url=/,"");d(o,n.pageJson.id)}}))}),1e3*t.delay);break;case a.page:setTimeout((function(){e.eqxScene.pageScroll.goToPageById(+t.targetContent)}),1e3*t.delay);break;case a.phone:window.location.href="tel:".concat(t.targetContent);break;case a.position:var r=e.compJson.css.top;-r>0?n.touchPos=0:-r<n.pLen?n.touchPos=n.pLen:n.touchPos=-r,n.doTransform(n.touchPos,100);break;case a.anim:e.eleHide(),e.$li.offset(),e.eleShow();break;case a.anchor:var o=t.targetId;e.eqxPage.moveByCompId(o),e.eleShow();break;default:return!1}}},{key:"compHasTrigger",value:function(e,t){return e.some((function(e){return e.targetId===t&&(e.targetState===a.hide||e.targetState===a.show)}))}}])&&r(t.prototype,o),m&&r(t,m),e}();e.exports=m},function(e,t,n){e.exports=n.p+"images/wxShake-1467fa.mp3"},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(312),l=n(1045),p=n(100).FtRuleType,f=n(76).isPlainObject,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eqxPage=t;var n=this.eqxPage.pageJson.properties;this.parse(n.groupSettings)}var t,n,i;return t=e,i=[{key:"flatRules",value:function(e){if(!e||Array.isArray(e)){var t=[];return(e||[]).forEach((function(e){e.type===p.editGroup?t.push.apply(t,r(e.comps)):t.push(e)})),t}}}],(n=[{key:"flatRules",value:function(t){return e.flatRules(t)}},{key:"validRule",value:function(e){var t=this;return e.comps.forEach((function(e){var n=e.id,r=e.properties;r.forEach((function(e,o){if("object"===s(e)){var i=t.eqxPage.getEqxItem(n);if(!i)return;for(var a=i.compJson.properties.items,c=-1,u=e.fill.join(","),l=0;l<a.length;l++)if(a[l].elements.join(",")===u){c=l;break}r[o]=c>-1?"fill-"+c:"xxx"}}))})),e}},{key:"validRules",value:function(e){var t=this,n=[];return(e||[]).forEach((function(e){t.validRule(e)&&n.push(e)})),n}},{key:"parse",value:function(e){var t=this,n=this.eqxPage;n.getEqxItems().forEach((function(e){e._ft=null})),e=this.flatRules(e);var r=this.validRules(e).filter((function(e){var t=e.type;return e.comps.filter((function(e){var r=e.id,o=e.properties,i=n.getEqxItem(r);if(!i)return!1;var a=i.filterEditableProps();return(o=o.filter((function(e){var n="".concat(t,".").concat(e);return a.includes(n)}))).length})).length})).map((function(e){return new l(e,t)}));this.ftRules=r;var o=this.eqxPage.pageJson.properties;return this.rules=o.groupSettings=this.toJson(),r}},{key:"toJson",value:function(){return this.ftRules.map((function(e){return e.toJson()}))}},{key:"getEqxItemRelativeFtRules",value:function(e){if(e.isGroupItem()){var t=e.getAllSubEqxItems(),n=[];return this.ftRules.forEach((function(e){e.getEqxItems().some((function(e){return t.includes(e)}))&&n.push(e)})),n}return this.getEqxItemFtRules(e)}},{key:"getEqxItemFtRules",value:function(e){var t=[];return this.ftRules.forEach((function(n){n.getEqxItems().includes(e)&&t.push(n)})),t}},{key:"filterValidFtRules",value:function(){for(var e=0;e<this.ftRules.length;e++)this.ftRules[e].filterValidFtTerms()&&e--}},{key:"findFtTerm",value:function(e,t){for(var n=o(t.split("."),2),r=n[0],i=n[1],a=0;a<this.ftRules.length;a++){var s=this.ftRules[a];if(s.type===r){var c=s.ftTerms.find((function(t){return t.canApplyTo(e,i)}));if(c)return c}}}},{key:"addFtRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ftRules.length;if(e instanceof u?(e.ftRule.deleteFtTerm(e,!0),e=l.ftTermToFtRule(e,this)):e instanceof l||this.validRule(e)&&(e=new l(e,this)),!this.ftRules.includes(e))return this.ftRules.splice(t,0,e),e}},{key:"addFtRules",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ftRules.length?this.ftRules.length-1:0;return f(t[0])&&(t=e.flatRules(t)),t.filter((function(e){if(n.addFtRule(e,r))return r++,!0}))}},{key:"convertFtTermToFtRule",value:function(e,t){e.ftRule.deleteFtTerm(e,!0),this.addFtRule(e,t)}},{key:"extractFtTermIntoFtRule",value:function(e,t,n){e&&t&&this.canMerge([e.ftRule,t])&&(e.ftRule.deleteFtTerm(e,!0),t.addFtTerm(e,n||0))}},{key:"splitFtRule",value:function(e){var t=this.ftRules.indexOf(e);if(t>-1&&e.ftTerms.length>1){this.deleteFtRule(e);var n=e.split();return this.addFtRules(n,t)}}},{key:"filterSameTypeFtRules",value:function(e){var t=e.type;return this.ftRules.filter((function(e){return e.type===t}))}},{key:"canMerge",value:function(e){if(e.length<2)return!1;for(var t=e[0].type,n=1;n<e.length;n++)if(e[n].type!==t)return!1;return!0}},{key:"mergeFtRules",value:function(e){var t=this;if(e=e.filter((function(e){return t.ftRules.includes(e)})),this.canMerge(e)){var n=e[0];return n.mergeFtRules(e.slice(1)),n}}},{key:"deleteFtTerm",value:function(e,t){e.ftRule.deleteFtTerm(e,t)}},{key:"deleteFtRule",value:function(e){var t=this.ftRules.indexOf(e);return t>-1&&(this.ftRules.splice(t,1),!0)}},{key:"sortFtRule",value:function(e,t){var n=this.ftRules.length;t<0&&(t=0),t>n-1&&(t=n-1);var r=this.ftRules.indexOf(e);return-1!==r&&(this.ftRules.splice(r,1),this.ftRules.splice(t,0,e),!0)}},{key:"sortFtTerm",value:function(e,t){return e.ftRule.sortFtTerm(e,t)}}])&&c(t.prototype,n),i&&c(t,i),e}();e.exports=d},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(100),s=a.FtRuleType,c=a.getEditPropName,u=a.FtRuleName,l=n(312),p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ruleJson=t,this.ftManager=n,this.ftTerms=this.parse()}var t,n,o;return t=e,o=[{key:"ftTermToFtRule",value:function(t,n){var r=new e(t.ftRule.toEmptyJson(),n);return r.addFtTerm(t),r}}],(n=[{key:"isGroupRule",value:function(){var e=s;return[e.addGroup,e.moveGroup,e.deleteGroup,e.editGroup].includes(this.type)}},{key:"parse",value:function(){var e=this.ruleJson;this.type=e.type,this.value=e.value;var t=this.parseFtTermsByRuleJson(e);return this.calName(e.name,t),t}},{key:"calName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ftTerms;if(e)this.name=e;else{var n=t.length;if(0===n)return void(this.name="");if(1===n)var r=c(this.type+"."+t[0].prop);else r=u[this.type];var o=r.length,i=t.map((function(e){return e.eqxItem.getName()})).join("&"),a=i.length;a>14-o&&(i=i.substr(0,14-r.length)+"..."),this.name=i+"-"+r}}},{key:"toJson",value:function(){var e=this.ftTerms.map((function(e){return e.toJson()}));return{name:this.name,type:this.type,value:this.value,comps:e}}},{key:"toEmptyJson",value:function(){return{name:this.name,type:this.type,value:this.value,comps:[]}}},{key:"deleteSelf",value:function(){this.ftManager.deleteFtRule(this)}},{key:"filterValidFtTerms",value:function(){for(var e=0;e<this.ftTerms.length;e++){var t=this.ftTerms[e];t.isValid()||this.deleteFtTerm(t)&&e--}if(!this.ftTerms.length)return this.deleteSelf(),!0}},{key:"apply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.ftTerms.map((function(e){return e.apply.apply(e,t)}));return this.updateFtValue(),r}},{key:"updateFtValue",value:function(){this.ftTerms[0]?this.value=this.ftTerms[0].getEqxItemFtValue():this.value=0}},{key:"getEqxItems",value:function(){var e=[];return this.ftTerms.forEach((function(t){e.includes(t.eqxItem)||e.push(t.eqxItem)})),e}},{key:"parseFtTermsByRuleJson",value:function(e){var t=this,n=[];return e.comps.forEach((function(e){e.properties.forEach((function(r){n.push(new l({id:e.id,prop:r},t))}))})),n}},{key:"split",value:function(){var t=this;return this.ftTerms.map((function(n){return new e({type:t.type,value:t.value,comps:[n.toJson()]},t.ftManager)}))}},{key:"sortFtTerm",value:function(e,t){var n=this.ftTerms.length;t<0&&(t=0),t>n-1&&(t=n-1);var r=this.ftTerms.indexOf(e);return-1!==r&&(this.ftTerms.splice(r,1),this.ftTerms.splice(t,0,e),!0)}},{key:"mergeFtRule",value:function(e){var t=this;e.ftTerms.forEach((function(e){e.ftRule=t,t.ftTerms.push(e)})),this.ftManager.deleteFtRule(e)}},{key:"mergeFtRules",value:function(e){var t=this;e.forEach((function(e){return t.mergeFtRule(e)}))}},{key:"addFtTerm",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ftTerms.length;if(e instanceof l){e.ftRule=this;var i=[e]}else{var a=e;i=a.properties.map((function(t){return new l({id:e.id,prop:t},n)}))}var s=this.ftTerms.length;o<0&&(o=0),o>s-1&&(o=s-1),(t=this.ftTerms).splice.apply(t,[o,0].concat(r(i))),this.calName()}},{key:"deleteFtTerm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.ftTerms.indexOf(e);if(n>-1)return this.ftTerms.splice(n,1),t&&!this.ftTerms.length&&this.ftManager.deleteFtRule(this),!0;this.calName()}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=p},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(22),i=o.RAW_EVENT,a=o.EQX_EVENT,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t}var t,n,o;return t=e,(n=[{key:"findEqxItemTriggerItem",value:function(e,t,n){return e.eqxPage.pageJson.properties.triggerGroup.find((function(r){return r.eventType==i[t]&&r.sourceId==e.id&&r.targetState==a[n]}))}},{key:"isHasEqxTrigger",value:function(e){return e.eqxPage.pageJson.properties.triggerGroup.some((function(t){return t.sourceId==e.id}))}},{key:"addTriggers",value:function(e){if(Array.isArray(e)&&e.length)for(var t=this.page.pageJson.properties,n=t.triggerGroup=t.triggerGroup||[],r=function(t){var r=e[t];if(n.findIndex((function(e){return e.eventType===r.eventType&&e.sourceId===r.sourceId&&e.targetId===r.targetId}))>=0)return"continue";n.push(r)},o=0;o<e;o++)r(o)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.page=n,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this.config,t=this.page.eqxScene.config.mode,n=this.page.eqxLayerList;if(this.layers=n,this.count=n.length,this.current=0,"view"===t&&e.used){n[0].show();for(var r=1;r<n.length;r++)n[r].hide();this.current=1}}},{key:"reset",value:function(){this.layers[0].show();for(var e=this.layers,t=1;t<e.length;t++)e[t].hide();this.stop(),this.current=1}},{key:"play",value:function(){var e=this.config;"view"===this.page.eqxScene.config.mode&&e.used&&this.playEqxLayer()}},{key:"stop",value:function(){this.loopTimer&&clearTimeout(this.loopTimer)}},{key:"playEqxLayer",value:function(){var e=this;this.stop(),this.current!==this.count?this.loopTimer=setTimeout((function(){if(!(e.current>=e.count)){for(var t=0;t<e.layers.length;t++)e.current===t?e.layers[e.current].show():e.layers[t].hide();e.current++,e.playEqxLayer()}}),this.defaultDuration()):console.log("快闪播放结束")}},{key:"defaultDuration",value:function(){if(this.current>=this.count)return 100;var e=this.layers[this.current-1],t=e.json.flash,n=void 0===t?{}:t,r=n.durationType,o=void 0===r?0:r,i=n.duration,a=void 0===i?null:i;if(0===o){var s=function(e){for(var t=e.getEqxComps(),n=0,r=0;r<t.length;r++)for(var o=t[r],i=o.compJson.properties.anim,a=void 0===i?[]:i,s=0;s<a.length;s++){var c=a[s],u=c.countNum,l=c.duration,p=c.delay;if(c.count)return 1e3*(l+p);if(1==c.animClassify){var f,d=o.$context.text(),h=c.textInterval,m=d.match(/(\b[a-zA-Z]+\b)|[\u4e00-\u9fa5]|[\.\<\>\《\》\。\-\——\_\?\!\？\！\:\：\;\；]/g);f=m?u*(l+(m.length-1)*h)+p:u*l+p,n=Math.max(n,f)}else n=Math.max(n,u*l+p)}return 1e3*n}(e);0==s&&(s=2e3)}else 1===o&&a>=0&&(s=1e3*a);return s}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(45).throttle,c=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=t,this.page=n,this.copyList=r(this.list);return this.moveExec=s((function(e,t){!function(e,t){if(o.moving){var n=o.dragItem,i=o.copyList,a=i.length,s=!0;!o.dragSort.classAdded&&n.forEach((function(e){e.addCurClass()})),o.dragSort.classAdded=!0;for(var c,u=n.length>0&&!t?o.computeItemsTopBottom(n):t,l=i.filter((function(e){return!e.group})),p=l.length?l[0]:void 0,f=l.length?l[l.length-1]:void 0,d=0;d<a;d++)if(!(n.findIndex((function(e){return e===i[d]}))>-1||i[d].group)){var h=o.checkIsNeedSplice(u,i[d].getAbsolutePos(!0),e.y,i[d],i[d]===p,i[d]===f);if(h){s=!1;var m,v=i[d];if(t)o.insertPosition=d,(m=o.list).splice.apply(m,[d,0].concat(r(n)));else n.forEach((function(e,t){var n,i=o.list.findIndex((function(t){return t==e})),a=d+t;"toUp"==h&&(i-=t,a-=t),isNaN(parseInt(a))||isNaN(parseInt(i))||(n=o.list).splice.apply(n,[a,0].concat(r(o.list.splice(i,1))))}));o.showMovePosition(v,h);break}}if(s)o.list.splice(0),(c=o.list).push.apply(c,r(i)),o.hideMovePosition();o.dragSort.lastPosition=e.y}}(e,t)}),16,100),this}var t,n,i;return t=e,(n=[{key:"start",value:function(e,t){var n=[];e.forEach((function(e){e.group&&-1==n.findIndex((function(t){return t==e.findTopGroup()}))?n.push(e.findTopGroup()):n.push(e),e._moving=e.getBoundingRect().top})),document.addEventListener("mouseup",this.cancelMoving.bind(this),{once:!0}),e=n,this.dragItem=e;var o=e.length&&this.computeItemsTopBottom(e),i=this.maxMoveDistance();this.$tipEle=null,this.dragSort={lastPosition:t.y},this.layer=this.page.eqxLayerList[0],Object.assign(this.dragSort,o,i),this.moving=!0,this.copyList=r(this.list)}},{key:"cancelMoving",value:function(){this.dragItem&&this.dragItem.forEach((function(e){delete e._moving}))}},{key:"move",value:function(e,t){this.moveExec(e,t)}},{key:"end",value:function(e){e&&e(this.insertPosition),this.page.currentLayer.$ul,this.list.forEach((function(e,t){delete e._moving,e.group||e.removeDragClass()})),this.dragSort={},this.dragSort.classAdded=!1,this.$tipEle=null,this.page.eqxLayerList[0].$ul.find("li.position").remove(),this.copyList=r(this.list),this.resetCompPosition(),this.moving=!1}},{key:"maxMoveDistance",value:function(){var e=this.list[0].getAbsolutePos().top,t=e;return this.list.forEach((function(t){t.group||(e+=t.getAbsolutePos().height)})),{min:t,max:parseInt(e)}}},{key:"computeItemsTopBottom",value:function(e){var t=e[0].getAbsolutePos(!0),n=e[0].oldPos||t;return{top:parseInt(t.top),bottom:parseInt(e[e.length-1].getAbsolutePos(!0).bottom),toTop:n.top>t.top}}},{key:"checkIsNeedSplice",value:function(e,t,n,r,o,i){return e.cancel?(this.$tipEle&&this.$tipEle.hide(),!1):e.toTop&&e.top<t.bottom-10&&(e.top>t.top||o)?(this.dragSort.curPos=n,this.dragSort.toUpItem=r,this.dragSort.toDwonItem=null,"toDown"):!!(!e.toTop&&e.bottom>t.top+10&&(e.bottom<t.bottom||i))&&(this.dragSort.curPos=n,this.dragSort.toDwonItem=r,this.dragSort.toUpItem=null,"toUp")}},{key:"resetCompPosition",value:function(e,t){if(0!=this.list.length){var n=0,r=this.page.eqxLayerList[0].$ul&&this.page.eqxLayerList[0].$ul[0];if(r){var i=r.offsetHeight;this.list.forEach((function(t,r){t.setArrIndex(r+1),t.group||((!e||e&&-1===e.findIndex((function(e){return t===e})))&&(t.isGroupItem()?(n+=t.getPadding().paddingTop,t.updateItemCss(n)):t.updateCss({top:n}),t.autoSize(),t.isNewAdd||t.addMoveClass(),t.isNewAdd&&delete t.isNewAdd),n+=parseFloat(t.getAbsolutePos(i>200).height+(t.getAbsolutePos(!0).paddingBottomNum||0)))}));var a,s=0,c=0,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(r.children);try{for(u.s();!(a=u.n()).done;){var l=a.value;if("absolute"!==$(l).css("position")){var p=this.list[s+c];if(p&&(p.$li||p.$ul)){var f=(p.$li||p.$group)[0];if(f.style.top=0,l!==f){var d=document.createElement("li");r.contains(f)&&r.contains(l)&&(r.replaceChild(d,f),r.replaceChild(f,l),r.replaceChild(l,d))}s++}else s++}else c--,s++}}catch(e){u.e(e)}finally{u.f()}return this.page.combineEqxItems(),this.page.eqxScene.config.isArrangEditor&&this.page.eqxScene.publish("page.height.change",n),n}}}},{key:"showMovePosition",value:function(e,t){var n=e.getAbsolutePos(!0),r="toDown"===t?n.top:n.top+n.height;this.$tipEle?this.$tipEle.css({top:r+"px"}).show():(this.$tipEle=$('<li class="position" style="top:'.concat(r,'px;height:2px"></li>')),this.page.eqxLayerList[0].$ul.append(this.$tipEle))}},{key:"hideMovePosition",value:function(){this.page.eqxLayerList[0].$ul.find("li.position").hide()}}])&&a(t.prototype,n),i&&a(t,i),e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(4).getUrlParam,i=n(76).safeJsonParse,a=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.eqxScene.meta.id,this.page=t,this.cardId=o("cardId"),this.events={},this}var t,n,a;return t=e,(n=[{key:"opts",get:function(){return{id:this.id,cardId:this.cardId}}},{key:"addEvent",value:function(e,t){var n=this.events[e];Object.keys(this.events).length||this.message(),n||(this.events[e]=[]),this.events[e].push(t)}},{key:"removeEvent",value:function(e,t){var n=this.events[e];n.splice(n.indexOf(t),1)}},{key:"post",value:function(e){if(window.parent){var t=Object.assign(this.opts,e);window.parent.postMessage(t,"*")}}},{key:"message",value:function(){var e=this;window.addEventListener("message",(function(t){var n=("string"==typeof t.data?i(t.data):t.data).eventType||null;n&&e.events[n]&&e.events[n].forEach((function(e){e(t.data)}))}))}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseElementQueue=t.baseElementQueue,this.overlayElementQueue=t.overlayElementQueue,this.eqxPage=t}var t,n,o;return t=e,(n=[{key:"addBaseItem",value:function(e,t){var n=this.baseElementQueue.indexOf(t);n?this.baseElementQueue.splice(n,0,e):this.baseElementQueue.push(e),this.updatePosition()}},{key:"addOverlayItem",value:function(e){var t=this;this.baseElementQueue.indexOf(e)&&this.baseElementQueue.forEach((function(n,r){n.findTopGroup()==e&&t.baseElementQueue.splice(r,1)})),this.overlayElementQueue.push(e)}},{key:"deleteItem",value:function(e){}},{key:"moveTop",value:function(e){var t=this.baseElementQueue.indexOf(e);if(0!=t){for(var n=t-1;n>=0;n--)if(this.baseElementQueue[n].findTopGroup()==this.baseElementQueue[n]){var r=this.baseElementQueue[n];this.baseElementQueue[n]=e,this.baseElementQueue[t]=r;break}this.updatePosition()}}},{key:"swapComp",value:function(e,t){var n,o=this.findIndex(e),i=this.findIndex(t);(n=this.baseElementQueue).splice.apply(n,[i,0].concat(r(this.baseElementQueue.splice(o,1)))),this.updatePosition()}},{key:"moveBottom",value:function(e){var t=this.baseElementQueue.indexOf(e),n=this.baseElementQueue.length;if(t!=n-1){for(var r=t+1;r<n;r++)if(this.baseElementQueue[r].findTopGroup()==this.baseElementQueue[r]){var o=this.baseElementQueue[r];this.baseElementQueue[r]=e,this.baseElementQueue[t]=o;break}this.updatePosition()}}},{key:"updatePosition",value:function(){this.eqxPage.EqxDragManager.resetCompPosition()}},{key:"findIndex",value:function(e){return e.isBaseLayerElement?this.baseElementQueue.indexOf(e.findTopGroup()):this.overlayElementQueue.indexOf(e.findTopGroup())}},{key:"replaceItem",value:function(e,t,n){var r=this.findIndex(t);e.deleteEqxComp(t);var o=e.initEqxCompByJson(n);return o&&e.renderEqxComp(o),o.isBaseLayerElement?(this.baseElementQueue.splice(r,0,o),this.updatePosition()):this.overlayElementQueue.splice(r,0,o),o}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(22).FORM_RULES,a=i.relative,s=i.switch,c=i.options,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t,this._list=t.pageJson.properties.formRules,this.init()}var t,n,i;return t=e,(n=[{key:"list",get:function(){return this.rules[a].concat(this.rules[s],this.rules[c])}},{key:"relativeRules",get:function(){return this.rules[a]}},{key:"switchRules",get:function(){return this.rules[s]}},{key:"init",value:function(){var e,t=this;this.index=1,this.rules=(r(e={},a,[]),r(e,s,[]),r(e,c,[]),e),this._list.forEach((function(e){t.rules[e.type].push(e),t.index=Math.max(t.index,parseInt(e.id)+1);var n=t.page.getEqxCompById(e.sourceId);e.type===a?n&&n.addRelativeTag():e.type===s?n&&n.addSwitchTag():e.type===c&&n&&n.addOptionRuleTag(e)})),this.backup=$.extend(!0,{},this.rules)}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=this.getRules(t,n);r||(r={id:this.index++},this.rules[n].push(r)),Object.assign(r,e),0===r.items.length&&this.remove(t,n),this.updateCompStatus(t),this.updateList()}},{key:"getRules",value:function(e,t){return void 0===t?{relative:this.getRules(e,a),switch:this.getRules(e,s),options:this.getRules(e,c)}:this.rules[t].find((function(t){return t.sourceId==e}))}},{key:"getBackupRules",value:function(e,t){return void 0===t?{relative:this.getBackupRules(e,a),switch:this.getBackupRules(e,s),options:this.getBackupRules(e,c)}:this.backup[t].find((function(t){return t.sourceId==e}))}},{key:"updateList",value:function(){this.page.pageJson.properties.formRules=this.list}},{key:"pasteRules",value:function(e,t,n){this.remove(t,n);var r=this.getRules(e,n);if(r){var o=JSON.parse(JSON.stringify(r));o.id=this.index++,o.sourceId=t,this.rules[n].push(o)}this.updateCompStatus(t),this.updateList()}},{key:"backupRules",value:function(){this.backup=$.extend(!0,{},this.rules)}},{key:"recover",value:function(e,t){this.remove(e,t);var n=this.getBackupRules(e,t);if(n){var r=JSON.parse(JSON.stringify(n));r.id=this.index++,r.sourceId=e,this.rules[t].push(r)}this.updateCompStatus(e),this.updateList()}},{key:"remove",value:function(e,t){var n=this;e&&((isNaN(parseInt(t))?[a,s,c]:[t]).forEach((function(t){var r=n.rules[t].findIndex((function(t){return t.sourceId==e}));r>-1&&n.rules[t].splice(r,1)})),this.updateCompStatus(e),this.updateList())}},{key:"getRulesDescrip",value:function(e){return{formRules:this.getRelativeRules(e),switchRules:this.getSwitchRules(e),optionsRule:this.getOptionsRules(e)}}},{key:"getRelativeRules",value:function(e,t){var n=this;if(!(t=t||this.getRules(e,a))||!t.items.length)return!1;var r="",o=t.isAnd?'<br><span class="remind">并且</span> ':'<br><span class="remind">或</span> ';return t.items.forEach((function(e,t){t>0&&(r+=o);var i=n.page.getEqxCompById(e.targetId).getTextDetail(e.targetOpt),a=e.targetOpt.length>0?"中的任何一个选项":"";r+='当题目 <span class="msg">'.concat(i.title,'</span> 选择 <span class="msg">').concat(i.options.join("、"),"</span> ").concat(a,"时，")})),r+"此题才显示"}},{key:"getSwitchRules",value:function(e){var t=this,n=this.getRules(e,s);if(!n||!n.items.length)return!1;var r=n.items,o="";if(r[0].withoutCondition){var i=r[0];if(i.isEnd)o='<span class="msg">跳到末尾结束作答</span>';else{var a=this.page.getEqxCompById(i.targetId);o='跳转到题目<span class="msg">'.concat(a.getTipTitle(),"</span>")}}else{var c=this.page.getEqxCompById(n.sourceId).getOptionHash();r.forEach((function(e){var n=t.page.getEqxCompById(e.targetId);e.isEnd?o+='当选择选项 <span class="msg">'.concat(c[e.optId].label,'</span> 时，<span class="msg">跳到末尾结束作答</span>;'):o+='当选择选项 <span class="msg">'.concat(c[e.optId].label,'</span> 时，跳转到题目 <span class="msg">').concat(n.getTipTitle(),"</span>;")}))}return o}},{key:"getOptionsRules",value:function(e){var t=this,n=this.getRules(e,c);if(!n||!n.items.length)return!1;var r=n.items,o=this.page.getEqxCompById(n.sourceId),i="";return r.forEach((function(e,n){var r=o.getOptionHash();n>0&&(i+="<br>"),e.list.forEach((function(n,r){var o=t.page.getEqxCompById(n.targetId),a=o.getTextDetail(n.targetOpt);if(r<e.list.length-1)var s=e.isAnd?'<br><span class="remind">并且</span> ':'<br><span class="remind">或</span> ';else s="";i+='当题目<span class="msg">'.concat(o.getTipTitle(),'</span>选择 <span class="msg">').concat(a.options.join("、"),"</span>中的其中一个选项时，").concat(s)})),i+='此题中的<span class="msg">'.concat(r[e.optId].label,"</span>才显示。")})),i}},{key:"getOptionRules",value:function(e,t){var n=this,r=this.getRules(t,c);if(!r||!r.items.length)return!1;var o=r.items,i=(this.page.getEqxCompById(r.sourceId).getOptionHash(),""),a=o.filter((function(t){return t.optId==e}))[0];return a.list.forEach((function(e,t){if(t<a.list.length-1)var r=a.isAnd?'<br><span class="remind">并且</span> ':'<br><span class="remind">或</span> ';else r="";for(var o=n.page.getEqxCompById(e.targetId),s=o.getTextDetail(e.targetOpt),c=[],u=0;u<s.options.length;u++)c.push("[".concat(s.options[u],"]"));i+='当题目<span class="msg">'.concat(o.getTipTitle(),'</span>选择 <span class="msg">').concat(c.join("、")," </span>中的其中一个选项时，").concat(r)})),i+="该选项才显示"}},{key:"updateCompStatus",value:function(e){var t=this.getRules(e),n=t.relative,r=t.switch,o=t.options,i=r?"addSwitchTag":"removeSwitchTag",a=n?"addRelativeTag":"removeRelativeTag",s=o?"addOptionRuleTag":"removeOptionRuleTag",c=this.page.getEqxCompById(e);c[a](),c[i](),c[s](o)}},{key:"getAffectedRules",value:function(e){for(var t=JSON.parse(JSON.stringify(this.list)),n=t.length,r=0;r<n;r++){var o=t[r],i=o.items,a=i.length;if(2==o.type){for(var s=0;s<a;s++)for(var c=i[s].list,u=0;u<c.length;u++)if(c[u].targetId==e)return{type:o.type,sourceId:o.sourceId,opt:c[u].targetOpt,optId:i[s].optId}}else for(var l=0;l<a;l++)if(i[l].targetId==e)return{type:o.type,sourceId:o.sourceId,opt:i[l].targetOpt,optId:i[l].optId}}return!1}},{key:"removeOptionRule",value:function(e,t){var n=this.getRules(t,2);if(n){for(var r=0;r<n.items.length;r++)if(n.items[r].optId==e){n.items.splice(r,1);break}n.items.length||this.remove(t,2),this.updateCompStatus(t),this.updateList()}}}])&&o(t.prototype,n),i&&o(t,i),e}();e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(22).FORM_RULES,d=f.relative,h=f.switch,m=f.options,v=(n(10).FORM_COMPS,n(45).debounce),g=n(313),y=n(1053),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,i=u(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,e,t)).list={},n.eleList={},n.managerList={},n.updatePage=v((function(){n.page.destroyed||n.page.eqxScene.currentPage!==n.page||(n.page.getRealDom=!0,n.page.updateCompPosition("ruleChange"),n.page.dealAppend(n.page.renderMode),n.page.triggerEleShow())}),100),t||n.init(),n}return t=l,(n=[{key:"init",value:function(){var e,t=this,n=this.page.pageJson.properties.formRules;this.rules=(a(e={},d,[]),a(e,h,[]),a(e,m,[]),e),n.length&&(this.switchRules=[],n.forEach((function(e){var n={};Array.isArray(e.items)||(e.items=Object.values(e.items)),e.items.forEach((function(t){e.type==d?n[t.targetId]=t:t.withoutCondition?n.withoutCondition=t:n[t.optId]=t})),e.items=n;var r=e.id;if(t.list[r]=e,e.type===d)Object.values(e.items).forEach((function(e){var n=t.page.getEqxCompById(e.targetId);n&&n.bindRuleEvent(r)})),(t.page.getEqxCompById(e.sourceId)||{}).ruleHide=!0;else if(e.type===h){var o=t.page.getEqxCompById(e.sourceId);o&&o.bindRuleEvent(r)}else if(e.type===m){var i=[];if(Object.values(e.items).forEach((function(e){e.list.length>0&&(e.list.forEach((function(e){var n=t.getEqxComp(e.targetId);n&&n.bindRuleEvent(r)})),i.push(e.optId))})),i.length>0){var a=t.getEqxComp(e.sourceId);a&&(a.optionsHided=i)}}t.rules[e.type].push(e)})),this.page.getEqxComps().forEach((function(e){6!=e.type&&601!=e.type||(t.submitId=e.id)})),this.rules[m].length&&(this.managerList[m]=new y(this.page)),setTimeout((function(){t.updatePage("ruleChange")}),0))}},{key:"getEqxComp",value:function(e){return this.page.getEqxCompById(e)}},{key:"getItemsToHide",value:function(e,t,n){var r=this,i=[],a=[];return e.forEach((function(e){var o=r.list[e];o&&(r.getRuleManager(o.type).updateRule(o,t,n),a.push(r.list[e]))})),a.sort((function(e,t){return e.type-t.type})).forEach((function(e){var t=r.getRuleManager(e.type).validateRule(e);e.type!=d||t?e.type==h&&i.push.apply(i,o(r.itemsHideSinceSwitchRule(e,t))):i.push(r.page.getEqxCompById(e.sourceId))})),i}},{key:"listen",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isRecursive=o,!o&&(this.topHideList=[]);var i=[];e.forEach((function(e){var o=r.list[e];o&&(r.getRuleManager(o.type).updateRule(o,t,n),i.push(r.list[e]))})),i.sort((function(e,t){return e.type-t.type})).forEach((function(e){var t=r.getRuleManager(e.type).validateRule(e);if(e.type!==m)if(e.type==d){var n=r.page.getEqxCompById(e.sourceId);n&&r.trigger(t,n)}else r.triggerSwitchRule(e,t);else r.getRuleManager(e.type).triggerRule(t,e)})),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){r.timer=null,r.operateComp(),r.updatePage()}),100)}},{key:"operateComp",value:function(){Object.values(this.eleList).slice(0).forEach((function(e){var t=e.isShow?"eleShow":"eleHide";e.comp&&(e.comp.isCompShow!=!!e.isShow&&(e.comp[t](),e.isShow&&e.comp.triggerRule&&e.comp.triggerRule()),e.comp.ruleHide=!e.isShow)}))}},{key:"validateRule",value:function(e){var t=e.items,n=Object.values(t);switch(e.type){case d:var r=0;if(n.forEach((function(e){e.isOpen&&r++})),e.isAnd&&r===n.length||!e.isAnd&&r>0)return!0;break;case h:var o;return n.forEach((function(e){e.isOpen&&(o=e.optId)})),o;default:console.info("error","ruleId=".concat(e.id))}}},{key:"itemsHideSinceSwitchRule",value:function(e,t){var n=this,r=Object.values(e.items),i=e.sourceId,a=[];return r.forEach((function(e){if(e.optId==t){var r=e.isEnd?n.submitId:e.targetId;a.push.apply(a,o(n.findItems(i,r)))}})),a}},{key:"triggerSwitchRule",value:function(e,t){var n=this,r=Object.values(e.items),i=e.sourceId;r.forEach((function(e){if(e.optId==t){var r=e.isEnd?n.submitId:e.targetId;setTimeout((function(){n.trigger.apply(n,[!1].concat(o(n.findItems(i,r)))),n.page.getEqxCompById(r)&&n.trigger(!0,n.page.getEqxCompById(r))}),0)}else{var a=e.isEnd?n.submitId:e.targetId,s=n.findItems(i,a);if(!s.length)return;for(var c=s.length-1;c>=0;c--){var u=s[c],l=n.getRules(u.id,d);l&&(n.trigger(n.validateRule(l),u),s.splice(c,1))}n.trigger.apply(n,[!0].concat(o(s)))}}))}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((function(n){var r=n.id;!t.topHideList&&(t.topHideList=[]),t.isRecursive&&e&&t.topHideList.indexOf(r)>-1||(t.eleList[r]={comp:n,isShow:e},t.isRecursive||e||t.topHideList.push(r))}))}},{key:"findItems",value:function(e,t){var n=this.page.getEqxComps(),r=this.page.getEqxCompById(e),o=this.page.getEqxCompById(t);if(!r||!o)return[];var i=r.getArrIndex(),a=o.getArrIndex(),s=[];return n.forEach((function(e){var t=e.getArrIndex();t>i&&t<a&&s.push(e)})),s}},{key:"updateRule",value:function(e,t,n){var r=[];try{"[object String]"===Object.prototype.toString.call(n)&&(n=JSON.parse(n)),r="[object Array]"===Object.prototype.toString.call(n)?n[0]&&"[object Array]"===Object.prototype.toString.call(n[0])?n.map((function(e){return e.value})):n:"[object Number]"===Object.prototype.toString.call(n)?[n]:[n.value||n]}catch(e){r=n?n.split(","):[""]}!function(){switch(e.type){case d:var o=e.items[t],i=o.targetOpt,a=i.length;o.isOpen=!1;for(var s=function(e){if(r.find((function(t){return t==i[e]})))return o.isOpen=!0,"break"},c=0;c<a&&"break"!==s(c);c++);break;case h:Object.values(e.items).forEach((function(e){e.isOpen=!1,r.find((function(t){return!e.withoutCondition&&t==e.optId||e.withoutCondition&&r.length>0}))&&(e.isOpen=!0)}));break;default:console.info("error","ruleId=".concat(e.id,",compId=").concat(t,",value=").concat(n))}}()}},{key:"getRuleManager",value:function(e){return this.managerList[e]||this}},{key:"getRules",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return this.rules[t].find((function(t){return t.sourceId===e}))}},{key:"updatePageAwait",value:function(){var e=this;this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null),this.updateTimer=setTimeout((function(){e.updateTimer=null,e.updatePage()}),600)}},{key:"getAffectedRules",value:function(e){for(var t=JSON.parse(JSON.stringify(this.rules[d])),n=t.length,r=0;r<n;r++)for(var o=t[r],i=o.items,a=(i=Object.values(i)).length,s=0;s<a;s++)if(i[s].targetId==e)return{type:o.type,sourceId:o.sourceId,opt:i[s].targetOpt,optId:i[s].optId};return!1}}])&&s(t.prototype,n),r&&s(t,r),l}(g);e.exports=b},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(22).FORM_RULES,i=(o.relative,o.switch,o.options,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t,this.eleList={}}var t,n,o;return t=e,(n=[{key:"updateRule",value:function(e,t,n){var r=n?n.split(","):[""];Object.values(e.items).forEach((function(e){e.list.forEach((function(e){e.targetId===t&&function(){e.isOpen=!1;for(var t=e.targetOpt.length-1;t>=0;){if(r.find((function(n){return n==e.targetOpt[t]}))){e.isOpen=!0;break}t--}}()}))}))}},{key:"validateRule",value:function(e){var t=[];return Object.values(e.items).forEach((function(e){var n=0;e.list.forEach((function(e){e.isOpen&&n++})),(e.isAnd&&n!=e.list.length||!e.isAdd&&0==n)&&t.push(e.optId)})),t}},{key:"triggerRule",value:function(e,t){var n=this.page.getEqxCompById(t.sourceId);n&&(n.optionsHided=e,n.handleOptions(!0),n.triggerRule())}}])&&r(t.prototype,n),o&&r(t,o),e}());e.exports=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(10),l=u.FORM_COMPS,p=u.PERSONAL_INFO_COMPS,f=n(4),d=f.getUrlParam,h=(f.openUrl,n(313)),m=n(24).getItem,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,e,t)).exam=e.eqxScene.formGlobalSetting.exam||{},n.page=e,n.list=e.pageJson.elements,n.originList=window.app&&window.app.originSceneJson.list[0].elements,t||n.init(),n}return t=c,(n=[{key:"init",value:function(){var e=this;if(Object.keys(this.exam).length){this.initArray(),this.list.sort((function(e,t){return e.arrIndex-t.arrIndex})),this.originList&&this.originList.sort((function(e,t){return e.arrIndex-t.arrIndex}));var t=this.exam,n=t.disorderItems,r=void 0===n?[]:n,o=t.randomSelItems,i=void 0===o?[]:o;(r&&r.length||i&&i.length)&&(r&&r.length&&this.handleDisorder(r),i&&i.length&&this.handleRandom(i),window.app.originSceneJson.globalFormSetting&&window.app.originSceneJson.globalFormSetting.exam&&Object.assign(window.app.originSceneJson.globalFormSetting.exam,{disorderItems:[],randomSelItems:[]}),setTimeout((function(){e.updatePage("ruleChange")}),0))}}},{key:"initArray",value:function(){var e=this;this.formArray=[];var t={};p.forEach((function(e){t[e]=1})),l.forEach((function(n){t[n]||e.formArray.push(n)}))}},{key:"handleDisorder",value:function(e){var t=this;this.disorderItems=e,this.disorderItems.forEach((function(e){var n=t.getEqxComps(e);n&&n.length&&t.disorderComps(n)}))}},{key:"disorderComps",value:function(e){for(var t=this,n=e.length,r=function(){var r=Math.round(Math.random()*(n-1)),o=e.splice(r,1)[0];n--,r=Math.round(Math.random()*(n-1));var i=e.splice(r,1)[0];n--;var a=o.arrIndex;o.arrIndex=i.arrIndex,i.arrIndex=a;var s=t.list.findIndex((function(e){return e==o})),c=t.list.findIndex((function(e){return e==i})),u=[t.list[c],t.list[s]];t.list[s]=u[0],t.list[c]=u[1],t.originList&&t.disorderOriginJson(o,i)};n>1;)r()}},{key:"disorderOriginJson",value:function(e,t){var n=this.originList.findIndex((function(t){return t.id==e.id})),r=this.originList.findIndex((function(e){return e.id==t.id}));this.originList[n].arrIndex=e.arrIndex,this.originList[r].arrIndex=t.arrIndex;var o=[this.originList[r],this.originList[n]];this.originList[n]=o[0],this.originList[r]=o[1]}},{key:"handleRandom",value:function(e){var t=this;this.randomSelItems=e,this.randomSelItems.forEach((function(e){var n=e.num,r=t.getEqxComps(e);r&&r.length&&(n>=r.length||t.deleteComps(r,n))}))}},{key:"deleteComps",value:function(e,t){var n,r=this,o=e.length,i=o-t,a=d("sourceType");a&&["showLast","updateLast"].includes(a)&&(n=m("formLastdataRecords")||m("dataRecords"));var s=[];if(n&&n[this.page.id]){var c=Object.keys(n[this.page.id]);s=c.map((function(t){return e.findIndex((function(e){return e.id==t}))})).filter((function(e){return-1!==e}))}s.length>t&&(i=o-s.length);for(var u=function(){var t=Math.floor(Math.random()*o);if(s.includes(t))return"continue";s=s.map((function(e){return e>t?e-1:e})),r.list.splice(r.list.findIndex((function(n){return n==e[t]})),1),r.originList&&r.originList.splice(r.originList.findIndex((function(n){return n.id==e[t].id})),1),e.splice(t,1),i--,o--};i>0;)u()}},{key:"getEqxComps",value:function(e){var t=e.start,n=e.end,r=this.getCompByJson(t),o=this.getCompByJson(n);if(-1!==r&&-1!==o)return this.getFormComps(r,o)}},{key:"getCompByJson",value:function(e){return this.list.findIndex((function(t){return t.id==e}))}},{key:"getFormComps",value:function(e,t){var n=this;if(e>t){var r=[t,e];e=r[0],t=r[1]}return this.list.filter((function(r,o){return o>=e&&o<=t&&n.formArray.indexOf(r.type)>-1}))}},{key:"updatePage",value:function(){this.page.updateCompPosition("ruleChange"),this.page.dealAppend(this.page.renderMode),this.page.triggerEleShow()}}])&&o(t.prototype,n),r&&o(t,r),c}(h);e.exports=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1056);var o=n(1057),i=n(1058),a=n(128),s=n(1060),c=s.AnimationStart,u=s.AnimationEnd,l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bgAudioJson=t,this.eqxScene=n,this.$bgmBtn=$(o),this.bgAudioJson&&(this.soundAgent=new i(this,this.eqxScene.soundManager))}var t,n,s;return t=e,(n=[{key:"destroy",value:function(){this.$bgmBtn&&(this.soundAgent.destroy(),this.soundAgent=null,this.$bgmBtn.remove(),this.$bgmBtn=null)}},{key:"updateJson",value:function(e){this.soundAgent.update(new a("src",e))}},{key:"show",value:function(){this.$bgmBtn&&this.$bgmBtn.show()}},{key:"resumePlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("end"))}},{key:"stopPlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("stop"))}},{key:"hide",value:function(){this.$bgmBtn&&this.$bgmBtn.hide()}},{key:"startRotate",value:function(){this.$bgmBtn&&c(this.$bgmBtn.find(".bgm-btn"),"rotate")}},{key:"stopRotate",value:function(){this.$bgmBtn&&u(this.$bgmBtn.find(".bgm-btn").get(0),this.$bgmBtn.get(0),"rotate")}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=l},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div class="bgm-btn-wraper" id="bgm-btn-wraper">\n    <div class="bgm-btn" data-event="11205">\n        <audio id="audio-music" loop="" autoplay="" preload></audio>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(98),p=n(1),f=n(4).resolveUrl,d=n(4).getUrlHost,h=(n(4).getUrlParam,n(0).mobilecheck),m=n(7).getWxJSSDK,v=n(0),g=v.isWeixin,y=v.isMiniProm,b=n(0).isIOS,x=h()?"touchend":"click",w=n(1059).getNewBgmURl,S=n(51).isUrl,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,e,t)).manager=t,n.isManualPause=!1,n.$audio=n.master.$bgmBtn.find("audio"),n.audio=n.$audio[0],n.type=3,g()&&(n.wxJssdk=m()),window.EQX={startBgm:n.startPlay.bind(c(n)),pauseBgm:n.stopPlay.bind(c(n))},n.init(),n}return t=u,(n=[{key:"destroy",value:function(){this.$audio.attr("src","").off("canplay play pause"),this.$audio.remove(),this.$audio=null,this.audio=null,this.master.$bgmBtn.off(x),window.EQX.startBgm=function(){},window.EQX.pauseBgm=function(){},this.deregister()}},{key:"init",value:function(){var e=this.master.bgAudioJson,t=e.url||e.src;t=f(p.FILE,t);var n=S(t)&&d(t);e.id&&n&&n.includes(".tingmall.com")?this.initNewBgmUrl(t,e):this.initAudio(t)}},{key:"initNewBgmUrl",value:function(e,t){var n=this;w(t.id).then((function(t){t.obj.response&&t.obj.response.docs&&(e=t.obj.response.docs.url),n.initAudio(e)}))}},{key:"initAudio",value:function(e){this.$audio.attr("src",f(p.FILE,e)),this.audio.load(),this.addEventListeners(),this.register(),this.master.show()}},{key:"update",value:function(e){var t=this;switch(e.type){case"src":var n=e.data;this.$audio.attr("src",f(p.FILE,n.url||n.src)),this.audio.load(),this.$audio.on("canplay",(function(){t.audio.play()}));break;case"hide":this.hide();break;case"show":this.show();break;case"stop":this.stopPlay();break;case"end":this.isManualPause||this.startPlay();break;case"down":b()?this.stopPlay():this.audio.volume=.1;break;case"restore":b()?this.startPlay():this.audio.volume=1;break;case"play":this.startPlay()}}},{key:"addEventListeners",value:function(){var e=this,t=this;function n(){!t.isManualPause&&t.audio&&t.audio.paused&&t.startPlay(!0)}this.$audio.on("play",(function(){$(document.body).unbind(x,n),e.master.startRotate()})),this.$audio.on("pause",(function(){e.master.stopRotate()})),this.master.$bgmBtn.on(x,(function(t){t.cancelBubble=!0,t.stopPropagation(),e.isManualPause=!e.audio.paused,e.audio.paused?e.startPlay(!0):e.stopPlay(!0)})),$(document.body).bind(x,n),this.startPlay()}},{key:"startPlay",value:function(e){this.show();var t=this,n=t.audio;function r(e){4===e.readyState?e.paused&&(e.play(),t.manager.onPlay(t)):(e.load(),$(e).on("canplay",(function(){t.$audio.off("canplay"),e.paused&&e.play().catch((function(){e.play()})),t.manager.onPlay(t)})))}!g()||e||y()?n.paused&&r(n):this.wxJssdk.then((function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){n.paused&&r(n)}}),wx.ready((function(){n.paused&&r(n)}))}))}},{key:"hide",value:function(){this.master.$bgmBtn&&this.master.$bgmBtn.hide(),this.stopPlay()}},{key:"show",value:function(){this.master.$bgmBtn&&this.master.$bgmBtn.show()}},{key:"stopPlay",value:function(e){var t=this;function n(e){4===e.readyState?e.pause():(e.load(),$(e).on("canplay",(function(){t.$audio.off("canplay"),e.pause()})))}!g()||e||y()?n(t.audio):this.wxJssdk.then((function(){var e=t.audio;wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){n(e)}}),wx.ready((function(){n(t.audio)}))}))}}])&&o(t.prototype,n),r&&o(t,r),u}(l);e.exports=k},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1);e.exports={getNewBgmURl:function(e){return r({type:"GET",url:o.MATERIAlBG+"material/tmusic/music/url?itemId="+e})}}},function(e,t,n){"use strict";var r=n(0).iphoneCheck;var o,i,a,s=(o=document.createElement("div"),i="Ms O Moz Webkit".split(" "),a=i.length,function(e){if(e in o.style)return!0;for(e=e.replace(/^[a-z]/,(function(e){return e.toUpperCase()}));a--;)if(i[a]+e in o.style)return!0;return!1});e.exports={AnimationStart:function(e,t){e instanceof jQuery||(e=$(e)),e.addClass(t).css("-webkit-animation-play-state","running")},AnimationEnd:function(e,t,n){if(s("animation-play-state")&&!r())e instanceof jQuery||(e=$(e)),e.css("-webkit-animation-play-state","paused");else{var o=e instanceof jQuery?e.get(0):e,i=t instanceof jQuery?t.get(0):t,a=getComputedStyle(o).transform,c=getComputedStyle(i).transform;i.style.transform="none"===c?a:a.concat(" ",c),$(o).removeClass(n)}},supportCss3:s}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(128),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberMap={}}var t,n,i;return t=e,(n=[{key:"subscribe",value:function(e,t){var n=this.subscriberMap[e];n||(n=this.subscriberMap[e]=[]),n.includes(t)||n.push(t)}},{key:"removeAll",value:function(e){for(var t in this.subscriberMap)this.subscriberMap.hasOwnProperty(t)&&this.remove(t,e)}},{key:"remove",value:function(e,t){var n=this.subscriberMap[e];if(n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}else _DEBUG_&&console.error("remove subscriber form none existed event list")}},{key:"publish",value:function(e,t){var n=this.subscriberMap[e];n&&n.forEach((function(n){return n.update(new o(e,t))}))}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(314).$postComment,i=n(314).$getCommentList;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sceneId=t,this.comments=[],this.canLoadMore=!0,this.lastTime=0,this.registers=[],this.promise=null}var t,n,a;return t=e,(n=[{key:"addComment",value:function(e){return!this.comments.find((function(t){return function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(t,e)}))&&(this.comments.push(e),!0)}},{key:"getComments",value:function(){return this.comments.sort((function(e,t){return t.createTime-e.createTime})),this.comments}},{key:"postComment",value:function(e){var t=this;return o(e).then((function(e){var n=e.obj;return t.addComment(n),t.publish(),n}))}},{key:"publish",value:function(){this.registers.forEach((function(e){return e.updateComments()}))}},{key:"loadInitComments",value:function(e){return this.promise||(this.promise=this.loadMoreComments(e).catch((function(){}))),this.promise}},{key:"loadMoreComments",value:function(e){var t=this;return i({sceneId:this.sceneId,time:this.lastTime,size:e}).then((function(e){var n=e.list;return n.length?(t.lastTime=n[n.length-1].createTime,n=n.filter((function(e){return t.addComment(e)})),t.publish(),n):Promise.reject("")}))}},{key:"register",value:function(e){this.registers.includes(e)||this.registers.push(e)}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(10).FORM_COMPS,c=n(46),u=c.getItem,l=c.setItem,p=n(4),f=p.getUrlParam,d=p.addUrlParam,h=p.removeUrlParam,m=p.replaceLocationHref,v=p.isGcJumpLink,g=n(0).isWeixin,y=n(1064),b=y.checkJumpLink,x=y.CHECK_REDIRECT_URL,w=n(6).loadingShadow;var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.submited=!1,this.fromCompList=[],this.scene=t,this.totalScore=0,this.submitTimeStamp=Date.now(),this.gcVerifyCode="",this.closeLoading=function(){}}var t,n,i,c,p;return t=e,(n=[{key:"add",value:function(e){if(function(e){return s.includes(""+e.type)}(e))if(this.fromCompList.includes(e)){if(_DEBUG_)throw new Error("Duplicate EQX form element ".concat(e))}else this.fromCompList.push(e);else if(_DEBUG_)throw new Error("Invalid EQX Form Element ".concat(e,", type: ").concat(e.type))}},{key:"check",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={sms:[]},n=this.fromCompList.map((function(t){return t.check(e)})),r=0,o=!1,i=0;i<n.length;i++){var a=n[i],s=a.success,c=a.key,u=a.value,l=a.score;if(!s&&!1!==e)return a;a.type&&12==a.type?t[c]=u.phoneValue:t[c]=u,a.type&&12==a.type&&(a.ruleHide?delete t.sms:t.sms.push(u));var p=String(u).includes("（跳过）");isNaN(l)||p||(r+=parseFloat(l)||0,o=!0),a.hasOwnProperty("value")&&(!a.value||"[object Array]"===Object.prototype.toString(a.value)&&0===a.value.length||"[]"===a.value)&&(a.value="",t[c]="");try{var f=JSON.parse(a.value);f.hasOwnProperty("value")&&(!f.value&&"（跳过）"!=f.content||"[object Array]"===Object.prototype.toString(f.value)&&0===f.value.length||"[]"===f.value)&&(a.value="",t[c]="")}catch(e){}}return Object.values(t).every((function(e){return!e}))?{success:!1,message:"请填写表单"}:(o&&(r=r.toFixed(1)==parseInt(r)?r:r.toFixed(1),r+="分",t["eq[f_score_123456]"]=r,this.totalScore=r),{success:!0,form:t,data:n})}},{key:"autoFillComps",value:function(e,t){var n=u("dataRecords");if(n&&n[this.scene.meta.id]||t){var r=t||n[this.scene.meta.id],i=f("immediately"),a=[];Object.keys(r).forEach((function(t){var n=e.getEqxCompById(t);if(n){if(f("sourceType")){var s,c,u=(null===(s=n.compJson.choices)||void 0===s?void 0:s.options)||[];["5207","5208"].includes(n.type)&&(u=(null===(c=n.jobChoices)||void 0===c?void 0:c.options)||[]),!i&&u[0]&&Object.hasOwnProperty.call(u[0],"selected")&&(r[t]=(u.find((function(e){return e.label==r[t]}))||{value:""}).value.toString())}var l=e.EqxFormRulesTrigger.getItemsToHide(n.ruleIds||[],n.id,r[t]);l.filter((function(e){return e})).forEach((function(e){(!r[e.id]||r[e.id]&&r[e.id].indexOf("(跳过)")>-1)&&(r[e.id]="")})),a.push.apply(a,o(l))}})),Object.keys(r).forEach((function(t){var n=e.getEqxCompById(t);(r[t]&&"scrollTop"!=t&&n||["uploadNew","musicRecord"].includes(null==n?void 0:n.type)&&""===r[t])&&n.autoFill(r[t],f("sourceType"))})),e.scrollTo(r.scrollTop||0),setTimeout((function(){e.getEqxComps().forEach((function(t){!t.ruleHide&&t.ruleIds?e.EqxFormRulesTrigger.listen(t.ruleIds,t.id,t.getRealValueForTrigger?t.getRealValueForTrigger():t.getValue(),!1):t.ruleIds&&e.EqxFormRulesTrigger.listen(t.ruleIds,t.id,null,!0)}))}),300),i&&m(h("immediately"))}}},{key:"autoFillAdapterAndroid",value:function(e,t){this.autoFillComps(e,t),l("Form_Adapter_Android_Records",{jumped:!1})}},{key:"autoFillLastComps",value:function(e){var t=u("formLastdataRecords");g()?this.autoFillComps(e,t[this.scene.meta.id]):window.location.href=h("sourceType")}},{key:"checkGcVerifyCode",value:(c=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,l,p,f,h,m,g,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]&&y[1],this.closeLoading=w("icon",this.scene),o=this.scene,i=o.config.mode,a=o.currentPage,s=o.meta,c=s.id,u=s.code,l=null==a||null===(n=a.pageJson)||void 0===n?void 0:n.pageType,p=a.eqxScene.getPageConfig("showAfterSubmit"),f=t,h=!1,m=[1,2].includes(p),r){e.next=13;break}return e.next=11,b({sceneId:c,code:u,url:t});case 11:e.sent||(f=this.getCheckLink(t),h=!0);case 13:return"edit"!==i&&("submit"===l||r||m)&&v(t)&&this.gcVerifyCode&&(g=d("verify",this.gcVerifyCode,t),f=h?this.getCheckLink(g):g),this.closeLoading(),e.abrupt("return",{risk:h,link:f});case 16:case"end":return e.stop()}}),e,this)})),p=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=c.apply(e,t);function a(e){r(i,n,o,a,s,"next",e)}function s(e){r(i,n,o,a,s,"throw",e)}a(void 0)}))},function(e){return p.apply(this,arguments)})},{key:"getCheckLink",value:function(e){return x+encodeURIComponent(e)+"&hideBack"}}])&&a(t.prototype,n),i&&a(t,i),e}();e.exports=S},function(e,t,n){"use strict";var r=n(8).ajax,o=n(1).CHECK_HOST,i=o+"back-check/static/url.html?jumpUrl=";e.exports={checkJumpLink:function(e){var t=e.sceneId,n=(e.code,e.url);return new Promise((function(e){r({type:"POST",url:o+"back-check/check/url/check/result",data:{productKey:"form_works",sceneId:t,appKey:"eqxiu",url:encodeURIComponent(n),appId:1}}).then((function(t){var n=t.code,r=t.obj;e(200!==n||!r||r.checkResult)})).catch((function(t){e(!0)}))}))},CHECK_REDIRECT_URL:i}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(310),p=n(264).$getCountValues,f=n(10).COMP_TYPE,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,c=s(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=e.list.reduce((function(e,t){return e.concat(t.elements)}),[]);return(t=c.call(this,n)).sceneJson=e,t.countIdArr=[],t.countValuesPromise=null,t}return t=l,(n=[{key:"iterate",value:function(){var e=this;i(u(l.prototype),"iterate",this).call(this),this.compJsonList.forEach((function(t){"EqxCount"!==f[t.type]||e.countIdArr.includes(t.id)||e.countIdArr.push(t.id)}))}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"getCounterValues",value:function(){if(this.countValuesPromise)return this.countValuesPromise;var e=this.getCountIds();if(e){var t=this.sceneJson.meta.id;this.countValuesPromise=p({pageId:t,fieldIds:e}).then((function(e){return e.map})).catch((function(){return{}}))}else this.countValuesPromise=Promise.resolve({});return this.countValuesPromise}}])&&o(t.prototype,n),r&&o(t,r),l}(l);e.exports=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(1067),l=n(128),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,s=a(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this)}return t=c,(n=[{key:"onPlay",value:function(e){if(this.agents.includes(e))switch(this.postMessage("start"),e.type){case 3:this.agents.forEach((function(t){(5===t.type&&!t.master.$context[0].paused||10==t.type&&t.isPlay())&&e.update(new l("stop"))}));break;case 5:this.agents.forEach((function(t){(3===t.type||10===t.type||5===t.type&&t!==e)&&t.update(new l("stop"))}));break;case 10:this.agents.forEach((function(t){(3===t.type||5===t.type||10===t.type&&t!==e)&&t.update(new l("stop"))}));break;case 1:this.agents.forEach((function(t){t!==e&&(2===t.type||3===t.type?t.update(new l("down")):1===t.type&&(t.update(new l("stop")),t.update(new l("reset"))))}));break;case 2:this.agents.forEach((function(t){3===t.type&&t.update(new l("down")),1!==t.type||t.audio.paused||e.update(new l("down"))}));break;case 4:this.agents.forEach((function(e){2===e.type||3===e.type?e.update(new l("down")):1===e.type&&(e.update(new l("stop")),e.update(new l("reset")))}))}}},{key:"onEnd",value:function(e){if(e||this.agents.includes(e))switch(this.postMessage("stop"),e.type){case 5:case 10:this.isAllStoped()&&this.agents.forEach((function(e){3!==e.type||e.isManualPause||e.update(new l("play"))}));break;case 1:var t=null;t=-1!==this.agents.findIndex((function(e){return 1===e.type&&!e.audio.paused})),this.agents.forEach((function(e){2!==e.type||t||e.update(new l("restore"))})),!(t=-1!==this.agents.findIndex((function(e){return(1===e.type||2===e.type)&&!e.audio.paused})))&&this.agents.forEach((function(e){3===e.type&&e.update(new l("restore"))}));break;case 2:var n=!1;this.agents.forEach((function(t){t===e||1!==t.type&&2!==t.type||t.audio.paused||(n=!0)})),!n&&this.agents.forEach((function(e){3===e.type&&e.update(new l("restore"))}));break;case 4:var r=null;r=-1!==this.agents.findIndex((function(e){return 1===e.type&&!e.audio.paused})),this.agents.forEach((function(e){2!==e.type||r||e.update(new l("restore"))})),!(r=-1!==this.agents.findIndex((function(e){return(1===e.type||2===e.type)&&!e.audio.paused})))&&this.agents.forEach((function(e){3===e.type&&e.update(new l("restore"))}))}}},{key:"stopAll",value:function(){this.agents.forEach((function(e){e.audio&&!e.audio.paused&&e.update(new l("stop"))}))}},{key:"restoreAll",value:function(){this.agents.forEach((function(e){3===e.type&&e.audio.paused&&!e.isManualPause&&e.update(new l("play"))}))}},{key:"isAllStoped",value:function(){for(var e=this.agents.length,t=0;t<e;t++){var n=this.agents[t];if(5===n.type&&!n.master.$context[0].paused||10===n.type&&n.isPlay())return!1}return!0}},{key:"eqxPageBind",value:function(e){this.page=e}},{key:"postMessage",value:function(e){this.page&&this.page.EqxMsgManager&&this.eqxPage.EqxMsgManager.post({type:"sound",value:e})}}])&&o(t.prototype,n),r&&o(t,r),c}(u);e.exports=p},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.agents=[],this.predict=t}var t,n,o;return t=e,(n=[{key:"add",value:function(e){this.predict&&!this.predict.call(this,e)||this.agents.includes(e)||this.agents.push(e)}},{key:"remove",value:function(e){var t=this.agents.indexOf(e);t>-1&&this.agents.splice(t,1)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){var r,o,i;o=[t,n(1069),n(315),n(316),n(317),n(1070)],void 0===(i="function"==typeof(r=function(e,t,n,r,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var a=p(t),s=p(n),c=p(r),u=p(o),l=p(i);function p(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=s.default,e.diff=a.default,e.deletedDiff=c.default,e.updatedDiff=u.default,e.detailedDiff=l.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[e,t,n(149)],void 0===(i="function"==typeof(r=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,i){if(t===i)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(i))return i;var a=(0,n.properObject)(t),s=(0,n.properObject)(i),c=Object.keys(a).reduce((function(e,t){return s.hasOwnProperty(t)?e:o({},e,r({},t,void 0))}),{});return(0,n.isDate)(a)||(0,n.isDate)(s)?a.valueOf()==s.valueOf()?{}:s:Object.keys(s).reduce((function(t,i){if(!a.hasOwnProperty(i))return o({},t,r({},i,s[i]));var c=e(a[i],s[i]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?t:o({},t,r({},i,c))}),c)},e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;o=[e,t,n(315),n(316),n(317)],void 0===(i="function"==typeof(r=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n),a=c(r),s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return{added:(0,i.default)(e,t),deleted:(0,a.default)(e,t),updated:(0,s.default)(e,t)}},e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";var r=n(53),o=r.allow,i=r.forbid;e.exports={hideSettingPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},selectDirectComp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},hideQuickBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return i(e,t,n)},renderGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},multiSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},hideMenuBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return i(e,t,n)},isArrangEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},DragAddTpl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},isComputeScale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},showArrangeSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isArranged",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o(e,t,n)},isFormEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isFormScene",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return o(e,t,n)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(76).safeJsonParse,i=n(53).allow,a=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.meta.id,this.eqxScene=t,this.events={},this.parentWinOptForMix={},this.initDataFromParentForMix(),this}var t,n,a;return t=e,(n=[{key:"addEvent",value:function(e,t){var n=this.events[e];Object.keys(this.events).length||this.message(),n||(this.events[e]=[]),this.events[e].push(t)}},{key:"removeEvent",value:function(e,t){var n=this.events[e];n.splice(n.indexOf(t),1)}},{key:"postMix",value:function(e){if(window.parent&&window.parent!==window.self){var t=Object.assign({originId:this.parentWinOptForMix.tabId},e);window.parent.postMessage(JSON.stringify(t),"*")}}},{key:"message",value:function(){var e=this;window.addEventListener("message",(function(t){var n=("string"==typeof t.data?o(t.data):t.data).eventType||null;n&&e.events[n]&&e.events[n].forEach((function(e){e(t.data)}))}))}},{key:"initDataFromParentForMix",value:function(){if(i("longPage",this.eqxScene.meta.bizType,1)){var e=this;this.addEvent("editorOpened",(function(t){console.log("from parenWindow",t),t&&("string"==typeof t&&(t=JSON.parse(t)),e.parentWinOptForMix.originId=t.originId,e.parentWinOptForMix.tabId=t.tabId)})),this.postMix({eventType:"messageReady",id:this.id,from:"lp"})}}},{key:"addUniqueEvent",value:function(e,t){this.events[e]=[],this.addEvent(e,t)}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t,n){"use strict";function r(){return Math.ceil(1e10*Math.random())}e.exports={randomId:r,replaceIds:function(e){var t=e.pageId,n=e.sceneId,o=e.maxIndex,i=void 0===o?0:o,a=e.pageJson,s=Number.isInteger(t);a.id=t,a.sceneId=n;var c=a.properties,u=a.groups,l=a.elements,p=a.extend;p=p||{},a.extend=p,u=u||[],a.grous=u;var f=c.groupSettings,d=void 0===f?[]:f,h=c.triggerGroup;h=h||[],d.constructor!=Array&&(d=[]),c.triggerGroup=h;var m={};return l.forEach((function(e){var o=r();m[e.id]=o,e.id=o,s||(e.pageIndex=t),e.pageId=t,e.sceneId=n,e.css.zIndex+=i})),u.forEach((function(e){var t="group:"+r();m[e.id]=t,e.id=t})),u.forEach((function(e){e.compIds.forEach((function(t,n){v(e.compIds,n)}))})),d.forEach((function(e){e.comps.forEach((function(e){return v(e)}))})),h.forEach((function(e){v(e,"sourceId")&&v(e,"targetId")})),l.forEach((function(e){var t=e.properties;if(t){var n=t.var;n&&v(n,"comp")}})),p.screens&&p.screens.forEach((function(e){e.compIds.forEach((function(t,n){return v(e.compIds,n)}))})),a;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";if(m[e[t]])return e[t]=m[e[t]],!0}}}},function(e,t,n){"use strict";var r=n(37).randomId;e.exports={createCoverPageJson:function(){return{id:"cover",properties:{longPage:630},elements:[],extend:{screens:{id:"layer:cover",compIds:[]}},pageType:"cover"}},createSubmitPageJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="sub:".concat(r());return{id:o,groups:[],properties:{longPage:t?630:523,condition:{type:e,isDefault:n,and:!0,children:[],max:1!=~~e?100:10,min:0}},elements:[],extend:{screens:[{id:"layer:"+o,compIds:[]}]},pageType:"submit"}}}},function(e,t,n){"use strict";e.exports={sceneLoadEnd:function(){"miniprogram"==window.__wxjs_environment&&document.addEventListener("visibilitychange",(function(){"hidden"==document.visibilityState&&$(".bgm-btn audio")[0].pause()})),window.location.href.indexOf("tg.eqxiu.com")>-1&&(window.onresize=function(){window.screen.width<450&&window.location.reload()})}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(1077).Guess,a=n(37).$getSceneData,s=n(179).$getActivityPage,c=(n(189).$getYqcAd,n(146)),u=n(307).ObjAdaptor,l=n(200).perfectScene,p=n(86).perfectPage,f=n(33).perfectComp,d=(n(84).isEqxAdScene,n(1080).addEqAdInfo,n(10).COMP_TYPE,n(127).elementsEncode),h=n(6).$getFormDataLast,m=n(46).getItem;e.exports={getPerfectSceneData:function(e){if(e.isPwd)var t=new Promise((function(t){new i(e.cover,$("#nr"),t)}));else t=a();var n=t.then((function(t){return t.obj&&"number"==typeof t.obj&&/^\d{13}$/.test(t.obj)&&(t.timestamp=t.obj),t.meta=e,new u(t,[l]).start(),t}));return Promise.all([n]).then((function(e){var t=r(e,2),n=t[0],o=t[1];return o instanceof Object&&n.list.push(o),n})).then((function(e){e.meta;return window.scene.map=e.map,e})).then((function(e){var t=m("Form_Adapter_Android_Records")||{};return h(t.jumped),e})).then((function(e){return d(e.list),new c(e).addPageFn(p).addEleFn(f).start(),e}))},$getActivityPage:s}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1078);var o=n(1079),i=n(3).parse,a=n(37).$getSceneData,s=n(0),c=s.mobilecheck,u=s.isAndroidPhone,l=s.tabletCheck,p=s.isPc,f=n(1),d=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callBack=r,this.password="",t.startsWith("http")||(t=f.FILE+t),n.append(i(o,{cover:t})),$("#loading").hide(),$("#verifyCode").show(),p()||u()?($(".password-numbers>span").on("click",this.passwordEventListener.bind(this)),$("#btnClear").on("click",this.btnClearEventListener.bind(this)),$("#btnCancel").on("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").on("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").on("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").on("touchstart",this.btnCancelEventListener.bind(this))),c()||l()){var a,s=$(".container"),d=s.width(),h=s.height();a=Math.floor(10*Math.min(document.documentElement.clientHeight/h,document.documentElement.clientWidth/d))/10,s.css("transform","scale("+a+", "+a+")")}}var t,n,s;return t=e,(n=[{key:"requestSceneDataWithPassword",value:function(e){var t=this;a(e).then((function(e){t.clearGuess(),t.callBack(e)})).catch((function(){t.warnGuess()}))}},{key:"animateVerifyTip",value:function(){var e=this;$("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass("shake"),e.syncronizeTheIndicator()}))}},{key:"syncronizeTheIndicator",value:function(){var e=this;$(".password-indicator li").each((function(t,n){t<e.password.length?$(n).addClass("active"):$(n).removeClass("active")}))}},{key:"passwordEventListener",value:function(e){var t=$(e.target);t.addClass("active"),this.password+=t.text(),this.syncronizeTheIndicator(),4==this.password.length&&(this.requestSceneDataWithPassword(this.password),this.password=""),setTimeout((function(){t.removeClass("active")}),100)}},{key:"btnClearEventListener",value:function(e){this.password="",this.syncronizeTheIndicator()}},{key:"btnCancelEventListener",value:function(e){this.password&&(this.password=this.password.substring(0,this.password.length-1),this.syncronizeTheIndicator())}},{key:"clearGuess",value:function(){$("#verifyCode").remove(),p()||u()?($(".password-numbers>span").off("click",this.passwordEventListener.bind(this)),$("#btnClear").off("click",this.btnClearEventListener.bind(this)),$("#btnCancel").off("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").off("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").off("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").off("touchstart",this.btnCancelEventListener.bind(this)))}},{key:"warnGuess",value:function(){$("#verifyCode").show(),this.animateVerifyTip()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports={Guess:d}},function(e,t,n){"use strict";n.r(t)},function(e,t){e.exports='<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            \x3c!-- 3、场景封面 --\x3e\n            <img class="cover-img" src="#{cover}">\n        </div>\n        \x3c!-- 4、场景名称 --\x3e\n        <div class="scene-name">场景名称</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(1),a=n(241).AD_TYPE,s=n(147),c=n(179).$getPageInfo,u=(n(189).$getYqcTail,n(0).isApp),l=n(4).redirectUrl(),p=n(85).getLastPageConfig;function f(e,t){var n=e.meta,r=n.id,o=n.cover,i=n.name,a=n.code,c=e.list.length+1;return s.lastPageBlur({id:r,name:i,num:c,cover:o,code:a,isDeepShare:!0},t)}function d(e,t){var n=e.pageId,r=e.sceneId,o=e.num,i=s.report({pageId:n,sceneId:r,pageIndex:o,center:t});e.elements.push(i)}function h(e,t){var n=e.pageId,r=e.sceneId,o=e.num,i=s.addReportBlur({pageId:n,sceneId:r,pageIndex:o,center:t});e.elements.push(i)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.meta,r=n.id,o=n.cover,i=n.name,a=e.list.length+1;return s.lastPageBlur({id:r,name:i,num:a,cover:o},t)}function v(e){var t=(e.properties||{}).longPage||1;return t<10?486*(t-1):t-486}function g(e){var t=e.meta,n=t.id,r=t.property.bottomLabel,o=r.id,a=r.name,s=r.url;if(!o)throw new Error("No bottomLabel's id");var u=e.list,l=u[u.length-1],p=v(l),f=l.pageId;return c(o).then((function(e){return(e.obj.elements||[]).map((function(e){return function(e){var t=e.ele,n=e.sceneId,r=(e.pageId,e.url),o=e.top,a=e.name;t.sceneId=n,t.pageId=129811;2==t.type&&(a&&r&&"http://"!==r&&(t.content=t.content.replace(new RegExp("EQXIU.COM科技公司"),'<a href="'.concat(function(e){var t=e.sceneId,n=e.url;return i.SERVER_1+"eqs/link?id="+t+"&url="+encodeURIComponent(n)}({sceneId:n,url:r}),'" target=_blank data-event="1120203">').concat(a,"</a>"))),a?t.content=t.content.replace(new RegExp("EQXIU.COM科技公司"),a):/易企秀技术支持/.test(t.content)&&(Object.assign(t.css,{zIndex:1e3,height:33,width:129,left:97}),t.content='<div style="text-align: center;">'.concat(t.content,"</div>")));return t.css.top+=o,t.css.zIndex=200,t}({ele:e,sceneId:n,pageId:f,url:s,top:p,name:a})}))}),(function(){return[]}))}function y(e,t){var n=e.list,o=e.meta,i=o.cover,a=o.id,c=o.name;t.properties=t.properties||{},t.sceneId=a;if("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg"!==i){var u=s.image1();u.properties.src=i}else u=s.eqxLogo();return t.elements=t.elements.filter((function(e){return!function(e){var t=e.properties.src;return 4==e.type&&!!t&&["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg","group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png","group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png","group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(t)}(e)})),t.elements.forEach((function(e){2==e.type&&/http:\/\/service.eqxiu.com\/eqs\/link/.test(e.content)&&(e.content=e.content.replace(/;url=.*com"/,";url=".concat(encodeURIComponent(l))))})),t.elements=[].concat(r(t.elements),[s.shadow(),u,s.line(),s.title(c)]),t.num=n.length+1,t}e.exports={addEqAdInfo:function(e){var t=e.meta,n=t.id,o=t.property,i=o.lastPageId,l=o.eqAdType,b=t.bizType,x=t.isTemplate,w=(t.ext,e.list),S=w.length;return new Promise((function(t){var o;if(S&&((o=w[S-1]).elements=o.elements||[]),!(u()||30!=b&&2!=x||l!=a["deepshare尾页"]&&(l!=a["技术支持尾页"]||i)))return p().then((function(e){return e})).then((function(n){return h(o=f(e,n)),w.push(o),t(e)})).catch((function(){return h(o=f(e)),w.push(o),t(e)}));switch(""+l){case a["无尾页无底标"]:return t(e);case a["技术支持尾页"]:return i?c(i).then((function(t){return y(e,t.obj)})).then((function(n){return d(n),w.push(n),t(e)})).catch((function(){return E()})):E();case a["技术支持底标"]:try{var k=v(o),O=s.bottomLabel({sceneId:n,pageId:o.pageId,top:k,pageIndex:S});return o.elements.push(O),t(e)}catch(e){return console.error("添加技术支持底标尾页失败",e),E()}case a["品牌联合底标"]:try{return g(e).then((function(n){return o.elements=[].concat(r(o.elements),r(n)),t(e)}))}catch(e){return console.error("添加品牌联合底标失败",e),E()}default:return E()}function E(){return p().then((function(n){return h(o=m(e,n)),w.push(o),t(e)})).catch((function(){return h(o=m(e)),w.push(o),t(e)}))}}))},getLastPage:function(e,t){var n={};return new Promise((function(r){return e?c(e).then((function(e){return y(t,e.obj)})).then((function(e){return d(e),r(e)})):(d(n=m(t)),r(n))}))},getDefaultBottom:function(e,t,n){var r=v(e);return s.bottomLabel({sceneId:t,pageId:e.pageId,top:r,pageIndex:n})},getCustomBottomLabel:g}},function(e,t,n){"use strict";var r=n(45).noop,o=n(0).isWeixin,i=n(7);e.exports={wxAdaptor:function(e,t){return o()||t||e.map.wxComponent?function(n){var r=n.type,o=n.id,a=n.properties.type;if(t){var s=t.headimgurl,c=t.nickname;"201"==r&&"own"==a&&(n.content=c),"401"==r&&"own"==a&&(n.properties.src=s,delete n.properties.imgStyle)}var u=e.map.wxComponent,l=void 0===u?{shareUserName:"",shareUserHeader:""}:u,p=l.shareUserName,f=l.shareUserHeader;(p||f)&&("201"==r&&"share"==a&&p&&(n.content=p),"401"==r&&"share"==a&&f&&(n.properties.src=f,delete n.properties.imgStyle)),"201"!=r&&"401"!=r||"share"!=a||i.generateUserKey(),l[o]&&(n.serverId=l[o])}:r}}},function(e,t,n){"use strict";var r=n(46).getItem,o=n(6).globalSettingModal,i=n(137).getDateStr,a=n(1083).$getSceneStatus,s=n(178).stopLoading,c=n(53).forbid,u=n(4).getUrlParam,l=n(105).voteMoreTips;function p(e){if(c("formSettings",e.bizType,1)||!e.config||0==Object.keys(e.config).length)return{code:101,success:!0,msg:"未设置限制"};var t=e.id,n=e.config,a=n.clientType,u=n.clearCycle,l=n.clientCount;if(1===a){var p=r("formRecords");if(p&&p[t])if(u){if(i()===p[t].lastTime&&p[t].num>=l)return s(),o("fillInLimit","每天只允许填写".concat(l,"次")),{code:501,success:!1,msg:"每天只允许填写".concat(l,"次")}}else if(p[t].num>=l)return s(),o("fillInLimit","只允许填写".concat(l,"次")),{code:501,success:!1,msg:"只允许填写".concat(l,"次")}}return{code:102,success:!1,msg:"符合浏览器限制"}}e.exports={validateScene:p,getSceneStatus:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.code,r=e.config,i=u("sourceType");if(i&&["showLast","updateLast"].includes(i))return Promise.resolve({});if(u("synergyComments"))return Promise.resolve({});var c=p(e);switch(c.code){case 101:return Promise.resolve({});case 102:break;case 501:return Promise.resolve({msg:c.msg,disableSubmit:!0})}var f=r||{},d=(f.clearCycle,f.clientCount),h=f.timeLimitStart,m=f.timeLimitEnd,v=f.timeLimitInDay,g=f.limit,y=f.submitLimit;return f.weChatSubscription,0!=d||h||m||v||g||y&&y.openRegionCheck?a(n).then((function(e){return Promise.resolve({})})).catch((function(e){var n;window._showShareTip=null===(n=e.obj)||void 0===n?void 0:n.showShareTip,window._showShareTip&&l(),s();var r="",i="";e.map=e.map||{};var a=e.map,c=(a=void 0===a?{}:a).clearCycle,u=a.clientCount;switch(e.code){case 120607:r="timeLimit",i="不在提交时间范围内";break;case 120608:r="fillInLimit",i=c?"每天只允许填写".concat(u,"次"):"只允许填写".concat(u,"次");break;case 120609:r="countLimit",i="提交已结束";break;case 150007:r="areaLimit",i="地域限制";break;case 1011:return r="warning",i="作品未发布",Promise.resolve({});default:r="error",i=e.msg}return t&&o(r,i),Promise.resolve({msg:i,disableSubmit:!0})})):Promise.resolve({})}}},function(e,t,n){"use strict";var r=n(1),o=n(8).ajax,i=n(24).getItem;e.exports={$getSceneStatus:function(e){var t=i("wxOpenid"),n="".concat(r.LONG_PAGE_PREVIEW,"lp/valid?code=").concat(e);return t&&(n="".concat(n,"&ssid=").concat(t)),o({type:"GET",url:n})}}},function(e,t,n){"use strict";var r=n(58).ANIMATION_TYPE,o=(n(1),n(9).qiniuZoom),i=n(0).mobilecheck;e.exports={addLoadingLogo:function(e){if(window.location.search.indexOf("appletRanking=true")>0)return!1;if(e){var t=$(".loading-prev");if(e.property.logoProp&&e.property.logoProp.properties){var n=e.property.logoProp;if(!i()||!window.customRenderHtml){t.css({display:"block"});var a=$(".load-prev-bg"),s="url(".concat("https://asset.eqh5.com/Fif96fvi2Y5O5sm_kvH_rj8p9H0R",")");if(n.properties.loadingLogo){n.properties.loadingLogo;s="url(".concat(o(n.properties.loadingLogo),")")}a.css({background:s});var c=$(".loading-prev").find(".loading-img"),u=$(".loading-prev").find(".loading-color");if(n.properties.bgImgSrc&&c.css({backgroundImage:"url(".concat(o(n.properties.bgImgSrc),")"),opacity:(100-n.properties.bgOpacity)/100}),n.properties.bgColor?($("#loading").css({background:"#fff"}),u.css({backgroundColor:n.properties.bgColor})):$("#loading").css({background:"#48424F"}),n.properties.progressBarOn)$(".progressBar").css({display:"block"}),$(".bar").css({background:n.properties.progressBarColor})}-1!==n.animType&&function(e){if(-1!=e){var t=$("#logoImg"),n=r[e];t.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),t.css({"animation-name":n[0],"animation-duration":"1s","animation-timing-function":"liner","animation-iteration-count":1,"animation-direction":"both","animation-fill-mode":"both","animation-play-state":"initial"}),t.parents("#loading").attr({startTime:(new Date).getTime()/1e3,duration:2e3})}}(n.animType)}else $(".loading").find("#default-loading").show()}if($("#loading.loading").css({"z-index":"9999999"}),i()){$("#loading.loading").css({position:"fixed",height:"100vh"});for(var l=0;l<$("#loading.loading").length;l++){$("#loading.loading").get(l).addEventListener("touchmove",(function(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),!1}),{passive:!1})}}}}},function(e,t,n){"use strict";n.r(t);const r="function"==typeof window.WeakMap&&"function"==typeof window.Map,o=function(){if(r)return window.WeakMap;function e(e,t){let n=-1;return e.some((e,r)=>{let o=e[0]===t;return o&&(n=r),o}),n}return class{constructor(){this.__entries__=[]}get(t){let n=e(this.__entries__,t);return this.__entries__[n][1]}set(t,n){let r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])}delete(t){let n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)}has(t){return!!~e(this.__entries__,t)}}}(),i=r?window.Map:class extends o{get size(){return this.__entries__.length}clear(){this.__entries__.splice(0,this.__entries__.length)}entries(){return this.__entries__.slice()}keys(){return this.__entries__.map(e=>e[0])}values(){return this.__entries__.map(e=>e[1])}forEach(e,t=null){for(const n of this.__entries__)e.call(t,n[1],n[0])}};var a=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();const s="function"==typeof window.MutationObserver,c=window.requestAnimationFrame?window.requestAnimationFrame:e=>setTimeout(()=>e(a()),1e3/60);function u(e,t=0){let n=!1;return function(...r){!1!==n&&clearTimeout(n),n=setTimeout(()=>{n=!1,e.apply(this,r)},t)}}function l(e){const t={};for(const n of Object.keys(e))t[n]={value:e[n]};return Object.defineProperties({},t)}function p(e=0,t=0,n=0,r=0){return{left:e,top:t,width:n,height:r,bottom:t+r,right:e+n}}function f(e){return e===document.documentElement?p(0,0,e.clientWidth,e.clientHeight):e.getBoundingClientRect()}function d(e){return e.width*e.height}class h{constructor(e,t,n,r,o,i){Object.defineProperties(this,{boundingClientRect:{value:t},intersectionRatio:{value:r},intersectionRect:{value:l(n)},rootBounds:{value:l(o)},target:{value:e},time:{value:i}})}}const m=p();function v(e,t){const n=Math.max(t.left,e.left),r=Math.min(t.right,e.right),o=Math.max(t.top,e.top);return p(n,o,r-n,Math.min(t.bottom,e.bottom)-o)}class g{constructor(e,t){this.target=e,this.observer=t,this.prevTargetRect=m,this.prevThreshold=0,this.prevRatio=0}updateIntersection(e,t){let n,r=f(this.target),o=this.getIntersectionData(e,t,r),i=+o.exists,s=o.ratio!==this.prevRatio,c=(u=r,l=this.prevTargetRect,!(u.top===l.top&&u.left===l.left&&u.right===l.right&&u.bottom===l.bottom));var u,l,p;if(o.exists&&(0!==(p=r).height||0!==p.width)&&(i=this.observer.getThresholdGreaterThan(o.ratio)),n=i!==this.prevThreshold,this.prevTargetRect=r,this.prevThreshold=i,this.prevRatio=o.ratio,o.exists||(o.ratio=0,o.rect=m),n){const e=new h(this.target,r,o.rect,o.ratio,t,a());this.observer.queueEntry(e)}return{ratioChanged:s,thresholdChanged:n,targetRectChanged:c}}getIntersectionData(e,t,n){const r=this.target;n||(n=f(this.target)),t||(t=f(e));let o=function(e,t){const n=document.documentElement;return e!==n&&!n.contains(e)||!e.contains(t)}(e,r),i=o?m:function(e,t,n,r){let o=r,i=t.parentNode,a=!1;for(;!a;){let t=null;i===e||1!==i.nodeType?(a=!0,t=n):"visible"!==window.getComputedStyle(i).overflow&&(t=f(i)),t&&(o=v(o,t)),i=i.parentNode}return o}(e,r,t,n),a=!o&&i.width>=0&&i.height>=0;return{rect:i,ratio:d(i)/d(n)||0,exists:a}}}class y{constructor(e,t={},n,r){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");if("object"!=typeof t)throw new TypeError("parameter 2 is not an object.");if("root"in t&&!(t.root instanceof Element))throw new TypeError("member root is not of type Element.");const o=function(e=0){let t=e;return Array.isArray(e)?e.length||(t=[0]):t=[e],t.map(e=>{if(e=Number(e),!window.isFinite(e))throw new TypeError("The provided double value is non-finite.");if(e<0||e>1)throw new RangeError("Threshold values must be between 0 and 1.");return e}).sort()}(t.threshold),a=function(e="0px"){if((e=(e+"").split(/\s+/)).length>4)throw new Error("Extra text found at the end of rootMargin.");return e[0]=e[0]||"0px",e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],{rawData:e.join(" "),parsedData:e.map(e=>{let[,t,n]=/^(-?\d*\.?\d+)(px|%)$/.exec(e)||[];const r="px"===n;if(t=parseFloat(t),!window.isFinite(t))throw new Error("rootMargin must be specified in pixels or percent.");return r||(t/=100),{value:t,pixels:r}})}}(t.rootMargin);this.root=t.root||null,this.rootMargin=a.rawData,this.thresholds=Object.freeze(o),this._root=t.root||document.documentElement,this._callback=e,this._rootMargin=a.parsedData,this._targets=new i,this._quedEntries=[],this._publicObserver=r||this,this.controller=n}observe(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');let t=this._targets;t.has(e)||(t.set(e,new g(e,this)),this.controller.isConnected(this)||this.controller.connect(this),this.controller.startUpdateCycle())}unobserve(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');let t=this._targets;t.has(e)&&t.delete(e),t.size||this.disconnect()}disconnect(){this._targets.clear(),this.controller.disconnect(this)}takeRecords(){return this._quedEntries.splice(0)}notifySubscriber(){const e=this.takeRecords(),t=this._publicObserver;e.length&&this._callback.call(t,e,t)}queueEntry(e){this._quedEntries.push(e)}hasEntries(){return!!this._quedEntries.length}updateObservations(){let e=this._root,t=this.getRootRect(),n=!1;return this._targets.forEach(r=>{const o=r.updateIntersection(e,t);(o.ratioChanged||o.targetRectChanged)&&(n=!0)}),n}getThresholdGreaterThan(e){let t=this.thresholds,n=t.length,r=0;for(;r<n&&t[r]<=e;)++r;return r}getRootRect(){return function(e,t){t=t.map((t,n)=>{let r=t.value;return t.pixels||(r*=n%2?e.width:e.height),r});const n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n}(f(this._root),this._rootMargin)}}const b=new class{constructor(e=50,t=!1){this._idleTimeout=e,this._trackHovers=t,this._cycleStartTime=-1,this._isUpdateScheduled=!1,this._repeatCycle=!1,this._hoverInitiated=!1,this._mutationsObserver=null,this._isListening=!1,this._observers=[],this.startUpdateCycle=this.startUpdateCycle.bind(this),this.scheduleUpdate=this.scheduleUpdate.bind(this),this._onMutation=this._onMutation.bind(this),this._repeatHandler=u(this.scheduleUpdate,200),this._onMouseOver=u(this.startUpdateCycle,200)}get idleTimeout(){return this._idleTimeout}set idleTimeout(e){this._idleTimeout=e}connect(e){this.isConnected(e)||this._observers.push(e),this._isListening||this._initListeners()}disconnect(e){let t=this._observers,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this._isListening&&this._removeListeners()}isConnected(e){return!!~this._observers.indexOf(e)}_updateObservers(){let e=!1;for(const t of this._observers)t.updateObservations()&&(e=!0),t.hasEntries()&&t.notifySubscriber();return e}startUpdateCycle(){this._cycleStartTime=a(),this.scheduleUpdate()}scheduleUpdate(e){if("number"==typeof e){const e=this._updateObservers();if(this._isUpdateScheduled=!1,!this._wasCycleStarted())return;e?this.startUpdateCycle():this._hasIdleTimeEnded()?this._onCycleEnded():this.scheduleUpdate()}else this._isUpdateScheduled||(c(this.scheduleUpdate),this._isUpdateScheduled=!0)}_hasIdleTimeEnded(){return a()-this._cycleStartTime>this._idleTimeout}_wasCycleStarted(){return-1!==this._cycleStartTime}_onCycleEnded(){this._cycleStartTime=-1,this._repeatCycle&&(this._cycleStartTime=0,this._repeatHandler())}_initListeners(){this._isListening||(this._isListening=!0,window.addEventListener("resize",this.startUpdateCycle,!0),window.addEventListener("scroll",this.scheduleUpdate,!0),this._trackHovers&&this._addHoverListener(),s?(this._mutationsObserver=new MutationObserver(this._onMutation),this._mutationsObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(this._repeatCycle=!0,window.addEventListener("click",this.startUpdateCycle,!0),this.startUpdateCycle()))}_removeListeners(){this._isListening&&(window.removeEventListener("resize",this.startUpdateCycle,!0),window.removeEventListener("scroll",this.scheduleUpdate,!0),this._removeHoverListener(),s?this._mutationsObserver&&(this._mutationsObserver.disconnect(),this._mutationsObserver=null):(this._repeatCycle=!1,window.removeEventListener("click",this.startUpdateCycle,!0)),this._isListening=!1)}enableHover(){this._trackHovers=!0,this._isListening&&this._addHoverListener()}disableHover(){this._trackHovers=!1,this._removeHoverListener()}isHoverEnabled(){return this._trackHovers}_addHoverListener(){this._hoverInitiated||(window.addEventListener("mouseover",this._onMouseOver,!0),this._hoverInitiated=!0)}_removeHoverListener(){this._hoverInitiated&&(window.removeEventListener("mouseover",this._onMouseOver,!0),this._hoverInitiated=!1)}_onMutation(e){e.every(e=>"attributes"!==e.type)?this.scheduleUpdate():this.startUpdateCycle()}},x=new o;class w{constructor(e,t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");const n=new y(e,t,b,this);Object.defineProperties(this,{root:{value:n.root},thresholds:{value:n.thresholds},rootMargin:{value:n.rootMargin}}),x.set(this,n)}static get idleTimeout(){return b.idleTimeout}static set idleTimeout(e){if("number"!=typeof e)throw new TypeError('type of "idleTimeout" value must be a number.');if(typeof e<0)throw new TypeError('"idleTimeout" value must be greater than 0.');b.idleTimeout=e}static get trackHovers(){return b.isHoverEnabled()}static set trackHovers(e){if("boolean"!=typeof e)throw new TypeError('type of "trackHovers" value must be a boolean.');e?b.enableHover():b.disableHover()}}["observe","unobserve","disconnect","takeRecords"].forEach(e=>{w.prototype[e]=function(){return x.get(this)[e](...arguments)}});var S=w;let k;k="function"==typeof window.IntersectionObserver?window.IntersectionObserver:S;t.default=k}]);